(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ku={exports:{}},fo={},Gu={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),rh=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),uh=Symbol.for("react.memo"),ch=Symbol.for("react.lazy"),pd=Symbol.iterator;function fh(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var Xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ju=Object.assign,Zu={};function An(e,t,r){this.props=e,this.context=t,this.refs=Zu,this.updater=r||Xu}An.prototype.isReactComponent={};An.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};An.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ec(){}ec.prototype=An.prototype;function ml(e,t,r){this.props=e,this.context=t,this.refs=Zu,this.updater=r||Xu}var hl=ml.prototype=new ec;hl.constructor=ml;Ju(hl,An.prototype);hl.isPureReactComponent=!0;var gd=Array.isArray,tc=Object.prototype.hasOwnProperty,pl={current:null},rc={key:!0,ref:!0,__self:!0,__source:!0};function nc(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)tc.call(t,n)&&!rc.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];i.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Fs,type:e,key:o,ref:a,props:i,_owner:pl.current}}function mh(e,t){return{$$typeof:Fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fs}function hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var xd=/\/+/g;function Ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hh(""+e.key):t.toString(36)}function xi(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fs:case rh:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Ro(a,0):n,gd(i)?(r="",e!=null&&(r=e.replace(xd,"$&/")+"/"),xi(i,t,r,"",function(u){return u})):i!=null&&(gl(i)&&(i=mh(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xd,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",gd(e))for(var l=0;l<e.length;l++){o=e[l];var d=n+Ro(o,l);a+=xi(o,t,r,d,i)}else if(d=fh(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=n+Ro(o,l++),a+=xi(o,t,r,d,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gs(e,t,r){if(e==null)return e;var n=[],i=0;return xi(e,n,"","",function(o){return t.call(r,o,i++)}),n}function ph(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},vi={transition:null},gh={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:vi,ReactCurrentOwner:pl};function sc(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Gs,forEach:function(e,t,r){Gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=An;K.Fragment=nh;K.Profiler=ih;K.PureComponent=ml;K.StrictMode=sh;K.Suspense=dh;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gh;K.act=sc;K.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ju({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=pl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)tc.call(t,d)&&!rc.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fs,type:e.type,key:i,ref:o,props:n,_owner:a}};K.createContext=function(e){return e={$$typeof:ah,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oh,_context:e},e.Consumer=e};K.createElement=nc;K.createFactory=function(e){var t=nc.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:lh,render:e}};K.isValidElement=gl;K.lazy=function(e){return{$$typeof:ch,_payload:{_status:-1,_result:e},_init:ph}};K.memo=function(e,t){return{$$typeof:uh,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=vi.transition;vi.transition={};try{e()}finally{vi.transition=t}};K.unstable_act=sc;K.useCallback=function(e,t){return We.current.useCallback(e,t)};K.useContext=function(e){return We.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return We.current.useDeferredValue(e)};K.useEffect=function(e,t){return We.current.useEffect(e,t)};K.useId=function(){return We.current.useId()};K.useImperativeHandle=function(e,t,r){return We.current.useImperativeHandle(e,t,r)};K.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return We.current.useMemo(e,t)};K.useReducer=function(e,t,r){return We.current.useReducer(e,t,r)};K.useRef=function(e){return We.current.useRef(e)};K.useState=function(e){return We.current.useState(e)};K.useSyncExternalStore=function(e,t,r){return We.current.useSyncExternalStore(e,t,r)};K.useTransition=function(){return We.current.useTransition()};K.version="18.3.1";Gu.exports=K;var N=Gu.exports;const mo=th(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=N,vh=Symbol.for("react.element"),yh=Symbol.for("react.fragment"),wh=Object.prototype.hasOwnProperty,bh=xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nh={key:!0,ref:!0,__self:!0,__source:!0};function ic(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)wh.call(t,n)&&!Nh.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:vh,type:e,key:o,ref:a,props:i,_owner:bh.current}}fo.Fragment=yh;fo.jsx=ic;fo.jsxs=ic;Ku.exports=fo;var s=Ku.exports,ma={},oc={exports:{}},ot={},ac={exports:{}},lc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,D){var L=S.length;S.push(D);e:for(;0<L;){var W=L-1>>>1,H=S[W];if(0<i(H,D))S[W]=D,S[L]=H,L=W;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var D=S[0],L=S.pop();if(L!==D){S[0]=L;e:for(var W=0,H=S.length,ae=H>>>1;W<ae;){var k=2*(W+1)-1,U=S[k],I=k+1,O=S[I];if(0>i(U,L))I<H&&0>i(O,U)?(S[W]=O,S[I]=L,W=I):(S[W]=U,S[k]=L,W=k);else if(I<H&&0>i(O,L))S[W]=O,S[I]=L,W=I;else break e}}return D}function i(S,D){var L=S.sortIndex-D.sortIndex;return L!==0?L:S.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var d=[],u=[],m=1,x=null,h=3,v=!1,f=!1,w=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(S){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=S)n(u),D.sortIndex=D.expirationTime,t(d,D);else break;D=r(u)}}function b(S){if(w=!1,y(S),!f)if(r(d)!==null)f=!0,X(E);else{var D=r(u);D!==null&&ee(b,D.startTime-S)}}function E(S,D){f=!1,w&&(w=!1,g(P),P=-1),v=!0;var L=h;try{for(y(D),x=r(d);x!==null&&(!(x.expirationTime>D)||S&&!j());){var W=x.callback;if(typeof W=="function"){x.callback=null,h=x.priorityLevel;var H=W(x.expirationTime<=D);D=e.unstable_now(),typeof H=="function"?x.callback=H:x===r(d)&&n(d),y(D)}else n(d);x=r(d)}if(x!==null)var ae=!0;else{var k=r(u);k!==null&&ee(b,k.startTime-D),ae=!1}return ae}finally{x=null,h=L,v=!1}}var T=!1,M=null,P=-1,z=5,C=-1;function j(){return!(e.unstable_now()-C<z)}function $(){if(M!==null){var S=e.unstable_now();C=S;var D=!0;try{D=M(!0,S)}finally{D?_():(T=!1,M=null)}}else T=!1}var _;if(typeof c=="function")_=function(){c($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=$,_=function(){Y.postMessage(null)}}else _=function(){p($,0)};function X(S){M=S,T||(T=!0,_())}function ee(S,D){P=p(function(){S(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){f||v||(f=!0,X(E))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var L=h;h=D;try{return S()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,D){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var L=h;h=S;try{return D()}finally{h=L}},e.unstable_scheduleCallback=function(S,D,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,S){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,S={id:m++,callback:D,priorityLevel:S,startTime:L,expirationTime:H,sortIndex:-1},L>W?(S.sortIndex=L,t(u,S),r(d)===null&&S===r(u)&&(w?(g(P),P=-1):w=!0,ee(b,L-W))):(S.sortIndex=H,t(d,S),f||v||(f=!0,X(E))),S},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(S){var D=h;return function(){var L=h;h=D;try{return S.apply(this,arguments)}finally{h=L}}}})(lc);ac.exports=lc;var jh=ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=N,it=jh;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dc=new Set,xs={};function Kr(e,t){Pn(e,t),Pn(e+"Capture",t)}function Pn(e,t){for(xs[e]=t,e=0;e<t.length;e++)dc.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,Sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vd={},yd={};function Ph(e){return ha.call(yd,e)?!0:ha.call(vd,e)?!1:Sh.test(e)?yd[e]=!0:(vd[e]=!0,!1)}function Ch(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Th(e,t,r,n){if(t===null||typeof t>"u"||Ch(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xl,vl);De[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xl,vl);De[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xl,vl);De[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function yl(e,t,r,n){var i=De.hasOwnProperty(t)?De[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Th(t,r,i,n)&&(r=null),n||i===null?Ph(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zt=kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xs=Symbol.for("react.element"),rn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),uc=Symbol.for("react.provider"),cc=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),ga=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),fc=Symbol.for("react.offscreen"),wd=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=wd&&e[wd]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,$o;function Zn(e){if($o===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Io=!1;function Oo(e,t){if(!e||Io)return"";Io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var d=`
`+i[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=l);break}}}finally{Io=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zn(e):""}function Eh(e){switch(e.tag){case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return e=Oo(e.type,!1),e;case 11:return e=Oo(e.type.render,!1),e;case 1:return e=Oo(e.type,!0),e;default:return""}}function va(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nn:return"Fragment";case rn:return"Portal";case pa:return"Profiler";case wl:return"StrictMode";case ga:return"Suspense";case xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cc:return(e.displayName||"Context")+".Consumer";case uc:return(e._context.displayName||"Context")+".Provider";case bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nl:return t=e.displayName||null,t!==null?t:va(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return va(e(t))}catch{}}return null}function Mh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(t);case 8:return t===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _h(e){var t=mc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Js(e){e._valueTracker||(e._valueTracker=_h(e))}function hc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=mc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ya(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function bd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pc(e,t){t=t.checked,t!=null&&yl(e,"checked",t,!1)}function wa(e,t){pc(e,t);var r=Nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ba(e,t.type,r):t.hasOwnProperty("defaultValue")&&ba(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ba(e,t,r){(t!=="number"||$i(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var es=Array.isArray;function xn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(es(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nr(r)}}function gc(e,t){var r=Nr(t.value),n=Nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zs,vc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zs=Zs||document.createElement("div"),Zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rh=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){Rh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function yc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function wc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=yc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var $h=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if($h[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pa=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ca=null,vn=null,yn=null;function Sd(e){if(e=qs(e)){if(typeof Ca!="function")throw Error(R(280));var t=e.stateNode;t&&(t=vo(t),Ca(e.stateNode,e.type,t))}}function bc(e){vn?yn?yn.push(e):yn=[e]:vn=e}function Nc(){if(vn){var e=vn,t=yn;if(yn=vn=null,Sd(e),t)for(e=0;e<t.length;e++)Sd(t[e])}}function jc(e,t){return e(t)}function kc(){}var Ao=!1;function Sc(e,t,r){if(Ao)return e(t,r);Ao=!0;try{return jc(e,t,r)}finally{Ao=!1,(vn!==null||yn!==null)&&(kc(),Nc())}}function ys(e,t){var r=e.stateNode;if(r===null)return null;var n=vo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Ta=!1;if(Yt)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Ta=!1}function Ih(e,t,r,n,i,o,a,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var is=!1,Ii=null,Oi=!1,Ea=null,Oh={onError:function(e){is=!0,Ii=e}};function Ah(e,t,r,n,i,o,a,l,d){is=!1,Ii=null,Ih.apply(Oh,arguments)}function Lh(e,t,r,n,i,o,a,l,d){if(Ah.apply(this,arguments),is){if(is){var u=Ii;is=!1,Ii=null}else throw Error(R(198));Oi||(Oi=!0,Ea=u)}}function Gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pd(e){if(Gr(e)!==e)throw Error(R(188))}function Dh(e){var t=e.alternate;if(!t){if(t=Gr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Pd(i),e;if(o===n)return Pd(i),t;o=o.sibling}throw Error(R(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function Cc(e){return e=Dh(e),e!==null?Tc(e):null}function Tc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tc(e);if(t!==null)return t;e=e.sibling}return null}var Ec=it.unstable_scheduleCallback,Cd=it.unstable_cancelCallback,Fh=it.unstable_shouldYield,zh=it.unstable_requestPaint,we=it.unstable_now,Uh=it.unstable_getCurrentPriorityLevel,kl=it.unstable_ImmediatePriority,Mc=it.unstable_UserBlockingPriority,Ai=it.unstable_NormalPriority,qh=it.unstable_LowPriority,_c=it.unstable_IdlePriority,ho=null,At=null;function Vh(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Qh,Bh=Math.log,Wh=Math.LN2;function Qh(e){return e>>>=0,e===0?32:31-(Bh(e)/Wh|0)|0}var ei=64,ti=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Li(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=ts(l):(o&=a,o!==0&&(n=ts(o)))}else a=r&~i,a!==0?n=ts(a):o!==0&&(n=ts(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-St(t),i=1<<r,n|=e[r],t&=~i;return n}function Hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-St(o),l=1<<a,d=i[a];d===-1?(!(l&r)||l&n)&&(i[a]=Hh(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function Ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rc(){var e=ei;return ei<<=1,!(ei&4194240)&&(ei=64),e}function Lo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-St(t),e[t]=r}function Kh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-St(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Sl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-St(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ne=0;function $c(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ic,Pl,Oc,Ac,Lc,_a=!1,ri=[],fr=null,mr=null,hr=null,ws=new Map,bs=new Map,ar=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Td(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Bn(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qs(t),t!==null&&Pl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xh(e,t,r,n,i){switch(t){case"focusin":return fr=Bn(fr,e,t,r,n,i),!0;case"dragenter":return mr=Bn(mr,e,t,r,n,i),!0;case"mouseover":return hr=Bn(hr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return ws.set(o,Bn(ws.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,bs.set(o,Bn(bs.get(o)||null,e,t,r,n,i)),!0}return!1}function Dc(e){var t=Or(e.target);if(t!==null){var r=Gr(t);if(r!==null){if(t=r.tag,t===13){if(t=Pc(r),t!==null){e.blockedOn=t,Lc(e.priority,function(){Oc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pa=n,r.target.dispatchEvent(n),Pa=null}else return t=qs(r),t!==null&&Pl(t),e.blockedOn=r,!1;t.shift()}return!0}function Ed(e,t,r){yi(e)&&r.delete(t)}function Jh(){_a=!1,fr!==null&&yi(fr)&&(fr=null),mr!==null&&yi(mr)&&(mr=null),hr!==null&&yi(hr)&&(hr=null),ws.forEach(Ed),bs.forEach(Ed)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,_a||(_a=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Jh)))}function Ns(e){function t(i){return Wn(i,e)}if(0<ri.length){Wn(ri[0],e);for(var r=1;r<ri.length;r++){var n=ri[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fr!==null&&Wn(fr,e),mr!==null&&Wn(mr,e),hr!==null&&Wn(hr,e),ws.forEach(t),bs.forEach(t),r=0;r<ar.length;r++)n=ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)Dc(r),r.blockedOn===null&&ar.shift()}var wn=Zt.ReactCurrentBatchConfig,Di=!0;function Zh(e,t,r,n){var i=ne,o=wn.transition;wn.transition=null;try{ne=1,Cl(e,t,r,n)}finally{ne=i,wn.transition=o}}function ep(e,t,r,n){var i=ne,o=wn.transition;wn.transition=null;try{ne=4,Cl(e,t,r,n)}finally{ne=i,wn.transition=o}}function Cl(e,t,r,n){if(Di){var i=Ra(e,t,r,n);if(i===null)Ho(e,t,n,Fi,r),Td(e,n);else if(Xh(i,e,t,r,n))n.stopPropagation();else if(Td(e,n),t&4&&-1<Gh.indexOf(e)){for(;i!==null;){var o=qs(i);if(o!==null&&Ic(o),o=Ra(e,t,r,n),o===null&&Ho(e,t,n,Fi,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Ho(e,t,n,null,r)}}var Fi=null;function Ra(e,t,r,n){if(Fi=null,e=jl(n),e=Or(e),e!==null)if(t=Gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fi=e,null}function Fc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uh()){case kl:return 1;case Mc:return 4;case Ai:case qh:return 16;case _c:return 536870912;default:return 16}default:return 16}}var ur=null,Tl=null,wi=null;function zc(){if(wi)return wi;var e,t=Tl,r=t.length,n,i="value"in ur?ur.value:ur.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return wi=i.slice(e,1<n?1-n:void 0)}function bi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Md(){return!1}function at(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ni:Md,this.isPropagationStopped=Md,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=at(Ln),Us=xe({},Ln,{view:0,detail:0}),tp=at(Us),Do,Fo,Qn,po=xe({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Do=e.screenX-Qn.screenX,Fo=e.screenY-Qn.screenY):Fo=Do=0,Qn=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),_d=at(po),rp=xe({},po,{dataTransfer:0}),np=at(rp),sp=xe({},Us,{relatedTarget:0}),zo=at(sp),ip=xe({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),op=at(ip),ap=xe({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lp=at(ap),dp=xe({},Ln,{data:0}),Rd=at(dp),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fp[e])?!!t[e]:!1}function Ml(){return mp}var hp=xe({},Us,{key:function(e){if(e.key){var t=up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?bi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pp=at(hp),gp=xe({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=at(gp),xp=xe({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),vp=at(xp),yp=xe({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),wp=at(yp),bp=xe({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=at(bp),jp=[9,13,27,32],_l=Yt&&"CompositionEvent"in window,os=null;Yt&&"documentMode"in document&&(os=document.documentMode);var kp=Yt&&"TextEvent"in window&&!os,Uc=Yt&&(!_l||os&&8<os&&11>=os),Id=" ",Od=!1;function qc(e,t){switch(e){case"keyup":return jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sn=!1;function Sp(e,t){switch(e){case"compositionend":return Vc(t);case"keypress":return t.which!==32?null:(Od=!0,Id);case"textInput":return e=t.data,e===Id&&Od?null:e;default:return null}}function Pp(e,t){if(sn)return e==="compositionend"||!_l&&qc(e,t)?(e=zc(),wi=Tl=ur=null,sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uc&&t.locale!=="ko"?null:t.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cp[e.type]:t==="textarea"}function Bc(e,t,r,n){bc(n),t=zi(t,"onChange"),0<t.length&&(r=new El("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var as=null,js=null;function Tp(e){tf(e,0)}function go(e){var t=ln(e);if(hc(t))return e}function Ep(e,t){if(e==="change")return t}var Wc=!1;if(Yt){var Uo;if(Yt){var qo="oninput"in document;if(!qo){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),qo=typeof Ld.oninput=="function"}Uo=qo}else Uo=!1;Wc=Uo&&(!document.documentMode||9<document.documentMode)}function Dd(){as&&(as.detachEvent("onpropertychange",Qc),js=as=null)}function Qc(e){if(e.propertyName==="value"&&go(js)){var t=[];Bc(t,js,e,jl(e)),Sc(Tp,t)}}function Mp(e,t,r){e==="focusin"?(Dd(),as=t,js=r,as.attachEvent("onpropertychange",Qc)):e==="focusout"&&Dd()}function _p(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return go(js)}function Rp(e,t){if(e==="click")return go(t)}function $p(e,t){if(e==="input"||e==="change")return go(t)}function Ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:Ip;function ks(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ha.call(t,i)||!Ct(e[i],t[i]))return!1}return!0}function Fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zd(e,t){var r=Fd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fd(r)}}function Hc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yc(){for(var e=window,t=$i();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=$i(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Op(e){var t=Yc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hc(r.ownerDocument.documentElement,r)){if(n!==null&&Rl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=zd(r,o);var a=zd(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ap=Yt&&"documentMode"in document&&11>=document.documentMode,on=null,$a=null,ls=null,Ia=!1;function Ud(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ia||on==null||on!==$i(n)||(n=on,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ls&&ks(ls,n)||(ls=n,n=zi($a,"onSelect"),0<n.length&&(t=new El("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=on)))}function si(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var an={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionend:si("Transition","TransitionEnd")},Vo={},Kc={};Yt&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function xo(e){if(Vo[e])return Vo[e];if(!an[e])return e;var t=an[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kc)return Vo[e]=t[r];return e}var Gc=xo("animationend"),Xc=xo("animationiteration"),Jc=xo("animationstart"),Zc=xo("transitionend"),ef=new Map,qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){ef.set(e,t),Kr(t,[e])}for(var Bo=0;Bo<qd.length;Bo++){var Wo=qd[Bo],Lp=Wo.toLowerCase(),Dp=Wo[0].toUpperCase()+Wo.slice(1);Pr(Lp,"on"+Dp)}Pr(Gc,"onAnimationEnd");Pr(Xc,"onAnimationIteration");Pr(Jc,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Zc,"onTransitionEnd");Pn("onMouseEnter",["mouseout","mouseover"]);Pn("onMouseLeave",["mouseout","mouseover"]);Pn("onPointerEnter",["pointerout","pointerover"]);Pn("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function Vd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Lh(n,t,void 0,e),e.currentTarget=null}function tf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==o&&i.isPropagationStopped())break e;Vd(i,l,u),o=d}else for(a=0;a<n.length;a++){if(l=n[a],d=l.instance,u=l.currentTarget,l=l.listener,d!==o&&i.isPropagationStopped())break e;Vd(i,l,u),o=d}}}if(Oi)throw e=Ea,Oi=!1,Ea=null,e}function le(e,t){var r=t[Fa];r===void 0&&(r=t[Fa]=new Set);var n=e+"__bubble";r.has(n)||(rf(t,e,2,!1),r.add(n))}function Qo(e,t,r){var n=0;t&&(n|=4),rf(r,e,n,t)}var ii="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[ii]){e[ii]=!0,dc.forEach(function(r){r!=="selectionchange"&&(Fp.has(r)||Qo(r,!1,e),Qo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ii]||(t[ii]=!0,Qo("selectionchange",!1,t))}}function rf(e,t,r,n){switch(Fc(t)){case 1:var i=Zh;break;case 4:i=ep;break;default:i=Cl}r=i.bind(null,t,r,e),i=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ho(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Or(l),a===null)return;if(d=a.tag,d===5||d===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Sc(function(){var u=o,m=jl(r),x=[];e:{var h=ef.get(e);if(h!==void 0){var v=El,f=e;switch(e){case"keypress":if(bi(r)===0)break e;case"keydown":case"keyup":v=pp;break;case"focusin":f="focus",v=zo;break;case"focusout":f="blur",v=zo;break;case"beforeblur":case"afterblur":v=zo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vp;break;case Gc:case Xc:case Jc:v=op;break;case Zc:v=wp;break;case"scroll":v=tp;break;case"wheel":v=Np;break;case"copy":case"cut":case"paste":v=lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=$d}var w=(t&4)!==0,p=!w&&e==="scroll",g=w?h!==null?h+"Capture":null:h;w=[];for(var c=u,y;c!==null;){y=c;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=ys(c,g),b!=null&&w.push(Ps(c,b,y)))),p)break;c=c.return}0<w.length&&(h=new v(h,f,null,r,m),x.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&r!==Pa&&(f=r.relatedTarget||r.fromElement)&&(Or(f)||f[Kt]))break e;if((v||h)&&(h=m.window===m?m:(h=m.ownerDocument)?h.defaultView||h.parentWindow:window,v?(f=r.relatedTarget||r.toElement,v=u,f=f?Or(f):null,f!==null&&(p=Gr(f),f!==p||f.tag!==5&&f.tag!==6)&&(f=null)):(v=null,f=u),v!==f)){if(w=_d,b="onMouseLeave",g="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(w=$d,b="onPointerLeave",g="onPointerEnter",c="pointer"),p=v==null?h:ln(v),y=f==null?h:ln(f),h=new w(b,c+"leave",v,r,m),h.target=p,h.relatedTarget=y,b=null,Or(m)===u&&(w=new w(g,c+"enter",f,r,m),w.target=y,w.relatedTarget=p,b=w),p=b,v&&f)t:{for(w=v,g=f,c=0,y=w;y;y=Zr(y))c++;for(y=0,b=g;b;b=Zr(b))y++;for(;0<c-y;)w=Zr(w),c--;for(;0<y-c;)g=Zr(g),y--;for(;c--;){if(w===g||g!==null&&w===g.alternate)break t;w=Zr(w),g=Zr(g)}w=null}else w=null;v!==null&&Bd(x,h,v,w,!1),f!==null&&p!==null&&Bd(x,p,f,w,!0)}}e:{if(h=u?ln(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var E=Ep;else if(Ad(h))if(Wc)E=$p;else{E=_p;var T=Mp}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=Rp);if(E&&(E=E(e,u))){Bc(x,E,r,m);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&ba(h,"number",h.value)}switch(T=u?ln(u):window,e){case"focusin":(Ad(T)||T.contentEditable==="true")&&(on=T,$a=u,ls=null);break;case"focusout":ls=$a=on=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Ud(x,r,m);break;case"selectionchange":if(Ap)break;case"keydown":case"keyup":Ud(x,r,m)}var M;if(_l)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else sn?qc(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Uc&&r.locale!=="ko"&&(sn||P!=="onCompositionStart"?P==="onCompositionEnd"&&sn&&(M=zc()):(ur=m,Tl="value"in ur?ur.value:ur.textContent,sn=!0)),T=zi(u,P),0<T.length&&(P=new Rd(P,e,null,r,m),x.push({event:P,listeners:T}),M?P.data=M:(M=Vc(r),M!==null&&(P.data=M)))),(M=kp?Sp(e,r):Pp(e,r))&&(u=zi(u,"onBeforeInput"),0<u.length&&(m=new Rd("onBeforeInput","beforeinput",null,r,m),x.push({event:m,listeners:u}),m.data=M))}tf(x,t)})}function Ps(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zi(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ys(e,r),o!=null&&n.unshift(Ps(e,o,i)),o=ys(e,t),o!=null&&n.push(Ps(e,o,i))),e=e.return}return n}function Zr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&u!==null&&(l=u,i?(d=ys(r,o),d!=null&&a.unshift(Ps(r,d,l))):i||(d=ys(r,o),d!=null&&a.push(Ps(r,d,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var zp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function Wd(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(Up,"")}function oi(e,t,r){if(t=Wd(t),Wd(e)!==t&&r)throw Error(R(425))}function Ui(){}var Oa=null,Aa=null;function La(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,Qd=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Qd<"u"?function(e){return Qd.resolve(null).then(e).catch(Bp)}:Da;function Bp(e){setTimeout(function(){throw e})}function Yo(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ns(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ns(t)}function pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),$t="__reactFiber$"+Dn,Cs="__reactProps$"+Dn,Kt="__reactContainer$"+Dn,Fa="__reactEvents$"+Dn,Wp="__reactListeners$"+Dn,Qp="__reactHandles$"+Dn;function Or(e){var t=e[$t];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kt]||r[$t]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hd(e);e!==null;){if(r=e[$t])return r;e=Hd(e)}return t}e=r,r=e.parentNode}return null}function qs(e){return e=e[$t]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ln(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function vo(e){return e[Cs]||null}var za=[],dn=-1;function Cr(e){return{current:e}}function ue(e){0>dn||(e.current=za[dn],za[dn]=null,dn--)}function ie(e,t){dn++,za[dn]=e.current,e.current=t}var jr={},qe=Cr(jr),Ge=Cr(!1),Vr=jr;function Cn(e,t){var r=e.type.contextTypes;if(!r)return jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(e){return e=e.childContextTypes,e!=null}function qi(){ue(Ge),ue(qe)}function Yd(e,t,r){if(qe.current!==jr)throw Error(R(168));ie(qe,t),ie(Ge,r)}function nf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(R(108,Mh(e)||"Unknown",i));return xe({},r,n)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Vr=qe.current,ie(qe,e),ie(Ge,Ge.current),!0}function Kd(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=nf(e,t,Vr),n.__reactInternalMemoizedMergedChildContext=e,ue(Ge),ue(qe),ie(qe,e)):ue(Ge),ie(Ge,r)}var Vt=null,yo=!1,Ko=!1;function sf(e){Vt===null?Vt=[e]:Vt.push(e)}function Hp(e){yo=!0,sf(e)}function Tr(){if(!Ko&&Vt!==null){Ko=!0;var e=0,t=ne;try{var r=Vt;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vt=null,yo=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),Ec(kl,Tr),i}finally{ne=t,Ko=!1}}return null}var un=[],cn=0,Bi=null,Wi=0,ct=[],ft=0,Br=null,Wt=1,Qt="";function Rr(e,t){un[cn++]=Wi,un[cn++]=Bi,Bi=e,Wi=t}function of(e,t,r){ct[ft++]=Wt,ct[ft++]=Qt,ct[ft++]=Br,Br=e;var n=Wt;e=Qt;var i=32-St(n)-1;n&=~(1<<i),r+=1;var o=32-St(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Wt=1<<32-St(t)+i|r<<i|n,Qt=o+e}else Wt=1<<o|r<<i|n,Qt=e}function $l(e){e.return!==null&&(Rr(e,1),of(e,1,0))}function Il(e){for(;e===Bi;)Bi=un[--cn],un[cn]=null,Wi=un[--cn],un[cn]=null;for(;e===Br;)Br=ct[--ft],ct[ft]=null,Qt=ct[--ft],ct[ft]=null,Wt=ct[--ft],ct[ft]=null}var st=null,rt=null,me=!1,Nt=null;function af(e,t){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Gd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Br!==null?{id:Wt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,st=e,rt=null,!0):!1;default:return!1}}function Ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qa(e){if(me){var t=rt;if(t){var r=t;if(!Gd(e,t)){if(Ua(e))throw Error(R(418));t=pr(r.nextSibling);var n=st;t&&Gd(e,t)?af(n,r):(e.flags=e.flags&-4097|2,me=!1,st=e)}}else{if(Ua(e))throw Error(R(418));e.flags=e.flags&-4097|2,me=!1,st=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function ai(e){if(e!==st)return!1;if(!me)return Xd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!La(e.type,e.memoizedProps)),t&&(t=rt)){if(Ua(e))throw lf(),Error(R(418));for(;t;)af(e,t),t=pr(t.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rt=pr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?pr(e.stateNode.nextSibling):null;return!0}function lf(){for(var e=rt;e;)e=pr(e.nextSibling)}function Tn(){rt=st=null,me=!1}function Ol(e){Nt===null?Nt=[e]:Nt.push(e)}var Yp=Zt.ReactCurrentBatchConfig;function Hn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function li(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jd(e){var t=e._init;return t(e._payload)}function df(e){function t(g,c){if(e){var y=g.deletions;y===null?(g.deletions=[c],g.flags|=16):y.push(c)}}function r(g,c){if(!e)return null;for(;c!==null;)t(g,c),c=c.sibling;return null}function n(g,c){for(g=new Map;c!==null;)c.key!==null?g.set(c.key,c):g.set(c.index,c),c=c.sibling;return g}function i(g,c){return g=yr(g,c),g.index=0,g.sibling=null,g}function o(g,c,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<c?(g.flags|=2,c):y):(g.flags|=2,c)):(g.flags|=1048576,c)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,c,y,b){return c===null||c.tag!==6?(c=ra(y,g.mode,b),c.return=g,c):(c=i(c,y),c.return=g,c)}function d(g,c,y,b){var E=y.type;return E===nn?m(g,c,y.props.children,b,y.key):c!==null&&(c.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ir&&Jd(E)===c.type)?(b=i(c,y.props),b.ref=Hn(g,c,y),b.return=g,b):(b=Ti(y.type,y.key,y.props,null,g.mode,b),b.ref=Hn(g,c,y),b.return=g,b)}function u(g,c,y,b){return c===null||c.tag!==4||c.stateNode.containerInfo!==y.containerInfo||c.stateNode.implementation!==y.implementation?(c=na(y,g.mode,b),c.return=g,c):(c=i(c,y.children||[]),c.return=g,c)}function m(g,c,y,b,E){return c===null||c.tag!==7?(c=Fr(y,g.mode,b,E),c.return=g,c):(c=i(c,y),c.return=g,c)}function x(g,c,y){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ra(""+c,g.mode,y),c.return=g,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Xs:return y=Ti(c.type,c.key,c.props,null,g.mode,y),y.ref=Hn(g,null,c),y.return=g,y;case rn:return c=na(c,g.mode,y),c.return=g,c;case ir:var b=c._init;return x(g,b(c._payload),y)}if(es(c)||qn(c))return c=Fr(c,g.mode,y,null),c.return=g,c;li(g,c)}return null}function h(g,c,y,b){var E=c!==null?c.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(g,c,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xs:return y.key===E?d(g,c,y,b):null;case rn:return y.key===E?u(g,c,y,b):null;case ir:return E=y._init,h(g,c,E(y._payload),b)}if(es(y)||qn(y))return E!==null?null:m(g,c,y,b,null);li(g,y)}return null}function v(g,c,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,l(c,g,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xs:return g=g.get(b.key===null?y:b.key)||null,d(c,g,b,E);case rn:return g=g.get(b.key===null?y:b.key)||null,u(c,g,b,E);case ir:var T=b._init;return v(g,c,y,T(b._payload),E)}if(es(b)||qn(b))return g=g.get(y)||null,m(c,g,b,E,null);li(c,b)}return null}function f(g,c,y,b){for(var E=null,T=null,M=c,P=c=0,z=null;M!==null&&P<y.length;P++){M.index>P?(z=M,M=null):z=M.sibling;var C=h(g,M,y[P],b);if(C===null){M===null&&(M=z);break}e&&M&&C.alternate===null&&t(g,M),c=o(C,c,P),T===null?E=C:T.sibling=C,T=C,M=z}if(P===y.length)return r(g,M),me&&Rr(g,P),E;if(M===null){for(;P<y.length;P++)M=x(g,y[P],b),M!==null&&(c=o(M,c,P),T===null?E=M:T.sibling=M,T=M);return me&&Rr(g,P),E}for(M=n(g,M);P<y.length;P++)z=v(M,g,P,y[P],b),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?P:z.key),c=o(z,c,P),T===null?E=z:T.sibling=z,T=z);return e&&M.forEach(function(j){return t(g,j)}),me&&Rr(g,P),E}function w(g,c,y,b){var E=qn(y);if(typeof E!="function")throw Error(R(150));if(y=E.call(y),y==null)throw Error(R(151));for(var T=E=null,M=c,P=c=0,z=null,C=y.next();M!==null&&!C.done;P++,C=y.next()){M.index>P?(z=M,M=null):z=M.sibling;var j=h(g,M,C.value,b);if(j===null){M===null&&(M=z);break}e&&M&&j.alternate===null&&t(g,M),c=o(j,c,P),T===null?E=j:T.sibling=j,T=j,M=z}if(C.done)return r(g,M),me&&Rr(g,P),E;if(M===null){for(;!C.done;P++,C=y.next())C=x(g,C.value,b),C!==null&&(c=o(C,c,P),T===null?E=C:T.sibling=C,T=C);return me&&Rr(g,P),E}for(M=n(g,M);!C.done;P++,C=y.next())C=v(M,g,P,C.value,b),C!==null&&(e&&C.alternate!==null&&M.delete(C.key===null?P:C.key),c=o(C,c,P),T===null?E=C:T.sibling=C,T=C);return e&&M.forEach(function($){return t(g,$)}),me&&Rr(g,P),E}function p(g,c,y,b){if(typeof y=="object"&&y!==null&&y.type===nn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xs:e:{for(var E=y.key,T=c;T!==null;){if(T.key===E){if(E=y.type,E===nn){if(T.tag===7){r(g,T.sibling),c=i(T,y.props.children),c.return=g,g=c;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ir&&Jd(E)===T.type){r(g,T.sibling),c=i(T,y.props),c.ref=Hn(g,T,y),c.return=g,g=c;break e}r(g,T);break}else t(g,T);T=T.sibling}y.type===nn?(c=Fr(y.props.children,g.mode,b,y.key),c.return=g,g=c):(b=Ti(y.type,y.key,y.props,null,g.mode,b),b.ref=Hn(g,c,y),b.return=g,g=b)}return a(g);case rn:e:{for(T=y.key;c!==null;){if(c.key===T)if(c.tag===4&&c.stateNode.containerInfo===y.containerInfo&&c.stateNode.implementation===y.implementation){r(g,c.sibling),c=i(c,y.children||[]),c.return=g,g=c;break e}else{r(g,c);break}else t(g,c);c=c.sibling}c=na(y,g.mode,b),c.return=g,g=c}return a(g);case ir:return T=y._init,p(g,c,T(y._payload),b)}if(es(y))return f(g,c,y,b);if(qn(y))return w(g,c,y,b);li(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,c!==null&&c.tag===6?(r(g,c.sibling),c=i(c,y),c.return=g,g=c):(r(g,c),c=ra(y,g.mode,b),c.return=g,g=c),a(g)):r(g,c)}return p}var En=df(!0),uf=df(!1),Qi=Cr(null),Hi=null,fn=null,Al=null;function Ll(){Al=fn=Hi=null}function Dl(e){var t=Qi.current;ue(Qi),e._currentValue=t}function Va(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bn(e,t){Hi=e,Al=fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Al!==e)if(e={context:e,memoizedValue:t,next:null},fn===null){if(Hi===null)throw Error(R(308));fn=e,Hi.dependencies={lanes:0,firstContext:e}}else fn=fn.next=e;return t}var Ar=null;function Fl(e){Ar===null?Ar=[e]:Ar.push(e)}function cf(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Fl(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gt(e,n)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var or=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gt(e,r)}return i=n.interleaved,i===null?(t.next=t,Fl(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gt(e,r)}function Ni(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sl(e,r)}}function Zd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Yi(e,t,r,n){var i=e.updateQueue;or=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var d=l,u=d.next;d.next=null,a===null?o=u:a.next=u,a=d;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=d))}if(o!==null){var x=i.baseState;a=0,m=u=d=null,l=o;do{var h=l.lane,v=l.eventTime;if((n&h)===h){m!==null&&(m=m.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,w=l;switch(h=t,v=r,w.tag){case 1:if(f=w.payload,typeof f=="function"){x=f.call(v,x,h);break e}x=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=w.payload,h=typeof f=="function"?f.call(v,x,h):f,h==null)break e;x=xe({},x,h);break e;case 2:or=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else v={eventTime:v,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=v,d=x):m=m.next=v,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(m===null&&(d=x),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Qr|=a,e.lanes=a,e.memoizedState=x}}function eu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(R(191,i));i.call(n)}}}var Vs={},Lt=Cr(Vs),Ts=Cr(Vs),Es=Cr(Vs);function Lr(e){if(e===Vs)throw Error(R(174));return e}function Ul(e,t){switch(ie(Es,t),ie(Ts,e),ie(Lt,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ja(t,e)}ue(Lt),ie(Lt,t)}function Mn(){ue(Lt),ue(Ts),ue(Es)}function mf(e){Lr(Es.current);var t=Lr(Lt.current),r=ja(t,e.type);t!==r&&(ie(Ts,e),ie(Lt,r))}function ql(e){Ts.current===e&&(ue(Lt),ue(Ts))}var pe=Cr(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Go=[];function Vl(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var ji=Zt.ReactCurrentDispatcher,Xo=Zt.ReactCurrentBatchConfig,Wr=0,ge=null,Ce=null,_e=null,Gi=!1,ds=!1,Ms=0,Kp=0;function Fe(){throw Error(R(321))}function Bl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ct(e[r],t[r]))return!1;return!0}function Wl(e,t,r,n,i,o){if(Wr=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ji.current=e===null||e.memoizedState===null?Zp:e0,e=r(n,i),ds){o=0;do{if(ds=!1,Ms=0,25<=o)throw Error(R(301));o+=1,_e=Ce=null,t.updateQueue=null,ji.current=t0,e=r(n,i)}while(ds)}if(ji.current=Xi,t=Ce!==null&&Ce.next!==null,Wr=0,_e=Ce=ge=null,Gi=!1,t)throw Error(R(300));return e}function Ql(){var e=Ms!==0;return Ms=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ge.memoizedState=_e=e:_e=_e.next=e,_e}function vt(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=_e===null?ge.memoizedState:_e.next;if(t!==null)_e=t,Ce=e;else{if(e===null)throw Error(R(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},_e===null?ge.memoizedState=_e=e:_e=_e.next=e}return _e}function _s(e,t){return typeof t=="function"?t(e):t}function Jo(e){var t=vt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=Ce,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=a=null,d=null,u=o;do{var m=u.lane;if((Wr&m)===m)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var x={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=x,a=n):d=d.next=x,ge.lanes|=m,Qr|=m}u=u.next}while(u!==null&&u!==o);d===null?a=n:d.next=l,Ct(n,t.memoizedState)||(Ke=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,ge.lanes|=o,Qr|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zo(e){var t=vt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Ct(o,t.memoizedState)||(Ke=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function hf(){}function pf(e,t){var r=ge,n=vt(),i=t(),o=!Ct(n.memoizedState,i);if(o&&(n.memoizedState=i,Ke=!0),n=n.queue,Hl(vf.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,Rs(9,xf.bind(null,r,n,i,t),void 0,null),Re===null)throw Error(R(349));Wr&30||gf(r,t,i)}return i}function gf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xf(e,t,r,n){t.value=r,t.getSnapshot=n,yf(t)&&wf(e)}function vf(e,t,r){return r(function(){yf(t)&&wf(e)})}function yf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ct(e,r)}catch{return!0}}function wf(e){var t=Gt(e,1);t!==null&&Pt(t,e,1,-1)}function tu(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Jp.bind(null,ge,e),[t.memoizedState,e]}function Rs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function bf(){return vt().memoizedState}function ki(e,t,r,n){var i=Rt();ge.flags|=e,i.memoizedState=Rs(1|t,r,void 0,n===void 0?null:n)}function wo(e,t,r,n){var i=vt();n=n===void 0?null:n;var o=void 0;if(Ce!==null){var a=Ce.memoizedState;if(o=a.destroy,n!==null&&Bl(n,a.deps)){i.memoizedState=Rs(t,r,o,n);return}}ge.flags|=e,i.memoizedState=Rs(1|t,r,o,n)}function ru(e,t){return ki(8390656,8,e,t)}function Hl(e,t){return wo(2048,8,e,t)}function Nf(e,t){return wo(4,2,e,t)}function jf(e,t){return wo(4,4,e,t)}function kf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sf(e,t,r){return r=r!=null?r.concat([e]):null,wo(4,4,kf.bind(null,t,e),r)}function Yl(){}function Pf(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Cf(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Tf(e,t,r){return Wr&21?(Ct(r,t)||(r=Rc(),ge.lanes|=r,Qr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=r)}function Gp(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=Xo.transition;Xo.transition={};try{e(!1),t()}finally{ne=r,Xo.transition=n}}function Ef(){return vt().memoizedState}function Xp(e,t,r){var n=vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Mf(e))_f(t,r);else if(r=cf(e,t,r,n),r!==null){var i=Be();Pt(r,e,n,i),Rf(r,t,n)}}function Jp(e,t,r){var n=vr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mf(e))_f(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(i.hasEagerState=!0,i.eagerState=l,Ct(l,a)){var d=t.interleaved;d===null?(i.next=i,Fl(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=cf(e,t,i,n),r!==null&&(i=Be(),Pt(r,e,n,i),Rf(r,t,n))}}function Mf(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function _f(e,t){ds=Gi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Rf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sl(e,r)}}var Xi={readContext:xt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Zp={readContext:xt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:ru,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ki(4194308,4,kf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return ki(4,2,e,t)},useMemo:function(e,t){var r=Rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xp.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:tu,useDebugValue:Yl,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=tu(!1),t=e[0];return e=Gp.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ge,i=Rt();if(me){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),Re===null)throw Error(R(349));Wr&30||gf(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,ru(vf.bind(null,n,o,e),[e]),n.flags|=2048,Rs(9,xf.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Rt(),t=Re.identifierPrefix;if(me){var r=Qt,n=Wt;r=(n&~(1<<32-St(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Kp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e0={readContext:xt,useCallback:Pf,useContext:xt,useEffect:Hl,useImperativeHandle:Sf,useInsertionEffect:Nf,useLayoutEffect:jf,useMemo:Cf,useReducer:Jo,useRef:bf,useState:function(){return Jo(_s)},useDebugValue:Yl,useDeferredValue:function(e){var t=vt();return Tf(t,Ce.memoizedState,e)},useTransition:function(){var e=Jo(_s)[0],t=vt().memoizedState;return[e,t]},useMutableSource:hf,useSyncExternalStore:pf,useId:Ef,unstable_isNewReconciler:!1},t0={readContext:xt,useCallback:Pf,useContext:xt,useEffect:Hl,useImperativeHandle:Sf,useInsertionEffect:Nf,useLayoutEffect:jf,useMemo:Cf,useReducer:Zo,useRef:bf,useState:function(){return Zo(_s)},useDebugValue:Yl,useDeferredValue:function(e){var t=vt();return Ce===null?t.memoizedState=e:Tf(t,Ce.memoizedState,e)},useTransition:function(){var e=Zo(_s)[0],t=vt().memoizedState;return[e,t]},useMutableSource:hf,useSyncExternalStore:pf,useId:Ef,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ba(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bo={isMounted:function(e){return(e=e._reactInternals)?Gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Be(),i=vr(e),o=Ht(n,i);o.payload=t,r!=null&&(o.callback=r),t=gr(e,o,i),t!==null&&(Pt(t,e,i,n),Ni(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Be(),i=vr(e),o=Ht(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=gr(e,o,i),t!==null&&(Pt(t,e,i,n),Ni(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),n=vr(e),i=Ht(r,n);i.tag=2,t!=null&&(i.callback=t),t=gr(e,i,n),t!==null&&(Pt(t,e,n,r),Ni(t,e,n))}};function nu(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!ks(r,n)||!ks(i,o):!0}function $f(e,t,r){var n=!1,i=jr,o=t.contextType;return typeof o=="object"&&o!==null?o=xt(o):(i=Xe(t)?Vr:qe.current,n=t.contextTypes,o=(n=n!=null)?Cn(e,i):jr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function su(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function Wa(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},zl(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=xt(o):(o=Xe(t)?Vr:qe.current,i.context=Cn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ba(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bo.enqueueReplaceState(i,i.state,null),Yi(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _n(e,t){try{var r="",n=t;do r+=Eh(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ea(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function If(e,t,r){r=Ht(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zi||(Zi=!0,rl=n),Qa(e,t)},r}function Of(e,t,r){r=Ht(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Qa(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Qa(e,t),typeof n!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function iu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new r0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=g0.bind(null,e,t,r),t.then(e,e))}function ou(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function au(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ht(-1,1),t.tag=2,gr(r,t,1))),r.lanes|=1),e)}var n0=Zt.ReactCurrentOwner,Ke=!1;function Ve(e,t,r,n){t.child=e===null?uf(t,null,r,n):En(t,e.child,r,n)}function lu(e,t,r,n,i){r=r.render;var o=t.ref;return bn(t,i),n=Wl(e,t,r,n,o,i),r=Ql(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(me&&r&&$l(t),t.flags|=1,Ve(e,t,n,i),t.child)}function du(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!rd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Af(e,t,o,n,i)):(e=Ti(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ks,r(a,n)&&e.ref===t.ref)return Xt(e,t,i)}return t.flags|=1,e=yr(o,n),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(ks(o,n)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Xt(e,t,i)}return Ha(e,t,r,n,i)}function Lf(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(hn,et),et|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(hn,et),et|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ie(hn,et),et|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ie(hn,et),et|=n;return Ve(e,t,i,r),t.child}function Df(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ha(e,t,r,n,i){var o=Xe(r)?Vr:qe.current;return o=Cn(t,o),bn(t,i),r=Wl(e,t,r,n,o,i),n=Ql(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(me&&n&&$l(t),t.flags|=1,Ve(e,t,r,i),t.child)}function uu(e,t,r,n,i){if(Xe(r)){var o=!0;Vi(t)}else o=!1;if(bn(t,i),t.stateNode===null)Si(e,t),$f(t,r,n),Wa(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var d=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=Xe(r)?Vr:qe.current,u=Cn(t,u));var m=r.getDerivedStateFromProps,x=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";x||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||d!==u)&&su(t,a,n,u),or=!1;var h=t.memoizedState;a.state=h,Yi(t,n,a,i),d=t.memoizedState,l!==n||h!==d||Ge.current||or?(typeof m=="function"&&(Ba(t,r,m,n),d=t.memoizedState),(l=or||nu(t,r,l,n,h,d,u))?(x||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ff(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wt(t.type,l),a.props=u,x=t.pendingProps,h=a.context,d=r.contextType,typeof d=="object"&&d!==null?d=xt(d):(d=Xe(r)?Vr:qe.current,d=Cn(t,d));var v=r.getDerivedStateFromProps;(m=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==x||h!==d)&&su(t,a,n,d),or=!1,h=t.memoizedState,a.state=h,Yi(t,n,a,i);var f=t.memoizedState;l!==x||h!==f||Ge.current||or?(typeof v=="function"&&(Ba(t,r,v,n),f=t.memoizedState),(u=or||nu(t,r,u,n,h,f,d)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,f,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,f,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=d,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ya(e,t,r,n,o,i)}function Ya(e,t,r,n,i,o){Df(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Kd(t,r,!1),Xt(e,t,o);n=t.stateNode,n0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=En(t,e.child,null,o),t.child=En(t,null,l,o)):Ve(e,t,l,o),t.memoizedState=n.state,i&&Kd(t,r,!0),t.child}function Ff(e){var t=e.stateNode;t.pendingContext?Yd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yd(e,t.context,!1),Ul(e,t.containerInfo)}function cu(e,t,r,n,i){return Tn(),Ol(i),t.flags|=256,Ve(e,t,r,n),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function zf(e,t,r){var n=t.pendingProps,i=pe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(pe,i&1),e===null)return qa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=ko(a,n,0,null),e=Fr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ga(r),t.memoizedState=Ka,e):Kl(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return s0(e,t,a,n,l,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,l=i.sibling;var d={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=yr(i,d),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=yr(l,o):(o=Fr(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Ga(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Ka,n}return o=e.child,e=o.sibling,n=yr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kl(e,t){return t=ko({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function di(e,t,r,n){return n!==null&&Ol(n),En(t,e.child,null,r),e=Kl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s0(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=ea(Error(R(422))),di(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=ko({mode:"visible",children:n.children},i,0,null),o=Fr(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&En(t,e.child,null,a),t.child.memoizedState=Ga(a),t.memoizedState=Ka,o);if(!(t.mode&1))return di(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(R(419)),n=ea(o,n,void 0),di(e,t,a,n)}if(l=(a&e.childLanes)!==0,Ke||l){if(n=Re,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gt(e,i),Pt(n,e,i,-1))}return td(),n=ea(Error(R(421))),di(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=x0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rt=pr(i.nextSibling),st=t,me=!0,Nt=null,e!==null&&(ct[ft++]=Wt,ct[ft++]=Qt,ct[ft++]=Br,Wt=e.id,Qt=e.overflow,Br=t),t=Kl(t,n.children),t.flags|=4096,t)}function fu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Va(e.return,t,r)}function ta(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Uf(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ve(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fu(e,r,t);else if(e.tag===19)fu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(pe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ki(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ta(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ki(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ta(t,!0,r,null,o);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i0(e,t,r){switch(t.tag){case 3:Ff(t),Tn();break;case 5:mf(t);break;case 1:Xe(t.type)&&Vi(t);break;case 4:Ul(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ie(Qi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?zf(e,t,r):(ie(pe,pe.current&1),e=Xt(e,t,r),e!==null?e.sibling:null);ie(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Uf(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,Lf(e,t,r)}return Xt(e,t,r)}var qf,Xa,Vf,Bf;qf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xa=function(){};Vf=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Lr(Lt.current);var o=null;switch(r){case"input":i=ya(e,i),n=ya(e,n),o=[];break;case"select":i=xe({},i,{value:void 0}),n=xe({},n,{value:void 0}),o=[];break;case"textarea":i=Na(e,i),n=Na(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ui)}ka(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var d=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in d)d.hasOwnProperty(a)&&l[a]!==d[a]&&(r||(r={}),r[a]=d[a])}else r||(o||(o=[]),o.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&le("scroll",e),o||l===d||(o=[])):(o=o||[]).push(u,d))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Bf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yn(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o0(e,t,r){var n=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Xe(t.type)&&qi(),ze(t),null;case 3:return n=t.stateNode,Mn(),ue(Ge),ue(qe),Vl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Nt!==null&&(il(Nt),Nt=null))),Xa(e,t),ze(t),null;case 5:ql(t);var i=Lr(Es.current);if(r=t.type,e!==null&&t.stateNode!=null)Vf(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return ze(t),null}if(e=Lr(Lt.current),ai(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[$t]=t,n[Cs]=o,e=(t.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(i=0;i<rs.length;i++)le(rs[i],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":bd(n,o),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},le("invalid",n);break;case"textarea":jd(n,o),le("invalid",n)}ka(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&oi(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&oi(n.textContent,l,e),i=["children",""+l]):xs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&le("scroll",n)}switch(r){case"input":Js(n),Nd(n,o,!0);break;case"textarea":Js(n),kd(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ui)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[$t]=t,e[Cs]=n,qf(e,t,!1,!1),t.stateNode=e;e:{switch(a=Sa(r,n),r){case"dialog":le("cancel",e),le("close",e),i=n;break;case"iframe":case"object":case"embed":le("load",e),i=n;break;case"video":case"audio":for(i=0;i<rs.length;i++)le(rs[i],e);i=n;break;case"source":le("error",e),i=n;break;case"img":case"image":case"link":le("error",e),le("load",e),i=n;break;case"details":le("toggle",e),i=n;break;case"input":bd(e,n),i=ya(e,n),le("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=xe({},n,{value:void 0}),le("invalid",e);break;case"textarea":jd(e,n),i=Na(e,n),le("invalid",e);break;default:i=n}ka(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?wc(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&vc(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&vs(e,d):typeof d=="number"&&vs(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xs.hasOwnProperty(o)?d!=null&&o==="onScroll"&&le("scroll",e):d!=null&&yl(e,o,d,a))}switch(r){case"input":Js(e),Nd(e,n,!1);break;case"textarea":Js(e),kd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?xn(e,!!n.multiple,o,!1):n.defaultValue!=null&&xn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ui)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Bf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=Lr(Es.current),Lr(Lt.current),ai(t)){if(n=t.stateNode,r=t.memoizedProps,n[$t]=t,(o=n.nodeValue!==r)&&(e=st,e!==null))switch(e.tag){case 3:oi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oi(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$t]=t,t.stateNode=n}return ze(t),null;case 13:if(ue(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&rt!==null&&t.mode&1&&!(t.flags&128))lf(),Tn(),t.flags|=98560,o=!1;else if(o=ai(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[$t]=t}else Tn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else Nt!==null&&(il(Nt),Nt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):td())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return Mn(),Xa(e,t),e===null&&Ss(t.stateNode.containerInfo),ze(t),null;case 10:return Dl(t.type._context),ze(t),null;case 17:return Xe(t.type)&&qi(),ze(t),null;case 19:if(ue(pe),o=t.memoizedState,o===null)return ze(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Yn(o,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ki(e),a!==null){for(t.flags|=128,Yn(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ie(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&we()>Rn&&(t.flags|=128,n=!0,Yn(o,!1),t.lanes=4194304)}else{if(!n)if(e=Ki(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!me)return ze(t),null}else 2*we()-o.renderingStartTime>Rn&&r!==1073741824&&(t.flags|=128,n=!0,Yn(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=we(),t.sibling=null,r=pe.current,ie(pe,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return ed(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?et&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function a0(e,t){switch(Il(t),t.tag){case 1:return Xe(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(),ue(Ge),ue(qe),Vl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(ue(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Tn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(pe),null;case 4:return Mn(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var ui=!1,Ue=!1,l0=typeof WeakSet=="function"?WeakSet:Set,F=null;function mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ve(e,t,n)}else r.current=null}function Ja(e,t,r){try{r()}catch(n){ve(e,t,n)}}var mu=!1;function d0(e,t){if(Oa=Di,e=Yc(),Rl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,d=-1,u=0,m=0,x=e,h=null;t:for(;;){for(var v;x!==r||i!==0&&x.nodeType!==3||(l=a+i),x!==o||n!==0&&x.nodeType!==3||(d=a+n),x.nodeType===3&&(a+=x.nodeValue.length),(v=x.firstChild)!==null;)h=x,x=v;for(;;){if(x===e)break t;if(h===r&&++u===i&&(l=a),h===o&&++m===n&&(d=a),(v=x.nextSibling)!==null)break;x=h,h=x.parentNode}x=v}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Aa={focusedElem:e,selectionRange:r},Di=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var w=f.memoizedProps,p=f.memoizedState,g=t.stateNode,c=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:wt(t.type,w),p);g.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){ve(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return f=mu,mu=!1,f}function us(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ja(t,r,o)}i=i.next}while(i!==n)}}function No(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Za(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Wf(e){var t=e.alternate;t!==null&&(e.alternate=null,Wf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Cs],delete t[Fa],delete t[Wp],delete t[Qp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qf(e){return e.tag===5||e.tag===3||e.tag===4}function hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ui));else if(n!==4&&(e=e.child,e!==null))for(el(e,t,r),e=e.sibling;e!==null;)el(e,t,r),e=e.sibling}function tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tl(e,t,r),e=e.sibling;e!==null;)tl(e,t,r),e=e.sibling}var Ae=null,bt=!1;function rr(e,t,r){for(r=r.child;r!==null;)Hf(e,t,r),r=r.sibling}function Hf(e,t,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ho,r)}catch{}switch(r.tag){case 5:Ue||mn(r,t);case 6:var n=Ae,i=bt;Ae=null,rr(e,t,r),Ae=n,bt=i,Ae!==null&&(bt?(e=Ae,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ae.removeChild(r.stateNode));break;case 18:Ae!==null&&(bt?(e=Ae,r=r.stateNode,e.nodeType===8?Yo(e.parentNode,r):e.nodeType===1&&Yo(e,r),Ns(e)):Yo(Ae,r.stateNode));break;case 4:n=Ae,i=bt,Ae=r.stateNode.containerInfo,bt=!0,rr(e,t,r),Ae=n,bt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ja(r,t,a),i=i.next}while(i!==n)}rr(e,t,r);break;case 1:if(!Ue&&(mn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ve(r,t,l)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(Ue=(n=Ue)||r.memoizedState!==null,rr(e,t,r),Ue=n):rr(e,t,r);break;default:rr(e,t,r)}}function pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new l0),t.forEach(function(n){var i=v0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function yt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,bt=!1;break e;case 3:Ae=l.stateNode.containerInfo,bt=!0;break e;case 4:Ae=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(Ae===null)throw Error(R(160));Hf(o,a,i),Ae=null,bt=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(u){ve(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yf(t,e),t=t.sibling}function Yf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Mt(e),n&4){try{us(3,e,e.return),No(3,e)}catch(w){ve(e,e.return,w)}try{us(5,e,e.return)}catch(w){ve(e,e.return,w)}}break;case 1:yt(t,e),Mt(e),n&512&&r!==null&&mn(r,r.return);break;case 5:if(yt(t,e),Mt(e),n&512&&r!==null&&mn(r,r.return),e.flags&32){var i=e.stateNode;try{vs(i,"")}catch(w){ve(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&pc(i,o),Sa(l,a);var u=Sa(l,o);for(a=0;a<d.length;a+=2){var m=d[a],x=d[a+1];m==="style"?wc(i,x):m==="dangerouslySetInnerHTML"?vc(i,x):m==="children"?vs(i,x):yl(i,m,x,u)}switch(l){case"input":wa(i,o);break;case"textarea":gc(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?xn(i,!!o.multiple,v,!1):h!==!!o.multiple&&(o.defaultValue!=null?xn(i,!!o.multiple,o.defaultValue,!0):xn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cs]=o}catch(w){ve(e,e.return,w)}}break;case 6:if(yt(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){ve(e,e.return,w)}}break;case 3:if(yt(t,e),Mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(w){ve(e,e.return,w)}break;case 4:yt(t,e),Mt(e);break;case 13:yt(t,e),Mt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Jl=we())),n&4&&pu(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||m,yt(t,e),Ue=u):yt(t,e),Mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(F=e,m=e.child;m!==null;){for(x=F=m;F!==null;){switch(h=F,v=h.child,h.tag){case 0:case 11:case 14:case 15:us(4,h,h.return);break;case 1:mn(h,h.return);var f=h.stateNode;if(typeof f.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(w){ve(n,r,w)}}break;case 5:mn(h,h.return);break;case 22:if(h.memoizedState!==null){xu(x);continue}}v!==null?(v.return=h,F=v):xu(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{i=x.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=x.stateNode,d=x.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=yc("display",a))}catch(w){ve(e,e.return,w)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(w){ve(e,e.return,w)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:yt(t,e),Mt(e),n&4&&pu(e);break;case 21:break;default:yt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Qf(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vs(i,""),n.flags&=-33);var o=hu(e);tl(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=hu(e);el(e,l,a);break;default:throw Error(R(161))}}catch(d){ve(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u0(e,t,r){F=e,Kf(e)}function Kf(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ui;if(!a){var l=i.alternate,d=l!==null&&l.memoizedState!==null||Ue;l=ui;var u=Ue;if(ui=a,(Ue=d)&&!u)for(F=i;F!==null;)a=F,d=a.child,a.tag===22&&a.memoizedState!==null?vu(i):d!==null?(d.return=a,F=d):vu(i);for(;o!==null;)F=o,Kf(o),o=o.sibling;F=i,ui=l,Ue=u}gu(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):gu(e)}}function gu(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||No(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ue)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:wt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&eu(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}eu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&Ns(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ue||t.flags&512&&Za(t)}catch(h){ve(t,t.return,h)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function xu(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function vu(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{No(4,t)}catch(d){ve(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){ve(t,i,d)}}var o=t.return;try{Za(t)}catch(d){ve(t,o,d)}break;case 5:var a=t.return;try{Za(t)}catch(d){ve(t,a,d)}}}catch(d){ve(t,t.return,d)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var c0=Math.ceil,Ji=Zt.ReactCurrentDispatcher,Gl=Zt.ReactCurrentOwner,gt=Zt.ReactCurrentBatchConfig,Z=0,Re=null,je=null,Le=0,et=0,hn=Cr(0),Ee=0,$s=null,Qr=0,jo=0,Xl=0,cs=null,Ye=null,Jl=0,Rn=1/0,qt=null,Zi=!1,rl=null,xr=null,ci=!1,cr=null,eo=0,fs=0,nl=null,Pi=-1,Ci=0;function Be(){return Z&6?we():Pi!==-1?Pi:Pi=we()}function vr(e){return e.mode&1?Z&2&&Le!==0?Le&-Le:Yp.transition!==null?(Ci===0&&(Ci=Rc()),Ci):(e=ne,e!==0||(e=window.event,e=e===void 0?16:Fc(e.type)),e):1}function Pt(e,t,r,n){if(50<fs)throw fs=0,nl=null,Error(R(185));zs(e,r,n),(!(Z&2)||e!==Re)&&(e===Re&&(!(Z&2)&&(jo|=r),Ee===4&&lr(e,Le)),Je(e,n),r===1&&Z===0&&!(t.mode&1)&&(Rn=we()+500,yo&&Tr()))}function Je(e,t){var r=e.callbackNode;Yh(e,t);var n=Li(e,e===Re?Le:0);if(n===0)r!==null&&Cd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Cd(r),t===1)e.tag===0?Hp(yu.bind(null,e)):sf(yu.bind(null,e)),Vp(function(){!(Z&6)&&Tr()}),r=null;else{switch($c(n)){case 1:r=kl;break;case 4:r=Mc;break;case 16:r=Ai;break;case 536870912:r=_c;break;default:r=Ai}r=nm(r,Gf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gf(e,t){if(Pi=-1,Ci=0,Z&6)throw Error(R(327));var r=e.callbackNode;if(Nn()&&e.callbackNode!==r)return null;var n=Li(e,e===Re?Le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=to(e,n);else{t=n;var i=Z;Z|=2;var o=Jf();(Re!==e||Le!==t)&&(qt=null,Rn=we()+500,Dr(e,t));do try{h0();break}catch(l){Xf(e,l)}while(!0);Ll(),Ji.current=o,Z=i,je!==null?t=0:(Re=null,Le=0,t=Ee)}if(t!==0){if(t===2&&(i=Ma(e),i!==0&&(n=i,t=sl(e,i))),t===1)throw r=$s,Dr(e,0),lr(e,n),Je(e,we()),r;if(t===6)lr(e,n);else{if(i=e.current.alternate,!(n&30)&&!f0(i)&&(t=to(e,n),t===2&&(o=Ma(e),o!==0&&(n=o,t=sl(e,o))),t===1))throw r=$s,Dr(e,0),lr(e,n),Je(e,we()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:$r(e,Ye,qt);break;case 3:if(lr(e,n),(n&130023424)===n&&(t=Jl+500-we(),10<t)){if(Li(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Be(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Da($r.bind(null,e,Ye,qt),t);break}$r(e,Ye,qt);break;case 4:if(lr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-St(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*c0(n/1960))-n,10<n){e.timeoutHandle=Da($r.bind(null,e,Ye,qt),n);break}$r(e,Ye,qt);break;case 5:$r(e,Ye,qt);break;default:throw Error(R(329))}}}return Je(e,we()),e.callbackNode===r?Gf.bind(null,e):null}function sl(e,t){var r=cs;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=to(e,t),e!==2&&(t=Ye,Ye=r,t!==null&&il(t)),e}function il(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function f0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ct(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Xl,t&=~jo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-St(t),n=1<<r;e[r]=-1,t&=~n}}function yu(e){if(Z&6)throw Error(R(327));Nn();var t=Li(e,0);if(!(t&1))return Je(e,we()),null;var r=to(e,t);if(e.tag!==0&&r===2){var n=Ma(e);n!==0&&(t=n,r=sl(e,n))}if(r===1)throw r=$s,Dr(e,0),lr(e,t),Je(e,we()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,Ye,qt),Je(e,we()),null}function Zl(e,t){var r=Z;Z|=1;try{return e(t)}finally{Z=r,Z===0&&(Rn=we()+500,yo&&Tr())}}function Hr(e){cr!==null&&cr.tag===0&&!(Z&6)&&Nn();var t=Z;Z|=1;var r=gt.transition,n=ne;try{if(gt.transition=null,ne=1,e)return e()}finally{ne=n,gt.transition=r,Z=t,!(Z&6)&&Tr()}}function ed(){et=hn.current,ue(hn)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qp(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&qi();break;case 3:Mn(),ue(Ge),ue(qe),Vl();break;case 5:ql(n);break;case 4:Mn();break;case 13:ue(pe);break;case 19:ue(pe);break;case 10:Dl(n.type._context);break;case 22:case 23:ed()}r=r.return}if(Re=e,je=e=yr(e.current,null),Le=et=t,Ee=0,$s=null,Xl=jo=Qr=0,Ye=cs=null,Ar!==null){for(t=0;t<Ar.length;t++)if(r=Ar[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Ar=null}return e}function Xf(e,t){do{var r=je;try{if(Ll(),ji.current=Xi,Gi){for(var n=ge.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gi=!1}if(Wr=0,_e=Ce=ge=null,ds=!1,Ms=0,Gl.current=null,r===null||r.return===null){Ee=1,$s=t,je=null;break}e:{var o=e,a=r.return,l=r,d=t;if(t=Le,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,m=l,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var h=m.alternate;h?(m.updateQueue=h.updateQueue,m.memoizedState=h.memoizedState,m.lanes=h.lanes):(m.updateQueue=null,m.memoizedState=null)}var v=ou(a);if(v!==null){v.flags&=-257,au(v,a,l,o,t),v.mode&1&&iu(o,u,t),t=v,d=u;var f=t.updateQueue;if(f===null){var w=new Set;w.add(d),t.updateQueue=w}else f.add(d);break e}else{if(!(t&1)){iu(o,u,t),td();break e}d=Error(R(426))}}else if(me&&l.mode&1){var p=ou(a);if(p!==null){!(p.flags&65536)&&(p.flags|=256),au(p,a,l,o,t),Ol(_n(d,l));break e}}o=d=_n(d,l),Ee!==4&&(Ee=2),cs===null?cs=[o]:cs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=If(o,d,t);Zd(o,g);break e;case 1:l=d;var c=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=Of(o,l,t);Zd(o,b);break e}}o=o.return}while(o!==null)}em(r)}catch(E){t=E,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function Jf(){var e=Ji.current;return Ji.current=Xi,e===null?Xi:e}function td(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Re===null||!(Qr&268435455)&&!(jo&268435455)||lr(Re,Le)}function to(e,t){var r=Z;Z|=2;var n=Jf();(Re!==e||Le!==t)&&(qt=null,Dr(e,t));do try{m0();break}catch(i){Xf(e,i)}while(!0);if(Ll(),Z=r,Ji.current=n,je!==null)throw Error(R(261));return Re=null,Le=0,Ee}function m0(){for(;je!==null;)Zf(je)}function h0(){for(;je!==null&&!Fh();)Zf(je)}function Zf(e){var t=rm(e.alternate,e,et);e.memoizedProps=e.pendingProps,t===null?em(e):je=t,Gl.current=null}function em(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=a0(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,je=null;return}}else if(r=o0(r,t,et),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ee===0&&(Ee=5)}function $r(e,t,r){var n=ne,i=gt.transition;try{gt.transition=null,ne=1,p0(e,t,r,n)}finally{gt.transition=i,ne=n}return null}function p0(e,t,r,n){do Nn();while(cr!==null);if(Z&6)throw Error(R(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Kh(e,o),e===Re&&(je=Re=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ci||(ci=!0,nm(Ai,function(){return Nn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=gt.transition,gt.transition=null;var a=ne;ne=1;var l=Z;Z|=4,Gl.current=null,d0(e,r),Yf(r,e),Op(Aa),Di=!!Oa,Aa=Oa=null,e.current=r,u0(r),zh(),Z=l,ne=a,gt.transition=o}else e.current=r;if(ci&&(ci=!1,cr=e,eo=i),o=e.pendingLanes,o===0&&(xr=null),Vh(r.stateNode),Je(e,we()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zi)throw Zi=!1,e=rl,rl=null,e;return eo&1&&e.tag!==0&&Nn(),o=e.pendingLanes,o&1?e===nl?fs++:(fs=0,nl=e):fs=0,Tr(),null}function Nn(){if(cr!==null){var e=$c(eo),t=gt.transition,r=ne;try{if(gt.transition=null,ne=16>e?16:e,cr===null)var n=!1;else{if(e=cr,cr=null,eo=0,Z&6)throw Error(R(331));var i=Z;for(Z|=4,F=e.current;F!==null;){var o=F,a=o.child;if(F.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(F=u;F!==null;){var m=F;switch(m.tag){case 0:case 11:case 15:us(8,m,o)}var x=m.child;if(x!==null)x.return=m,F=x;else for(;F!==null;){m=F;var h=m.sibling,v=m.return;if(Wf(m),m===u){F=null;break}if(h!==null){h.return=v,F=h;break}F=v}}}var f=o.alternate;if(f!==null){var w=f.child;if(w!==null){f.child=null;do{var p=w.sibling;w.sibling=null,w=p}while(w!==null)}}F=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,F=a;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:us(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,F=g;break e}F=o.return}}var c=e.current;for(F=c;F!==null;){a=F;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,F=y;else e:for(a=c;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:No(9,l)}}catch(E){ve(l,l.return,E)}if(l===a){F=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,F=b;break e}F=l.return}}if(Z=i,Tr(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ho,e)}catch{}n=!0}return n}finally{ne=r,gt.transition=t}}return!1}function wu(e,t,r){t=_n(r,t),t=If(e,t,1),e=gr(e,t,1),t=Be(),e!==null&&(zs(e,1,t),Je(e,t))}function ve(e,t,r){if(e.tag===3)wu(e,e,r);else for(;t!==null;){if(t.tag===3){wu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xr===null||!xr.has(n))){e=_n(r,e),e=Of(t,e,1),t=gr(t,e,1),e=Be(),t!==null&&(zs(t,1,e),Je(t,e));break}}t=t.return}}function g0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Le&r)===r&&(Ee===4||Ee===3&&(Le&130023424)===Le&&500>we()-Jl?Dr(e,0):Xl|=r),Je(e,t)}function tm(e,t){t===0&&(e.mode&1?(t=ti,ti<<=1,!(ti&130023424)&&(ti=4194304)):t=1);var r=Be();e=Gt(e,t),e!==null&&(zs(e,t,r),Je(e,r))}function x0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tm(e,r)}function v0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),tm(e,r)}var rm;rm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ke=!1,i0(e,t,r);Ke=!!(e.flags&131072)}else Ke=!1,me&&t.flags&1048576&&of(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Si(e,t),e=t.pendingProps;var i=Cn(t,qe.current);bn(t,r),i=Wl(null,t,n,e,i,r);var o=Ql();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(n)?(o=!0,Vi(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zl(t),i.updater=bo,t.stateNode=i,i._reactInternals=t,Wa(t,n,e,r),t=Ya(null,t,n,!0,o,r)):(t.tag=0,me&&o&&$l(t),Ve(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=w0(n),e=wt(n,e),i){case 0:t=Ha(null,t,n,e,r);break e;case 1:t=uu(null,t,n,e,r);break e;case 11:t=lu(null,t,n,e,r);break e;case 14:t=du(null,t,n,wt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),Ha(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),uu(e,t,n,i,r);case 3:e:{if(Ff(t),e===null)throw Error(R(387));n=t.pendingProps,o=t.memoizedState,i=o.element,ff(e,t),Yi(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_n(Error(R(423)),t),t=cu(e,t,n,r,i);break e}else if(n!==i){i=_n(Error(R(424)),t),t=cu(e,t,n,r,i);break e}else for(rt=pr(t.stateNode.containerInfo.firstChild),st=t,me=!0,Nt=null,r=uf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tn(),n===i){t=Xt(e,t,r);break e}Ve(e,t,n,r)}t=t.child}return t;case 5:return mf(t),e===null&&qa(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,La(n,i)?a=null:o!==null&&La(n,o)&&(t.flags|=32),Df(e,t),Ve(e,t,a,r),t.child;case 6:return e===null&&qa(t),null;case 13:return zf(e,t,r);case 4:return Ul(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=En(t,null,n,r):Ve(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),lu(e,t,n,i,r);case 7:return Ve(e,t,t.pendingProps,r),t.child;case 8:return Ve(e,t,t.pendingProps.children,r),t.child;case 12:return Ve(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ie(Qi,n._currentValue),n._currentValue=a,o!==null)if(Ct(o.value,a)){if(o.children===i.children&&!Ge.current){t=Xt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(o.tag===1){d=Ht(-1,r&-r),d.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),Va(o.return,r,t),l.lanes|=r;break}d=d.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(R(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Va(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ve(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,bn(t,r),i=xt(i),n=n(i),t.flags|=1,Ve(e,t,n,r),t.child;case 14:return n=t.type,i=wt(n,t.pendingProps),i=wt(n.type,i),du(e,t,n,i,r);case 15:return Af(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wt(n,i),Si(e,t),t.tag=1,Xe(n)?(e=!0,Vi(t)):e=!1,bn(t,r),$f(t,n,i),Wa(t,n,i,r),Ya(null,t,n,!0,e,r);case 19:return Uf(e,t,r);case 22:return Lf(e,t,r)}throw Error(R(156,t.tag))};function nm(e,t){return Ec(e,t)}function y0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,r,n){return new y0(e,t,r,n)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w0(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bl)return 11;if(e===Nl)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ti(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")rd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case nn:return Fr(r.children,i,o,t);case wl:a=8,i|=8;break;case pa:return e=ht(12,r,t,i|2),e.elementType=pa,e.lanes=o,e;case ga:return e=ht(13,r,t,i),e.elementType=ga,e.lanes=o,e;case xa:return e=ht(19,r,t,i),e.elementType=xa,e.lanes=o,e;case fc:return ko(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uc:a=10;break e;case cc:a=9;break e;case bl:a=11;break e;case Nl:a=14;break e;case ir:a=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=ht(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Fr(e,t,r,n){return e=ht(7,e,n,t),e.lanes=r,e}function ko(e,t,r,n){return e=ht(22,e,n,t),e.elementType=fc,e.lanes=r,e.stateNode={isHidden:!1},e}function ra(e,t,r){return e=ht(6,e,null,t),e.lanes=r,e}function na(e,t,r){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lo(0),this.expirationTimes=Lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nd(e,t,r,n,i,o,a,l,d){return e=new b0(e,t,r,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(o),e}function N0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sm(e){if(!e)return jr;e=e._reactInternals;e:{if(Gr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(Xe(r))return nf(e,r,t)}return t}function im(e,t,r,n,i,o,a,l,d){return e=nd(r,n,!0,e,i,o,a,l,d),e.context=sm(null),r=e.current,n=Be(),i=vr(r),o=Ht(n,i),o.callback=t??null,gr(r,o,i),e.current.lanes=i,zs(e,i,n),Je(e,n),e}function So(e,t,r,n){var i=t.current,o=Be(),a=vr(i);return r=sm(r),t.context===null?t.context=r:t.pendingContext=r,t=Ht(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gr(i,t,a),e!==null&&(Pt(e,i,a,o),Ni(e,i,a)),a}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sd(e,t){bu(e,t),(e=e.alternate)&&bu(e,t)}function j0(){return null}var om=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}Po.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));So(e,t,null,null)};Po.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hr(function(){So(null,e,null,null)}),t[Kt]=null}};function Po(e){this._internalRoot=e}Po.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ac();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ar.length&&t!==0&&t<ar[r].priority;r++);ar.splice(r,0,e),r===0&&Dc(e)}};function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function k0(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=ro(a);o.call(u)}}var a=im(t,n,e,0,null,!1,!1,"",Nu);return e._reactRootContainer=a,e[Kt]=a.current,Ss(e.nodeType===8?e.parentNode:e),Hr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=ro(d);l.call(u)}}var d=nd(e,0,!1,null,null,!1,!1,"",Nu);return e._reactRootContainer=d,e[Kt]=d.current,Ss(e.nodeType===8?e.parentNode:e),Hr(function(){So(t,d,r,n)}),d}function To(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var d=ro(a);l.call(d)}}So(t,a,e,i)}else a=k0(r,t,e,i,n);return ro(a)}Ic=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ts(t.pendingLanes);r!==0&&(Sl(t,r|1),Je(t,we()),!(Z&6)&&(Rn=we()+500,Tr()))}break;case 13:Hr(function(){var n=Gt(e,1);if(n!==null){var i=Be();Pt(n,e,1,i)}}),sd(e,1)}};Pl=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=Be();Pt(t,e,134217728,r)}sd(e,134217728)}};Oc=function(e){if(e.tag===13){var t=vr(e),r=Gt(e,t);if(r!==null){var n=Be();Pt(r,e,t,n)}sd(e,t)}};Ac=function(){return ne};Lc=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};Ca=function(e,t,r){switch(t){case"input":if(wa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=vo(n);if(!i)throw Error(R(90));hc(n),wa(n,i)}}}break;case"textarea":gc(e,r);break;case"select":t=r.value,t!=null&&xn(e,!!r.multiple,t,!1)}};jc=Zl;kc=Hr;var S0={usingClientEntryPoint:!1,Events:[qs,ln,vo,bc,Nc,Zl]},Kn={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P0={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cc(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||j0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fi.isDisabled&&fi.supportsFiber)try{ho=fi.inject(P0),At=fi}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;ot.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(t))throw Error(R(200));return N0(e,t,null,r)};ot.createRoot=function(e,t){if(!od(e))throw Error(R(299));var r=!1,n="",i=om;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nd(e,1,!1,null,null,r,!1,n,i),e[Kt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new id(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Cc(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Hr(e)};ot.hydrate=function(e,t,r){if(!Co(t))throw Error(R(200));return To(null,e,t,!0,r)};ot.hydrateRoot=function(e,t,r){if(!od(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=om;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=im(t,null,e,1,r??null,i,!1,o,a),e[Kt]=t.current,Ss(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Po(t)};ot.render=function(e,t,r){if(!Co(t))throw Error(R(200));return To(null,e,t,!1,r)};ot.unmountComponentAtNode=function(e){if(!Co(e))throw Error(R(40));return e._reactRootContainer?(Hr(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};ot.unstable_batchedUpdates=Zl;ot.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Co(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return To(e,t,r,!1,n)};ot.version="18.3.1-next-f1338f8080-20240426";function am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(am)}catch(e){console.error(e)}}am(),oc.exports=ot;var C0=oc.exports,ju=C0;ma.createRoot=ju.createRoot,ma.hydrateRoot=ju.hydrateRoot;var It=[],ut=[],T0=Uint8Array,sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var en=0,E0=sa.length;en<E0;++en)It[en]=sa[en],ut[sa.charCodeAt(en)]=en;ut[45]=62;ut[95]=63;function M0(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function _0(e,t,r){return(t+r)*3/4-r}function Is(e){var t,r=M0(e),n=r[0],i=r[1],o=new T0(_0(e,n,i)),a=0,l=i>0?n-4:n,d;for(d=0;d<l;d+=4)t=ut[e.charCodeAt(d)]<<18|ut[e.charCodeAt(d+1)]<<12|ut[e.charCodeAt(d+2)]<<6|ut[e.charCodeAt(d+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=ut[e.charCodeAt(d)]<<2|ut[e.charCodeAt(d+1)]>>4,o[a++]=t&255),i===1&&(t=ut[e.charCodeAt(d)]<<10|ut[e.charCodeAt(d+1)]<<4|ut[e.charCodeAt(d+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function R0(e){return It[e>>18&63]+It[e>>12&63]+It[e>>6&63]+It[e&63]}function $0(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(R0(n));return i.join("")}function Os(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,l=r-n;a<l;a+=o)i.push($0(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i.push(It[t>>2]+It[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(It[t>>10]+It[t>>4&63]+It[t<<2&63]+"=")),i.join("")}function Bt(e){if(e===void 0)return{};if(!lm(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function I0(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function lm(e){var i;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((i=r==null?void 0:r.constructor)==null?void 0:i.name)==="Object";return t&&n}const dm=!0,$n=BigInt("-9223372036854775808"),ad=BigInt("9223372036854775807"),ol=BigInt("0"),O0=BigInt("8"),A0=BigInt("256");function um(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function L0(e){e<ol&&(e-=$n+$n);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const i of t.match(/.{2}/g).reverse())r.set([parseInt(i,16)],n++),e>>=O0;return Os(r)}function D0(e){const t=Is(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=ol,n=ol;for(const i of t)r+=BigInt(i)*A0**n,n++;return r>ad&&(r+=$n+$n),r}function F0(e){if(e<$n||ad<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Os(new Uint8Array(t))}function z0(e){const t=Is(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const U0=DataView.prototype.setBigInt64?F0:L0,q0=DataView.prototype.getBigInt64?z0:D0,ku=1024;function cm(e){if(e.length>ku)throw new Error(`Field name ${e} exceeds maximum field name length ${ku}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function In(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>In(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Is(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return q0(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Is(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,dm);if(!um(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,i]of Object.entries(e))cm(n),r[n]=In(i);return r}const Su=16384;function ms(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>Su){const r="[...truncated]";let n=Su-r.length;const i=t.codePointAt(n-1);return i!==void 0&&i>65535&&(n-=1),t.substring(0,n)+r}return t}function al(e,t,r,n){var a;if(e===void 0){const l=r&&` (present at path ${r} in original object ${ms(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<$n||ad<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:U0(e)}}if(typeof e=="number")if(um(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,dm),{$float:Os(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Os(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,d)=>al(l,t,r+`[${d}]`));if(e instanceof Set)throw new Error(ia(r,"Set",[...e],t));if(e instanceof Map)throw new Error(ia(r,"Map",[...e],t));if(!lm(e)){const l=(a=e==null?void 0:e.constructor)==null?void 0:a.name,d=l?`${l} `:"";throw new Error(ia(r,d,e,t))}const i={},o=Object.entries(e);o.sort(([l,d],[u,m])=>l===u?0:l<u?-1:1);for(const[l,d]of o)d!==void 0&&(cm(l),i[l]=al(d,t,r+`.${l}`));return i}function ia(e,t,r,n){return e?`${t}${ms(r)} is not a supported Convex type (present at path ${e} in original object ${ms(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ms(r)} is not a supported Convex type.`}function kr(e){return al(e,e,"")}var V0=Object.defineProperty,B0=(e,t,r)=>t in e?V0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oa=(e,t,r)=>B0(e,typeof t!="symbol"?t+"":t,r),Pu,Cu;const W0=Symbol.for("ConvexError");class ll extends(Cu=Error,Pu=W0,Cu){constructor(t){super(typeof t=="string"?t:ms(t)),oa(this,"name","ConvexError"),oa(this,"data"),oa(this,Pu,!0),this.data=t}}const fm=()=>Array.from({length:4},()=>0);fm();fm();const Tu="1.28.2";var Q0=Object.defineProperty,H0=(e,t,r)=>t in e?Q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Eu=(e,t,r)=>H0(e,typeof t!="symbol"?t+"":t,r);const Y0="color:rgb(0, 145, 255)";function mm(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class hm{constructor(t){Eu(this,"_onLogLineFuncs"),Eu(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function pm(e){const t=new hm(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function gm(e){return new hm(e)}function no(e,t,r,n,i){const o=mm(r);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const a=i.match(/^\[.*?\] /);if(a===null){e.error(`[CONVEX ${o}(${n})] Could not parse console.log`);return}const l=i.slice(1,a[0].length-2),d=i.slice(a[0].length);e.log(`%c[CONVEX ${o}(${n})] [${l}]`,Y0,d)}else e.error(`[CONVEX ${o}(${n})] ${i}`)}function K0(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function pn(e,t,r){return`[CONVEX ${mm(e)}(${t})] ${r.errorMessage}
  Called by client`}function dl(e,t){return t.data=e.errorData,t}function so(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function zr(e,t){return JSON.stringify({udfPath:so(e),args:kr(t)})}var G0=Object.defineProperty,X0=(e,t,r)=>t in e?G0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_t=(e,t,r)=>X0(e,typeof t!="symbol"?t+"":t,r);class J0{constructor(){_t(this,"nextQueryId"),_t(this,"querySetVersion"),_t(this,"querySet"),_t(this,"queryIdToToken"),_t(this,"identityVersion"),_t(this,"auth"),_t(this,"outstandingQueriesOlderThanRestart"),_t(this,"outstandingAuthOlderThanRestart"),_t(this,"paused"),_t(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,i){const o=so(t),a=zr(o,r),l=this.querySet.get(a);if(l!==void 0)return l.numSubscribers+=1,{queryToken:a,modification:null,unsubscribe:()=>this.removeSubscriber(a)};{const d=this.nextQueryId++,u={id:d,canonicalizedUdfPath:o,args:r,numSubscribers:1,journal:n,componentPath:i};this.querySet.set(a,u),this.queryIdToToken.set(d,a);const m=this.querySetVersion,x=this.querySetVersion+1,h={type:"Add",queryId:d,udfPath:o,args:[kr(r)],journal:n,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(d,h):this.querySetVersion=x,{queryToken:a,modification:{type:"ModifyQuerySet",baseVersion:m,newVersion:x,modifications:[h]},unsubscribe:()=>this.removeSubscriber(a)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const i=this.queryIdToToken.get(r.queryId);i!==void 0&&(this.querySet.get(i).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=so(t),i=zr(n,r),o=this.querySet.get(i);return o!==void 0?o.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const o of this.querySet.values()){const a={type:"Add",queryId:o.id,udfPath:o.canonicalizedUdfPath,args:[kr(o.args)],journal:o.journal,componentPath:o.componentPath};r.push(a),t.has(o.id)||this.outstandingQueriesOlderThanRestart.add(o.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,i=this.querySetVersion+1,o={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,o):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:n,newVersion:i,modifications:[o]}}}}var Z0=Object.defineProperty,eg=(e,t,r)=>t in e?Z0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mi=(e,t,r)=>eg(e,typeof t!="symbol"?t+"":t,r);class tg{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,mi(this,"inflightRequests"),mi(this,"requestsOlderThanRestart"),mi(this,"inflightMutationsCount",0),mi(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(i=>{const o=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:o,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",i=r.message.udfPath;for(const d of t.logLines)no(this.logger,"info",n,i,d);const o=r.status;let a,l;if(t.success)a={success:!0,logLines:t.logLines,value:In(t.result)},l=()=>o.onResult(a);else{const d=t.result,{errorData:u}=t;no(this.logger,"error",n,i,d),a={success:!1,errorMessage:d,errorData:u!==void 0?In(u):void 0,logLines:t.logLines},l=()=>o.onResult(a)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:a}):(r.status={status:"Completed",result:a,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,i]of this.inflightRequests.entries()){const o=i.status;o.status==="Completed"&&o.ts.lessThanOrEqual(t)&&(o.onResolve(),r.set(n,o.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const As=Symbol.for("functionName"),xm=Symbol.for("toReferencePath");function rg(e){return e[xm]??null}function ng(e){return e.startsWith("function://")}function sg(e){let t;if(typeof e=="string")ng(e)?t={functionHandle:e}:t={name:e};else if(e[As])t={name:e[As]};else{const r=rg(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function nt(e){const t=sg(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[As];if(!r)throw new Error(`${e} is not a functionReference`);return r}function vm(e){return{[As]:e}}function ym(e=[]){const t={get(r,n){if(typeof n=="string"){const i=[...e,n];return ym(i)}else if(n===As){if(e.length<2){const a=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}const i=e.slice(0,-1).join("/"),o=e[e.length-1];return o==="default"?i:i+":"+o}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const ig=ym();var og=Object.defineProperty,ag=(e,t,r)=>t in e?og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,io=(e,t,r)=>ag(e,typeof t!="symbol"?t+"":t,r);class Ls{constructor(t){io(this,"queryResults"),io(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=Bt(r[0]),i=nt(t),o=this.queryResults.get(zr(i,n));if(o!==void 0)return Ls.queryValue(o.result)}getAllQueries(t){const r=[],n=nt(t);for(const i of this.queryResults.values())i.udfPath===so(n)&&r.push({args:i.args,value:Ls.queryValue(i.result)});return r}setQuery(t,r,n){const i=Bt(r),o=nt(t),a=zr(o,i);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const d={udfPath:o,args:i,result:l};this.queryResults.set(a,d),this.modifiedQueries.push(a)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class lg{constructor(){io(this,"queryResults"),io(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!r.has(a.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const i=new Ls(this.queryResults);for(const a of this.optimisticUpdates)a.update(i);const o=[];for(const[a,l]of this.queryResults){const d=n.get(a);(d===void 0||d.result!==l.result)&&o.push(a)}return o}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new Ls(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?dl(n,new ll(pn("query",r.udfPath,n))):new Error(pn("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var dg=Object.defineProperty,ug=(e,t,r)=>t in e?dg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aa=(e,t,r)=>ug(e,typeof t!="symbol"?t+"":t,r);class tt{constructor(t,r){aa(this,"low"),aa(this,"high"),aa(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new tt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?Mu:t>=cg?fg:new tt(t%hs|0,t/hs|0)}toString(){return(BigInt(this.high)*BigInt(hs)+BigInt(this.low)).toString()}equals(t){return tt.isLong(t)||(t=tt.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return tt.isLong(t)||(t=tt.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?tt.fromNumber(t):new tt(t.low,t.high)}}const Mu=new tt(0,0),_u=65536,hs=_u*_u,cg=hs*hs,fg=new tt(-1,-1);var mg=Object.defineProperty,hg=(e,t,r)=>t in e?mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hi=(e,t,r)=>hg(e,typeof t!="symbol"?t+"":t,r);class Ru{constructor(t,r){hi(this,"version"),hi(this,"remoteQuerySet"),hi(this,"queryPath"),hi(this,"logger"),this.version={querySet:0,ts:tt.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const i=this.queryPath(n.queryId);if(i)for(const a of n.logLines)no(this.logger,"info","query",i,a);const o=In(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:o,logLines:n.logLines});break}case"QueryFailed":{const i=this.queryPath(n.queryId);if(i)for(const a of n.logLines)no(this.logger,"info","query",i,a);const{errorData:o}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:o!==void 0?In(o):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function la(e){const t=Is(e);return tt.fromBytesLE(Array.from(t))}function pg(e){const t=new Uint8Array(e.toBytesLE());return Os(t)}function $u(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:la(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:la(e.startVersion.ts)},endVersion:{...e.endVersion,ts:la(e.endVersion.ts)}}}}function gg(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:pg(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var xg=Object.defineProperty,vg=(e,t,r)=>t in e?xg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oe=(e,t,r)=>vg(e,typeof t!="symbol"?t+"":t,r);const yg=1e3,wg=1001,bg=1005,Ng=4040;let Ei;function Mi(){return Ei===void 0&&(Ei=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ei+performance.now())}function Iu(){return`t=${Math.round((Mi()-Ei)/100)/10}s`}const wm={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function jg(e){if(e===void 0)return"Unknown";for(const t of Object.keys(wm))if(e.startsWith(t))return t;return"Unknown"}class kg{constructor(t,r,n,i,o,a){this.markConnectionStateDirty=o,this.debug=a,Oe(this,"socket"),Oe(this,"connectionCount"),Oe(this,"_hasEverConnected",!1),Oe(this,"lastCloseReason"),Oe(this,"transitionChunkBuffer",null),Oe(this,"defaultInitialBackoff"),Oe(this,"maxBackoff"),Oe(this,"retries"),Oe(this,"serverInactivityThreshold"),Oe(this,"reconnectDueToServerInactivityTimeout"),Oe(this,"uri"),Oe(this,"onOpen"),Oe(this,"onResume"),Oe(this,"onMessage"),Oe(this,"webSocketConstructor"),Oe(this,"logger"),Oe(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=$u(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Mi()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Iu(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Iu())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let i=$u(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const a=this.assembleTransition(i);if(!a)return;i=a,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==yg&&r.code!==wg&&r.code!==bg&&r.code!==Ng){let i=`WebSocket closed with code ${r.code}`;r.reason&&(i+=`: ${r.reason}`),this.logger.log(i),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(i)}const n=jg(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=gg(t),i=JSON.stringify(n);let o=!1;try{this.socket.ws.send(i),o=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${o?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Mi()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:wm[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(n,this.maxBackoff),o=i*(Math.random()-.5);return i+o}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=Mi()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(n)}ms`,o=`${Math.round(r/1e4)/100}MB`,a=r/(n/1e3),l=`${Math.round(a/1e4)/100}MB per second`;this._logVerbose(`received ${o} transition in ${i} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${o}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${o} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function Sg(){return Pg()}function Pg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class ns extends Error{}ns.prototype.name="InvalidTokenError";function Cg(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Tg(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Cg(t)}catch{return atob(t)}}function bm(e,t){if(typeof e!="string")throw new ns("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new ns(`Invalid token specified: missing part #${r+1}`);let i;try{i=Tg(n)}catch(o){throw new ns(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new ns(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}var Eg=Object.defineProperty,Mg=(e,t,r)=>t in e?Eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dt=(e,t,r)=>Mg(e,typeof t!="symbol"?t+"":t,r);const _g=20*24*60*60*1e3,Ou=2;class Rg{constructor(t,r,n){dt(this,"authState",{state:"noAuth"}),dt(this,"configVersion",0),dt(this,"syncState"),dt(this,"authenticate"),dt(this,"stopSocket"),dt(this,"tryRestartSocket"),dt(this,"pauseSocket"),dt(this,"resumeSocket"),dt(this,"clearAuth"),dt(this,"logger"),dt(this,"refreshTokenLeewaySeconds"),dt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Ou){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Ou-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:i}=r;if(!n||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const o=i-n;if(o<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let a=Math.min(_g,(o-this.refreshTokenLeewaySeconds)*1e3);a<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${o}s`),a=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},a);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${a}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const i=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return bm(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const $g=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Ig(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function Og(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function Ag(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of $g){const n=performance.getEntriesByName(r).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...n)}return t.map(Og)}var Lg=Object.defineProperty,Dg=(e,t,r)=>t in e?Lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ne=(e,t,r)=>Dg(e,typeof t!="symbol"?t+"":t,r);class Fg{constructor(t,r,n){if(Ne(this,"address"),Ne(this,"state"),Ne(this,"requestManager"),Ne(this,"webSocketManager"),Ne(this,"authenticationManager"),Ne(this,"remoteQuerySet"),Ne(this,"optimisticQueryResults"),Ne(this,"_transitionHandlerCounter",0),Ne(this,"_nextRequestId"),Ne(this,"_onTransitionFns",new Map),Ne(this,"_sessionId"),Ne(this,"firstMessageReceived",!1),Ne(this,"debug"),Ne(this,"logger"),Ne(this,"maxObservedTimestamp"),Ne(this,"connectionStateSubscribers",new Map),Ne(this,"nextConnectionStateSubscriberId",0),Ne(this,"_lastPublishedConnectionState"),Ne(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const v=this.connectionState();if(JSON.stringify(v)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=v;for(const f of this.connectionStateSubscribers.values())f(v)}})}),Ne(this,"mark",v=>{this.debug&&Ig(v,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&I0(t),n={...n};const i=n.authRefreshTokenLeewaySeconds??2;let o=n.webSocketConstructor;if(!o&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");o=o||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?gm({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:pm({verbose:n.verbose??!1});const a=t.search("://");if(a===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(a+3),d=t.substring(0,a);let u;if(d==="http")u="ws";else if(d==="https")u="wss";else throw new Error(`Unknown parent protocol ${d}`);const m=`${u}://${l}/api/${Tu}/sync`;this.state=new J0,this.remoteQuerySet=new Ru(v=>this.state.queryPath(v),this.logger),this.requestManager=new tg(this.logger,this.markConnectionStateDirty);const x=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new Rg(this.state,{authenticate:v=>{const f=this.state.setAuth(v);return this.webSocketManager.sendMessage(f),f.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:x,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new lg,this.addOnTransitionHandler(v=>{r(v.queries.map(f=>f.token))}),this._nextRequestId=0,this._sessionId=Sg();const{unsavedChangesWarning:h}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(h===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else h!==!1&&window.addEventListener("beforeunload",v=>{if(this.requestManager.hasIncompleteRequests()){v.preventDefault();const f="Are you sure you want to leave? Your changes may not be saved.";return(v||window.event).returnValue=f,f}});this.webSocketManager=new kg(m,{onOpen:v=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...v,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const f=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Ru(g=>this.state.queryPath(g),this.logger);const[w,p]=this.state.restart(f);p&&this.webSocketManager.sendMessage(p),this.webSocketManager.sendMessage(w);for(const g of this.requestManager.restart())this.webSocketManager.sendMessage(g)},onResume:()=>{const[v,f]=this.state.resume();f&&this.webSocketManager.sendMessage(f),v&&this.webSocketManager.sendMessage(v);for(const w of this.requestManager.resume())this.webSocketManager.sendMessage(w)},onMessage:v=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),v.type){case"Transition":{this.observedTimestamp(v.endVersion.ts),this.authenticationManager.onTransition(v),this.remoteQuerySet.transition(v),this.state.transition(v);const f=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(f);break}case"MutationResponse":{v.success&&this.observedTimestamp(v.ts);const f=this.requestManager.onResponse(v);f!==null&&this.notifyOnQueryResultChanges(new Map([[f.requestId,f.result]]));break}case"ActionResponse":{this.requestManager.onResponse(v);break}case"AuthError":{this.authenticationManager.onAuthError(v);break}case"FatalError":{const f=K0(this.logger,v.error);throw this.webSocketManager.terminate(),f}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},o,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&x()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[o,a]of r){const l=this.state.queryToken(o);if(l!==null){const d={result:a,udfPath:this.state.queryPath(o),args:this.state.queryArgs(o)};n.set(l,d)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:i.map(o=>{const a=this.optimisticQueryResults.rawQueryResult(o);return{token:o,modification:{kind:"Updated",result:a.result}}}),reflectedMutations:Array.from(t).map(([o,a])=>({requestId:o,result:a})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?bm(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const i=Bt(r),{modification:o,queryToken:a,unsubscribe:l}=this.state.subscribe(t,i,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return o!==null&&this.webSocketManager.sendMessage(o),{queryToken:a,unsubscribe:()=>{const d=l();d&&this.webSocketManager.sendMessage(d)}}}localQueryResult(t,r){const n=Bt(r),i=zr(t,n);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=Bt(r),i=zr(t,n);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,r){const n=Bt(r),i=zr(t,n);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const i=await this.mutationInternal(t,r,n);if(!i.success)throw i.errorData!==void 0?dl(i,new ll(pn("mutation",t,i))):new Error(pn("mutation",t,i));return i.value}async mutationInternal(t,r,n,i){const{mutationPromise:o}=this.enqueueMutation(t,r,n,i);return o}enqueueMutation(t,r,n,i){const o=Bt(r);this.tryReportLongDisconnect();const a=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const m=n.optimisticUpdate;if(m!==void 0){const x=f=>{m(f,o)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},v=this.optimisticQueryResults.applyOptimisticUpdate(x,a).map(f=>{const w=this.localQueryResultByToken(f);return{token:f,modification:{kind:"Updated",result:w===void 0?void 0:{success:!0,value:w,logLines:[]}}}});this.handleTransition({queries:v,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:a,udfPath:t,componentPath:i,args:[kr(o)]},d=this.webSocketManager.sendMessage(l),u=this.requestManager.request(l,d);return{requestId:a,mutationPromise:u}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?dl(n,new ll(pn("action",t,n))):new Error(pn("action",t,n));return n.value}async actionInternal(t,r,n){const i=Bt(r),o=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const a={type:"Action",requestId:o,udfPath:t,componentPath:n,args:[kr(i)]},l=this.webSocketManager.sendMessage(a);return this.requestManager.request(a,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=Ag(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Tu}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function zg({getCurrentValue:e,subscribe:t}){const[r,n]=N.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(i=e(),n({getCurrentValue:e,subscribe:t,value:i})),N.useEffect(()=>{let o=!1;const a=()=>{o||n(d=>{if(d.getCurrentValue!==e||d.subscribe!==t)return d;const u=e();return d.value===u?d:{...d,value:u}})},l=t(a);return a(),()=>{o=!0,l()}},[e,t]),i}var Ug=Object.defineProperty,qg=(e,t,r)=>t in e?Ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nr=(e,t,r)=>qg(e,typeof t!="symbol"?t+"":t,r);const Vg=5e3;if(typeof mo>"u")throw new Error("Required dependency 'react' not found");function Nm(e,t,r){function n(i){return Qg(i),t.mutation(e,i,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(o){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${nt(e)}`);return Nm(e,t,o)},n}class Bg{constructor(t,r){if(nr(this,"address"),nr(this,"cachedSync"),nr(this,"listeners"),nr(this,"options"),nr(this,"closed",!1),nr(this,"_logger"),nr(this,"adminAuth"),nr(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?gm({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:pm({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new Fg(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,i]=r,o=nt(t);return{onUpdate:a=>{const{queryToken:l,unsubscribe:d}=this.sync.subscribe(o,n,i),u=this.listeners.get(l);return u!==void 0?u.add(a):this.listeners.set(l,new Set([a])),()=>{if(this.closed)return;const m=this.listeners.get(l);m.delete(a),m.size===0&&this.listeners.delete(l),d()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(o,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(o,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(o,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??Vg,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,r)}mutation(t,...r){const[n,i]=r,o=nt(t);return this.sync.mutation(o,n,i)}action(t,...r){const n=nt(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),i=n.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((o,a)=>{const l=n.onUpdate(()=>{l();try{o(n.localQueryResult())}catch(d){a(d)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const i of n)i()}}}const ld=mo.createContext(void 0);function dd(){return N.useContext(ld)}const Wg=({client:e,children:t})=>mo.createElement(ld.Provider,{value:e},t);function jt(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:Bt(t[0]),i=typeof e=="string"?vm(e):e,o=nt(i),a=N.useMemo(()=>r?{}:{query:{query:i,args:n}},[JSON.stringify(kr(n)),o,r]),d=Gg(a).query;if(d instanceof Error)throw d;return d}function He(e){const t=typeof e=="string"?vm(e):e,r=N.useContext(ld);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return N.useMemo(()=>Nm(t,r),[r,nt(t)])}function Qg(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var Hg=Object.defineProperty,Yg=(e,t,r)=>t in e?Hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,da=(e,t,r)=>Yg(e,typeof t!="symbol"?t+"":t,r);class Kg{constructor(t){da(this,"createWatch"),da(this,"queries"),da(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:i}=t[r];if(nt(n),this.queries[r]===void 0)this.addQuery(r,n,i);else{const o=this.queries[r];(nt(n)!==nt(o.query)||JSON.stringify(kr(i))!==JSON.stringify(kr(o.args)))&&(this.removeQuery(r),this.addQuery(r,n,i))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:i,args:o}=t[n];nt(i);const a=this.createWatch(i,o);let l;try{l=a.localQueryResult()}catch(d){if(d instanceof Error)l=d;else throw d}r[n]=l}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:i,watch:o}=this.queries[r],a=o.journal();this.removeQuery(r),this.addQuery(r,n,i,a)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(r,n,i),a=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:o,unsubscribe:a}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function Gg(e){const t=dd();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=N.useMemo(()=>(n,i,o)=>t.watchQuery(n,i,o?{journal:o}:{}),[t]);return Xg(e,r)}function Xg(e,t){const[r]=N.useState(()=>new Kg(t));r.createWatch!==t&&r.setCreateWatch(t),N.useEffect(()=>()=>r.destroy(),[r]);const n=N.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:i=>(r.setQueries(e),r.subscribe(i))}),[r,e]);return zg(n)}function jm(e,t){const r={get(n,i){if(typeof i=="string"){const o=[...t,i];return jm(e,o)}else if(i===xm){if(t.length<1){const o=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${o}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const Jg=()=>jm("components",[]),se=ig;Jg();let Zg={data:""},ex=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Zg},tx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rx=/\/\*[^]*?\*\/|  +/g,Au=/\n+/g,dr=(e,t)=>{let r="",n="",i="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+a+";":n+=o[1]=="f"?dr(a,o):o+"{"+dr(a,o[1]=="k"?"":t)+"}":typeof a=="object"?n+=dr(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=dr.p?dr.p(o,a):o+":"+a+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Ut={},km=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+km(e[r]);return t}return e},nx=(e,t,r,n,i)=>{let o=km(e),a=Ut[o]||(Ut[o]=(d=>{let u=0,m=11;for(;u<d.length;)m=101*m+d.charCodeAt(u++)>>>0;return"go"+m})(o));if(!Ut[a]){let d=o!==e?e:(u=>{let m,x,h=[{}];for(;m=tx.exec(u.replace(rx,""));)m[4]?h.shift():m[3]?(x=m[3].replace(Au," ").trim(),h.unshift(h[0][x]=h[0][x]||{})):h[0][m[1]]=m[2].replace(Au," ").trim();return h[0]})(e);Ut[a]=dr(i?{["@keyframes "+a]:d}:d,r?"":"."+a)}let l=r&&Ut.g?Ut.g:null;return r&&(Ut.g=Ut[a]),((d,u,m,x)=>{x?u.data=u.data.replace(x,d):u.data.indexOf(d)===-1&&(u.data=m?d+u.data:u.data+d)})(Ut[a],t,n,l),a},sx=(e,t,r)=>e.reduce((n,i,o)=>{let a=t[o];if(a&&a.call){let l=a(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=d?"."+d:l&&typeof l=="object"?l.props?"":dr(l,""):l===!1?"":l}return n+i+(a??"")},"");function Eo(e){let t=this||{},r=e.call?e(t.p):e;return nx(r.unshift?r.raw?sx(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,ex(t.target),t.g,t.o,t.k)}let Sm,ul,cl;Eo.bind({g:1});let Jt=Eo.bind({k:1});function ix(e,t,r,n){dr.p=t,Sm=e,ul=r,cl=n}function Er(e,t){let r=this||{};return function(){let n=arguments;function i(o,a){let l=Object.assign({},o),d=l.className||i.className;r.p=Object.assign({theme:ul&&ul()},l),r.o=/ *go\d+/.test(d),l.className=Eo.apply(r,n)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),cl&&u[0]&&cl(l),Sm(u,l)}return i}}var ox=e=>typeof e=="function",oo=(e,t)=>ox(e)?e(t):e,ax=(()=>{let e=0;return()=>(++e).toString()})(),Pm=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lx=20,ud="default",Cm=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Cm(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},_i=[],Tm={toasts:[],pausedAt:void 0,settings:{toastLimit:lx}},Ot={},Em=(e,t=ud)=>{Ot[t]=Cm(Ot[t]||Tm,e),_i.forEach(([r,n])=>{r===t&&n(Ot[t])})},Mm=e=>Object.keys(Ot).forEach(t=>Em(e,t)),dx=e=>Object.keys(Ot).find(t=>Ot[t].toasts.some(r=>r.id===e)),Mo=(e=ud)=>t=>{Em(t,e)},ux={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cx=(e={},t=ud)=>{let[r,n]=N.useState(Ot[t]||Tm),i=N.useRef(Ot[t]);N.useEffect(()=>(i.current!==Ot[t]&&n(Ot[t]),_i.push([t,n]),()=>{let a=_i.findIndex(([l])=>l===t);a>-1&&_i.splice(a,1)}),[t]);let o=r.toasts.map(a=>{var l,d,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((d=e[a.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||ux[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:o}},fx=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||ax()}),Bs=e=>(t,r)=>{let n=fx(t,e,r);return Mo(n.toasterId||dx(n.id))({type:2,toast:n}),n.id},Te=(e,t)=>Bs("blank")(e,t);Te.error=Bs("error");Te.success=Bs("success");Te.loading=Bs("loading");Te.custom=Bs("custom");Te.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Mo(t)(r):Mm(r)};Te.dismissAll=e=>Te.dismiss(void 0,e);Te.remove=(e,t)=>{let r={type:4,toastId:e};t?Mo(t)(r):Mm(r)};Te.removeAll=e=>Te.remove(void 0,e);Te.promise=(e,t,r)=>{let n=Te.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?oo(t.success,i):void 0;return o?Te.success(o,{id:n,...r,...r==null?void 0:r.success}):Te.dismiss(n),i}).catch(i=>{let o=t.error?oo(t.error,i):void 0;o?Te.error(o,{id:n,...r,...r==null?void 0:r.error}):Te.dismiss(n)}),e};var mx=1e3,hx=(e,t="default")=>{let{toasts:r,pausedAt:n}=cx(e,t),i=N.useRef(new Map).current,o=N.useCallback((x,h=mx)=>{if(i.has(x))return;let v=setTimeout(()=>{i.delete(x),a({type:4,toastId:x})},h);i.set(x,v)},[]);N.useEffect(()=>{if(n)return;let x=Date.now(),h=r.map(v=>{if(v.duration===1/0)return;let f=(v.duration||0)+v.pauseDuration-(x-v.createdAt);if(f<0){v.visible&&Te.dismiss(v.id);return}return setTimeout(()=>Te.dismiss(v.id,t),f)});return()=>{h.forEach(v=>v&&clearTimeout(v))}},[r,n,t]);let a=N.useCallback(Mo(t),[t]),l=N.useCallback(()=>{a({type:5,time:Date.now()})},[a]),d=N.useCallback((x,h)=>{a({type:1,toast:{id:x,height:h}})},[a]),u=N.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),m=N.useCallback((x,h)=>{let{reverseOrder:v=!1,gutter:f=8,defaultPosition:w}=h||{},p=r.filter(y=>(y.position||w)===(x.position||w)&&y.height),g=p.findIndex(y=>y.id===x.id),c=p.filter((y,b)=>b<g&&y.visible).length;return p.filter(y=>y.visible).slice(...v?[c+1]:[0,c]).reduce((y,b)=>y+(b.height||0)+f,0)},[r]);return N.useEffect(()=>{r.forEach(x=>{if(x.dismissed)o(x.id,x.removeDelay);else{let h=i.get(x.id);h&&(clearTimeout(h),i.delete(x.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:u,calculateOffset:m}}},px=Jt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gx=Jt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xx=Jt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vx=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${px} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yx=Jt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wx=Er("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${yx} 1s linear infinite;
`,bx=Jt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Nx=Jt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jx=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Nx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kx=Er("div")`
  position: absolute;
`,Sx=Er("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Px=Jt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cx=Er("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Px} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Tx=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(Cx,null,t):t:r==="blank"?null:N.createElement(Sx,null,N.createElement(wx,{...n}),r!=="loading"&&N.createElement(kx,null,r==="error"?N.createElement(vx,{...n}):N.createElement(jx,{...n})))},Ex=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Mx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,_x="0%{opacity:0;} 100%{opacity:1;}",Rx="0%{opacity:1;} 100%{opacity:0;}",$x=Er("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ix=Er("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ox=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=Pm()?[_x,Rx]:[Ex(r),Mx(r)];return{animation:t?`${Jt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ax=N.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?Ox(e.position||t||"top-center",e.visible):{opacity:0},o=N.createElement(Tx,{toast:e}),a=N.createElement(Ix,{...e.ariaProps},oo(e.message,e));return N.createElement($x,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:o,message:a}):N.createElement(N.Fragment,null,o,a))});ix(N.createElement);var Lx=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let o=N.useCallback(a=>{if(a){let l=()=>{let d=a.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:o,className:t,style:r},i)},Dx=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},Fx=Eo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,pi=16,zx=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:o,containerStyle:a,containerClassName:l})=>{let{toasts:d,handlers:u}=hx(r,o);return N.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:pi,left:pi,right:pi,bottom:pi,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(m=>{let x=m.position||t,h=u.calculateOffset(m,{reverseOrder:e,gutter:n,defaultPosition:t}),v=Dx(x,h);return N.createElement(Lx,{id:m.id,key:m.id,onHeightUpdate:u.updateHeight,className:m.visible?Fx:"",style:v},m.type==="custom"?oo(m.message,m):i?i(m):N.createElement(Ax,{toast:m,position:x}))}))},A=Te;const _m=N.createContext();function Ux({children:e,userId:t}){const[r,n]=N.useState(null),[i,o]=N.useState(0),[a,l]=N.useState(!1),[d,u]=N.useState(!1),m=jt(se.prayerSchedules.getByUser,t?{userId:t}:"skip"),x=jt(se.prayerSchedules.getUpcoming,t?{userId:t}:"skip"),h=jt(se.prayerStreaks.getByUser,t?{userId:t}:"skip"),v=jt(se.prayerHistory.getByUser,t?{userId:t}:"skip"),f=jt(se.userSettings.getByUser,t?{userId:t}:"skip"),w=m===void 0||x===void 0||h===void 0||v===void 0||f===void 0,p=He(se.prayerSchedules.create),g=He(se.prayerSchedules.update),c=He(se.prayerSchedules.remove),y=He(se.prayerStreaks.updateStreak),b=He(se.prayerHistory.create),E=He(se.prayerHistory.remove),T=He(se.userSettings.update),M=async($,_=15)=>{const B=m.find(Y=>Y._id===$);B&&(n(B),l(!0),u(!1),o(_*60))},P=()=>{u(!0)},z=()=>{u(!1)},C=async()=>{if(r){const $=Math.floor((900-i)/60);await y({userId:t}),await b({userId:t,prayerScheduleId:r._id,duration:$,prayerPoints:[],notes:""}),r.recurring||await g({id:r._id,isCompleted:!0}),A.success("Prayer session completed!")}n(null),l(!1),u(!1),o(0)};N.useEffect(()=>{let $=null;return a&&!d&&i>0?$=setInterval(()=>{o(_=>_<=1?(C(),0):_-1)},1e3):i===0&&a&&C(),()=>clearInterval($)},[a,d,i]);const j=$=>{const _=Math.floor($/60),B=$%60;return`${_.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`};return s.jsx(_m.Provider,{value:{userId:t,schedules:m||[],upcomingSchedules:x||[],streak:h,history:v||[],settings:f,isLoading:w,activePrayer:r,countdown:i,isPraying:a,isPaused:d,formatTime:j,startPrayer:M,stopPrayer:C,pausePrayer:P,resumePrayer:z,createSchedule:p,updateSchedule:g,deleteSchedule:c,deleteHistory:E,updateSettings:T},children:e})}function Tt(){const e=N.useContext(_m);if(!e)throw new Error("usePrayer must be used within PrayerProvider");return e}let Dt=null,qx=null;async function cd(){var t,r;if(!("serviceWorker"in navigator))return console.warn("Service Workers are not supported in this browser"),null;if(!(location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="0.0.0.0"))return console.warn(" Service Workers require HTTPS in production (or localhost for development)"),console.warn("Current context:",location.protocol,location.hostname),null;console.log(" Secure context detected - Service Worker will work!");try{let n=await navigator.serviceWorker.getRegistration();if(n)console.log(" Service Worker already registered"),(((t=n.active)==null?void 0:t.scriptURL)||((r=n.waiting)==null?void 0:r.scriptURL)||"").includes("sw.js")?console.log(" Using custom service worker for notifications"):console.log(" Different service worker found - notifications may still work"),console.log(" Environment:",location.hostname==="localhost"?"Development":"Production");else{const i="/sw.js";try{n=await navigator.serviceWorker.register(i,{scope:"/"}),console.log(" Service Worker registered successfully:",i),console.log(" Environment:",location.hostname==="localhost"?"Development (localhost)":"Production (HTTPS)")}catch(o){return console.error(" Failed to register service worker:",o),(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log(" Service worker file may not be available in dev mode"),console.log(" It will work automatically when you deploy to production (HTTPS)")),null}}return Dt=n,n.installing?(console.log("Service Worker installing..."),await new Promise(i=>{const o=n.installing;o.addEventListener("statechange",()=>{o.state==="activated"&&(console.log(" Service Worker activated"),i())})})):n.waiting&&n.waiting.postMessage({type:"SKIP_WAITING"}),n.active&&console.log(" Service Worker is active and ready for notifications"),n.addEventListener("updatefound",()=>{const i=n.installing;i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New service worker available")})}),n}catch(n){console.error(" Service Worker registration failed:",n),n.message.includes("Failed to register")&&console.error("Make sure the service worker file (sw.js) is accessible at the root of your domain");try{const i=await navigator.serviceWorker.getRegistration();if(i)return Dt=i,console.log(" Using existing service worker registration"),i}catch(i){console.error("Could not get existing service worker:",i)}return null}}async function Rm(e,t){if(!Dt)return console.warn("Service Worker not registered"),null;try{if(!("PushManager"in window))return console.warn("Push messaging is not supported"),null;if(await Notification.requestPermission()!=="granted")return console.warn("Notification permission not granted"),null;const n="BKkJoFms6e3nG-P7oe09z3a5N6LQtU15NpAnmT4cogJmkZ4qphvwnLWcW6veQJerqeTmHhl1s9q03SB5ca6ynQ8";console.log(" VAPID public key found - push subscriptions enabled!");try{const i=await Dt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wx(n)});if(qx=i,console.log(" Push subscription successful!"),e&&t){const o=i.toJSON();await e({userId:t,subscription:{endpoint:o.endpoint,keys:{p256dh:o.keys.p256dh,auth:o.keys.auth}}}),console.log(" Subscription saved to backend!")}return i}catch(i){return console.warn("Push subscription failed:",i),null}}catch(r){return console.error("Push subscription failed:",r),null}}async function Vx({title:e,body:t,icon:r,tag:n,data:i}){if(!("Notification"in window)||Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;if(!Dt)try{Dt=await navigator.serviceWorker.getRegistration()}catch(o){console.warn("Could not get service worker registration:",o)}try{const o=await navigator.serviceWorker.ready;return o&&o.active?new Promise(a=>{const l=new MessageChannel;l.port1.onmessage=d=>{d.data&&d.data.success?(console.log(" Notification shown via service worker"),a(!0)):a(!1)};try{o.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:e,body:t,icon:r||"/vite.svg",tag:n||"prayer-notification",data:i||{url:"/",timestamp:Date.now()}}},[l.port2]),setTimeout(()=>{a(!0)},500)}catch(d){console.warn("Failed to post message to service worker:",d),a(!1)}}).then(a=>{if(a)return!0;throw new Error("Service worker notification failed")}).catch(()=>new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i})):(console.log("Service worker not ready, using fallback notification"),new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i}))}catch(o){console.error("Error showing background notification via service worker:",o);try{return new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i})}catch(a){return console.error("Fallback notification also failed:",a),null}}}async function Bx(){if(!Dt)return!1;try{return"sync"in Dt?(await Dt.sync.register("check-notifications"),console.log("Background sync registered"),!0):(console.warn("Background sync not supported"),!1)}catch(e){return console.error("Background sync registration failed:",e),!1}}function Wx(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}function Qx(){return Dt}function $m(){const{userId:e,settings:t,schedules:r,upcomingSchedules:n,streak:i}=Tt(),o=He(se.pushData.saveSubscription),a=N.useRef(null),l=N.useRef({}),d=N.useRef(null);return N.useEffect(()=>{cd().then(u=>{u&&(console.log("Service Worker registered for background notifications"),Bx(),t!=null&&t.notificationsEnabled&&e&&Rm(o,e))}),"Notification"in window&&(d.current=Notification.permission)},[e,t==null?void 0:t.notificationsEnabled]),N.useEffect(()=>{if(!(t!=null&&t.notificationsEnabled)){a.current&&(clearInterval(a.current),a.current=null);return}if(Notification.permission==="default"||Notification.permission!=="granted")return;const u=()=>{const m=new Date;m.toTimeString().slice(0,5);const x=m.toDateString();if(t!=null&&t.notificationTime){const[h,v]=t.notificationTime.split(":").map(Number),f=h*60+v,w=m.getHours()*60+m.getMinutes(),p=m.getSeconds(),g=`daily-${x}`;!l.current[g]&&w===f&&p<50&&(Gn({title:"Prayer Reminder",body:"Time for your daily prayer session!",icon:"/vite.svg",tag:g}),l.current[g]=Date.now(),A("Daily prayer reminder!",{icon:"",duration:5e3}))}if(t!=null&&t.showPrayerReminders&&n&&n.length>0&&n.forEach(h=>{const f=new Date(h.scheduledTime)-m,w=Math.floor(f/(1e3*60)),p=Math.floor(f/1e3);if(w===5&&p<=300&&p>=250){const g=`schedule-${h._id}-5min`;l.current[g]||(Gn({title:"Prayer Schedule Reminder",body:`"${h.title}" starts in 5 minutes`,icon:"/vite.svg",tag:g}),l.current[g]=Date.now(),A(`Prayer "${h.title}" in 5 minutes!`,{icon:"",duration:5e3}))}if(w===1&&p<=60&&p>=50){const g=`schedule-${h._id}-1min`;l.current[g]||(Gn({title:"Prayer Starting Soon",body:`"${h.title}" starts in 1 minute`,icon:"/vite.svg",tag:g}),l.current[g]=Date.now(),A(`Prayer "${h.title}" starting in 1 minute!`,{icon:"",duration:5e3}))}if(f<=1e4&&f>=0){const g=`schedule-${h._id}-start`;l.current[g]||(Gn({title:"Prayer Time!",body:`"${h.title}" is starting now`,icon:"/vite.svg",tag:g}),l.current[g]=Date.now(),A(`Prayer "${h.title}" is starting now!`,{icon:"",duration:5e3}))}}),t!=null&&t.showStreakNotifications&&i){const h=`streak-${i.currentStreak}-${x}`,v=l.current[h];[7,14,30,50,100].includes(i.currentStreak)&&!v&&(Gn({title:" Streak Milestone!",body:`Amazing! You've reached ${i.currentStreak} days of prayer!`,icon:"/vite.svg",tag:h}),l.current[h]=Date.now(),A.success(` ${i.currentStreak}-day streak milestone!`,{duration:5e3}))}};return a.current=setInterval(u,1e4),u(),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[t==null?void 0:t.notificationsEnabled,t==null?void 0:t.notificationTime,t==null?void 0:t.showPrayerReminders,t==null?void 0:t.showStreakNotifications,n,i]),N.useEffect(()=>{const m=setInterval(()=>{const x=Date.now()-864e5;Object.keys(l.current).forEach(h=>{l.current[h]<x&&delete l.current[h]})},36e5);return()=>clearInterval(m)},[]),{requestPermission:async()=>{if("Notification"in window){const u=await Notification.requestPermission();return d.current=u,u}return"denied"},permission:d.current}}async function Gn({title:e,body:t,icon:r,tag:n}){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{if(await Vx({title:e,body:t,icon:r,tag:n}))return;const o=new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n||"prayer-notification",requireInteraction:!1,silent:!1});setTimeout(()=>{o.close()},5e3),o.onclick=()=>{window.focus(),o.close()}}catch(i){console.error("Error showing notification:",i)}}const Im=N.createContext(),Lu=[{id:"default-chant-1",name:"Deep Soaking Worship (Default)",url:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/Theophilus_Sunday_-_Aya_o_Aya_Adullam_CeeNaija.com_.mp3",duration:0}],Du=[{id:"default-tongue-1",name:"Spirit Lead Me (Default)",url:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/Bishop%20David%20Oyedepo%20-%201%20HOUR%20OF%20TONGUES%20OF%20FIRE%20-%20No%20devil%20can%20withstand%20this%20I%20Gospel%20Afrik%20Tv-_AudioTrimmer.com_.mp3",duration:0}];function Hx({children:e}){const{settings:t}=Tt(),[r,n]=N.useState(null),[i,o]=N.useState(!1),[a,l]=N.useState((t==null?void 0:t.defaultVolume)??.7),[d,u]=N.useState([]),[m,x]=N.useState([]),[h,v]=N.useState(0),[f,w]=N.useState(0),p=N.useRef(null);N.useEffect(()=>{(t==null?void 0:t.defaultVolume)!==void 0&&l(t.defaultVolume)},[t==null?void 0:t.defaultVolume]),N.useEffect(()=>{if(!p.current){p.current=new Audio,p.current.loop=!0,p.current.volume=a;const C=()=>o(!1),j=X=>{o(!1),console.error("Audio playback error:",X)},$=()=>{p.current&&r&&(console.log(`Audio loaded successfully: ${(r==null?void 0:r.name)||"Unknown"}`),w(p.current.duration||0))},_=()=>{p.current&&w(p.current.duration||0)},B=()=>{p.current&&v(p.current.currentTime||0)},Y=()=>{p.current&&w(p.current.duration||0)};return p.current.addEventListener("ended",C),p.current.addEventListener("error",j),p.current.addEventListener("canplay",$),p.current.addEventListener("loadedmetadata",_),p.current.addEventListener("timeupdate",B),p.current.addEventListener("durationchange",Y),()=>{p.current&&(p.current.removeEventListener("ended",C),p.current.removeEventListener("error",j),p.current.removeEventListener("canplay",$),p.current.removeEventListener("loadedmetadata",_),p.current.removeEventListener("timeupdate",B),p.current.removeEventListener("durationchange",Y),p.current.pause(),p.current.src="")}}},[]),N.useEffect(()=>{p.current&&(p.current.volume=a)},[a]),N.useEffect(()=>{if(!p.current)return;const C=p.current,j=()=>{C.duration&&!isNaN(C.duration)&&isFinite(C.duration)&&w(C.duration)},$=()=>{C.duration&&!isNaN(C.duration)&&isFinite(C.duration)&&w(C.duration)},_=()=>{C.currentTime!==void 0&&!isNaN(C.currentTime)&&v(C.currentTime)};C.addEventListener("loadedmetadata",j),C.addEventListener("durationchange",$),C.addEventListener("timeupdate",_);let B;const Y=()=>{C&&C.currentTime!==void 0&&!isNaN(C.currentTime)&&v(C.currentTime),C.duration&&!isNaN(C.duration)&&isFinite(C.duration)&&w(C.duration),i&&(B=requestAnimationFrame(Y))};return i&&(B=requestAnimationFrame(Y)),()=>{B&&cancelAnimationFrame(B),C.removeEventListener("loadedmetadata",j),C.removeEventListener("durationchange",$),C.removeEventListener("timeupdate",_)}},[i]);const g=C=>{u(j=>[...j.filter($=>$.id!==C.id),C])},c=C=>{x(j=>[...j.filter($=>$.id!==C.id),C])},y=(C,j=null,$=null)=>{let _=m.find(S=>S.id===C);if(_||(_=Du.find(S=>S.id===C)),j&&(_?_={..._,url:j,name:$||_.name||"Custom Tongue Song"}:_={id:C,url:j,name:$||"Custom Tongue Song"}),!_||!_.url){console.warn("No tongue song found or no URL provided:",C,j);return}if(console.log("Playing tongue song:",_.name,"URL:",_.url),p.current&&(r==null?void 0:r.id)===_.id&&!i){T();return}if(p.current&&i&&(r==null?void 0:r.id)!==_.id&&(p.current.pause(),p.current.currentTime=0),!p.current){console.error("Audio element not initialized");return}n(_),p.current.volume=a;const B=S=>{if(!S)return"";try{return new URL(S).href}catch{return S}},Y=B(p.current.src),X=B(_.url);if(Y===X&&Y!==""&&p.current.readyState>=2){o(!0),p.current.play().catch(S=>{console.error("Audio play error:",S),o(!1)});return}const ee=new Promise((S,D)=>{const L=()=>{p.current.removeEventListener("canplay",L),p.current.removeEventListener("error",ae),p.current.removeEventListener("loadstart",H),p.current.removeEventListener("loadedmetadata",W),p.current.duration&&!isNaN(p.current.duration)&&isFinite(p.current.duration)&&w(p.current.duration),console.log("Tongue song loaded, ready to play:",_.name),o(!0),S()},W=()=>{p.current.duration&&!isNaN(p.current.duration)&&isFinite(p.current.duration)&&w(p.current.duration)},H=()=>{console.log("Loading tongue song:",_.url)},ae=k=>{var U;p.current.removeEventListener("canplay",L),p.current.removeEventListener("error",ae),p.current.removeEventListener("loadstart",H),console.error("Audio load error:",k),console.error("Failed URL:",_.url),console.error("Audio element error:",(U=p.current)==null?void 0:U.error),o(!1),D(k)};p.current.addEventListener("canplay",L,{once:!0}),p.current.addEventListener("loadstart",H,{once:!0}),p.current.addEventListener("loadedmetadata",W),p.current.addEventListener("error",ae,{once:!0})});console.log("Setting audio source to:",_.url),p.current.src=_.url,p.current.load(),v(0),w(0),ee.then(()=>{if(p.current)return console.log("Playing tongue song:",_.name),p.current.play()}).catch(S=>{console.error("Audio play error:",S),console.error("Failed to play URL:",_.url),o(!1)})},b=(C,j=null,$=null)=>{let _=d.find(S=>S.id===C);if(_||(_=Lu.find(S=>S.id===C)),j&&(_?_={..._,url:j,name:$||_.name||"Custom Chant"}:_={id:C,url:j,name:$||"Custom Chant"}),!_||!_.url){console.warn("No chant found or no URL provided:",C,j);return}if(console.log("Playing chant:",_.name,"URL:",_.url),p.current&&(r==null?void 0:r.id)===_.id&&!i){T();return}if(p.current&&i&&(r==null?void 0:r.id)!==_.id&&(p.current.pause(),p.current.currentTime=0),!p.current){console.error("Audio element not initialized");return}n(_),p.current.volume=a;const B=S=>{if(!S)return"";try{return new URL(S).href}catch{return S}},Y=B(p.current.src),X=B(_.url);if(Y===X&&Y!==""&&p.current.readyState>=2){o(!0),p.current.play().catch(S=>{console.error("Audio play error:",S),o(!1)});return}const ee=new Promise((S,D)=>{const L=()=>{p.current.removeEventListener("canplay",L),p.current.removeEventListener("error",ae),p.current.removeEventListener("loadstart",H),p.current.removeEventListener("loadedmetadata",W),p.current.duration&&!isNaN(p.current.duration)&&isFinite(p.current.duration)&&w(p.current.duration),console.log("Chant loaded, ready to play:",_.name),o(!0),S()},W=()=>{p.current.duration&&!isNaN(p.current.duration)&&isFinite(p.current.duration)&&w(p.current.duration)},H=()=>{console.log("Loading chant:",_.url)},ae=k=>{var U;p.current.removeEventListener("canplay",L),p.current.removeEventListener("error",ae),p.current.removeEventListener("loadstart",H),console.error("Audio load error:",k),console.error("Failed URL:",_.url),console.error("Audio element error:",(U=p.current)==null?void 0:U.error),o(!1),D(k)};p.current.addEventListener("canplay",L,{once:!0}),p.current.addEventListener("loadstart",H,{once:!0}),p.current.addEventListener("loadedmetadata",W),p.current.addEventListener("error",ae,{once:!0})});console.log("Setting audio source to:",_.url),p.current.src=_.url,p.current.load(),v(0),w(0),ee.then(()=>{if(p.current)return console.log("Playing chant:",_.name),p.current.play()}).catch(S=>{console.error("Audio play error:",S),console.error("Failed to play URL:",_.url),o(!1)})},E=()=>{p.current&&i&&(p.current.pause(),o(!1))},T=()=>{p.current&&r&&!i&&(p.current.play().catch(C=>{console.error("Audio resume error:",C),o(!1)}),o(!0))},M=()=>{p.current&&(p.current.pause(),p.current.currentTime=0,o(!1)),n(null),v(0),w(0)},P=()=>{i?E():r&&T()},z=C=>{if(!C||isNaN(C))return"0:00";const j=Math.floor(C/60),$=Math.floor(C%60);return`${j}:${String($).padStart(2,"0")}`};return s.jsx(Im.Provider,{value:{chants:Lu,tongueSongs:Du,customChants:d,customTongueSongs:m,currentChant:r,isPlaying:i,volume:a,currentTime:h,duration:f,formatTime:z,setVolume:l,playChant:b,playTongueSong:y,pauseChant:E,resumeChant:T,stopChant:M,toggleChant:P,addCustomChant:g,addCustomTongueSong:c,audioRef:p,soundEffectsEnabled:(t==null?void 0:t.soundEffectsEnabled)??!0},children:e})}function _o(){const e=N.useContext(Im);if(!e)throw new Error("useAudio must be used within AudioProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:d,...u},m)=>N.createElement("svg",{ref:m,...Yx,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Kx(e)}`,l].join(" "),...u},[...t.map(([x,h])=>N.createElement(x,h)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=q("FileAudio",[["path",{d:"M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"1013sb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z",key:"gqt63y"}],["path",{d:"M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z",key:"cf7lqx"}],["path",{d:"M2 19v-3a6 6 0 0 1 12 0v3",key:"1acxgf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=q("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=q("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=q("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=q("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fv({onEnter:e}){const[t,r]=N.useState(!1),n=()=>{r(!0),setTimeout(()=>{e()},800)};return s.jsxs("div",{className:"relative w-full h-full  min-h-[60vh] flex items-center justify-center overflow-hidden rounded-3xl border border-white/10 shadow-2xl",children:[s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1a103c] via-[#2d1b4e] to-[#1a103c]",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-to-b from-[#ffd700]/10 to-transparent blur-3xl opacity-30"}),[...Array(8)].map((i,o)=>s.jsx("div",{className:"absolute rounded-full bg-gradient-to-r from-[#ffd700]/20 to-amber-500/20 blur-xl animate-float",style:{width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`}},o))]}),s.jsxs("div",{className:`relative z-10 max-w-lg w-full -mt-10 mx-auto px-6 text-center transition-all duration-1000 transform ${t?"opacity-0 scale-95 translate-y-4":"opacity-100 scale-100 translate-y-0"}`,children:[s.jsxs("div",{className:"mb-8 relative inline-block",children:[s.jsx("div",{className:"absolute inset-0 bg-[#ffd700] blur-3xl opacity-20 animate-pulse"}),s.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md overflow-hidden flex items-center justify-center shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border border-[#ffd700]/20 scale-110"}),s.jsx("img",{src:"/logo.png",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover relative z-10"})]})]}),s.jsxs("div",{className:"space-y-2 mb-10",children:[s.jsx("p",{className:"text-[#ffd700]/60 text-xs md:text-sm uppercase tracking-[0.3em] font-medium",children:"Enter the Sanctuary"}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-serif text-white leading-tight",children:["Prayer ",s.jsx("span",{className:"text-[#ffd700]",children:"Room"})]}),s.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-[#ffd700]/50 to-transparent mx-auto mt-6"})]}),s.jsxs("p",{className:"text-white/70 text-base md:text-lg mb-12 font-light leading-relaxed max-w-sm mx-auto",children:['"Draw near to God, and He will draw near to you."',s.jsx("span",{className:"block text-[#ffd700]/50 text-xs mt-2 font-serif italic",children:" James 4:8"})]}),s.jsxs("button",{onClick:n,className:"group relative inline-flex items-center gap-4 px-8 py-4 bg-gradient-to-r from-[#ffd700] to-[#fdb931] rounded-full text-[#1a103c] font-serif font-bold text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-500 hover:scale-105 active:scale-95",children:[s.jsx("span",{className:"relative z-10",children:"Begin Prayer"}),s.jsx(kn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-white/20 text-xs",children:[s.jsx(de,{className:"w-3 h-3"}),s.jsx("span",{children:"Sacred Space"}),s.jsx(de,{className:"w-3 h-3"})]})]})]})}function mv({isFullscreen:e,toggleFullscreen:t,schedules:r,selectedSchedule:n,setSelectedSchedule:i,selectedScheduleData:o,chants:a,chantUploads:l,selectedDuration:d,setSelectedDuration:u,customHours:m,setCustomHours:x,customMinutes:h,setCustomMinutes:v,useCustomTime:f,setUseCustomTime:w,durations:p,adjustDuration:g,handleStart:c}){var B,Y,X,ee;const[y,b]=N.useState(1),[E,T]=N.useState(!1),[M,P]=N.useState([]),z=3,C=n&&(o==null?void 0:o.prayerPoints)&&o.prayerPoints.length>0,j=f?m>0||h>0:d>0,$=()=>{y===1&&C?b(2):y===2&&j&&b(3)},_=()=>{y>1&&b(y-1)};return s.jsxs("div",{className:`w-full mx-auto px-3 md:px-4 ${e?"h-full overflow-y-auto pt-4":"max-w-2xl"}`,children:[s.jsx("div",{className:"md:hidden flex justify-end mb-4",children:s.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20",title:e?"Exit fullscreen":"Enter fullscreen",children:e?s.jsx(Lm,{className:"w-5 h-5 text-white"}):s.jsx(Am,{className:"w-5 h-5 text-white"})})}),s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(S=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-300 border ${S<y?"bg-gradient-to-r from-[#ffd700] to-amber-500 text-[#1a103c] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":S===y?"bg-[#1a103c] text-[#ffd700] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.2)] ring-2 ring-[#ffd700]/20":"bg-white/5 text-white/30 border-white/10"}`,children:S<y?s.jsx(Ur,{className:"w-4 h-4 md:w-5 md:h-5"}):S}),s.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium tracking-wide ${S<=y?"text-[#ffd700]":"text-white/30"}`,children:S===1?"Schedule":S===2?"Duration":"Start"})]}),S<z&&s.jsx("div",{className:`flex-1 h-px mx-2 transition-all duration-300 ${S<y?"bg-gradient-to-r from-[#ffd700] to-amber-500 opacity-50":"bg-white/10"}`})]},S))})}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 lg:p-8 rounded-2xl min-h-[400px] md:min-h-[500px]",children:[y===1&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(kt,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Select Prayer Schedule"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Choose a schedule to begin your prayer session"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-white/80 text-xs md:text-sm font-medium mb-3",children:"Select Schedule"}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("button",{onClick:()=>T(!E),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-300 ${E?"bg-[#1a103c] border-[#ffd700] shadow-[0_0_20px_rgba(255,215,0,0.2)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":"bg-white/10 text-white/50"}`,children:s.jsx(kt,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:`font-semibold ${n?"text-white":"text-white/50"}`,children:o?o.title:"Choose a schedule..."}),o&&s.jsxs("p",{className:"text-xs text-white/50",children:[new Date(o.scheduledTime).toLocaleDateString(),"  ",((B=o.prayerPoints)==null?void 0:B.length)||0," points"]})]})]}),s.jsx(Om,{className:`w-5 h-5 text-white/50 transition-transform duration-300 ${E?"rotate-180":""}`})]}),E&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1a103c] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-fade-in max-h-[300px] overflow-y-auto custom-scrollbar",children:r.filter(S=>!S.isCompleted&&!M.includes(S._id)).length===0?s.jsx("div",{className:"p-4 text-center text-white/40 text-sm",children:"No schedules available"}):r.filter(S=>!S.isCompleted&&!M.includes(S._id)).map(S=>s.jsxs("div",{className:`flex items-center justify-between p-3 hover:bg-white/5 transition-colors border-b border-white/5 last:border-0 ${n===S._id?"bg-white/5":""}`,children:[s.jsxs("button",{onClick:()=>{i(S._id),T(!1)},className:"flex-1 flex items-center gap-3 text-left",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${n===S._id?"bg-[#ffd700]":"bg-white/20"}`}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${n===S._id?"text-[#ffd700]":"text-white/90"}`,children:S.title}),s.jsx("p",{className:"text-xs text-white/50 line-clamp-1",children:S.description||"No description"})]})]}),s.jsx("button",{onClick:D=>{D.stopPropagation(),P(L=>[...L,S._id]),n===S._id&&i(null)},className:"p-2 text-white/30 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Hide from list",children:s.jsx(Jx,{className:"w-4 h-4"})})]},S._id))})]}),o&&s.jsxs("div",{className:"mt-6 glass-card p-6 rounded-2xl border border-[#ffd700]/30 bg-gradient-to-br from-[#ffd700]/5 to-purple-500/5 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ffd700]/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-[#ffd700]/20 transition-all duration-700"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:o.title}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/60",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(kt,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(o.scheduledTime).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(wr,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(o.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-[#ffd700]/10 flex items-center justify-center border border-[#ffd700]/20",children:s.jsx(de,{className:"w-5 h-5 text-[#ffd700]"})})]}),o.description&&s.jsxs("p",{className:"text-white/70 text-sm mb-4 leading-relaxed border-l-2 border-[#ffd700]/30 pl-3 italic",children:['"',o.description,'"']}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-[#ffd700] uppercase tracking-wider",children:[s.jsx(pt,{className:"w-3 h-3"}),"Prayer Focus Points"]}),s.jsxs("div",{className:"grid gap-2",children:[(Y=o.prayerPoints)==null?void 0:Y.slice(0,3).map((S,D)=>s.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[s.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700]/10 text-[#ffd700] text-xs font-bold flex-shrink-0 mt-0.5",children:D+1}),s.jsx("p",{className:"text-sm text-white/80 leading-snug",children:S})]},D)),(((X=o.prayerPoints)==null?void 0:X.length)||0)>3&&s.jsxs("button",{className:"text-xs text-white/40 hover:text-[#ffd700] transition-colors text-center w-full py-1",children:["+",o.prayerPoints.length-3," more points"]})]})]})]})]})]}),s.jsxs("button",{onClick:$,disabled:!C,className:"w-full group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Continue"}),s.jsx(kn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),y===2&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-purple-500/20 to-indigo-500/20 mb-4",children:s.jsx(wr,{className:"w-6 h-6 md:w-8 md:h-8 text-purple-400"})}),s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Set Duration"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Choose how long you want to pray"})]}),s.jsxs("div",{className:"flex gap-2 glass-card p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>w(!1),className:`flex-1 px-3 py-2 md:px-4 md:py-2.5 rounded-md text-xs md:text-sm font-medium transition-all ${f?"text-white/70 hover:text-white/90":"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold"}`,children:"Preset"}),s.jsx("button",{onClick:()=>w(!0),className:`flex-1 px-3 py-2 md:px-4 md:py-2.5 rounded-md text-xs md:text-sm font-medium transition-all ${f?"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold":"text-white/70 hover:text-white/90"}`,children:"Custom"})]}),f?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"glass-card p-6 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Hours"}),s.jsx("input",{type:"number",min:"0",max:"23",value:m,onChange:S=>x(Math.max(0,Math.min(23,parseInt(S.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]}),s.jsx("span",{className:"text-white/40 text-3xl md:text-4xl font-bold mt-8",children:":"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Minutes"}),s.jsx("input",{type:"number",min:"0",max:"59",value:h,onChange:S=>v(Math.max(0,Math.min(59,parseInt(S.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]})]}),s.jsxs("div",{className:"text-center mt-6 pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Total Duration: "}),s.jsxs("span",{className:"text-[#ffd700] font-bold text-xl",children:[m*60+h," minutes"]})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 md:gap-3",children:p.map(S=>s.jsxs("button",{onClick:()=>u(S),className:`py-3 md:py-5 rounded-xl font-bold text-sm md:text-lg transition-all duration-300 ${d===S?"bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] shadow-[0_0_20px_rgba(255,215,0,0.3)] scale-105":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border border-white/5 hover:border-[#ffd700]/30"}`,children:[S,"m"]},S))}),s.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Selected: "}),s.jsxs("span",{className:"text-[#ffd700] font-bold text-base md:text-lg",children:[d," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:_,className:"flex-1 py-3 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:$,disabled:!j,className:"flex-1 group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Continue"}),s.jsx(kn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]}),y===3&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(Sr,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-400"})}),s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Ready to Pray"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Review your settings and begin"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-card p-3 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:[s.jsx(kt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"Prayer Schedule"})]}),s.jsx("p",{className:"text-white text-base md:text-lg font-bold mb-2",children:o==null?void 0:o.title}),s.jsx("div",{className:"flex items-center gap-4 text-xs md:text-sm text-white/60",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(de,{className:"w-3 h-3 text-[#ffd700]"}),((ee=o==null?void 0:o.prayerPoints)==null?void 0:ee.length)||0," prayer points"]})})]}),s.jsxs("div",{className:"glass-card p-3 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:[s.jsx(wr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"Duration"})]}),s.jsx("p",{className:"text-white text-xl md:text-2xl font-bold",children:f?`${m}h ${h}m`:`${d} minutes`}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mt-1",children:["Total: ",f?m*60+h:d," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-4",children:[s.jsxs("button",{onClick:_,className:"flex-1 py-2.5 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-sm md:text-lg flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{children:"Back"})]}),s.jsxs("button",{onClick:c,className:"flex-[2] group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-2.5 md:py-4 text-[#1a103c] font-bold text-sm md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Start Prayer"}),s.jsx(Sr,{className:"w-5 h-5 relative z-10 fill-current"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})]})]})}function Uu({isOpen:e,onClose:t,onConfirm:r}){return e?s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-[#1a103c]/80 backdrop-blur-md animate-fade-in",children:s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-3xl max-w-md w-full border border-white/10 shadow-2xl animate-fade-in bg-[#2d1b4e]",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(fd,{className:"w-6 h-6 text-red-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 font-serif",children:"End Prayer Session?"}),s.jsx("p",{className:"text-white/70 text-sm md:text-base leading-relaxed",children:"Are you sure you want to end this prayer session? Your progress will be saved."})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors flex-shrink-0 text-white/50 hover:text-white",children:s.jsx(Mr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),s.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-500 text-white font-bold shadow-lg hover:shadow-red-500/20 transition-all text-base",children:"End Session"})]})]})}):null}function hv({isFullscreen:e,toggleFullscreen:t,countdown:r,formatTime:n,isPaused:i,activePrayerPointIndex:o,prayerPoints:a,currentScripture:l,activeScriptureIndex:d,nextSwitchTime:u,timePerPoint:m,showSwitchNotification:x,isTonguesMode:h,activePrayer:v,isPlaying:f,pauseChant:w,resumeChant:p,playChant:g,playTongueSong:c,currentChant:y,chants:b,tongueSongs:E,chantUploads:T,tongueUploads:M,playChantForSchedule:P,playTongueSongForSchedule:z,handlePause:C,handleResume:j,handleStop:$,backgroundEffects:_=!0}){const[B,Y]=N.useState(!1),[X,ee]=N.useState(!1),S=N.useRef(null);N.useEffect(()=>{const W=H=>{S.current&&!S.current.contains(H.target)&&ee(!1)};return X&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[X]);const D=()=>{Y(!0)},L=()=>{Y(!1),$()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`relative z-10 w-full mx-auto px-3 md:px-4 ${e?"h-full flex flex-col justify-center":"max-w-5xl"}`,children:[s.jsxs("div",{className:"md:hidden absolute top-4 right-4 z-20 flex gap-2",children:[s.jsx("button",{onClick:t,className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all",title:e?"Exit fullscreen":"Enter fullscreen",children:e?s.jsx(Lm,{className:"w-5 h-5 text-white"}):s.jsx(Am,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{ref:S,children:[s.jsx("button",{onClick:()=>ee(!X),className:"p-2.5 rounded-lg bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 backdrop-blur-md border border-white/30 transition-all shadow-lg",children:s.jsx(iv,{className:"w-5 h-5 text-white"})}),X&&s.jsx("div",{className:"absolute top-12 right-0 glass-strong rounded-xl border border-white/30 shadow-2xl min-w-[200px] overflow-hidden animate-fade-in z-30",children:s.jsx("div",{className:"bg-gradient-to-br from-[#2d1b4e] to-[#1a103c] p-1",children:s.jsxs("button",{onClick:()=>{ee(!1),D()},className:"w-full px-4 py-3 text-left rounded-lg text-red-400 hover:bg-gradient-to-r hover:from-red-500/20 hover:to-red-600/10 transition-all flex items-center gap-3 group",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-red-500/10 group-hover:bg-red-500/20 transition-colors",children:s.jsx(zu,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-semibold text-sm",children:"End Session"})]})})})]})]}),s.jsxs("div",{className:`p-4 md:p-10 lg:p-14 rounded-3xl text-center backdrop-blur-md border border-white/10 shadow-2xl transition-all duration-1000 relative overflow-hidden ${e?"w-full":""} ${_?"prayer-room-glow":""}`,children:[_&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-[#ffd700]/10 to-transparent rounded-br-full blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-[#ffd700]/10 to-transparent rounded-tl-full blur-2xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ffd700]/5 via-transparent to-[#ffd700]/5 pointer-events-none"})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:`text-4xl md:text-7xl lg:text-8xl font-bold font-serif mb-3 transition-all ${i?"text-[#ffd700]/50":"text-white"}`,style:{textShadow:"0 0 40px rgba(255, 215, 0, 0.3), 0 0 80px rgba(255, 215, 0, 0.1)",letterSpacing:"0.05em"},children:n(r)}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#ffd700]/70 text-[10px] md:text-sm mb-2 uppercase tracking-widest font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#ffd700] animate-pulse"}),s.jsxs("span",{children:["Prayer Point ",o+1," of ",a.length]})]}),i&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/30 text-[#ffd700] text-xs font-medium mt-2",children:[s.jsx(br,{className:"w-3 h-3"}),"Timer Paused"]})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-20 md:h-20 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md mb-4 md:mb-7 shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:s.jsx("span",{className:"text-[#ffd700] text-xl md:text-3xl font-serif font-bold",children:o+1})}),s.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-6 md:mb-8 leading-tight px-3 md:px-6 font-serif",style:{textShadow:"0 2px 20px rgba(0, 0, 0, 0.5)"},children:a[o]})]}),!h&&l&&s.jsxs("div",{className:"mt-6 md:mt-10 transition-all duration-1000 ease-in-out relative z-10",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 mb-4 md:mb-6",children:[s.jsx(pt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("span",{className:"text-[#ffd700] text-xs md:text-sm font-semibold uppercase tracking-wider",children:"Scripture"})]}),s.jsxs("div",{className:"glass-card p-5 md:p-7 rounded-2xl border border-[#ffd700]/20 max-w-3xl mx-auto bg-[#1a103c]/30",children:[s.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-white/90 italic leading-relaxed animate-fade-in font-serif",style:{textShadow:"0 1px 10px rgba(0, 0, 0, 0.5)"},children:['"',l,'"']}),s.jsxs("div",{className:"mt-4 text-[#ffd700]/60 text-xs font-medium uppercase tracking-widest",children:[d+1," of 5"]})]})]}),s.jsxs("div",{className:"mt-6 md:mt-8 relative z-10 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Progress"}),s.jsxs("span",{className:"text-[#ffd700] text-xs font-mono",children:[Math.floor(u/60),":",(u%60).toString().padStart(2,"0")," remaining"]})]}),s.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)] transition-all duration-1000 ease-linear",style:{width:`${Math.max(0,Math.min(100,(m-u)/m*100))}%`}})})]}),s.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:a.map((W,H)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${H===o?"w-8 bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)]":H<o?"w-1.5 bg-[#ffd700]/50":"w-1.5 bg-white/10"}`},H))})]}),x&&o<a.length-1&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-yellow-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-300",children:[s.jsx(de,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold text-sm md:text-base",children:["Switching to Prayer Point ",o+2," in ",Math.ceil(u)," seconds..."]})]})}),h&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-purple-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[s.jsx(de,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Speaking in Tongues"})]})}),i&&s.jsxs("div",{className:"mt-4 text-yellow-400 text-sm font-medium flex items-center justify-center gap-2 relative z-10",children:[s.jsx(br,{className:"w-4 h-4"}),"Prayer Paused"]}),s.jsxs("div",{className:"mt-8 md:mt-12 flex items-center justify-center gap-3 md:gap-6 flex-wrap relative z-10 pb-8",children:[((v==null?void 0:v.selectedMusicId)&&!h||(v==null?void 0:v.selectedTongueSongId)&&h)&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm",children:[s.jsx(ke,{className:"w-4 h-4 text-[#ffd700]"}),f?s.jsx("button",{onClick:()=>w(),className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Pause Music"}):s.jsx("button",{onClick:async()=>{h&&(v!=null&&v.selectedTongueSongId)?(y==null?void 0:y.id)===v.selectedTongueSongId?p():await z(v):v!=null&&v.selectedMusicId&&((y==null?void 0:y.id)===v.selectedMusicId?p():await P(v))},className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Play Music"})]}),i?s.jsxs("button",{onClick:j,className:"group relative overflow-hidden px-8 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-sm md:text-base shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s.jsx(av,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Continue Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Continue"})]}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):s.jsxs("button",{onClick:C,className:"px-6 py-3 rounded-full border border-white/20 bg-white/5 text-white hover:bg-white/10 transition-all text-sm md:text-base font-medium flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Pause Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Pause"})]}),s.jsxs("button",{onClick:D,className:"hidden md:flex px-6 py-3 rounded-full border border-red-500/30 bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all text-sm md:text-base font-medium items-center gap-2",children:[s.jsx(zu,{className:"w-4 h-4"}),"End Session"]})]})]})]}),s.jsx(Uu,{isOpen:B,onClose:()=>Y(!1),onConfirm:L}),s.jsx(Uu,{isOpen:B,onClose:()=>Y(!1),onConfirm:L})]})}function pv({isTonguesMode:e,timeRemaining:t,prayerPoint:r}){const[n,i]=N.useState([]),[o,a]=N.useState([]),l=N.useRef([]),d=N.useRef(0);N.useEffect(()=>{if(!e||l.current.length>0)return;(async()=>{var v,f,w,p,g;try{const b=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Generate 10 powerful, motivational messages for someone speaking in tongues during prayer. Make them urgent, inspiring, and destiny-focused. Examples: "Your life depends on this!", "Don't stop now - your destiny is being shaped!", "Keep going - breakthrough is coming!", "Speak more - your future is in your mouth!", "Your breakthrough is in your tongue!". Return them as a simple list, one per line, each message should be 5-15 words. Make them passionate and encouraging.`}]}]})});if(!b.ok)throw new Error("Failed to generate messages");let M=(((g=(p=(w=(f=(v=(await b.json()).candidates)==null?void 0:v[0])==null?void 0:f.content)==null?void 0:w.parts)==null?void 0:p[0])==null?void 0:g.text)||"").split(`
`).map(P=>P.trim()).filter(P=>P.length>5&&P.length<100).slice(0,10);M.length===0&&(M=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"]),l.current=M,i(M)}catch(c){console.error("Error generating motivational messages:",c);const y=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"];l.current=y,i(y)}})()},[e]),N.useEffect(()=>{if(!e||n.length===0){a([]);return}const h=setInterval(()=>{if(Math.random()>.3){const v=n[Math.floor(Math.random()*n.length)],f={id:d.current++,message:v,x:Math.random()*70+15,y:Math.random()*60+20,delay:Math.random()*.5};a(w=>[...w,f]),setTimeout(()=>{a(w=>w.filter(p=>p.id!==f.id))},4e3)}},3e3);return()=>clearInterval(h)},[e,n]);const[u,m]=N.useState(t);if(N.useEffect(()=>{if(!e){m(0);return}m(t);const h=setInterval(()=>{m(v=>Math.max(0,v-1))},1e3);return()=>clearInterval(h)},[e,t]),!e)return null;const x=h=>{if(!h||h<=0)return"0:00";const v=Math.floor(h/60),f=Math.floor(h%60);return`${v}:${String(f).padStart(2,"0")}`};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",style:{padding:"80px 20px 100px 20px"},children:o.map(h=>{const v=Math.max(5,Math.min(85,h.x)),f=Math.max(10,Math.min(80,h.y));return s.jsx("div",{className:"absolute floating-popup",style:{left:`${v}%`,top:`${f}%`,animationDelay:`${h.delay}s`,transform:"translate(-50%, -50%)",maxWidth:"calc(100vw - 40px)"},children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-6 md:py-4 rounded-xl md:rounded-2xl border border-[#ffd700]/30 shadow-[0_0_20px_rgba(255,215,0,0.2)] backdrop-blur-xl max-w-[90vw] md:max-w-none bg-[#1a103c]/60",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(gs,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700] animate-pulse flex-shrink-0"}),s.jsx("p",{className:"text-white font-bold text-sm md:text-lg lg:text-xl break-words font-serif",children:h.message})]})})},h.id)})}),s.jsx("div",{className:"fixed top-16 md:top-20 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none px-4",children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-8 md:py-4 rounded-xl md:rounded-2xl border border-[#ffd700]/50 shadow-[0_0_30px_rgba(255,215,0,0.3)] animate-pulse bg-[#1a103c]/80",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(de,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700] flex-shrink-0"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#ffd700] font-bold text-xl md:text-2xl mb-1 font-serif",children:x(u)}),s.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium uppercase tracking-wider",children:"Keep Speaking in Tongues!"})]})]})})})]})}function gv(){const[e,t]=N.useState(!0),[r,n]=N.useState(!1),{userId:i,schedules:o,activePrayer:a,countdown:l,isPraying:d,isPaused:u,formatTime:m,startPrayer:x,stopPrayer:h,pausePrayer:v,resumePrayer:f,settings:w}=Tt(),{playChant:p,playTongueSong:g,pauseChant:c,resumeChant:y,stopChant:b,currentChant:E,isPlaying:T,chants:M,tongueSongs:P}=_o();dd();const z=jt(se.uploads.getByUser,i?{userId:i}:"skip"),C=(z||[]).filter(J=>!J.uploadType||J.uploadType==="chant"),j=(z||[]).filter(J=>J.uploadType==="tongue"),$=(w==null?void 0:w.defaultPrayerDuration)??15,[_,B]=N.useState($);N.useEffect(()=>{w!=null&&w.defaultPrayerDuration&&B(w.defaultPrayerDuration)},[w==null?void 0:w.defaultPrayerDuration]);const[Y,X]=N.useState(null),[ee,S]=N.useState(0),[D,L]=N.useState(15),[W,H]=N.useState(!1),[ae,k]=N.useState(0),[U,I]=N.useState(0),[O,te]=N.useState({}),[ye,Et]=N.useState(!1),[Ft,er]=N.useState(0),[$e,Me]=N.useState(!1),[Se,Ze]=N.useState(0),lt=N.useRef(null),Xr=120,be=(a==null?void 0:a.prayerPoints)||[],Ie=W?ee*60+D:_,Q=be.length>0?Ie*60/be.length:0,Qs=Q>0?Q/5:60,Ym=30,Km=[5,10,15,20,30,45,60],md=()=>{n(!r)},he=o.find(J=>J._id===Y),Hs=N.useRef({}),hd=async(J,V)=>{var Pe,G,fe,zn,Jr;if(O[V]||Hs.current[V])return O[V]||Hs.current[V];try{const _r="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",tr=`Generate exactly 5 motivational Bible verses or spiritual encouragements related to this prayer point: "${J}". Return them as a simple list, one per line, with format: "Book Chapter:Verse - Quote". Make them encouraging and relevant to the prayer theme.`,Ks=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${_r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:tr}]}]})});if(!Ks.ok)throw new Error("Failed to generate scriptures");let zt=(((Jr=(zn=(fe=(G=(Pe=(await Ks.json()).candidates)==null?void 0:Pe[0])==null?void 0:G.content)==null?void 0:fe.parts)==null?void 0:zn[0])==null?void 0:Jr.text)||"").split(`
`).map(Un=>Un.trim()).filter(Un=>Un.length>10).slice(0,5);for(zt.length===0&&(zt=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"]);zt.length<5;)zt.push("Psalm 23:1 - The Lord is my shepherd, I shall not want");return zt=zt.slice(0,5),Hs.current[V]=zt,te(Un=>({...Un,[V]:zt})),zt}catch(_r){console.error("Error generating scriptures:",_r);const tr=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"];return Hs.current[V]=tr,te(Ks=>({...Ks,[V]:tr})),tr}};N.useEffect(()=>{lt.current||(lt.current=()=>{if((w==null?void 0:w.soundEffectsEnabled)!==!1)try{const J=new(window.AudioContext||window.webkitAudioContext),V=J.createOscillator(),Pe=J.createGain();V.connect(Pe),Pe.connect(J.destination),V.frequency.value=800,V.type="sine",Pe.gain.setValueAtTime(.3,J.currentTime),Pe.gain.exponentialRampToValueAtTime(.01,J.currentTime+.5),V.start(J.currentTime),V.stop(J.currentTime+.5)}catch(J){console.error("Error playing notification sound:",J)}})},[w]),N.useEffect(()=>{if(!d||u||be.length===0||Q===0)return;const J=Ie*60,V=(a==null?void 0:a.tonguesMode)||"none",Pe=setInterval(()=>{const G=J-l;if(V==="start"&&G<Xr&&!$e)$e||(Me(!0),Ze(Date.now()/1e3),Fn(a));else if(V==="start"&&G>=Xr&&$e)Me(!1),Ze(0),Ys(a);else if(V==="perPoint"){Math.min(Math.floor(G/Q),be.length-1);const tr=G%Q;tr<Xr?(!$e||Se===0)&&(Me(!0),Ze(Date.now()/1e3-tr),Fn(a)):$e&&(Me(!1),Ze(0),Ys(a))}const fe=Math.min(Math.floor(G/Q),be.length-1),zn=G%Q,Jr=Q-zn;er(Jr),Jr<=Ym&&Jr>0&&fe<be.length-1?ye||(Et(!0),lt.current&&lt.current()):Et(!1),fe!==ae&&fe<be.length&&(lt.current&&lt.current(),k(fe),I(0),Et(!1),hd(be[fe],fe),A.success(`Now praying: Prayer Point ${fe+1}`,{duration:3e3,icon:""}));const _r=Math.min(Math.floor(zn/Qs),4);_r!==U&&_r<5&&I(_r)},1e3);return()=>clearInterval(Pe)},[d,u,be,Q,Qs,l,Ie,ae,U,ye,$e,Se,a]),N.useEffect(()=>{d&&be.length>0&&!O[0]&&hd(be[0],0)},[d,be]);const Ys=async(J=null)=>{const V=J||a;if(!(V!=null&&V.selectedMusicId))return;const Pe=M.find(G=>G.id===V.selectedMusicId);if(Pe)p(Pe.id);else{const G=C.find(fe=>fe._id===V.selectedMusicId);if(G){const fe=G.imageKitUrl;fe?p(G._id,fe,G.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for chant")}}},Fn=async(J=null)=>{const V=J||a;if(!(V!=null&&V.selectedTongueSongId)){console.log("No tongue song selected in schedule:",V);return}console.log("Playing tongue song for schedule:",V.selectedTongueSongId);const Pe=P.find(G=>G.id===V.selectedTongueSongId);if(Pe)g(Pe.id);else{const G=j.find(fe=>fe._id===V.selectedTongueSongId);if(G){const fe=G.imageKitUrl;fe?g(G._id,fe,G.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for tongue song")}else console.error("Tongue song not found:",V.selectedTongueSongId)}},Gm=async()=>{var J;if(Y){const V=W?ee*60+D:_;if(V<=0){A.error("Please set a valid prayer duration");return}if(!(he!=null&&he.prayerPoints)||he.prayerPoints.length===0){A.error("Please select a schedule with prayer points");return}k(0),I(0),te({}),Me(!1),Ze(0),x(Y,V);const Pe=(he==null?void 0:he.tonguesMode)||"none";if(console.log("Starting prayer with tongues mode:",Pe,"selectedTongueSongId:",he==null?void 0:he.selectedTongueSongId),(w==null?void 0:w.autoPlayMusic)!==!1){if(Pe==="start"&&(he!=null&&he.selectedTongueSongId))Me(!0),Ze(Date.now()/1e3),await Fn(he);else if(Pe==="perPoint"&&(he!=null&&he.selectedTongueSongId))Me(!0),Ze(Date.now()/1e3),await Fn(he);else if(he!=null&&he.selectedMusicId)await Ys(he);else if(w!=null&&w.preferredChant){const G=M.find(fe=>fe.id===w.preferredChant)||C.find(fe=>fe._id===w.preferredChant);G&&(G.url?p(G.id,G.url,G.name):G.imageKitUrl&&p(G._id||G.id,G.imageKitUrl,((J=G.fileName)==null?void 0:J.replace(/\.[^/.]+$/,""))||G.name))}}A.success("Entering Prayer Room...")}else A.error("Please select a prayer schedule")},Xm=()=>{v(),A.success("Prayer paused")},Jm=()=>{f(),A.success("Prayer resumed")},Zm=()=>{h(),b(),k(0),I(0),te({}),Me(!1),Ze(0),t(!0),A.success("Prayer session ended")},eh=J=>{d||B(Math.max(5,Math.min(60,J)))};return(O[ae]||[])[U],s.jsxs("div",{className:`${r?"fixed inset-0 z-[300] rounded-none":"w-full h-full min-h-[calc(100vh-140px)] md:min-h-[calc(100vh-120px)] relative rounded-3xl"} overflow-hidden border border-amber-400/20 shadow-2xl shadow-purple-900/50 transition-all duration-500 ease-in-out`,children:[s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0728] via-[#1a0b3d] via-[#2d1b4e] to-[#0f0728] z-0",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3/4 h-1/2 bg-gradient-radial from-amber-400/10 via-yellow-500/5 to-transparent blur-3xl opacity-40 animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-radial from-purple-500/10 via-indigo-600/5 to-transparent blur-3xl opacity-30"}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-amber-300/40 via-amber-400/20 to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-white/30 via-purple-300/20 to-transparent animate-pulse",style:{animationDelay:"0.5s"}}),s.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-indigo-300/40 via-indigo-400/20 to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(30)].map((J,V)=>s.jsx("div",{className:"absolute rounded-full bg-amber-200/20 blur-sm animate-float",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*4+4}s`,boxShadow:"0 0 10px rgba(251, 191, 36, 0.3)"}},V)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-950/30 via-transparent to-indigo-950/30"})]}),e&&s.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center",children:s.jsx(fv,{onEnter:()=>t(!1)})}),s.jsx("div",{className:"relative z-10 h-full overflow-y-auto overflow-x-hidden custom-scrollbar",children:d?s.jsxs("div",{className:"min-h-full flex items-center justify-center p-3 md:p-4 relative",children:[(w==null?void 0:w.prayerRoomBackgroundEffects)!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-1 h-full bg-gradient-to-b from-purple-400/20 via-transparent to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 right-1/4 w-1 h-full bg-gradient-to-b from-indigo-400/20 via-transparent to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(20)].map((J,V)=>s.jsx("div",{className:"absolute rounded-full bg-white/10 blur-sm animate-float",style:{width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+3}s`}},V))]}),be.length>0&&s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 p-8 pointer-events-none",children:be.map((J,V)=>V!==ae&&s.jsx("div",{className:"glass-card p-4 w-full max-w-2xl opacity-20 blur-sm transition-all duration-1000",style:{transform:`translateY(${(V-ae)*20}px)`},children:s.jsx("p",{className:"text-white/30 text-sm text-center",children:J})},V))}),s.jsxs("div",{className:"flex-1 relative z-0",children:[s.jsx(hv,{isFullscreen:r,toggleFullscreen:md,countdown:l,formatTime:m,isPaused:u,activePrayerPointIndex:ae,prayerPoints:be,currentScripture:O[ae],activeScriptureIndex:U,nextSwitchTime:Ft,timePerPoint:Q,showSwitchNotification:ye,isTonguesMode:$e,activePrayer:a,isPlaying:T,pauseChant:c,resumeChant:y,playChant:p,playTongueSong:g,currentChant:E,chants:M,tongueSongs:P,chantUploads:C,tongueUploads:j,playChantForSchedule:Ys,playTongueSongForSchedule:Fn,handlePause:Xm,handleResume:Jm,handleStop:Zm,backgroundEffects:(w==null?void 0:w.prayerRoomBackgroundEffects)??!0}),$e&&!u&&((w==null?void 0:w.showMotivationalPopups)??!0)&&s.jsx(pv,{})]})]}):s.jsx("div",{className:"p-4 md:p-8",children:s.jsx(mv,{isFullscreen:r,toggleFullscreen:md,schedules:o,selectedSchedule:Y,setSelectedSchedule:X,selectedScheduleData:he,chants:M,chantUploads:C,selectedDuration:_,setSelectedDuration:B,customHours:ee,setCustomHours:S,customMinutes:D,setCustomMinutes:L,useCustomTime:W,setUseCustomTime:H,durations:Km,adjustDuration:eh,handleStart:Gm})})})]})}function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Yr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ce(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function oe(e){ce(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||lo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function xv(e,t){ce(2,arguments);var r=oe(e).getTime(),n=Yr(t);return new Date(r+n)}var vv={};function Ws(){return vv}function fl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ri(e,t){ce(2,arguments);var r=oe(e),n=oe(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function yv(e){return ce(1,arguments),e instanceof Date||lo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wv(e){if(ce(1,arguments),!yv(e)&&typeof e!="number")return!1;var t=oe(e);return!isNaN(Number(t))}function bv(e,t){ce(2,arguments);var r=oe(e),n=oe(t),i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return i*12+o}function Nv(e,t){return ce(2,arguments),oe(e).getTime()-oe(t).getTime()}var jv={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},kv="trunc";function Sv(e){return jv[kv]}function Pv(e){ce(1,arguments);var t=oe(e);return t.setHours(23,59,59,999),t}function Cv(e){ce(1,arguments);var t=oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Tv(e){ce(1,arguments);var t=oe(e);return Pv(t).getTime()===Cv(t).getTime()}function Ev(e,t){ce(2,arguments);var r=oe(e),n=oe(t),i=Ri(r,n),o=Math.abs(bv(r,n)),a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);var l=Ri(r,n)===-i;Tv(oe(e))&&o===1&&Ri(e,n)===1&&(l=!1),a=i*(o-Number(l))}return a===0?0:a}function Mv(e,t,r){ce(2,arguments);var n=Nv(e,t)/1e3;return Sv()(n)}function _v(e,t){ce(2,arguments);var r=Yr(t);return xv(e,-r)}var Rv=864e5;function $v(e){ce(1,arguments);var t=oe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/Rv)+1}function uo(e){ce(1,arguments);var t=1,r=oe(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Um(e){ce(1,arguments);var t=oe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=uo(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=uo(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Iv(e){ce(1,arguments);var t=Um(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=uo(r);return n}var Ov=6048e5;function Av(e){ce(1,arguments);var t=oe(e),r=uo(t).getTime()-Iv(t).getTime();return Math.round(r/Ov)+1}function co(e,t){var r,n,i,o,a,l,d,u;ce(1,arguments);var m=Ws(),x=Yr((r=(n=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:m.weekStartsOn)!==null&&n!==void 0?n:(d=m.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=oe(e),v=h.getUTCDay(),f=(v<x?7:0)+v-x;return h.setUTCDate(h.getUTCDate()-f),h.setUTCHours(0,0,0,0),h}function qm(e,t){var r,n,i,o,a,l,d,u;ce(1,arguments);var m=oe(e),x=m.getUTCFullYear(),h=Ws(),v=Yr((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(x+1,0,v),f.setUTCHours(0,0,0,0);var w=co(f,t),p=new Date(0);p.setUTCFullYear(x,0,v),p.setUTCHours(0,0,0,0);var g=co(p,t);return m.getTime()>=w.getTime()?x+1:m.getTime()>=g.getTime()?x:x-1}function Lv(e,t){var r,n,i,o,a,l,d,u;ce(1,arguments);var m=Ws(),x=Yr((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&n!==void 0?n:(d=m.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=qm(e,t),v=new Date(0);v.setUTCFullYear(h,0,x),v.setUTCHours(0,0,0,0);var f=co(v,t);return f}var Dv=6048e5;function Fv(e,t){ce(1,arguments);var r=oe(e),n=co(r,t).getTime()-Lv(r,t).getTime();return Math.round(n/Dv)+1}function re(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var sr={y:function(t,r){var n=t.getUTCFullYear(),i=n>0?n:1-n;return re(r==="yy"?i%100:i,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):re(n+1,2)},d:function(t,r){return re(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return re(t.getUTCHours()%12||12,r.length)},H:function(t,r){return re(t.getUTCHours(),r.length)},m:function(t,r){return re(t.getUTCMinutes(),r.length)},s:function(t,r){return re(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return re(o,r.length)}},tn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zv={G:function(t,r,n){var i=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return sr.y(t,r)},Y:function(t,r,n,i){var o=qm(t,i),a=o>0?o:1-o;if(r==="YY"){var l=a%100;return re(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):re(a,r.length)},R:function(t,r){var n=Um(t);return re(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return re(n,r.length)},Q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return re(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return re(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,r,n){var i=t.getUTCMonth();switch(r){case"M":case"MM":return sr.M(t,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,r,n){var i=t.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return re(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,r,n,i){var o=Fv(t,i);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):re(o,r.length)},I:function(t,r,n){var i=Av(t);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):re(i,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):sr.d(t,r)},D:function(t,r,n){var i=$v(t);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):re(i,r.length)},E:function(t,r,n){var i=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,r,n,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return re(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return re(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var i=t.getUTCDay(),o=i===0?7:i;switch(r){case"i":return String(o);case"ii":return re(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,r,n){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var i=t.getUTCHours(),o;switch(i===12?o=tn.noon:i===0?o=tn.midnight:o=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var i=t.getUTCHours(),o;switch(i>=17?o=tn.evening:i>=12?o=tn.afternoon:i>=4?o=tn.morning:o=tn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return sr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):sr.H(t,r)},K:function(t,r,n){var i=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):re(i,r.length)},k:function(t,r,n){var i=t.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):re(i,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):sr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):sr.s(t,r)},S:function(t,r){return sr.S(t,r)},X:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Vu(a);case"XXXX":case"XX":return Ir(a);case"XXXXX":case"XXX":default:return Ir(a,":")}},x:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"x":return Vu(a);case"xxxx":case"xx":return Ir(a);case"xxxxx":case"xxx":default:return Ir(a,":")}},O:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+qu(a,":");case"OOOO":default:return"GMT"+Ir(a,":")}},z:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+qu(a,":");case"zzzz":default:return"GMT"+Ir(a,":")}},t:function(t,r,n,i){var o=i._originalDate||t,a=Math.floor(o.getTime()/1e3);return re(a,r.length)},T:function(t,r,n,i){var o=i._originalDate||t,a=o.getTime();return re(a,r.length)}};function qu(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),o=n%60;if(o===0)return r+String(i);var a=t;return r+String(i)+a+re(o,2)}function Vu(e,t){if(e%60===0){var r=e>0?"-":"+";return r+re(Math.abs(e)/60,2)}return Ir(e,t)}function Ir(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),o=re(Math.floor(i/60),2),a=re(i%60,2);return n+o+r+a}var Bu=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Vm=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Uv=function(t,r){var n=t.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return Bu(t,r);var a;switch(i){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Bu(i,r)).replace("{{time}}",Vm(o,r))},qv={p:Vm,P:Uv},Vv=["D","DD"],Bv=["YY","YYYY"];function Wv(e){return Vv.indexOf(e)!==-1}function Qv(e){return Bv.indexOf(e)!==-1}function Wu(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Hv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yv=function(t,r,n){var i,o=Hv[t];return typeof o=="string"?i=o:r===1?i=o.one:i=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ca(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Kv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Gv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jv={date:ca({formats:Kv,defaultWidth:"full"}),time:ca({formats:Gv,defaultWidth:"full"}),dateTime:ca({formats:Xv,defaultWidth:"full"})},Zv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ey=function(t,r,n,i){return Zv[t]};function Xn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var ty={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ry={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ny={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},sy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ay=function(t,r){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ly={ordinalNumber:ay,era:Xn({values:ty,defaultWidth:"wide"}),quarter:Xn({values:ry,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Xn({values:ny,defaultWidth:"wide"}),day:Xn({values:sy,defaultWidth:"wide"}),dayPeriod:Xn({values:iy,defaultWidth:"wide",formattingValues:oy,defaultFormattingWidth:"wide"})};function Jn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?uy(l,function(x){return x.test(a)}):dy(l,function(x){return x.test(a)}),u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var m=t.slice(a.length);return{value:u,rest:m}}}function dy(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function uy(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function cy(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var l=t.slice(i.length);return{value:a,rest:l}}}var fy=/^(\d+)(th|st|nd|rd)?/i,my=/\d+/i,hy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},py={any:[/^b/i,/^(a|c)/i]},gy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xy={any:[/1/i,/2/i,/3/i,/4/i]},vy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},by={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ny={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ky={ordinalNumber:cy({matchPattern:fy,parsePattern:my,valueCallback:function(t){return parseInt(t,10)}}),era:Jn({matchPatterns:hy,defaultMatchWidth:"wide",parsePatterns:py,defaultParseWidth:"any"}),quarter:Jn({matchPatterns:gy,defaultMatchWidth:"wide",parsePatterns:xy,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Jn({matchPatterns:vy,defaultMatchWidth:"wide",parsePatterns:yy,defaultParseWidth:"any"}),day:Jn({matchPatterns:wy,defaultMatchWidth:"wide",parsePatterns:by,defaultParseWidth:"any"}),dayPeriod:Jn({matchPatterns:Ny,defaultMatchWidth:"any",parsePatterns:jy,defaultParseWidth:"any"})},Bm={code:"en-US",formatDistance:Yv,formatLong:Jv,formatRelative:ey,localize:ly,match:ky,options:{weekStartsOn:0,firstWeekContainsDate:1}},Sy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Py=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cy=/^'([^]*?)'?$/,Ty=/''/g,Ey=/[a-zA-Z]/;function gn(e,t,r){var n,i,o,a,l,d,u,m,x,h,v,f,w,p;ce(2,arguments);var g=String(t),c=Ws(),y=(n=(i=void 0)!==null&&i!==void 0?i:c.locale)!==null&&n!==void 0?n:Bm,b=Yr((o=(a=(l=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&l!==void 0?l:c.firstWeekContainsDate)!==null&&a!==void 0?a:(u=c.locale)===null||u===void 0||(m=u.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Yr((x=(h=(v=(f=void 0)!==null&&f!==void 0?f:void 0)!==null&&v!==void 0?v:c.weekStartsOn)!==null&&h!==void 0?h:(w=c.locale)===null||w===void 0||(p=w.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&x!==void 0?x:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var T=oe(e);if(!wv(T))throw new RangeError("Invalid time value");var M=fl(T),P=_v(T,M),z={firstWeekContainsDate:b,weekStartsOn:E,locale:y,_originalDate:T},C=g.match(Py).map(function(j){var $=j[0];if($==="p"||$==="P"){var _=qv[$];return _(j,y.formatLong)}return j}).join("").match(Sy).map(function(j){if(j==="''")return"'";var $=j[0];if($==="'")return My(j);var _=zv[$];if(_)return Qv(j)&&Wu(j,t,String(e)),Wv(j)&&Wu(j,t,String(e)),_(P,j,y.localize,z);if($.match(Ey))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return j}).join("");return C}function My(e){var t=e.match(Cy);return t?t[1].replace(Ty,"'"):e}function Wm(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function _y(e){return Wm({},e)}var Qu=1440,Ry=2520,fa=43200,$y=86400;function Iy(e,t,r){var n,i;ce(2,arguments);var o=Ws(),a=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:o.locale)!==null&&n!==void 0?n:Bm;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Ri(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Wm(_y(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,m;l>0?(u=oe(t),m=oe(e)):(u=oe(e),m=oe(t));var x=Mv(m,u),h=(fl(m)-fl(u))/1e3,v=Math.round((x-h)/60),f;if(v<2)return r!=null&&r.includeSeconds?x<5?a.formatDistance("lessThanXSeconds",5,d):x<10?a.formatDistance("lessThanXSeconds",10,d):x<20?a.formatDistance("lessThanXSeconds",20,d):x<40?a.formatDistance("halfAMinute",0,d):x<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):v===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",v,d);if(v<45)return a.formatDistance("xMinutes",v,d);if(v<90)return a.formatDistance("aboutXHours",1,d);if(v<Qu){var w=Math.round(v/60);return a.formatDistance("aboutXHours",w,d)}else{if(v<Ry)return a.formatDistance("xDays",1,d);if(v<fa){var p=Math.round(v/Qu);return a.formatDistance("xDays",p,d)}else if(v<$y)return f=Math.round(v/fa),a.formatDistance("aboutXMonths",f,d)}if(f=Ev(m,u),f<12){var g=Math.round(v/fa);return a.formatDistance("xMonths",g,d)}else{var c=f%12,y=Math.floor(f/12);return c<3?a.formatDistance("aboutXYears",y,d):c<9?a.formatDistance("overXYears",y,d):a.formatDistance("almostXYears",y+1,d)}}function Oy(e,t){return ce(1,arguments),Iy(e,Date.now(),t)}function Hu({scheduleId:e,userId:t,currentPoints:r=[],onPointsChange:n}){const[i,o]=N.useState(!1),[a,l]=N.useState(!1),[d,u]=N.useState(!1),[m,x]=N.useState(!1),[h,v]=N.useState(""),[f,w]=N.useState(""),[p,g]=N.useState(r||[]),c=jt(se.aiPrayerPoints.getByUser,t?{userId:t}:"skip")||[],y=He(se.savedPrayerPoints.save);He(se.savedPrayerPoints.remove);const b=async()=>{var P,z,C,j,$;if(!h.trim()){A.error("Please enter a prompt");return}o(!0);try{const _="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",B=`Generate 5-7 specific, meaningful prayer points based on: ${h}. Format the response as a numbered list (1. 2. 3. etc.) with each point on a new line. Make each point specific, actionable, and spiritually meaningful.`,Y=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:B}]}]})});if(!Y.ok)throw new Error("API error");const ee=(($=(j=(C=(z=(P=(await Y.json()).candidates)==null?void 0:P[0])==null?void 0:z.content)==null?void 0:C.parts)==null?void 0:j[0])==null?void 0:$.text)||"";let S=ee.split(`
`).map(L=>L.trim()).filter(L=>L&&(L.startsWith("-")||L.startsWith("")||L.match(/^\d+\./))).map(L=>L.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(L=>L.length>10).slice(0,7);S.length===0&&(S=ee.split(/\n+/).map(L=>L.trim()).filter(L=>L.length>20).slice(0,7));const D=[...p,...S];g(D),n(D),await y({userId:t,title:`Generated: ${h.substring(0,30)}...`,points:S,prayerScheduleId:e}),A.success(`${S.length} prayer points generated and added!`),l(!1),v("")}catch(_){console.error("Error generating prayer points:",_),A.error("Failed to generate prayer points")}finally{o(!1)}},E=()=>{if(f.trim()){const P=[...p,f.trim()];g(P),n(P),w(""),x(!1),A.success("Prayer point added!")}},T=P=>{const z=p.filter((C,j)=>j!==P);g(z),n(z),A.success("Prayer point removed")},M=P=>{const z=[...p,...P.points];g(z),n(z),u(!1),A.success(`${P.points.length} prayer points added!`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(de,{className:"w-5 h-5 text-indigo-400"}),"Prayer Points"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(de,{className:"w-3 h-3 inline mr-1"}),"Generate"]}),s.jsx("button",{onClick:()=>u(!0),className:"btn-secondary text-xs px-3 py-1",children:"Select"}),s.jsxs("button",{onClick:()=>x(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(Ds,{className:"w-3 h-3 inline mr-1"}),"Add"]})]})]}),p.length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:p.map((P,z)=>s.jsxs("div",{className:"flex items-start gap-2 glass-card p-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:z+1})}),s.jsx("p",{className:"text-white/90 flex-1 text-sm",children:P}),s.jsx("button",{onClick:()=>T(z),className:"p-1 rounded hover:bg-red-600/20 text-red-400 transition-colors",children:s.jsx(Mr,{className:"w-4 h-4"})})]},z))}):s.jsx("div",{className:"glass-card p-4 text-center",children:s.jsx("p",{className:"text-white/60 text-sm",children:"No prayer points added yet"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Generate Prayer Points"}),s.jsx("textarea",{value:h,onChange:P=>v(P.target.value),placeholder:"Describe what you want to pray about...",className:"input-glass w-full mb-4",rows:"4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:b,disabled:i,className:"btn-primary flex-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ao,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"w-4 h-4 inline mr-2"}),"Generate"]})}),s.jsx("button",{onClick:()=>{l(!1),v("")},className:"btn-secondary",children:"Cancel"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Select Saved Prayer Points"}),c.length===0?s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"No saved prayer points yet"}):s.jsx("div",{className:"space-y-2 mb-4",children:c.map(P=>s.jsxs("div",{className:"glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold text-sm",children:P.title||"Saved Prayer Points"}),s.jsxs("button",{onClick:()=>M(P),className:"btn-secondary text-xs px-2 py-1",children:[s.jsx(Ur,{className:"w-3 h-3 inline mr-1"}),"Select"]})]}),s.jsxs("p",{className:"text-white/60 text-xs",children:[P.points.length," points"]})]},P._id))}),s.jsx("button",{onClick:()=>u(!1),className:"btn-secondary w-full",children:"Close"})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Prayer Point"}),s.jsx("textarea",{value:f,onChange:P=>w(P.target.value),placeholder:"Enter your prayer point...",className:"input-glass w-full mb-4",rows:"3"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:E,className:"btn-primary flex-1",children:[s.jsx(Ds,{className:"w-4 h-4 inline mr-2"}),"Add Point"]}),s.jsx("button",{onClick:()=>{x(!1),w("")},className:"btn-secondary",children:"Cancel"})]})]})})]})}function mt({value:e,onChange:t,options:r,placeholder:n="Select an option...",className:i="",disabled:o=!1}){const[a,l]=N.useState(!1),d=N.useRef(null);N.useEffect(()=>{const m=x=>{d.current&&!d.current.contains(x.target)&&l(!1)};return a&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[a]);const u=r.find(m=>m.value===e);return s.jsxs("div",{className:`relative ${i}`,ref:d,children:[s.jsxs("button",{type:"button",onClick:()=>!o&&l(!a),disabled:o,className:`w-full input-glass text-left flex items-center justify-between ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("span",{className:`${u?"text-white":"text-white/50"}`,children:u?u.label:n}),s.jsx(Om,{className:`w-4 h-4 text-white/70 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-50 w-full mt-2 rounded-xl border border-white/30 shadow-2xl max-h-60 overflow-y-auto bg-gradient-to-br from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-xl",children:s.jsx("div",{className:"py-2",children:r.map(m=>s.jsxs("button",{type:"button",onClick:()=>{t(m.value),l(!1)},className:`w-full text-left px-4 py-3 text-sm md:text-base transition-colors flex items-center justify-between ${e===m.value?"bg-indigo-600/50 text-white":"text-white/90 hover:bg-white/20 hover:text-white"}`,children:[s.jsx("span",{children:m.label}),e===m.value&&s.jsx(Ur,{className:"w-4 h-4 text-indigo-300"})]},m.value))})})]})}function Ay(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-6 md:h-7 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-2/3"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-24"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-16"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-20"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-24"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg flex-1 md:flex-none w-20"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-28"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-10"})]})]})}function Ly({count:e=4}){return s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Array.from({length:e}).map((t,r)=>s.jsx(Ay,{},r))})}function Dy(){var H,ae;const{userId:e,schedules:t,isLoading:r,createSchedule:n,updateSchedule:i,deleteSchedule:o}=Tt(),{chants:a,tongueSongs:l}=_o(),d=jt(se.uploads.getByUser,e?{userId:e}:"skip"),u=d===void 0,m=(d||[]).filter(k=>!k.uploadType||k.uploadType==="chant"),x=(d||[]).filter(k=>k.uploadType==="tongue"),[h,v]=N.useState(!1),[f,w]=N.useState(null),[p,g]=N.useState(null),[c,y]=N.useState(1),[b,E]=N.useState({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),[T,M]=N.useState(!1),P=async k=>{k.preventDefault();try{f?(await i({id:f._id,...b}),A.success("Schedule updated!")):(await n({userId:e,...b}),A.success("Schedule created!")),v(!1),w(null),y(1),E({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""})}catch(U){A.error("Failed to save schedule"),console.error(U)}},z=async()=>{var k,U,I,O,te;if(!b.title){A.error("Please enter a title first");return}M(!0);try{const ye="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",Et=`Suggest a relevant Bible scripture (Book Chapter:Verse - Quote) for a prayer schedule titled "${b.title}"${b.description?` with description: "${b.description}"`:""}. Return ONLY the scripture reference and quote in this format: "Book Chapter:Verse - Quote". Example: "Jeremiah 29:11 - For I know the plans I have for you..."`,Ft=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ye}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Et}]}]})});if(!Ft.ok)throw new Error("API error");const $e=((te=(O=(I=(U=(k=(await Ft.json()).candidates)==null?void 0:k[0])==null?void 0:U.content)==null?void 0:I.parts)==null?void 0:O[0])==null?void 0:te.text)||"";$e?(E(Me=>({...Me,scripture:$e.trim()})),A.success("Scripture suggested!")):A.error("Could not generate scripture")}catch(ye){console.error("Error generating scripture:",ye),A.error("Failed to generate scripture")}finally{M(!1)}},C=k=>{w(k),y(1),E({title:k.title,description:k.description||"",scripture:k.scripture||"",scheduledTime:k.scheduledTime,recurring:k.recurring,frequency:k.frequency||"daily",prayerPoints:k.prayerPoints||[],selectedMusicId:k.selectedMusicId||"",tonguesMode:k.tonguesMode||"none",selectedTongueSongId:k.selectedTongueSongId||""}),v(!0)},j=4,$=b.title&&b.scheduledTime,_=()=>{c===1&&$?y(2):c===2?y(3):c===3&&y(4)},B=()=>{c>1&&y(c-1)},Y=async(k,U)=>{try{await i({id:k,prayerPoints:U})}catch(I){console.error("Error updating prayer points:",I)}},X=async(k,U)=>{try{await i({id:k,tonguesMode:U,...U==="none"&&{selectedTongueSongId:""}}),A.success("Tongues mode updated!")}catch(I){A.error("Failed to update tongues mode"),console.error(I)}},ee=async(k,U)=>{try{await i({id:k,selectedTongueSongId:U}),A.success("Tongue song updated!")}catch(I){A.error("Failed to update tongue song"),console.error(I)}},S=async(k,U)=>{try{await i({id:k,selectedMusicId:U}),A.success("Music updated!")}catch(I){console.error("Error updating music:",I),A.error("Failed to update music")}},D=async k=>{if(confirm("Are you sure you want to delete this schedule?"))try{await o({id:k}),A.success("Schedule deleted!")}catch{A.error("Failed to delete schedule")}},L=t.filter(k=>!k.isCompleted&&new Date(k.scheduledTime)>new Date),W=t.filter(k=>k.isCompleted||new Date(k.scheduledTime)<=new Date);return s.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-white font-serif tracking-tight",children:"Prayer Schedules"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base mt-1 font-light",children:"Manage your prayer sessions and divine appointments"})]}),s.jsxs("button",{onClick:()=>{w(null),E({title:"",description:"",scripture:"",scheduledTime:new Date().toISOString().slice(0,16),recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),y(1),v(!0)},className:"group relative overflow-hidden px-6 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"New Schedule"]}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[s.jsx(kt,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700]"}),"Upcoming Schedules"]}),r||u?s.jsx(Ly,{count:4}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:L.length===0?s.jsxs("div",{className:"glass-card col-span-full text-center py-16 md:py-20 border border-white/10 bg-[#1a103c]/30 rounded-3xl",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-[#ffd700]/5 flex items-center justify-center mx-auto mb-6 border border-[#ffd700]/10",children:s.jsx(kt,{className:"w-10 h-10 text-[#ffd700]/40"})}),s.jsx("p",{className:"text-white/80 text-lg md:text-xl font-medium mb-2",children:"No upcoming schedules"}),s.jsx("p",{className:"text-white/50 text-sm",children:"Create your first schedule to get started"})]}):L.map(k=>s.jsxs("div",{className:"group relative overflow-hidden p-6 rounded-3xl bg-[#1a103c]/40 backdrop-blur-md border border-white/10 hover:border-[#ffd700]/30 transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[s.jsxs("div",{className:"mb-6 relative z-10",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight font-serif group-hover:text-[#ffd700] transition-colors",children:k.title}),k.description&&s.jsx("p",{className:"text-white/60 text-sm md:text-base mb-4 line-clamp-2 font-light",children:k.description})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[s.jsx(kt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),s.jsx("span",{className:"truncate font-medium",children:gn(new Date(k.scheduledTime),"MMM d, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[s.jsx(wr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:gn(new Date(k.scheduledTime),"h:mm a")})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[k.recurring&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs md:text-sm font-medium",children:k.frequency}),k.scripture&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs md:text-sm",children:[s.jsx(pt,{className:"w-3 h-3"}),"Scripture"]}),k.prayerPoints&&k.prayerPoints.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs md:text-sm",children:[s.jsx(de,{className:"w-3 h-3"}),k.prayerPoints.length," Point",k.prayerPoints.length!==1?"s":""]}),k.selectedMusicId&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-xs md:text-sm",children:[s.jsx(ke,{className:"w-3 h-3"}),"Music"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 relative z-10",children:[s.jsxs("button",{onClick:()=>C(k),className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(ov,{className:"w-4 h-4"}),"Edit"]}),s.jsx("button",{onClick:()=>{p===k._id?g(null):g(k._id)},className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium",children:p===k._id?"Hide Details":"View Details"}),s.jsx("button",{onClick:()=>D(k._id),className:"px-4 py-2.5 rounded-xl border border-red-500/20 bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:border-red-500/40 transition-all text-sm font-medium flex items-center justify-center",title:"Delete Schedule",children:s.jsx(qr,{className:"w-4 h-4"})})]}),p===k._id&&s.jsxs("div",{className:"border-t border-white/10 pt-5 mt-5 space-y-6 relative z-10 animate-fade-in",children:[k.scripture&&s.jsxs("div",{className:"p-4 rounded-xl border border-[#ffd700]/20 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pt,{className:"w-4 h-4 text-[#ffd700]"}),s.jsx("h5",{className:"text-[#ffd700] font-semibold text-sm uppercase tracking-wider",children:"Scripture Passage"})]}),s.jsxs("p",{className:"text-white/90 text-sm italic font-serif leading-relaxed",children:['"',k.scripture,'"']})]}),s.jsx(Hu,{scheduleId:k._id,userId:e,currentPoints:k.prayerPoints||[],onPointsChange:U=>Y(k._id,U)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:a.map(U=>s.jsx("button",{onClick:()=>S(k._id,U.id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedMusicId===U.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedMusicId===U.id?"text-[#ffd700]":"text-white"}`,children:U.name})},U.id))}),m.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.map(U=>s.jsx("button",{onClick:()=>S(k._id,U._id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedMusicId===U._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedMusicId===U._id?"text-[#ffd700]":"text-white"}`,children:U.fileName.replace(/\.[^/.]+$/,"")})},U._id))})]}),s.jsx("button",{onClick:()=>S(k._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Music"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx(de,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongues Mode"}),s.jsx(mt,{value:k.tonguesMode||"none",onChange:U=>X(k._id,U),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(k.tonguesMode==="start"||k.tonguesMode==="perPoint")&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongue Song"}),l.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:l.map(U=>s.jsx("button",{onClick:()=>ee(k._id,U.id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedTongueSongId===U.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedTongueSongId===U.id?"text-[#ffd700]":"text-white"}`,children:U.name})},U.id))}),x.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:x.map(U=>s.jsx("button",{onClick:()=>ee(k._id,U._id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedTongueSongId===U._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedTongueSongId===U._id?"text-[#ffd700]":"text-white"}`,children:U.fileName.replace(/\.[^/.]+$/,"")})},U._id))})]}),s.jsx("button",{onClick:()=>ee(k._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Tongue Song"})]})]})]})]},k._id))})]}),W.length>0&&s.jsxs("div",{className:"w-full pt-8 border-t border-white/10",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white/60 mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[s.jsx(pt,{className:"w-5 h-5 md:w-6 md:h-6"}),"Past Schedules"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:W.map(k=>s.jsxs("div",{className:"p-5 md:p-6 rounded-2xl bg-white/5 border border-white/5 opacity-60 hover:opacity-100 transition-all duration-300",children:[s.jsx("h4",{className:"text-lg md:text-xl font-semibold text-white mb-3 font-serif",children:k.title}),s.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm md:text-base mb-3",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsx("span",{children:gn(new Date(k.scheduledTime),"MMM d, yyyy h:mm a")})]}),k.isCompleted&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-500/20 border border-green-500/30 text-green-300 text-xs md:text-sm font-medium",children:"Completed"})]},k._id))})]}),h&&s.jsx("div",{className:"fixed inset-0 bg-[#1a103c]/95 md:bg-[#1a103c]/80 backdrop-blur-md z-[200] flex items-stretch md:items-center justify-center p-0 md:p-4 overflow-y-auto animate-fade-in",children:s.jsx("div",{className:"glass-card w-full md:max-w-2xl rounded-none md:rounded-3xl h-full md:h-auto md:max-h-[85vh] overflow-y-auto border-0 md:border border-white/10 shadow-2xl bg-[#2d1b4e] flex flex-col",children:s.jsxs("div",{className:"p-5 md:p-8 pb-20 md:pb-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-3 px-2 md:px-0",children:[1,2,3,4].map(k=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-500 ${k<c?"bg-[#ffd700] text-[#1a103c] shadow-[0_0_10px_rgba(255,215,0,0.5)]":k===c?"bg-[#ffd700]/20 text-[#ffd700] border-2 border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":"bg-white/5 text-white/30 border border-white/10"}`,children:k<c?s.jsx(Ur,{className:"w-4 h-4 md:w-5 md:h-5"}):k}),s.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium uppercase tracking-wider transition-colors duration-300 ${k<=c?"text-[#ffd700]":"text-white/30"}`,children:k===1?"Basic":k===2?"Time":k===3?"Music":"Review"})]}),k<j&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-500 ${k<c?"bg-[#ffd700]":"bg-white/10"}`})]},k))})}),s.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white font-serif",children:f?"Edit Schedule":"New Schedule"}),s.jsx("button",{onClick:()=>{v(!1),w(null),y(1)},className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white/50 hover:text-white",children:s.jsx("span",{className:"text-2xl leading-none",children:""})})]}),s.jsxs("form",{onSubmit:P,children:[c===1&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Title *"}),s.jsx("input",{type:"text",value:b.title,onChange:k=>E({...b,title:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",placeholder:"Enter schedule title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Description"}),s.jsx("textarea",{value:b.description,onChange:k=>E({...b,description:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none",rows:"3",placeholder:"Add a description for this prayer schedule"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-[#ffd700]"}),"Scripture Passage"]}),s.jsxs("button",{type:"button",onClick:z,disabled:T||!b.title,className:"text-xs flex items-center gap-1 text-[#ffd700] hover:text-[#ffd700]/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[T?s.jsx(ao,{className:"w-3 h-3 animate-spin"}):s.jsx(de,{className:"w-3 h-3"}),T?"Suggesting...":"Suggest Scripture"]})]}),s.jsx("textarea",{value:b.scripture,onChange:k=>E({...b,scripture:k.target.value}),placeholder:"E.g., John 3:16 - For God so loved the world...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none font-serif italic",rows:"3"}),s.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Add a scripture passage that will be used when generating prayer points"})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{v(!1),w(null),y(1)},className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:_,disabled:!b.title,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(kn,{className:"w-5 h-5"})]})]})]}),c===2&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Scheduled Time *"}),s.jsx("input",{type:"datetime-local",value:b.scheduledTime,onChange:k=>E({...b,scheduledTime:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>E({...b,recurring:!b.recurring}),children:[s.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center transition-all ${b.recurring?"bg-[#ffd700] border-[#ffd700]":"border-white/30"}`,children:b.recurring&&s.jsx(Ur,{className:"w-4 h-4 text-[#1a103c]"})}),s.jsx("label",{className:"text-white/90 text-base cursor-pointer select-none",children:"Make this schedule recurring"})]}),b.recurring&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Frequency"}),s.jsx(mt,{value:b.frequency,onChange:k=>E({...b,frequency:k}),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],placeholder:"Select frequency"})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:B,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:_,disabled:!b.scheduledTime,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(kn,{className:"w-5 h-5"})]})]})]}),c===3&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),s.jsx(mt,{value:b.selectedMusicId||"",onChange:k=>E({...b,selectedMusicId:k}),options:[{value:"",label:"None"},...a.map(k=>({value:k.id,label:k.name})),...m.map(k=>({value:k._id,label:k.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select background music"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(de,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),s.jsx(mt,{value:b.tonguesMode||"none",onChange:k=>E({...b,tonguesMode:k,selectedTongueSongId:k==="none"?"":b.selectedTongueSongId}),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(b.tonguesMode==="start"||b.tonguesMode==="perPoint")&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Tongue Song"}),s.jsx(mt,{value:b.selectedTongueSongId||"",onChange:k=>E({...b,selectedTongueSongId:k}),options:[{value:"",label:"None"},...l.map(k=>({value:k.id,label:k.name})),...x.map(k=>({value:k._id,label:k.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select tongue song"})]}),f&&s.jsx("div",{className:"border-t border-white/10 pt-5 mt-5",children:s.jsx(Hu,{scheduleId:f._id,userId:e,currentPoints:b.prayerPoints||[],onPointsChange:k=>E({...b,prayerPoints:k})})}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:B,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:_,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:["Next",s.jsx(kn,{className:"w-5 h-5"})]})]})]}),c===4&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[s.jsx("h4",{className:"text-lg font-bold text-white mb-4 font-serif",children:"Review Your Schedule"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Title"}),s.jsx("p",{className:"text-white font-medium text-lg",children:b.title})]}),b.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Description"}),s.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:b.description})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scheduled Time"}),s.jsxs("p",{className:"text-white font-medium text-base flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4 text-[#ffd700]"}),b.scheduledTime&&gn(new Date(b.scheduledTime),"MMM d, yyyy h:mm a")]})]}),b.recurring&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Frequency"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs font-bold uppercase tracking-wider",children:b.frequency})]}),b.scripture&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scripture"}),s.jsxs("p",{className:"text-white/90 text-sm italic font-serif border-l-2 border-[#ffd700]/50 pl-3 py-1",children:['"',b.scripture,'"']})]}),b.selectedMusicId&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Music"}),s.jsx("p",{className:"text-white font-medium text-base",children:((H=a.find(k=>k.id===b.selectedMusicId))==null?void 0:H.name)||((ae=m.find(k=>k._id===b.selectedMusicId))==null?void 0:ae.fileName.replace(/\.[^/.]+$/,""))||"Selected"})]}),b.tonguesMode!=="none"&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Tongues Mode:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:b.tonguesMode==="start"?"Start with Tongues":"Per Prayer Point"})]})]})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:B,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"submit",className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5"}),f?"Update Schedule":"Create Schedule"]})]})]})]})]})})})]})}function Fy(){return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0 animate-pulse",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 md:h-9 bg-white/10 rounded-lg w-48"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-64"})]})}),s.jsx("div",{className:"glass-strong p-6 md:p-8 lg:p-10 rounded-2xl md:rounded-3xl border border-white/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-40"})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 md:mb-8",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-white/10"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 md:h-16 lg:h-20 bg-white/10 rounded-lg w-24 md:w-32"}),s.jsx("div",{className:"h-5 bg-white/5 rounded-lg w-32"})]})]}),s.jsxs("div",{className:"max-w-md mx-auto space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-32"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-16"})]}),s.jsx("div",{className:"h-3 bg-white/10 rounded-full"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Array.from({length:3}).map((e,t)=>s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-white/10"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-24"}),s.jsx("div",{className:"h-8 bg-white/10 rounded w-16"})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("div",{className:"h-3 bg-white/5 rounded w-32"})})]},t))}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded w-32"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-4/6"})]})]})]})}function zy(){const{streak:e,isLoading:t}=Tt();if(t||!e)return s.jsx(Fy,{});const r=e.longestStreak>0?Math.round(e.currentStreak/e.longestStreak*100):0,i=(a=>a===0?{level:"Beginner",color:"from-indigo-400 to-indigo-600",icon:lv}:a<7?{level:"Rising",color:"from-indigo-500 to-purple-500",icon:Fm}:a<30?{level:"Dedicated",color:"from-purple-500 to-pink-500",icon:Gx}:a<100?{level:"Devoted",color:"from-amber-500 to-orange-600",icon:gi}:{level:"Master",color:"from-amber-400 to-amber-600",icon:gs})(e.currentStreak),o=e.currentStreak===e.longestStreak&&e.currentStreak>0;return s.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(gs,{className:"w-8 h-8 text-amber-400"}),"Prayer Streak"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your consistent prayer journey"})]})}),s.jsxs("div",{className:"glass-card p-8 md:p-10 rounded-3xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/10 via-purple-400/10 to-indigo-400/10 animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-6 py-2 rounded-full bg-gradient-to-r ${i.color} border border-white/20 shadow-lg shadow-amber-500/10`,children:[s.jsx(i.icon,{className:"w-5 h-5 text-white"}),s.jsxs("span",{className:"text-white font-bold text-sm tracking-wide uppercase",children:[i.level," Prayer Warrior"]})]})}),s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-br ${i.color} flex items-center justify-center shadow-2xl shadow-amber-500/20 relative overflow-hidden ring-4 ring-white/10`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),s.jsx(gs,{className:`w-12 h-12 md:w-16 md:h-16 text-white relative z-10 ${e.currentStreak>0?"animate-pulse":""}`}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/50 to-yellow-400/50 animate-pulse"})]}),e.currentStreak>0&&s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full animate-ping opacity-75"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:`text-6xl md:text-7xl lg:text-8xl font-bold bg-gradient-to-r ${i.color} bg-clip-text text-transparent mb-1 drop-shadow-lg font-serif`,children:e.currentStreak}),s.jsx("p",{className:"text-indigo-200 text-lg md:text-xl font-medium uppercase tracking-widest",children:"Day Streak"})]})]}),o&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-amber-500/10 border border-amber-400/30 mb-4 animate-pulse",children:[s.jsx(gi,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{className:"text-amber-300 text-sm font-bold tracking-wide",children:"NEW PERSONAL BEST! "})]})]}),e.longestStreak>0&&s.jsxs("div",{className:"max-w-lg mx-auto bg-indigo-950/30 p-6 rounded-2xl border border-white/5 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-indigo-200/70 text-sm font-medium uppercase tracking-wider",children:"Progress to Record"}),s.jsxs("span",{className:"text-white font-bold text-sm",children:[r,"%  ",e.currentStreak," / ",e.longestStreak]})]}),s.jsx("div",{className:"relative w-full h-3 bg-indigo-950/50 rounded-full overflow-hidden border border-white/5",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${i.color} rounded-full transition-all duration-1000 ease-out relative`,style:{width:`${r}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(gi,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Longest Streak"}),s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.longestStreak})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:"Your all-time record"})})]}),s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-purple-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(uv,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Total Prayers"}),s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.totalPrayers})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:"All-time sessions completed"})})]}),s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition-all duration-300 hover:-translate-y-1 group sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(kt,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Last Prayer"}),s.jsx("div",{className:"text-xl md:text-2xl font-bold text-white font-serif truncate",children:e.lastPrayerDate?new Date(e.lastPrayerDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never"})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:e.lastPrayerDate?"Last session completed":"Start your journey today"})})]})]}),s.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s.jsx(de,{className:"w-6 h-6 text-amber-400"}),s.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Keep Going!"})]}),e.currentStreak===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:"Start your prayer journey today! Complete your first prayer session to begin your streak and build a powerful habit of consistent prayer."}),s.jsxs("div",{className:"p-4 rounded-xl bg-indigo-500/10 border border-indigo-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-indigo-200 text-sm font-medium pt-0.5",children:"Tip: Set a daily reminder to help maintain your streak!"})]})]}),e.currentStreak>0&&e.currentStreak<7&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Great start! You're on a ",s.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak,"-day streak"]}),". Keep it up to build a strong habit! Every day counts."]}),s.jsxs("div",{className:"p-4 rounded-xl bg-purple-500/10 border border-purple-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-purple-200 text-sm font-medium pt-0.5",children:"You're building momentum! Consistency is key to spiritual growth."})]})]}),e.currentStreak>=7&&e.currentStreak<30&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Excellent! You've maintained your prayer habit for ",s.jsxs("span",{className:"font-bold text-purple-300",children:[e.currentStreak," days"]}),". You're building a strong foundation for your spiritual journey!"]}),s.jsxs("div",{className:"p-4 rounded-xl bg-pink-500/10 border border-pink-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-pink-200 text-sm font-medium pt-0.5",children:"You're developing a powerful prayer discipline. Keep going!"})]})]}),e.currentStreak>=30&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Amazing dedication! ",s.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak," days"]})," of consistent prayer is truly inspiring. You're demonstrating incredible commitment to your spiritual growth!"]}),s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-amber-200 text-sm font-medium pt-0.5",children:"You're a prayer warrior! Your consistency is transforming your spiritual life."})]})]}),o&&s.jsx("div",{className:"mt-6 p-5 rounded-xl bg-gradient-to-r from-amber-500/10 via-orange-500/10 to-red-500/10 border border-amber-400/30 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gi,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),s.jsx("p",{className:"text-amber-200 font-bold text-base",children:"You're at your personal best! Keep pushing forward and break new records!"})]})})]})]})]})}function Uy(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-lg w-32"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-40"})]}),s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"})]})]})}function qy({count:e=5}){return s.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Uy,{},r))})}function Vy({isOpen:e,onClose:t,onConfirm:r,entryDate:n}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-red-600 to-orange-600 flex items-center justify-center",children:s.jsx(fd,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Delete History Entry"})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:s.jsx(Mr,{className:"w-5 h-5 text-white/70"})})]}),s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("p",{className:"text-white/80 text-sm md:text-base leading-relaxed mb-3",children:"Are you sure you want to delete this prayer history entry?"}),n&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-indigo-500/10 border border-indigo-400/20",children:s.jsx("p",{className:"text-indigo-300 text-sm md:text-base font-medium",children:n})}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-3",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsx("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:"Delete Entry"})]})]})}):null}function By(){const{history:e,deleteHistory:t,isLoading:r}=Tt(),[n,i]=N.useState(null),[o,a]=N.useState(!1),[l,d]=N.useState(null),u=p=>{d(p),a(!0)},m=async()=>{if(l){i(l._id);try{await t({id:l._id}),A.success("History entry deleted"),a(!1),d(null)}catch(p){console.error("Error deleting history:",p),A.error("Failed to delete history entry")}finally{i(null)}}},x=()=>{n||(a(!1),d(null))};if(r)return s.jsxs("div",{className:"space-y-6 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-48 animate-pulse"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]})}),s.jsx(qy,{count:5})]});if(!e||e.length===0)return s.jsxs("div",{className:"space-y-6 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(pt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-card p-16 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(pt,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-lg font-medium mb-2",children:"No prayer history yet"}),s.jsx("p",{className:"text-indigo-200/40 text-base",children:"Complete your first prayer session to see it here"})]})]});const h=e.length,v=Math.round(e.reduce((p,g)=>p+g.duration,0)/e.length),f=e.reduce((p,g)=>p+g.duration,0),w=e.filter(p=>p.prayerPoints&&p.prayerPoints.length>0).length;return s.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(pt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Fm,{className:"w-6 h-6 text-amber-400"}),s.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Your Prayer Journey"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 to-amber-600 bg-clip-text text-transparent mb-2 font-serif",children:h}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Sessions"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2 font-serif",children:v}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Avg Duration (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent mb-2 font-serif",children:f}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Time (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent mb-2 font-serif",children:w}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"With Prayer Points"})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:e.map(p=>s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-5",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(kt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1 font-serif",children:gn(new Date(p.completedAt),"MMM d, yyyy")}),s.jsx("p",{className:"text-indigo-200/60 text-sm",children:Oy(new Date(p.completedAt),{addSuffix:!0})})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-500/10 border border-indigo-400/20",children:[s.jsx(wr,{className:"w-4 h-4 text-indigo-300"}),s.jsxs("span",{className:"text-indigo-200 font-bold text-sm",children:[p.duration," min"]})]}),s.jsx("button",{onClick:()=>u(p),disabled:n===p._id,className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed opacity-0 group-hover:opacity-100",title:"Delete entry",children:n===p._id?s.jsx("div",{className:"w-5 h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):s.jsx(qr,{className:"w-5 h-5"})})]})]}),p.prayerPoints&&p.prayerPoints.length>0&&s.jsxs("div",{className:"mb-5 p-5 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-400/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(de,{className:"w-5 h-5 text-purple-400"}),s.jsxs("h4",{className:"text-white font-bold text-base",children:["Prayer Points (",p.prayerPoints.length,")"]})]}),s.jsx("ul",{className:"space-y-3",children:p.prayerPoints.map((g,c)=>s.jsxs("li",{className:"text-indigo-100 text-base flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:s.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:c+1})}),s.jsx("span",{className:"flex-1 leading-relaxed",children:g})]},c))})]}),p.notes&&s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ev,{className:"w-4 h-4 text-indigo-400"}),s.jsx("h4",{className:"text-indigo-200 font-bold text-sm uppercase tracking-wider",children:"Notes"})]}),s.jsx("p",{className:"text-indigo-100 text-base whitespace-pre-wrap leading-relaxed",children:p.notes})]}),p.prayerScheduleId&&s.jsx("div",{className:"mt-4 pt-4 border-t border-white/5",children:s.jsxs("p",{className:"text-indigo-200/40 text-sm",children:[s.jsx("span",{className:"text-indigo-200/60",children:"From schedule:"})," ",p.prayerScheduleId]})})]})]},p._id))}),s.jsx(Vy,{isOpen:o,onClose:x,onConfirm:m,entryDate:l?gn(new Date(l.completedAt),"MMM d, yyyy"):null})]})}function Wy(){return s.jsxs("li",{className:"flex items-start gap-3 md:gap-4 animate-pulse",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500/30 to-purple-500/30 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-4/6"})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"})]})]})}function Qy({count:e=5}){return s.jsx("ul",{className:"space-y-3 md:space-y-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Wy,{},r))})}function Hy(){return s.jsxs("div",{className:"glass p-3 md:p-4 rounded-xl animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"h-5 bg-white/10 rounded-lg w-32"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20 mb-3"}),s.jsx("div",{className:"h-9 bg-white/10 rounded-lg w-24"})]})}function Yy({count:e=3}){return s.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,r)=>s.jsx(Hy,{},r))})}function Ky(){const{userId:e,schedules:t,updateSchedule:r,settings:n}=Tt(),[i,o]=N.useState("ai"),[a,l]=N.useState(!1),[d,u]=N.useState([]),[m,x]=N.useState(null),[h,v]=N.useState(""),[f,w]=N.useState(""),[p,g]=N.useState(""),[c,y]=N.useState(5),[b,E]=N.useState([""]),[T,M]=N.useState({isValid:!0,message:"",parsed:null}),P=t.find(I=>I._id===f),z=He(se.savedPrayerPoints.save),C=jt(se.savedPrayerPoints.getByUser,e?{userId:e}:"skip"),j=C===void 0,$=He(se.savedPrayerPoints.remove),_=I=>{if(!I||!I.trim())return{isValid:!0,message:"",parsed:null};const O=I.trim(),te=/^([1-3]?\s?[A-Za-z]+)\s+(\d+):(\d+)(?:-(\d+))?(?:\s*[-]\s*(.+))?$/i,ye=O.match(te);if(ye){const[,Et,Ft,er,$e,Me]=ye,Se={book:Et.trim(),chapter:parseInt(Ft),startVerse:parseInt(er),endVerse:parseInt($e||er),quote:Me?Me.trim():null,full:O};return Se.endVerse<Se.startVerse?{isValid:!1,message:"End verse cannot be less than start verse",parsed:null}:{isValid:!0,message:` ${Se.book} ${Se.chapter}:${Se.startVerse}${Se.endVerse>Se.startVerse?`-${Se.endVerse}`:""}`,parsed:Se}}return O.length>20&&!O.match(/\d+:\d+/)?{isValid:!0,message:" Scripture quote (no reference)",parsed:{quote:O,full:O}}:O.match(/[A-Za-z]+\s+\d+:/)?{isValid:!0,message:" Scripture reference detected",parsed:{full:O}}:{isValid:!0,message:" Custom scripture passage",parsed:{full:O}}};$m(),N.useEffect(()=>{P!=null&&P.scripture?(g(P.scripture),M(_(P.scripture))):(g(""),M({isValid:!0,message:"",parsed:null}))},[f,P]);const B=I=>{g(I),M(_(I))};N.useEffect(()=>{P!=null&&P.prayerPoints&&P.prayerPoints.length>0&&(u(P.prayerPoints),E(P.prayerPoints))},[f,P]);const Y=async()=>{var te,ye,Et,Ft,er,$e;if(!f){A.error("Please select a prayer schedule");return}if(!P){A.error("Selected schedule not found");return}const I=typeof c=="number"?c:parseInt(c)||5,O=Math.max(1,Math.min(20,I));if(O<1||O>20){A.error("Number of points must be between 1 and 20");return}l(!0),u([]);try{const Me="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ";let Se=`Generate exactly ${O} specific, meaningful prayer points for the prayer schedule: "${P.title}".`;P.description&&(Se+=`
Description: ${P.description}`);const Ze=p.trim()||P.scripture||"";Ze&&(Se+=`
Scripture Passage: ${Ze}`),Se+=`

Format the response as a numbered list (1. 2. 3. etc.) with exactly ${O} prayer points, each on a new line. Make each point specific, actionable, and spiritually meaningful. Use the scripture passage as the foundation for the prayer points if provided.`;const lt=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Me}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Se}]}]})});if(!lt.ok){const Q=await lt.json().catch(()=>({}));throw new Error(((te=Q.error)==null?void 0:te.message)||`API error: ${lt.status}`)}const be=(($e=(er=(Ft=(Et=(ye=(await lt.json()).candidates)==null?void 0:ye[0])==null?void 0:Et.content)==null?void 0:Ft.parts)==null?void 0:er[0])==null?void 0:$e.text)||"";if(!be)throw new Error("No response from AI");let Ie=be.split(`
`).map(Q=>Q.trim()).filter(Q=>Q&&(Q.startsWith("-")||Q.startsWith("")||Q.match(/^\d+\./)||Q.match(/^[1-9]\./))).map(Q=>Q.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(Q=>Q.length>10&&Q.length<300).slice(0,O);if(Ie.length===0&&(Ie=be.split(/\n+/).map(Q=>Q.trim()).filter(Q=>Q.length>20&&Q.length<300).slice(0,O)),Ie.length===0&&(Ie=be.split(/[.!?]+/).map(Q=>Q.trim()).filter(Q=>Q.length>20&&Q.length<300).slice(0,O)),Ie.length===0)Ie=Array.from({length:O},(Q,Qs)=>`Prayer point ${Qs+1}: Pray for guidance and wisdom in this situation`);else{for(;Ie.length<O;)Ie.push("Pray for God's will to be done");Ie=Ie.slice(0,O)}if(u(Ie),(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{await r({id:f,prayerPoints:Ie,scripture:p.trim()||void 0}),A.success(`${O} Prayer points generated and saved!`)}catch(Q){console.error("Error saving to schedule:",Q),A.error("Prayer points generated but failed to save to schedule")}else A.success(`${O} Prayer points generated! (Auto-save disabled)`);try{await z({userId:e,title:`Generated: ${P.title}`,points:Ie})}catch(Q){console.error("Error saving points to library:",Q)}}catch(Me){console.error("Error generating prayer points:",Me),A.error(`Failed to generate prayer points: ${Me.message||"Please try again"}`);const Se=typeof c=="number"?c:parseInt(c)||5,Ze=Math.max(1,Math.min(20,Se));u(Array.from({length:Ze},(lt,Xr)=>`Prayer point ${Xr+1}: Pray for guidance and wisdom`))}finally{l(!1)}},X=async()=>{const I=i==="ai"?d:b.filter(O=>O.trim());if(I.length===0){A.error("No prayer points to save");return}if(!f){A.error("Please select a prayer schedule");return}try{await r({id:f,prayerPoints:I,scripture:p.trim()||void 0}),A.success("Prayer points saved to schedule!")}catch(O){console.error("Error saving to schedule:",O),A.error("Failed to save prayer points")}},ee=I=>{const O=i==="ai"?d:b;x(I),v(O[I]||"")},S=async I=>{if(!h.trim()){A.error("Prayer point cannot be empty");return}let O;if(i==="ai"?(O=[...d],O[I]=h.trim(),u(O)):(O=[...b],O[I]=h.trim(),E(O)),x(null),v(""),A.success("Prayer point updated!"),f&&O.length>0&&(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{const te=i==="ai"?O:O.filter(ye=>ye.trim());await r({id:f,prayerPoints:te,scripture:p.trim()||void 0})}catch(te){console.error("Error auto-saving to schedule:",te)}},D=()=>{x(null),v("")},L=I=>{if(i==="ai"){const O=d.filter((te,ye)=>ye!==I);u(O)}else{const O=b.filter((te,ye)=>ye!==I);E(O)}A.success("Prayer point deleted!")},W=()=>{E([...b,""])},H=(I,O)=>{const te=[...b];te[I]=O,E(te)},ae=I=>{if(b.length>1){const O=b.filter((te,ye)=>ye!==I);E(O)}else A.error("At least one prayer point is required")},k=i==="ai"?d:b.filter(I=>I.trim()),U=k.length>0;return s.jsxs("div",{className:"space-y-6 md:space-y-8 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight",children:"Prayer Points"}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Generate spiritual prayer points for your schedules"})]})}),s.jsxs("div",{className:"flex p-1 bg-indigo-950/40 backdrop-blur-md rounded-xl border border-white/5 w-full md:w-auto self-start",children:[s.jsxs("button",{onClick:()=>o("ai"),className:`flex-1 md:flex-none px-3 md:px-6 py-2 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 ${i==="ai"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[s.jsx(de,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${i==="ai"?"text-amber-300":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"AI Generate"}),s.jsx("span",{className:"sm:hidden",children:"AI"})]}),s.jsxs("button",{onClick:()=>o("manual"),className:`flex-1 md:flex-none px-3 md:px-6 py-2 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 ${i==="manual"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[s.jsx(ua,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${i==="manual"?"text-amber-300":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"Manual Create"}),s.jsx("span",{className:"sm:hidden",children:"Manual"})]})]}),s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),s.jsxs("div",{className:"space-y-6 relative z-10",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-2 uppercase tracking-wider",children:["Select Prayer Schedule ",s.jsx("span",{className:"text-amber-400",children:"*"})]}),s.jsx(mt,{value:f,onChange:w,options:[{value:"",label:"Choose a schedule..."},...t.filter(I=>!I.isCompleted).map(I=>({value:I._id,label:`${I.title} - ${new Date(I.scheduledTime).toLocaleDateString()}`}))],placeholder:"Choose a schedule..."}),P&&s.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-indigo-950/50 border border-indigo-500/20 flex items-start gap-3",children:[s.jsx("div",{className:"w-1 h-full min-h-[2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base",children:P.title}),P.description&&s.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-1",children:P.description})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-3 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(pt,{className:"w-4 h-4 text-amber-400"}),"Scripture Passage"]}),s.jsxs("div",{className:"relative group",children:[s.jsx("textarea",{value:p,onChange:I=>B(I.target.value),placeholder:`E.g., John 3:16 - For God so loved the world...
Or: John 3:4-16
Or: Psalm 23:1-6`,className:`w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none ${T.isValid&&T.message?"border-emerald-500/30 focus:border-emerald-500/50":""}`,rows:"3"}),p&&s.jsx("div",{className:"absolute top-3 right-3",children:T.isValid?s.jsx(Sn,{className:"w-5 h-5 text-emerald-400"}):s.jsx(jn,{className:"w-5 h-5 text-amber-400"})})]}),p&&s.jsx("div",{className:`mt-3 p-3 rounded-lg border transition-all ${T.isValid?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[T.isValid?s.jsx(Sn,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}):s.jsx(jn,{className:"w-4 h-4 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${T.isValid?"text-emerald-300":"text-amber-300"}`,children:T.message||"Enter a scripture reference or passage"}),T.parsed&&T.parsed.book&&s.jsxs("div",{className:"mt-2 space-y-1 pl-1 border-l-2 border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Book:"}),s.jsx("span",{children:T.parsed.book})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Chapter:"}),s.jsx("span",{children:T.parsed.chapter})]}),T.parsed.startVerse&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Verse:"}),s.jsxs("span",{children:[T.parsed.startVerse,T.parsed.endVerse>T.parsed.startVerse?` - ${T.parsed.endVerse}`:""]})]}),T.parsed.quote&&s.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:s.jsxs("p",{className:"text-xs text-indigo-200/80 italic font-serif",children:['"',T.parsed.quote,'"']})})]})]})]})}),s.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-500/5 border border-indigo-500/10",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(rv,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-indigo-200 text-[10px] md:text-xs font-medium mb-2",children:"Supported Formats:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:16"})," - Single verse"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:4-16"})," - Verse range"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"With Quote"}),' - "For God so loved..."']})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Custom"})," - Any text"]})]})]})]})]})})]}),i==="ai"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-indigo-200 text-sm font-medium mb-3 uppercase tracking-wider",children:"Number of Prayer Points"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{const I=typeof c=="number"?c:parseInt(c)||5;y(Math.max(1,I-1))},disabled:(typeof c=="number"?c:parseInt(c)||5)<=1,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Decrease",children:s.jsx(sv,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"number",min:"1",max:"20",value:c,onChange:I=>{const O=I.target.value;if(O===""){y("");return}const te=parseInt(O);isNaN(te)||y(Math.max(1,Math.min(20,te)))},onBlur:I=>{const O=I.target.value;(O===""||isNaN(parseInt(O))||parseInt(O)<1)&&y(5)},className:"w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl py-3 text-center text-xl font-bold text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"5"})}),s.jsx("button",{type:"button",onClick:()=>{const I=typeof c=="number"?c:parseInt(c)||5;y(Math.min(20,I+1))},disabled:(typeof c=="number"?c:parseInt(c)||5)>=20,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Increase",children:s.jsx(Ds,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})})]}),s.jsx("p",{className:"text-indigo-300/50 text-[10px] md:text-xs mt-2 text-center",children:"Enter a number between 1 and 20"})]}),i==="ai"&&s.jsx("button",{onClick:Y,disabled:a||!f,className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-indigo-950 font-bold shadow-lg shadow-amber-500/20 hover:shadow-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-300 transform hover:-translate-y-0.5 border border-amber-400/20 flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(ao,{className:"w-5 h-5 animate-spin"}),"Generating ",typeof c=="number"?c:parseInt(c)||5," Prayer Points..."]}):s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"w-5 h-5"}),"Generate ",typeof c=="number"?c:parseInt(c)||5," Prayer Points"]})}),i==="ai"&&!f&&s.jsxs("p",{className:"text-amber-400/80 text-xs md:text-sm text-center flex items-center justify-center gap-2",children:[s.jsx(jn,{className:"w-4 h-4"}),"Please select a prayer schedule to generate prayer points"]})]})]}),i==="manual"&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ua,{className:"w-5 h-5 text-amber-400"}),"Create Prayer Points"]}),s.jsxs("button",{onClick:W,className:"px-4 py-2 rounded-lg bg-indigo-600/50 hover:bg-indigo-600/70 text-white text-sm font-medium transition-all border border-indigo-500/30 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Add Point"]})]}),s.jsx("div",{className:"space-y-4",children:b.map((I,O)=>s.jsxs("div",{className:"flex items-start gap-3 group",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-950/50 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-indigo-300 text-sm font-bold font-serif",children:O+1})}),s.jsx("textarea",{value:I,onChange:te=>H(O,te.target.value),placeholder:`Prayer point ${O+1}...`,className:"flex-1 bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"2"}),b.length>1&&s.jsx("button",{onClick:()=>ae(O),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 opacity-50 group-hover:opacity-100 transition-all flex-shrink-0",title:"Remove point",children:s.jsx(Mr,{className:"w-5 h-5"})})]},O))})]}),a?s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(de,{className:"w-5 h-5 text-amber-400"}),"Generating Prayer Points"]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20",children:[s.jsx(ao,{className:"w-4 h-4 animate-spin text-amber-400"}),s.jsx("span",{className:"text-indigo-200 text-xs font-medium",children:"AI Processing..."})]})]}),s.jsx(Qy,{count:typeof c=="number"?c:parseInt(c)||5})]}):U&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(de,{className:"w-5 h-5 text-amber-400"}),i==="ai"?"Generated":"Manual"," Prayer Points"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:X,disabled:!f,className:"px-5 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-medium shadow-lg shadow-emerald-500/20 border border-emerald-400/20 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[s.jsx(Save,{className:"w-4 h-4"}),"Save to Schedule"]}),s.jsx("button",{onClick:()=>{i==="ai"?u([]):E([""])},className:"px-3 py-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all",title:"Clear all",children:s.jsx(qr,{className:"w-4 h-4"})})]})]}),s.jsx("ul",{className:"space-y-4",children:k.map((I,O)=>s.jsxs("li",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative flex items-start gap-4 p-4 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:s.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:O+1})}),m===O?s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("textarea",{value:h,onChange:te=>v(te.target.value),className:"w-full bg-indigo-950/50 border border-indigo-500/50 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"3",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{onClick:D,className:"px-3 py-1.5 rounded-lg text-indigo-200 hover:text-white hover:bg-white/5 text-sm transition-all",children:"Cancel"}),s.jsxs("button",{onClick:()=>S(O),className:"px-4 py-1.5 rounded-lg bg-amber-500 hover:bg-amber-400 text-indigo-950 text-sm font-bold flex items-center gap-1 transition-all",children:[s.jsx(Ur,{className:"w-3 h-3"}),"Save"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-indigo-100/90 flex-1 text-sm md:text-base leading-relaxed",children:I}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>ee(O),className:"p-2 rounded-lg hover:bg-indigo-500/20 text-indigo-300 hover:text-white transition-colors",title:"Edit point",children:s.jsx(ua,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>L(O),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",title:"Delete point",children:s.jsx(qr,{className:"w-4 h-4"})})]})]})]})]},O))})]}),j?s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Saved Prayer Points Library"}),s.jsx(Yy,{count:3})]}):C&&C.length>0&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-amber-400"}),"Saved Prayer Points Library"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(I=>s.jsxs("div",{className:"glass p-5 rounded-xl border border-white/5 hover:border-white/10 transition-all group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate pr-2",children:I.title||"Saved Prayer Points"}),s.jsx("button",{onClick:async()=>{if(confirm("Delete this saved prayer point set?"))try{await $({id:I._id}),A.success("Deleted")}catch{A.error("Failed to delete")}},className:"p-1.5 rounded hover:bg-red-500/20 text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(qr,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-indigo-200/60 text-sm mb-4",children:[I.points.length," points"]}),s.jsx("button",{onClick:()=>{i==="ai"?u(I.points||[]):E(I.points&&I.points.length>0?I.points:[""]),A.success("Prayer points loaded! You can edit and save them to your schedule.")},className:"w-full py-2 rounded-lg bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-200 hover:text-white text-sm font-medium border border-indigo-500/20 transition-all",children:"Load Points"})]},I._id))})]}),!a&&!U&&!f&&s.jsxs("div",{className:"glass-card text-center py-16 md:py-20 rounded-2xl border border-white/5",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(de,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsxs("p",{className:"text-indigo-200/60 text-base font-medium",children:["No prayer points ",i==="ai"?"generated":"created"," yet"]}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2 max-w-md mx-auto",children:i==="ai"?'Select a prayer schedule above and click "Generate Prayer Points" to get started with AI-powered spiritual guidance.':"Select a prayer schedule and start creating your personalized prayer points manually."})]})]})}function Gy({currentChant:e,isPlaying:t,volume:r,currentTime:n,duration:i,formatTime:o,setVolume:a,toggleChant:l,stopChant:d,audioRef:u,setCurrentTime:m}){if(!e)return null;const[x,h]=N.useState(null),v=x!==null?x:n,f=i>0?v/i*100:0;return s.jsx("div",{className:"glass-strong rounded-xl md:rounded-2xl border border-white/20 overflow-hidden shadow-2xl",children:s.jsxs("div",{className:"p-2 md:p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[s.jsxs("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),s.jsx(ke,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/30 to-purple-400/30 animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("h3",{className:"text-xs md:text-sm font-bold text-white truncate",children:e.name||"Custom Chant"}),s.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-red-600/20 text-red-400 hover:text-red-300 transition-colors flex-shrink-0",title:"Stop and Close",children:s.jsx(Mr,{className:"w-3 h-3 md:w-3.5 md:h-3.5"})})]}),s.jsxs("p",{className:"text-white/60 text-[10px] md:text-xs",children:[o(n)," / ",o(i)]})]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-1 md:h-1.5 bg-white/10 rounded-full overflow-visible",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),s.jsx("input",{type:"range",min:"0",max:i||0,step:"0.1",value:v||0,onChange:w=>{const p=parseFloat(w.target.value);h(p),u.current&&(u.current.currentTime=p),typeof m=="function"&&m(p)},onMouseUp:()=>h(null),onTouchEnd:()=>h(null),className:"absolute inset-0 w-full h-1 md:h-1.5 opacity-0 cursor-pointer z-10",style:{background:"transparent",WebkitAppearance:"none",appearance:"none"}}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 md:w-3.5 md:h-3.5 bg-white rounded-full shadow-lg border-2 border-indigo-500 cursor-grab active:cursor-grabbing hover:scale-125 transition-transform z-20 pointer-events-none",style:{left:`calc(${Math.max(0,Math.min(100,f))}% - ${f>0&&f<100?"6px":f>=100?"7px":"0px"})`,transform:"translateY(-50%)"}})]})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("button",{onClick:l,className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center hover:scale-110 transition-transform shadow-lg relative overflow-hidden group flex-shrink-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),t?s.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"}):s.jsx(Sr,{className:"w-4 h-4 md:w-5 md:h-5 text-white ml-0.5 relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/50 to-purple-400/50 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>a(r===0?.7:0),className:"p-1 rounded-lg bg-white/10 hover:bg-white/20 transition-colors flex-shrink-0",children:r===0?s.jsx(cv,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-white"}):s.jsx(zm,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0 relative",children:[s.jsx("div",{className:"h-1 bg-white/10 rounded-full",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all",style:{width:`${r*100}%`}})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r,onChange:w=>a(parseFloat(w.target.value)),className:"absolute inset-0 w-full h-1 opacity-0 cursor-pointer"})]}),s.jsxs("span",{className:"text-white/80 text-[10px] md:text-xs w-7 md:w-8 text-right flex-shrink-0",children:[Math.round(r*100),"%"]})]})]})]})})}function Xy(){return s.jsxs("div",{className:"glass-strong p-4 md:p-5 rounded-xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-indigo-600/30 to-purple-600/30 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsx("div",{className:"h-4 md:h-5 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-1/2"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-20"}),s.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-16"})]})]})}function Qm({count:e=6}){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Xy,{},r))})}function Hm({isOpen:e,onClose:t,onConfirm:r,musicName:n,musicType:i}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(fd,{className:"w-5 h-5 md:w-6 md:h-6 text-red-400"})}),s.jsx("div",{children:s.jsxs("h3",{className:"text-base md:text-lg font-bold text-white font-serif",children:["Delete ",i,"?"]})})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-1",children:s.jsx(Mr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-5 md:mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white/90 text-sm md:text-base font-medium break-words",children:n}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm mt-1",children:"This action cannot be undone"})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsxs("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:["Delete ",i]})]})]})}):null}function Jy({chants:e,chantUploads:t,currentChant:r,isPlaying:n,playChant:i,stopChant:o,toggleChant:a,deleteUpload:l,isLoading:d}){const[u,m]=N.useState(!1),[x,h]=N.useState(null),v=[...e.map(f=>({...f,isDefault:!0})),...(t||[]).map(f=>({id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,fileSize:f.fileSize,fileType:f.fileType,isDefault:!1,upload:f}))];return d?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),s.jsx(Qm,{count:6})]})}):v.length===0?s.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(ke,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No chants available"}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first chant to get started"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Default Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===f.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===f.id?a():i(f.id)},children:[(r==null?void 0:r.id)===f.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===f.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(ke,{className:`w-6 h-6 ${(r==null?void 0:r.id)===f.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===f.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:f.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(f.duration/60),":",String(f.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===f.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===f.id?s.jsxs("button",{onClick:w=>{w.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:w=>{w.stopPropagation(),i(f.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},f.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(f=>{const w={id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,size:f.fileSize,type:f.fileType};return s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===w.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===w.id)a();else{const p=f.imageKitUrl;if(!p){A.error("File URL not available. Please check your upload.");return}i(w.id,p,w.name)}},children:[(r==null?void 0:r.id)===w.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===w.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(On,{className:`w-6 h-6 ${(r==null?void 0:r.id)===w.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===w.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:w.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(f.fileSize/1024/1024).toFixed(2)," MB  ",f.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===w.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===w.id?s.jsxs("button",{onClick:p=>{p.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:async p=>{p.stopPropagation();const g=f.imageKitUrl;if(!g){A.error("File URL not available. Please check your upload.");return}i(w.id,g,w.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]}),s.jsx("button",{onClick:p=>{p.stopPropagation(),h({name:w.name,id:f._id}),m(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:s.jsx(qr,{className:"w-4 h-4"})})]})]})]},f._id)})})]})]}),s.jsx(Hm,{isOpen:u,onClose:()=>{m(!1),h(null)},onConfirm:async()=>{if(x)try{await l({id:x.id}),A.success("Chant deleted"),m(!1),h(null)}catch(f){A.error("Failed to delete chant"),console.error(f)}},musicName:(x==null?void 0:x.name)||"",musicType:"Chant"})]})}function Zy({tongueSongs:e,tongueUploads:t,currentChant:r,isPlaying:n,playTongueSong:i,stopChant:o,toggleChant:a,deleteUpload:l,isLoading:d}){const[u,m]=N.useState(!1),[x,h]=N.useState(null),v=[...e.map(f=>({...f,isDefault:!0})),...(t||[]).map(f=>({id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,fileSize:f.fileSize,fileType:f.fileType,isDefault:!1,upload:f}))];return d?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),s.jsx(Qm,{count:6})]})}):v.length===0?s.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(ke,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No tongue songs available"}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first tongue song to get started"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Default Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===f.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===f.id?a():i(f.id)},children:[(r==null?void 0:r.id)===f.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===f.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(ke,{className:`w-6 h-6 ${(r==null?void 0:r.id)===f.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===f.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:f.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(f.duration/60),":",String(f.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===f.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===f.id?s.jsxs("button",{onClick:w=>{w.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:w=>{w.stopPropagation(),i(f.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},f.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(f=>{const w={id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,size:f.fileSize,type:f.fileType};return s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===w.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===w.id)a();else{const p=f.imageKitUrl;if(!p){A.error("File URL not available. Please check your upload.");return}i(w.id,p,w.name)}},children:[(r==null?void 0:r.id)===w.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===w.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(On,{className:`w-6 h-6 ${(r==null?void 0:r.id)===w.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===w.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:w.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(f.fileSize/1024/1024).toFixed(2)," MB  ",f.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===w.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===w.id?s.jsxs("button",{onClick:p=>{p.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:async p=>{p.stopPropagation();const g=f.imageKitUrl;if(!g){A.error("File URL not available. Please check your upload.");return}i(w.id,g,w.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]}),s.jsx("button",{onClick:p=>{p.stopPropagation(),h({name:w.name,id:f._id}),m(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:s.jsx(qr,{className:"w-4 h-4"})})]})]})]},f._id)})})]})]}),s.jsx(Hm,{isOpen:u,onClose:()=>{m(!1),h(null)},onConfirm:async()=>{if(x)try{await l({id:x.id}),A.success("Tongue song deleted"),m(!1),h(null)}catch(f){A.error("Failed to delete tongue song"),console.error(f)}},musicName:(x==null?void 0:x.name)||"",musicType:"Tongue Song"})]})}function Yu({uploadType:e,userId:t,convex:r,createUpload:n,addCustomChant:i,addCustomTongueSong:o,api:a}){const[l,d]=N.useState(!1),[u,m]=N.useState(null),x=e==="chant",h=x?"Chant":"Tongue Song",v=x?"/audio/chant/":"/audio/tongue/",f=N.useRef(null),[w,p]=N.useState(null),[g,c]=N.useState(0),y=T=>{var C;const M=(C=T.target.files)==null?void 0:C[0];if(!M)return;const P=["audio/mpeg","audio/wav","audio/ogg","audio/mp3"],z=/\.(mp3|wav|ogg)$/i;if(!P.includes(M.type)&&!z.test(M.name)){A.error("Invalid file type. Please upload MP3, WAV, or OGG files.");return}if(M.size>500*1024*1024){A.error("File size too large. Maximum size is 500MB.");return}p(M)},b=async()=>{if(!w)return;const T=w;d(!0),c(10);try{const M=await r.query(a.imagekit.getUploadToken,{fileName:T.name,uploadType:e});if(!M)throw new Error("Failed to get upload token");const P=new FormData;P.append("file",T),P.append("fileName",T.name),P.append("folder",v),P.append("publicKey",M.publicKey),P.append("signature",M.signature),P.append("expire",M.expire.toString()),P.append("token",M.token);const C=await(_=>new Promise((B,Y)=>{const X=new XMLHttpRequest;X.open("POST","https://upload.imagekit.io/api/v1/files/upload"),X.upload.onprogress=ee=>{if(ee.lengthComputable){const S=ee.loaded/ee.total*100;c(Math.round(S))}},X.onload=()=>{X.status>=200&&X.status<300?B(JSON.parse(X.responseText)):Y(new Error(`ImageKit upload failed: ${X.responseText}`))},X.onerror=()=>{Y(new Error("ImageKit upload failed due to network error"))},X.send(_)}))(P),j=await n({userId:t,fileName:T.name,fileType:T.type,fileSize:T.size,imageKitUrl:C.url,imageKitFileId:C.fileId,uploadType:e}),$={_id:j,id:j,name:T.name.replace(/\.[^/.]+$/,""),storageId:null,url:C.url,size:T.size,type:T.type,uploadedAt:new Date().toISOString()};x?i($):o($),c(100),m($),p(null),f.current&&(f.current.value=""),A.success(`"${$.name}" uploaded successfully!`),setTimeout(()=>{c(0)},1e3)}catch(M){console.error("Upload error:",M),A.error(`Failed to upload file: ${M.message||"Please try again"}`),c(0)}finally{d(!1)}},E=()=>{p(null),f.current&&(f.current.value="")};return s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(On,{className:`w-5 h-5 ${x?"text-indigo-400":"text-purple-400"}`}),"Upload Custom ",h]}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mb-4",children:["Upload your own ",h.toLowerCase()," audio files (MP3, WAV, OGG - Max 500MB)"]}),s.jsxs("div",{className:"space-y-4",children:[!w&&!l&&s.jsx("label",{className:"block",children:s.jsxs("div",{className:"glass-card p-8 md:p-12 rounded-xl border-2 border-dashed border-white/20 hover:border-indigo-400/50 transition-all cursor-pointer group",children:[s.jsx("input",{ref:f,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/*",className:"hidden",onChange:y}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-600/20 to-purple-600/20 flex items-center justify-center group-hover:from-indigo-600/30 group-hover:to-purple-600/30 transition-all",children:s.jsx(Zx,{className:`w-8 h-8 md:w-10 md:h-10 ${x?"text-indigo-400":"text-purple-400"}`})}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base mb-2",children:"Click to select audio file"}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm",children:"MP3, WAV, or OGG  Max 500MB"})]})]})}),w&&!l&&s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-lg bg-gradient-to-br ${x?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} flex items-center justify-center flex-shrink-0`,children:s.jsx(ke,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate mb-1",children:w.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(w.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx("button",{onClick:E,className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400 flex-shrink-0",children:s.jsx(Mr,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),s.jsxs("button",{onClick:b,className:`w-full mt-4 py-3 rounded-xl bg-gradient-to-r ${x?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} hover:opacity-90 transition-opacity text-white font-semibold text-sm md:text-base shadow-lg`,children:[s.jsx(On,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"Upload ",h]})]}),l&&s.jsxs("div",{className:`p-4 md:p-5 rounded-xl ${x?"bg-indigo-500/10 border-indigo-400/20":"bg-purple-500/10 border-purple-400/20"} border`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`w-5 h-5 border-2 ${x?"border-indigo-400":"border-purple-400"} border-t-transparent rounded-full animate-spin`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:"Uploading..."}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.round(g),"%"]})]})]}),s.jsx("div",{className:"w-full h-2.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${x?"from-indigo-500 to-purple-500":"from-purple-500 to-pink-500"} rounded-full transition-all duration-300 relative`,style:{width:`${g}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),u&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-green-500/10 border border-green-400/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-green-300 text-sm font-medium",children:[" Uploaded: ",u.name]}),s.jsx("p",{className:"text-green-400/60 text-xs mt-1",children:"File is stored and ready to use"})]})]})})]})]})}function ew(){const{userId:e}=Tt(),{chants:t,tongueSongs:r,currentChant:n,isPlaying:i,volume:o,currentTime:a,duration:l,formatTime:d,setVolume:u,setCurrentTime:m,playChant:x,playTongueSong:h,stopChant:v,toggleChant:f,addCustomChant:w,addCustomTongueSong:p,audioRef:g}=_o(),c=dd(),y=He(se.uploads.create),b=He(se.uploads.remove),E=jt(se.uploads.getByUser,e?{userId:e}:"skip"),T=E===void 0,M=(E||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),P=(E||[]).filter(j=>j.uploadType==="tongue"),[z,C]=N.useState("chants");return N.useEffect(()=>{M&&M.length>0&&M.forEach(j=>{const $={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};w($)}),P&&P.length>0&&P.forEach(j=>{const $={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};p($)})},[M.length,P.length]),s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(ke,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Music Library"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Manage your chants and tongue songs"})]})}),n&&s.jsx("div",{className:"sticky top-[60px] md:top-[72px] z-[40] mb-4",children:s.jsx(Gy,{currentChant:n,isPlaying:i,volume:o,currentTime:a,duration:l,formatTime:d,setVolume:u,toggleChant:f,stopChant:v,audioRef:g,setCurrentTime:m})}),s.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>C("chants"),className:`px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm font-medium transition-all relative ${z==="chants"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx(ke,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),"Chants",t.length+M.length>0&&s.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-indigo-600/30 text-indigo-300 text-[10px] md:text-xs",children:t.length+M.length})]}),z==="chants"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]}),s.jsxs("button",{onClick:()=>C("tongue"),className:`px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm font-medium transition-all relative ${z==="tongue"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx(de,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),"Tongue Songs",r.length+P.length>0&&s.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-purple-600/30 text-purple-300 text-[10px] md:text-xs",children:r.length+P.length})]}),z==="tongue"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),z==="chants"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(Jy,{chants:t,chantUploads:M,currentChant:n,isPlaying:i,playChant:x,stopChant:v,toggleChant:f,deleteUpload:b,isLoading:T}),s.jsx(Yu,{uploadType:"chant",userId:e,convex:c,createUpload:y,addCustomChant:w,api:se})]}),z==="tongue"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(Zy,{tongueSongs:r,tongueUploads:P,currentChant:n,isPlaying:i,playTongueSong:h,stopChant:v,toggleChant:f,deleteUpload:b,isLoading:T}),s.jsx(Yu,{uploadType:"tongue",userId:e,convex:c,createUpload:y,addCustomTongueSong:p,api:se})]})]})}function tw(){const{userId:e,settings:t,updateSettings:r}=Tt(),{chants:n,tongueSongs:i,setVolume:o}=_o(),a=jt(se.uploads.getByUser,e?{userId:e}:"skip"),l=(a||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),d=(a||[]).filter(j=>j.uploadType==="tongue"),[u,m]=N.useState({notificationsEnabled:!0,notificationTime:"08:00",theme:"default",preferredChant:"",preferredTongueSong:"",autoPlayMusic:!0,showMotivationalPopups:!0,defaultPrayerDuration:15,prayerRoomBackgroundEffects:!0,defaultVolume:.7,soundEffectsEnabled:!0,autoSavePrayerPoints:!0,showStreakNotifications:!0,showPrayerReminders:!0,notificationSoundId:""}),[x,h]=N.useState(!1),[v,f]=N.useState(!1),[w,p]=N.useState("checking"),[g,c]=N.useState(!1);N.useEffect(()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(j=>{p(j?"registered":"not-registered")}):p("not-supported"),"PushManager"in window&&"serviceWorker"in navigator&&(c(!0),console.log(" VAPID key is configured - push subscriptions are available!"))},[]),N.useEffect(()=>{if(t){const j={notificationsEnabled:t.notificationsEnabled??!0,notificationTime:t.notificationTime??"08:00",theme:t.theme??"default",preferredChant:t.preferredChant??"",preferredTongueSong:t.preferredTongueSong??"",autoPlayMusic:t.autoPlayMusic??!0,showMotivationalPopups:t.showMotivationalPopups??!0,defaultPrayerDuration:t.defaultPrayerDuration??15,prayerRoomBackgroundEffects:t.prayerRoomBackgroundEffects??!0,defaultVolume:t.defaultVolume??.7,soundEffectsEnabled:t.soundEffectsEnabled??!0,autoSavePrayerPoints:t.autoSavePrayerPoints??!0,showStreakNotifications:t.showStreakNotifications??!0,showPrayerReminders:t.showPrayerReminders??!0,notificationSoundId:t.notificationSoundId??""};m(j),t.defaultVolume!==void 0&&o(t.defaultVolume)}},[t,o]),N.useEffect(()=>{if(t){const j=u.notificationsEnabled!==(t.notificationsEnabled??!0)||u.notificationTime!==(t.notificationTime??"08:00")||u.theme!==(t.theme??"default")||u.preferredChant!==(t.preferredChant??"")||u.preferredTongueSong!==(t.preferredTongueSong??"")||u.autoPlayMusic!==(t.autoPlayMusic??!0)||u.showMotivationalPopups!==(t.showMotivationalPopups??!0)||u.defaultPrayerDuration!==(t.defaultPrayerDuration??15)||u.prayerRoomBackgroundEffects!==(t.prayerRoomBackgroundEffects??!0)||u.defaultVolume!==(t.defaultVolume??.7)||u.soundEffectsEnabled!==(t.soundEffectsEnabled??!0)||u.autoSavePrayerPoints!==(t.autoSavePrayerPoints??!0)||u.showStreakNotifications!==(t.showStreakNotifications??!0)||u.showPrayerReminders!==(t.showPrayerReminders??!0)||u.notificationSoundId!==(t.notificationSoundId??"");h(j)}},[u,t]);const y=async()=>{f(!0);try{await r({userId:e,...u}),u.defaultVolume!==void 0&&o(u.defaultVolume),h(!1),A.success("Settings saved successfully!")}catch(j){A.error("Failed to save settings"),console.error(j)}finally{f(!1)}},b=async()=>{if("Notification"in window)try{w==="not-registered"&&await cd()&&(p("registered"),A.success("Service Worker registered for background notifications!"));const j=await Notification.requestPermission();if(j==="granted"){if(A.success("Notifications enabled! You will receive real-time reminders."),m({...u,notificationsEnabled:!0}),g)try{await Rm(),A.success("Push notifications enabled! You will receive notifications even when the app is closed.")}catch(_){console.warn("Push subscription failed, but regular notifications will work:",_)}const $=Qx();$&&$.active?$.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Notifications Enabled!",body:"You will now receive prayer reminders and notifications, even when the app is closed.",icon:"/vite.svg",tag:"permission-granted"}}):new Notification("Notifications Enabled!",{body:"You will now receive prayer reminders and notifications.",icon:"/vite.svg",tag:"permission-granted"})}else j==="denied"?(A.error("Notification permission denied. Please enable in browser settings."),m({...u,notificationsEnabled:!1})):m({...u,notificationsEnabled:!1})}catch(j){console.error("Error requesting notification permission:",j),A.error("Failed to request notification permission")}else A.error("Notifications not supported in this browser")},E=[...n.map(j=>({value:j.id,label:j.name})),...l.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],T=[...i.map(j=>({value:j.id,label:j.name})),...d.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],M=[{value:"default",label:"Default (Indigo/Purple/Gold)"},{value:"dark",label:"Dark Mode"},{value:"light",label:"Light Mode"}],P=Array.from({length:20},(j,$)=>({value:($+1)*5,label:`${($+1)*5} minutes`})),z=Array.from({length:11},(j,$)=>({value:$/10,label:`${$*10}%`})),C=({checked:j,onChange:$,disabled:_=!1})=>s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:$,disabled:_,className:"sr-only peer"}),s.jsx("div",{className:`w-12 h-6 md:w-14 md:h-7 bg-white/20 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 md:after:h-6 md:after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600 ${_?"opacity-50 cursor-not-allowed":""}`})]});return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(Dm,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Settings"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Customize your prayer experience"})]}),x&&s.jsxs("button",{onClick:y,disabled:v,className:"btn-primary px-4 md:px-6 py-2.5 md:py-3 text-sm md:text-base flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Fu,{className:"w-4 h-4 md:w-5 md:h-5"}),v?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center",children:s.jsx(Xx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer reminders and alerts"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Enable Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Receive prayer reminders and updates"})]}),s.jsx(C,{checked:u.notificationsEnabled,onChange:j=>{j.target.checked&&Notification.permission!=="granted"?b():m({...u,notificationsEnabled:j.target.checked})}})]}),u.notificationsEnabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Notification Time"}),s.jsx("input",{type:"time",value:u.notificationTime,onChange:j=>m({...u,notificationTime:j.target.value}),className:"input-glass w-full text-base"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 md:w-5 md:h-5 text-pink-400"}),"Notification Sound"]}),s.jsx(mt,{value:u.notificationSoundId,onChange:j=>m({...u,notificationSoundId:j}),options:[{value:"",label:"Default System Sound"},...E.map(j=>({...j,label:` ${j.label}`})),...T.map(j=>({...j,label:` ${j.label}`}))],placeholder:"Select notification sound"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Note: Custom sounds work best on Android and Desktop. iOS may use default sound."})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Prayer Reminders"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Get reminded about upcoming prayer schedules"})]}),s.jsx(C,{checked:u.showPrayerReminders,onChange:j=>m({...u,showPrayerReminders:j.target.checked}),disabled:!u.notificationsEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Streak Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Celebrate your prayer streak milestones"})]}),s.jsx(C,{checked:u.showStreakNotifications,onChange:j=>m({...u,showStreakNotifications:j.target.checked}),disabled:!u.notificationsEnabled})]}),s.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/80 text-sm md:text-base font-medium",children:"Permission Status"}),Notification.permission==="granted"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),"Granted"]}):Notification.permission==="denied"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(jn,{className:"w-3 h-3"}),"Denied"]}):s.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(jn,{className:"w-3 h-3"}),"Not Requested"]})]}),Notification.permission==="default"&&s.jsx("button",{onClick:b,className:"btn-secondary w-full text-sm md:text-base py-2.5 md:py-3 mt-2",children:"Request Notification Permission"}),Notification.permission==="denied"&&s.jsx("p",{className:"text-white/60 text-xs mt-2",children:"Notifications are blocked. Please enable them in your browser settings to receive prayer reminders."}),Notification.permission==="granted"&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("p",{className:"text-green-300 text-xs",children:" You will receive real-time notifications for prayer reminders, schedule alerts, and streak milestones."}),w==="registered"&&s.jsxs("p",{className:"text-indigo-300 text-xs flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),"Background notifications enabled (works when app is closed)"]}),g&&w==="registered"&&s.jsxs("p",{className:"text-purple-300 text-xs flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),"Push notifications supported"]}),w==="not-supported"&&s.jsx("p",{className:"text-yellow-300 text-xs",children:" Service Workers not supported - notifications work only when app is open"})]})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:s.jsx(tv,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Room"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize your prayer session experience"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-play Music"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically start background music when entering prayer room"})]}),s.jsx(C,{checked:u.autoPlayMusic,onChange:j=>m({...u,autoPlayMusic:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Motivational Popups"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Show encouraging messages during tongues mode"})]}),s.jsx(C,{checked:u.showMotivationalPopups,onChange:j=>m({...u,showMotivationalPopups:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Background Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable animated background effects in prayer room"})]}),s.jsx(C,{checked:u.prayerRoomBackgroundEffects,onChange:j=>m({...u,prayerRoomBackgroundEffects:j.target.checked})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Default Prayer Duration"]}),s.jsx(mt,{value:u.defaultPrayerDuration,onChange:j=>m({...u,defaultPrayerDuration:parseInt(j)}),options:P,placeholder:"Select default duration"})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-pink-600 to-orange-600 flex items-center justify-center",children:s.jsx(ke,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Audio Preferences"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Configure music and sound settings"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(zm,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Default Volume"]}),s.jsx(mt,{value:u.defaultVolume,onChange:j=>{const $=parseFloat(j);m({...u,defaultVolume:$}),o($)},options:z,placeholder:"Select default volume"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Volume is applied immediately"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Sr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Preferred Chant"]}),s.jsx(mt,{value:u.preferredChant,onChange:j=>m({...u,preferredChant:j}),options:[{value:"",label:"None (Manual Selection)"},...E],placeholder:"Select preferred chant"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(de,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Preferred Tongue Song"]}),s.jsx(mt,{value:u.preferredTongueSong,onChange:j=>m({...u,preferredTongueSong:j}),options:[{value:"",label:"None (Manual Selection)"},...T],placeholder:"Select preferred tongue song"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Sound Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable sound effects for interactions"})]}),s.jsx(C,{checked:u.soundEffectsEnabled,onChange:j=>m({...u,soundEffectsEnabled:j.target.checked})})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-orange-600 to-yellow-600 flex items-center justify-center",children:s.jsx(de,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer points generation and saving"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-save Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically save generated prayer points to schedule"})]}),s.jsx(C,{checked:u.autoSavePrayerPoints,onChange:j=>m({...u,autoSavePrayerPoints:j.target.checked})})]})})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:s.jsx(dv,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Appearance"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize the look and feel"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Color Theme"}),s.jsx(mt,{value:u.theme,onChange:j=>m({...u,theme:j}),options:M,placeholder:"Select theme"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Theme changes will take effect after reload"})]})})]}),x&&s.jsx("div",{className:"sticky bottom-4 md:bottom-6 z-[60] glass-strong p-3 md:p-4 rounded-xl border border-indigo-400/50 shadow-2xl",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx(jn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400 flex-shrink-0"}),s.jsx("p",{className:"text-white text-xs md:text-base",children:"You have unsaved changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-xs md:text-base px-3 py-1.5 md:px-4 md:py-2",children:"Discard"}),s.jsx("button",{onClick:y,disabled:v,className:"btn-primary text-xs md:text-base px-3 py-1.5 md:px-4 md:py-3 flex items-center gap-1.5 md:gap-2 disabled:opacity-50",children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Fu,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Save Changes"}),s.jsx("span",{className:"sm:hidden",children:"Save"})]})})]})]})})]})}function rw(){const[e,t]=N.useState("timer"),[r,n]=N.useState(!1),{isPraying:i,activePrayer:o}=Tt();$m();const a=[{id:"timer",label:"Prayer Room",icon:wr},{id:"schedule",label:"Schedule",icon:kt},{id:"points",label:"Prayer Points",icon:de},{id:"music",label:"Music",icon:ke},{id:"streak",label:"Streak",icon:gs},{id:"history",label:"History",icon:pt},{id:"settings",label:"Settings",icon:Dm}],l=a.slice(0,5),d=a.slice(5);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900 pb-16 md:pb-0",children:[s.jsxs("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-2xl border-b border-white/20 shadow-[0_4px_24px_rgba(0,0,0,0.4)]",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-amber-400/50 to-transparent"}),s.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"hidden md:flex items-center justify-between py-3.5",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 px-2",children:[s.jsx("div",{className:"relative w-11 h-11 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20 animate-pulse-glow",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),s.jsx("p",{className:"text-xs text-amber-400/60 leading-tight font-medium tracking-wide",children:"Prayer Chain"})]})]}),s.jsx("div",{className:"flex items-center gap-1 ml-2 bg-white/5 rounded-xl p-1.5 border border-white/10 shadow-inner",children:a.map(u=>{const m=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg whitespace-nowrap transition-all duration-300 text-sm font-semibold relative ${e===u.id?"bg-gradient-to-r from-amber-500 to-purple-600 text-white shadow-lg shadow-purple-500/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e===u.id&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/20 to-purple-500/20 rounded-lg blur-sm"}),s.jsx(m,{className:`w-4 h-4 relative z-10 ${e===u.id?"drop-shadow-[0_0_4px_rgba(255,255,255,0.5)]":""}`}),s.jsx("span",{className:"relative z-10",children:u.label})]},u.id)})})]}),i&&o&&s.jsxs("div",{className:"flex items-center gap-2.5 px-5 py-2.5 rounded-xl bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/40 shadow-lg shadow-green-500/20",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"}),s.jsxs("span",{className:"text-white text-sm font-semibold",children:["Praying: ",o.title]})]})]}),s.jsxs("div",{className:"flex md:hidden items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),s.jsx("p",{className:"text-[10px] text-amber-400/60 leading-tight font-medium",children:"Prayer Chain"})]})]}),s.jsx("button",{onClick:()=>n(!r),className:"p-2.5 rounded-xl bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 transition-all duration-300 border border-white/20 shadow-lg",children:r?s.jsx(Mr,{className:"w-5 h-5 text-white"}):s.jsx(nv,{className:"w-5 h-5 text-white"})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-white/10 py-3",children:s.jsx("div",{className:"flex flex-col gap-2",children:d.map(u=>{const m=u.icon;return s.jsxs("button",{onClick:()=>{t(u.id),n(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300 text-xs ${e===u.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[s.jsx(m,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"font-medium",children:u.label})]},u.id)})})})]})]}),s.jsxs("main",{className:"container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-7xl pt-20 md:pt-24 pb-28 md:pb-8",children:[e==="timer"&&s.jsx(gv,{}),e==="schedule"&&s.jsx(Dy,{}),e==="points"&&s.jsx(Ky,{}),e==="music"&&s.jsx(ew,{}),e==="streak"&&s.jsx(zy,{}),e==="history"&&s.jsx(By,{}),e==="settings"&&s.jsx(tw,{})]}),s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-gradient-to-t from-indigo-950/99 via-purple-950/99 to-indigo-950/99 backdrop-blur-2xl border-t border-white/20 z-50 shadow-[0_-4px_20px_rgba(0,0,0,0.3)] safe-area-bottom",children:s.jsx("div",{className:"flex items-center justify-around px-2 py-2 pb-safe",children:l.map(u=>{const m=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`flex flex-col items-center gap-1 px-1.5 py-1.5 rounded-xl transition-all duration-300 flex-1 max-w-[70px] relative ${e===u.id?"text-white":"text-white/50 hover:text-white/70"}`,children:[e===u.id&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-10 h-0.5 bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 rounded-b-full shadow-lg shadow-purple-500/50"}),s.jsx("div",{className:`p-2 rounded-xl transition-all duration-300 ${e===u.id?"bg-gradient-to-br from-amber-500/20 to-purple-500/20 border border-amber-400/30 shadow-lg shadow-purple-500/20":"bg-white/5 border border-transparent"}`,children:s.jsx(m,{className:`w-4.5 h-4.5 transition-all ${e===u.id?"drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]":""}`})}),s.jsx("span",{className:`text-[9px] font-bold leading-tight text-center transition-all ${e===u.id?"text-white":"text-white/50"}`,children:u.label})]},u.id)})})})]})}function nw(){return s.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-amber-500/20 rounded-full blur-3xl animate-pulse delay-700"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 px-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-transparent border-t-amber-400 border-r-purple-400 animate-spin"}),s.jsx("div",{className:"absolute inset-2 w-20 h-20 md:w-28 md:h-28 rounded-full border-4 border-transparent border-b-amber-500 border-l-purple-500 animate-spin-reverse"}),s.jsx("div",{className:"relative w-24 h-24 md:w-32 md:h-32 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl overflow-hidden shadow-2xl shadow-purple-500/50 animate-pulse",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 bg-clip-text text-transparent font-serif animate-pulse bg-[length:200%_auto] animate-shimmer",children:"Adullam"}),s.jsx("p",{className:"text-sm md:text-base text-white/60 font-medium tracking-wider",children:"Prayer Chain"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400 animate-bounce"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-400 animate-bounce delay-150"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 animate-bounce delay-300"})]}),s.jsx("p",{className:"text-white/40 text-xs md:text-sm font-medium tracking-widest uppercase animate-pulse",children:"Loading your prayer space..."})]})]})}const sw="https://majestic-armadillo-966.convex.cloud",iw=new Bg(sw);function ow(){const[e,t]=N.useState(()=>{let i=localStorage.getItem("adullam_user_id");return i||(i=`user_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("adullam_user_id",i)),i}),[r,n]=N.useState(!0);return N.useEffect(()=>{"serviceWorker"in navigator&&cd().then(i=>{i&&console.log("Service Worker registered for push notifications")}).catch(i=>{console.error("Service Worker registration failed:",i)})},[]),N.useEffect(()=>{const o=Date.now(),a=setTimeout(()=>{const l=Date.now()-o,d=Math.max(0,1500-l);setTimeout(()=>{n(!1)},d)},500);return()=>clearTimeout(a)},[]),s.jsx(Wg,{client:iw,children:s.jsx(Ux,{userId:e,children:s.jsx(Hx,{children:r?s.jsx(nw,{}):s.jsxs(s.Fragment,{children:[s.jsx(aw,{}),s.jsxs("div",{className:"min-h-screen transition-colors duration-500",children:[s.jsx(rw,{}),s.jsx(zx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(99, 102, 241, 0.9)",backdropFilter:"blur(10px)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)"}}})]})]})})})})}function aw(){const{settings:e}=Tt();return N.useEffect(()=>{if(!e)return;const t=document.documentElement,r=e.theme||"default";t.classList.remove("theme-dark","theme-light","theme-default"),t.classList.add(`theme-${r}`),r==="light"?(t.style.setProperty("--bg-primary","#f3f4f6"),t.style.setProperty("--text-primary","#1f2937")):r==="dark"?(t.style.setProperty("--bg-primary","#0f172a"),t.style.setProperty("--text-primary","#f8fafc")):(t.style.removeProperty("--bg-primary"),t.style.removeProperty("--text-primary"))},[e==null?void 0:e.theme]),null}ma.createRoot(document.getElementById("root")).render(s.jsx(mo.StrictMode,{children:s.jsx(ow,{})}));
