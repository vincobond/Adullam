var Nx=Object.defineProperty;var Sx=(e,t,r)=>t in e?Nx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var z=(e,t,r)=>Sx(e,typeof t!="symbol"?t+"":t,r);function jx(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function Em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tm={exports:{}},yl={},Om={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=Symbol.for("react.element"),Dx=Symbol.for("react.portal"),_x=Symbol.for("react.fragment"),Cx=Symbol.for("react.strict_mode"),Px=Symbol.for("react.profiler"),Mx=Symbol.for("react.provider"),Ex=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),Ox=Symbol.for("react.suspense"),Rx=Symbol.for("react.memo"),Ix=Symbol.for("react.lazy"),hf=Symbol.iterator;function Lx(e){return e===null||typeof e!="object"?null:(e=hf&&e[hf]||e["@@iterator"],typeof e=="function"?e:null)}var Rm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Im=Object.assign,Lm={};function na(e,t,r){this.props=e,this.context=t,this.refs=Lm,this.updater=r||Rm}na.prototype.isReactComponent={};na.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};na.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Am(){}Am.prototype=na.prototype;function Kd(e,t,r){this.props=e,this.context=t,this.refs=Lm,this.updater=r||Rm}var Gd=Kd.prototype=new Am;Gd.constructor=Kd;Im(Gd,na.prototype);Gd.isPureReactComponent=!0;var mf=Array.isArray,$m=Object.prototype.hasOwnProperty,Xd={current:null},Fm={key:!0,ref:!0,__self:!0,__source:!0};function Ym(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)$m.call(t,n)&&!Fm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:pi,type:e,key:a,ref:o,props:s,_owner:Xd.current}}function Ax(e,t){return{$$typeof:pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Jd(e){return typeof e=="object"&&e!==null&&e.$$typeof===pi}function $x(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var pf=/\/+/g;function Ql(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$x(""+e.key):t.toString(36)}function ao(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pi:case Dx:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ql(o,0):n,mf(s)?(r="",e!=null&&(r=e.replace(pf,"$&/")+"/"),ao(s,t,r,"",function(d){return d})):s!=null&&(Jd(s)&&(s=Ax(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",mf(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ql(a,l);o+=ao(a,t,r,c,s)}else if(c=Lx(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ql(a,l++),o+=ao(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ei(e,t,r){if(e==null)return e;var n=[],s=0;return ao(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Fx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var pt={current:null},io={transition:null},Yx={ReactCurrentDispatcher:pt,ReactCurrentBatchConfig:io,ReactCurrentOwner:Xd};function Wm(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Ei,forEach:function(e,t,r){Ei(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ei(e,function(){t++}),t},toArray:function(e){return Ei(e,function(t){return t})||[]},only:function(e){if(!Jd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=na;re.Fragment=_x;re.Profiler=Px;re.PureComponent=Kd;re.StrictMode=Cx;re.Suspense=Ox;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;re.act=Wm;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Im({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Xd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$m.call(t,c)&&!Fm.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];n.children=l}return{$$typeof:pi,type:e.type,key:s,ref:a,props:n,_owner:o}};re.createContext=function(e){return e={$$typeof:Ex,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Mx,_context:e},e.Consumer=e};re.createElement=Ym;re.createFactory=function(e){var t=Ym.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Tx,render:e}};re.isValidElement=Jd;re.lazy=function(e){return{$$typeof:Ix,_payload:{_status:-1,_result:e},_init:Fx}};re.memo=function(e,t){return{$$typeof:Rx,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=io.transition;io.transition={};try{e()}finally{io.transition=t}};re.unstable_act=Wm;re.useCallback=function(e,t){return pt.current.useCallback(e,t)};re.useContext=function(e){return pt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return pt.current.useDeferredValue(e)};re.useEffect=function(e,t){return pt.current.useEffect(e,t)};re.useId=function(){return pt.current.useId()};re.useImperativeHandle=function(e,t,r){return pt.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return pt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return pt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return pt.current.useMemo(e,t)};re.useReducer=function(e,t,r){return pt.current.useReducer(e,t,r)};re.useRef=function(e){return pt.current.useRef(e)};re.useState=function(e){return pt.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return pt.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return pt.current.useTransition()};re.version="18.3.1";Om.exports=re;var k=Om.exports;const T=Em(k),Um=jx({__proto__:null,default:T},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wx=k,Ux=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),qx=Object.prototype.hasOwnProperty,Vx=Wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bx={key:!0,ref:!0,__self:!0,__source:!0};function zm(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)qx.call(t,n)&&!Bx.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Ux,type:e,key:a,ref:o,props:s,_owner:Vx.current}}yl.Fragment=zx;yl.jsx=zm;yl.jsxs=zm;Tm.exports=yl;var i=Tm.exports,Fc={},qm={exports:{}},Tt={},Vm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,L){var A=_.length;_.push(L);e:for(;0<A;){var K=A-1>>>1,te=_[K];if(0<s(te,L))_[K]=L,_[A]=te,A=K;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var L=_[0],A=_.pop();if(A!==L){_[0]=A;e:for(var K=0,te=_.length,de=te>>>1;K<de;){var ge=2*(K+1)-1,xe=_[ge],Re=ge+1,xt=_[Re];if(0>s(xe,A))Re<te&&0>s(xt,xe)?(_[K]=xt,_[Re]=A,K=Re):(_[K]=xe,_[ge]=A,K=ge);else if(Re<te&&0>s(xt,A))_[K]=xt,_[Re]=A,K=Re;else break e}}return L}function s(_,L){var A=_.sortIndex-L.sortIndex;return A!==0?A:_.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,f=null,h=3,m=!1,p=!1,x=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var L=r(d);L!==null;){if(L.callback===null)n(d);else if(L.startTime<=_)n(d),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(d)}}function N(_){if(x=!1,w(_),!p)if(r(c)!==null)p=!0,F(P);else{var L=r(d);L!==null&&U(N,L.startTime-_)}}function P(_,L){p=!1,x&&(x=!1,y(b),b=-1),m=!0;var A=h;try{for(w(L),f=r(c);f!==null&&(!(f.expirationTime>L)||_&&!D());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var te=K(f.expirationTime<=L);L=e.unstable_now(),typeof te=="function"?f.callback=te:f===r(c)&&n(c),w(L)}else n(c);f=r(c)}if(f!==null)var de=!0;else{var ge=r(d);ge!==null&&U(N,ge.startTime-L),de=!1}return de}finally{f=null,h=A,m=!1}}var M=!1,C=null,b=-1,E=5,j=-1;function D(){return!(e.unstable_now()-j<E)}function R(){if(C!==null){var _=e.unstable_now();j=_;var L=!0;try{L=C(!0,_)}finally{L?O():(M=!1,C=null)}}else M=!1}var O;if(typeof v=="function")O=function(){v(R)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,q=W.port2;W.port1.onmessage=R,O=function(){q.postMessage(null)}}else O=function(){g(R,0)};function F(_){C=_,M||(M=!0,O())}function U(_,L){b=g(function(){_(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,F(P))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var A=h;h=L;try{return _()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,L){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=h;h=_;try{return L()}finally{h=A}},e.unstable_scheduleCallback=function(_,L,A){var K=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?K+A:K):A=K,_){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=A+te,_={id:u++,callback:L,priorityLevel:_,startTime:A,expirationTime:te,sortIndex:-1},A>K?(_.sortIndex=A,t(d,_),r(c)===null&&_===r(d)&&(x?(y(b),b=-1):x=!0,U(N,A-K))):(_.sortIndex=te,t(c,_),p||m||(p=!0,F(P))),_},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(_){var L=h;return function(){var A=h;h=L;try{return _.apply(this,arguments)}finally{h=A}}}})(Bm);Vm.exports=Bm;var Hx=Vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=k,Et=Hx;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm=new Set,Va={};function as(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(Va[e]=t,e=0;e<t.length;e++)Hm.add(t[e])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=Object.prototype.hasOwnProperty,Kx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gf={},xf={};function Gx(e){return Yc.call(xf,e)?!0:Yc.call(gf,e)?!1:Kx.test(e)?xf[e]=!0:(gf[e]=!0,!1)}function Xx(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jx(e,t,r,n){if(t===null||typeof t>"u"||Xx(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zd=/[\-:]([a-z])/g;function eu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zd,eu);tt[t]=new gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zd,eu);tt[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zd,eu);tt[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function tu(e,t,r,n){var s=tt.hasOwnProperty(t)?tt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jx(t,r,s,n)&&(r=null),n||s===null?Gx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kr=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ti=Symbol.for("react.element"),ps=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),ru=Symbol.for("react.strict_mode"),Wc=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Km=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),su=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),Gm=Symbol.for("react.offscreen"),vf=Symbol.iterator;function ua(e){return e===null||typeof e!="object"?null:(e=vf&&e[vf]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,Kl;function Da(e){if(Kl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kl=t&&t[1]||""}return`
`+Kl+e}var Gl=!1;function Xl(e,t){if(!e||Gl)return"";Gl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Gl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Da(e):""}function Zx(e){switch(e.tag){case 5:return Da(e.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return e=Xl(e.type,!1),e;case 11:return e=Xl(e.type.render,!1),e;case 1:return e=Xl(e.type,!0),e;default:return""}}function qc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case ps:return"Portal";case Wc:return"Profiler";case ru:return"StrictMode";case Uc:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Km:return(e.displayName||"Context")+".Consumer";case Qm:return(e._context.displayName||"Context")+".Provider";case nu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case su:return t=e.displayName||null,t!==null?t:qc(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return qc(e(t))}catch{}}return null}function ev(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qc(t);case 8:return t===ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tv(e){var t=Xm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oi(e){e._valueTracker||(e._valueTracker=tv(e))}function Jm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vc(e,t){var r=t.checked;return Ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zm(e,t){t=t.checked,t!=null&&tu(e,"checked",t,!1)}function Bc(e,t){Zm(e,t);var r=Nn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Hc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Hc(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Hc(e,t,r){(t!=="number"||Co(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var _a=Array.isArray;function Ps(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(_a(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nn(r)}}function ep(e,t){var r=Nn(t.value),n=Nn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function kf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,rp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ba(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rv=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(e){rv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ta[t]=Ta[e]})});function np(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ta.hasOwnProperty(e)&&Ta[e]?(""+t).trim():t+"px"}function sp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=np(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var nv=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gc(e,t){if(t){if(nv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Xc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=null;function au(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zc=null,Ms=null,Es=null;function Nf(e){if(e=vi(e)){if(typeof Zc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=Sl(t),Zc(e.stateNode,e.type,t))}}function ap(e){Ms?Es?Es.push(e):Es=[e]:Ms=e}function ip(){if(Ms){var e=Ms,t=Es;if(Es=Ms=null,Nf(e),t)for(e=0;e<t.length;e++)Nf(t[e])}}function op(e,t){return e(t)}function lp(){}var Jl=!1;function cp(e,t,r){if(Jl)return e(t,r);Jl=!0;try{return op(e,t,r)}finally{Jl=!1,(Ms!==null||Es!==null)&&(lp(),ip())}}function Ha(e,t){var r=e.stateNode;if(r===null)return null;var n=Sl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var ed=!1;if(zr)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){ed=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{ed=!1}function sv(e,t,r,n,s,a,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var Oa=!1,Po=null,Mo=!1,td=null,av={onError:function(e){Oa=!0,Po=e}};function iv(e,t,r,n,s,a,o,l,c){Oa=!1,Po=null,sv.apply(av,arguments)}function ov(e,t,r,n,s,a,o,l,c){if(iv.apply(this,arguments),Oa){if(Oa){var d=Po;Oa=!1,Po=null}else throw Error(I(198));Mo||(Mo=!0,td=d)}}function is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function dp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sf(e){if(is(e)!==e)throw Error(I(188))}function lv(e){var t=e.alternate;if(!t){if(t=is(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Sf(s),e;if(a===n)return Sf(s),t;a=a.sibling}throw Error(I(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function up(e){return e=lv(e),e!==null?fp(e):null}function fp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fp(e);if(t!==null)return t;e=e.sibling}return null}var hp=Et.unstable_scheduleCallback,jf=Et.unstable_cancelCallback,cv=Et.unstable_shouldYield,dv=Et.unstable_requestPaint,Le=Et.unstable_now,uv=Et.unstable_getCurrentPriorityLevel,iu=Et.unstable_ImmediatePriority,mp=Et.unstable_UserBlockingPriority,Eo=Et.unstable_NormalPriority,fv=Et.unstable_LowPriority,pp=Et.unstable_IdlePriority,wl=null,wr=null;function hv(e){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(wl,e,void 0,(e.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:gv,mv=Math.log,pv=Math.LN2;function gv(e){return e>>>=0,e===0?32:31-(mv(e)/pv|0)|0}var Ii=64,Li=4194304;function Ca(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function To(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Ca(l):(a&=o,a!==0&&(n=Ca(a)))}else o=r&~s,o!==0?n=Ca(o):a!==0&&(n=Ca(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zt(t),s=1<<r,n|=e[r],t&=~s;return n}function xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Zt(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=xv(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function rd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gp(){var e=Ii;return Ii<<=1,!(Ii&4194240)&&(Ii=64),e}function Zl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zt(t),e[t]=r}function yv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Zt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function ou(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var me=0;function xp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vp,lu,yp,wp,bp,nd=!1,Ai=[],fn=null,hn=null,mn=null,Qa=new Map,Ka=new Map,an=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Df(e,t){switch(e){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Qa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(t.pointerId)}}function ha(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=vi(t),t!==null&&lu(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function bv(e,t,r,n,s){switch(t){case"focusin":return fn=ha(fn,e,t,r,n,s),!0;case"dragenter":return hn=ha(hn,e,t,r,n,s),!0;case"mouseover":return mn=ha(mn,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Qa.set(a,ha(Qa.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ka.set(a,ha(Ka.get(a)||null,e,t,r,n,s)),!0}return!1}function kp(e){var t=Fn(e.target);if(t!==null){var r=is(t);if(r!==null){if(t=r.tag,t===13){if(t=dp(r),t!==null){e.blockedOn=t,bp(e.priority,function(){yp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=sd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Jc=n,r.target.dispatchEvent(n),Jc=null}else return t=vi(r),t!==null&&lu(t),e.blockedOn=r,!1;t.shift()}return!0}function _f(e,t,r){oo(e)&&r.delete(t)}function kv(){nd=!1,fn!==null&&oo(fn)&&(fn=null),hn!==null&&oo(hn)&&(hn=null),mn!==null&&oo(mn)&&(mn=null),Qa.forEach(_f),Ka.forEach(_f)}function ma(e,t){e.blockedOn===t&&(e.blockedOn=null,nd||(nd=!0,Et.unstable_scheduleCallback(Et.unstable_NormalPriority,kv)))}function Ga(e){function t(s){return ma(s,e)}if(0<Ai.length){ma(Ai[0],e);for(var r=1;r<Ai.length;r++){var n=Ai[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fn!==null&&ma(fn,e),hn!==null&&ma(hn,e),mn!==null&&ma(mn,e),Qa.forEach(t),Ka.forEach(t),r=0;r<an.length;r++)n=an[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<an.length&&(r=an[0],r.blockedOn===null);)kp(r),r.blockedOn===null&&an.shift()}var Ts=Kr.ReactCurrentBatchConfig,Oo=!0;function Nv(e,t,r,n){var s=me,a=Ts.transition;Ts.transition=null;try{me=1,cu(e,t,r,n)}finally{me=s,Ts.transition=a}}function Sv(e,t,r,n){var s=me,a=Ts.transition;Ts.transition=null;try{me=4,cu(e,t,r,n)}finally{me=s,Ts.transition=a}}function cu(e,t,r,n){if(Oo){var s=sd(e,t,r,n);if(s===null)cc(e,t,n,Ro,r),Df(e,n);else if(bv(s,e,t,r,n))n.stopPropagation();else if(Df(e,n),t&4&&-1<wv.indexOf(e)){for(;s!==null;){var a=vi(s);if(a!==null&&vp(a),a=sd(e,t,r,n),a===null&&cc(e,t,n,Ro,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else cc(e,t,n,null,r)}}var Ro=null;function sd(e,t,r,n){if(Ro=null,e=au(n),e=Fn(e),e!==null)if(t=is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=dp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ro=e,null}function Np(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uv()){case iu:return 1;case mp:return 4;case Eo:case fv:return 16;case pp:return 536870912;default:return 16}default:return 16}}var cn=null,du=null,lo=null;function Sp(){if(lo)return lo;var e,t=du,r=t.length,n,s="value"in cn?cn.value:cn.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return lo=s.slice(e,1<n?1-n:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Cf(){return!1}function Ot(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$i:Cf,this.isPropagationStopped=Cf,this}return Ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uu=Ot(sa),xi=Ee({},sa,{view:0,detail:0}),jv=Ot(xi),ec,tc,pa,bl=Ee({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(ec=e.screenX-pa.screenX,tc=e.screenY-pa.screenY):tc=ec=0,pa=e),ec)},movementY:function(e){return"movementY"in e?e.movementY:tc}}),Pf=Ot(bl),Dv=Ee({},bl,{dataTransfer:0}),_v=Ot(Dv),Cv=Ee({},xi,{relatedTarget:0}),rc=Ot(Cv),Pv=Ee({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Mv=Ot(Pv),Ev=Ee({},sa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tv=Ot(Ev),Ov=Ee({},sa,{data:0}),Mf=Ot(Ov),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Av(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lv[e])?!!t[e]:!1}function fu(){return Av}var $v=Ee({},xi,{key:function(e){if(e.key){var t=Rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fu,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fv=Ot($v),Yv=Ee({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ef=Ot(Yv),Wv=Ee({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fu}),Uv=Ot(Wv),zv=Ee({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),qv=Ot(zv),Vv=Ee({},bl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bv=Ot(Vv),Hv=[9,13,27,32],hu=zr&&"CompositionEvent"in window,Ra=null;zr&&"documentMode"in document&&(Ra=document.documentMode);var Qv=zr&&"TextEvent"in window&&!Ra,jp=zr&&(!hu||Ra&&8<Ra&&11>=Ra),Tf=" ",Of=!1;function Dp(e,t){switch(e){case"keyup":return Hv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _p(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xs=!1;function Kv(e,t){switch(e){case"compositionend":return _p(t);case"keypress":return t.which!==32?null:(Of=!0,Tf);case"textInput":return e=t.data,e===Tf&&Of?null:e;default:return null}}function Gv(e,t){if(xs)return e==="compositionend"||!hu&&Dp(e,t)?(e=Sp(),lo=du=cn=null,xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jp&&t.locale!=="ko"?null:t.data;default:return null}}var Xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xv[e.type]:t==="textarea"}function Cp(e,t,r,n){ap(n),t=Io(t,"onChange"),0<t.length&&(r=new uu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ia=null,Xa=null;function Jv(e){Fp(e,0)}function kl(e){var t=ws(e);if(Jm(t))return e}function Zv(e,t){if(e==="change")return t}var Pp=!1;if(zr){var nc;if(zr){var sc="oninput"in document;if(!sc){var If=document.createElement("div");If.setAttribute("oninput","return;"),sc=typeof If.oninput=="function"}nc=sc}else nc=!1;Pp=nc&&(!document.documentMode||9<document.documentMode)}function Lf(){Ia&&(Ia.detachEvent("onpropertychange",Mp),Xa=Ia=null)}function Mp(e){if(e.propertyName==="value"&&kl(Xa)){var t=[];Cp(t,Xa,e,au(e)),cp(Jv,t)}}function ey(e,t,r){e==="focusin"?(Lf(),Ia=t,Xa=r,Ia.attachEvent("onpropertychange",Mp)):e==="focusout"&&Lf()}function ty(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return kl(Xa)}function ry(e,t){if(e==="click")return kl(t)}function ny(e,t){if(e==="input"||e==="change")return kl(t)}function sy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rr=typeof Object.is=="function"?Object.is:sy;function Ja(e,t){if(rr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yc.call(t,s)||!rr(e[s],t[s]))return!1}return!0}function Af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $f(e,t){var r=Af(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Af(r)}}function Ep(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ep(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tp(){for(var e=window,t=Co();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Co(e.document)}return t}function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ay(e){var t=Tp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ep(r.ownerDocument.documentElement,r)){if(n!==null&&mu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=$f(r,a);var o=$f(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iy=zr&&"documentMode"in document&&11>=document.documentMode,vs=null,ad=null,La=null,id=!1;function Ff(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;id||vs==null||vs!==Co(n)||(n=vs,"selectionStart"in n&&mu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),La&&Ja(La,n)||(La=n,n=Io(ad,"onSelect"),0<n.length&&(t=new uu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=vs)))}function Fi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ys={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionend:Fi("Transition","TransitionEnd")},ac={},Op={};zr&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Nl(e){if(ac[e])return ac[e];if(!ys[e])return e;var t=ys[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Op)return ac[e]=t[r];return e}var Rp=Nl("animationend"),Ip=Nl("animationiteration"),Lp=Nl("animationstart"),Ap=Nl("transitionend"),$p=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){$p.set(e,t),as(t,[e])}for(var ic=0;ic<Yf.length;ic++){var oc=Yf[ic],oy=oc.toLowerCase(),ly=oc[0].toUpperCase()+oc.slice(1);Pn(oy,"on"+ly)}Pn(Rp,"onAnimationEnd");Pn(Ip,"onAnimationIteration");Pn(Lp,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Ap,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function Wf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ov(n,t,void 0,e),e.currentTarget=null}function Fp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Wf(s,l,d),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Wf(s,l,d),a=c}}}if(Mo)throw e=td,Mo=!1,td=null,e}function ke(e,t){var r=t[ud];r===void 0&&(r=t[ud]=new Set);var n=e+"__bubble";r.has(n)||(Yp(t,e,2,!1),r.add(n))}function lc(e,t,r){var n=0;t&&(n|=4),Yp(r,e,n,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Za(e){if(!e[Yi]){e[Yi]=!0,Hm.forEach(function(r){r!=="selectionchange"&&(cy.has(r)||lc(r,!1,e),lc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,lc("selectionchange",!1,t))}}function Yp(e,t,r,n){switch(Np(t)){case 1:var s=Nv;break;case 4:s=Sv;break;default:s=cu}r=s.bind(null,t,r,e),s=void 0,!ed||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function cc(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Fn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}cp(function(){var d=a,u=au(r),f=[];e:{var h=$p.get(e);if(h!==void 0){var m=uu,p=e;switch(e){case"keypress":if(co(r)===0)break e;case"keydown":case"keyup":m=Fv;break;case"focusin":p="focus",m=rc;break;case"focusout":p="blur",m=rc;break;case"beforeblur":case"afterblur":m=rc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Pf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Uv;break;case Rp:case Ip:case Lp:m=Mv;break;case Ap:m=qv;break;case"scroll":m=jv;break;case"wheel":m=Bv;break;case"copy":case"cut":case"paste":m=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ef}var x=(t&4)!==0,g=!x&&e==="scroll",y=x?h!==null?h+"Capture":null:h;x=[];for(var v=d,w;v!==null;){w=v;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,y!==null&&(N=Ha(v,y),N!=null&&x.push(ei(v,N,w)))),g)break;v=v.return}0<x.length&&(h=new m(h,p,null,r,u),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Jc&&(p=r.relatedTarget||r.fromElement)&&(Fn(p)||p[qr]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=d,p=p?Fn(p):null,p!==null&&(g=is(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=d),m!==p)){if(x=Pf,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Ef,N="onPointerLeave",y="onPointerEnter",v="pointer"),g=m==null?h:ws(m),w=p==null?h:ws(p),h=new x(N,v+"leave",m,r,u),h.target=g,h.relatedTarget=w,N=null,Fn(u)===d&&(x=new x(y,v+"enter",p,r,u),x.target=w,x.relatedTarget=g,N=x),g=N,m&&p)t:{for(x=m,y=p,v=0,w=x;w;w=ds(w))v++;for(w=0,N=y;N;N=ds(N))w++;for(;0<v-w;)x=ds(x),v--;for(;0<w-v;)y=ds(y),w--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=ds(x),y=ds(y)}x=null}else x=null;m!==null&&Uf(f,h,m,x,!1),p!==null&&g!==null&&Uf(f,g,p,x,!0)}}e:{if(h=d?ws(d):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var P=Zv;else if(Rf(h))if(Pp)P=ny;else{P=ty;var M=ey}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=ry);if(P&&(P=P(e,d))){Cp(f,P,r,u);break e}M&&M(e,h,d),e==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Hc(h,"number",h.value)}switch(M=d?ws(d):window,e){case"focusin":(Rf(M)||M.contentEditable==="true")&&(vs=M,ad=d,La=null);break;case"focusout":La=ad=vs=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Ff(f,r,u);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":Ff(f,r,u)}var C;if(hu)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else xs?Dp(e,r)&&(b="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(b="onCompositionStart");b&&(jp&&r.locale!=="ko"&&(xs||b!=="onCompositionStart"?b==="onCompositionEnd"&&xs&&(C=Sp()):(cn=u,du="value"in cn?cn.value:cn.textContent,xs=!0)),M=Io(d,b),0<M.length&&(b=new Mf(b,e,null,r,u),f.push({event:b,listeners:M}),C?b.data=C:(C=_p(r),C!==null&&(b.data=C)))),(C=Qv?Kv(e,r):Gv(e,r))&&(d=Io(d,"onBeforeInput"),0<d.length&&(u=new Mf("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:d}),u.data=C))}Fp(f,t)})}function ei(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Io(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ha(e,r),a!=null&&n.unshift(ei(e,a,s)),a=Ha(e,t),a!=null&&n.push(ei(e,a,s))),e=e.return}return n}function ds(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uf(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,d=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&d!==null&&(l=d,s?(c=Ha(r,a),c!=null&&o.unshift(ei(r,c,l))):s||(c=Ha(r,a),c!=null&&o.push(ei(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var dy=/\r\n?/g,uy=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(dy,`
`).replace(uy,"")}function Wi(e,t,r){if(t=zf(t),zf(e)!==t&&r)throw Error(I(425))}function Lo(){}var od=null,ld=null;function cd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,fy=typeof clearTimeout=="function"?clearTimeout:void 0,qf=typeof Promise=="function"?Promise:void 0,hy=typeof queueMicrotask=="function"?queueMicrotask:typeof qf<"u"?function(e){return qf.resolve(null).then(e).catch(my)}:dd;function my(e){setTimeout(function(){throw e})}function dc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ga(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ga(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var aa=Math.random().toString(36).slice(2),fr="__reactFiber$"+aa,ti="__reactProps$"+aa,qr="__reactContainer$"+aa,ud="__reactEvents$"+aa,py="__reactListeners$"+aa,gy="__reactHandles$"+aa;function Fn(e){var t=e[fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qr]||r[fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vf(e);e!==null;){if(r=e[fr])return r;e=Vf(e)}return t}e=r,r=e.parentNode}return null}function vi(e){return e=e[fr]||e[qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function Sl(e){return e[ti]||null}var fd=[],bs=-1;function Mn(e){return{current:e}}function Ne(e){0>bs||(e.current=fd[bs],fd[bs]=null,bs--)}function ye(e,t){bs++,fd[bs]=e.current,e.current=t}var Sn={},ct=Mn(Sn),wt=Mn(!1),Gn=Sn;function Ws(e,t){var r=e.type.contextTypes;if(!r)return Sn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bt(e){return e=e.childContextTypes,e!=null}function Ao(){Ne(wt),Ne(ct)}function Bf(e,t,r){if(ct.current!==Sn)throw Error(I(168));ye(ct,t),ye(wt,r)}function Wp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(I(108,ev(e)||"Unknown",s));return Ee({},r,n)}function $o(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Gn=ct.current,ye(ct,e),ye(wt,wt.current),!0}function Hf(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=Wp(e,t,Gn),n.__reactInternalMemoizedMergedChildContext=e,Ne(wt),Ne(ct),ye(ct,e)):Ne(wt),ye(wt,r)}var Mr=null,jl=!1,uc=!1;function Up(e){Mr===null?Mr=[e]:Mr.push(e)}function xy(e){jl=!0,Up(e)}function En(){if(!uc&&Mr!==null){uc=!0;var e=0,t=me;try{var r=Mr;for(me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Mr=null,jl=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(e+1)),hp(iu,En),s}finally{me=t,uc=!1}}return null}var ks=[],Ns=0,Fo=null,Yo=0,$t=[],Ft=0,Xn=null,Tr=1,Or="";function Rn(e,t){ks[Ns++]=Yo,ks[Ns++]=Fo,Fo=e,Yo=t}function zp(e,t,r){$t[Ft++]=Tr,$t[Ft++]=Or,$t[Ft++]=Xn,Xn=e;var n=Tr;e=Or;var s=32-Zt(n)-1;n&=~(1<<s),r+=1;var a=32-Zt(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Tr=1<<32-Zt(t)+s|r<<s|n,Or=a+e}else Tr=1<<a|r<<s|n,Or=e}function pu(e){e.return!==null&&(Rn(e,1),zp(e,1,0))}function gu(e){for(;e===Fo;)Fo=ks[--Ns],ks[Ns]=null,Yo=ks[--Ns],ks[Ns]=null;for(;e===Xn;)Xn=$t[--Ft],$t[Ft]=null,Or=$t[--Ft],$t[Ft]=null,Tr=$t[--Ft],$t[Ft]=null}var Pt=null,_t=null,je=!1,Jt=null;function qp(e,t){var r=zt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Qf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,_t=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,_t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xn!==null?{id:Tr,overflow:Or}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pt=e,_t=null,!0):!1;default:return!1}}function hd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function md(e){if(je){var t=_t;if(t){var r=t;if(!Qf(e,t)){if(hd(e))throw Error(I(418));t=pn(r.nextSibling);var n=Pt;t&&Qf(e,t)?qp(n,r):(e.flags=e.flags&-4097|2,je=!1,Pt=e)}}else{if(hd(e))throw Error(I(418));e.flags=e.flags&-4097|2,je=!1,Pt=e}}}function Kf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Ui(e){if(e!==Pt)return!1;if(!je)return Kf(e),je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cd(e.type,e.memoizedProps)),t&&(t=_t)){if(hd(e))throw Vp(),Error(I(418));for(;t;)qp(e,t),t=pn(t.nextSibling)}if(Kf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_t=pn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_t=null}}else _t=Pt?pn(e.stateNode.nextSibling):null;return!0}function Vp(){for(var e=_t;e;)e=pn(e.nextSibling)}function Us(){_t=Pt=null,je=!1}function xu(e){Jt===null?Jt=[e]:Jt.push(e)}var vy=Kr.ReactCurrentBatchConfig;function ga(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function zi(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gf(e){var t=e._init;return t(e._payload)}function Bp(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=yn(y,v),y.index=0,y.sibling=null,y}function a(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,N){return v===null||v.tag!==6?(v=vc(w,y.mode,N),v.return=y,v):(v=s(v,w),v.return=y,v)}function c(y,v,w,N){var P=w.type;return P===gs?u(y,v,w.props.children,N,w.key):v!==null&&(v.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nn&&Gf(P)===v.type)?(N=s(v,w.props),N.ref=ga(y,v,w),N.return=y,N):(N=xo(w.type,w.key,w.props,null,y.mode,N),N.ref=ga(y,v,w),N.return=y,N)}function d(y,v,w,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=yc(w,y.mode,N),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function u(y,v,w,N,P){return v===null||v.tag!==7?(v=Vn(w,y.mode,N,P),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=vc(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ti:return w=xo(v.type,v.key,v.props,null,y.mode,w),w.ref=ga(y,null,v),w.return=y,w;case ps:return v=yc(v,y.mode,w),v.return=y,v;case nn:var N=v._init;return f(y,N(v._payload),w)}if(_a(v)||ua(v))return v=Vn(v,y.mode,w,null),v.return=y,v;zi(y,v)}return null}function h(y,v,w,N){var P=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:l(y,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ti:return w.key===P?c(y,v,w,N):null;case ps:return w.key===P?d(y,v,w,N):null;case nn:return P=w._init,h(y,v,P(w._payload),N)}if(_a(w)||ua(w))return P!==null?null:u(y,v,w,N,null);zi(y,w)}return null}function m(y,v,w,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(w)||null,l(v,y,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ti:return y=y.get(N.key===null?w:N.key)||null,c(v,y,N,P);case ps:return y=y.get(N.key===null?w:N.key)||null,d(v,y,N,P);case nn:var M=N._init;return m(y,v,w,M(N._payload),P)}if(_a(N)||ua(N))return y=y.get(w)||null,u(v,y,N,P,null);zi(v,N)}return null}function p(y,v,w,N){for(var P=null,M=null,C=v,b=v=0,E=null;C!==null&&b<w.length;b++){C.index>b?(E=C,C=null):E=C.sibling;var j=h(y,C,w[b],N);if(j===null){C===null&&(C=E);break}e&&C&&j.alternate===null&&t(y,C),v=a(j,v,b),M===null?P=j:M.sibling=j,M=j,C=E}if(b===w.length)return r(y,C),je&&Rn(y,b),P;if(C===null){for(;b<w.length;b++)C=f(y,w[b],N),C!==null&&(v=a(C,v,b),M===null?P=C:M.sibling=C,M=C);return je&&Rn(y,b),P}for(C=n(y,C);b<w.length;b++)E=m(C,y,b,w[b],N),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?b:E.key),v=a(E,v,b),M===null?P=E:M.sibling=E,M=E);return e&&C.forEach(function(D){return t(y,D)}),je&&Rn(y,b),P}function x(y,v,w,N){var P=ua(w);if(typeof P!="function")throw Error(I(150));if(w=P.call(w),w==null)throw Error(I(151));for(var M=P=null,C=v,b=v=0,E=null,j=w.next();C!==null&&!j.done;b++,j=w.next()){C.index>b?(E=C,C=null):E=C.sibling;var D=h(y,C,j.value,N);if(D===null){C===null&&(C=E);break}e&&C&&D.alternate===null&&t(y,C),v=a(D,v,b),M===null?P=D:M.sibling=D,M=D,C=E}if(j.done)return r(y,C),je&&Rn(y,b),P;if(C===null){for(;!j.done;b++,j=w.next())j=f(y,j.value,N),j!==null&&(v=a(j,v,b),M===null?P=j:M.sibling=j,M=j);return je&&Rn(y,b),P}for(C=n(y,C);!j.done;b++,j=w.next())j=m(C,y,b,j.value,N),j!==null&&(e&&j.alternate!==null&&C.delete(j.key===null?b:j.key),v=a(j,v,b),M===null?P=j:M.sibling=j,M=j);return e&&C.forEach(function(R){return t(y,R)}),je&&Rn(y,b),P}function g(y,v,w,N){if(typeof w=="object"&&w!==null&&w.type===gs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ti:e:{for(var P=w.key,M=v;M!==null;){if(M.key===P){if(P=w.type,P===gs){if(M.tag===7){r(y,M.sibling),v=s(M,w.props.children),v.return=y,y=v;break e}}else if(M.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nn&&Gf(P)===M.type){r(y,M.sibling),v=s(M,w.props),v.ref=ga(y,M,w),v.return=y,y=v;break e}r(y,M);break}else t(y,M);M=M.sibling}w.type===gs?(v=Vn(w.props.children,y.mode,N,w.key),v.return=y,y=v):(N=xo(w.type,w.key,w.props,null,y.mode,N),N.ref=ga(y,v,w),N.return=y,y=N)}return o(y);case ps:e:{for(M=w.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=yc(w,y.mode,N),v.return=y,y=v}return o(y);case nn:return M=w._init,g(y,v,M(w._payload),N)}if(_a(w))return p(y,v,w,N);if(ua(w))return x(y,v,w,N);zi(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(y,v.sibling),v=s(v,w),v.return=y,y=v):(r(y,v),v=vc(w,y.mode,N),v.return=y,y=v),o(y)):r(y,v)}return g}var zs=Bp(!0),Hp=Bp(!1),Wo=Mn(null),Uo=null,Ss=null,vu=null;function yu(){vu=Ss=Uo=null}function wu(e){var t=Wo.current;Ne(Wo),e._currentValue=t}function pd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Os(e,t){Uo=e,vu=Ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(vu!==e)if(e={context:e,memoizedValue:t,next:null},Ss===null){if(Uo===null)throw Error(I(308));Ss=e,Uo.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Yn=null;function bu(e){Yn===null?Yn=[e]:Yn.push(e)}function Qp(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,bu(t)):(r.next=s.next,s.next=r),t.interleaved=r,Vr(e,n)}function Vr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var sn=!1;function ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ir(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Vr(e,r)}return s=n.interleaved,s===null?(t.next=t,bu(n)):(t.next=s.next,s.next=t),n.interleaved=t,Vr(e,r)}function uo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ou(e,r)}}function Xf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zo(e,t,r,n){var s=e.updateQueue;sn=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?a=d:o.next=d,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,u=d=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Ee({},f,h);break e;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=m,c=f):u=u.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Zn|=o,e.lanes=o,e.memoizedState=f}}function Jf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(I(191,s));s.call(n)}}}var yi={},br=Mn(yi),ri=Mn(yi),ni=Mn(yi);function Wn(e){if(e===yi)throw Error(I(174));return e}function Nu(e,t){switch(ye(ni,t),ye(ri,e),ye(br,yi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Kc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Kc(t,e)}Ne(br),ye(br,t)}function qs(){Ne(br),Ne(ri),Ne(ni)}function Gp(e){Wn(ni.current);var t=Wn(br.current),r=Kc(t,e.type);t!==r&&(ye(ri,e),ye(br,r))}function Su(e){ri.current===e&&(Ne(br),Ne(ri))}var Ce=Mn(0);function qo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fc=[];function ju(){for(var e=0;e<fc.length;e++)fc[e]._workInProgressVersionPrimary=null;fc.length=0}var fo=Kr.ReactCurrentDispatcher,hc=Kr.ReactCurrentBatchConfig,Jn=0,Me=null,qe=null,Qe=null,Vo=!1,Aa=!1,si=0,yy=0;function st(){throw Error(I(321))}function Du(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rr(e[r],t[r]))return!1;return!0}function _u(e,t,r,n,s,a){if(Jn=a,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=e===null||e.memoizedState===null?Ny:Sy,e=r(n,s),Aa){a=0;do{if(Aa=!1,si=0,25<=a)throw Error(I(301));a+=1,Qe=qe=null,t.updateQueue=null,fo.current=jy,e=r(n,s)}while(Aa)}if(fo.current=Bo,t=qe!==null&&qe.next!==null,Jn=0,Qe=qe=Me=null,Vo=!1,t)throw Error(I(300));return e}function Cu(){var e=si!==0;return si=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Me.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function Ht(){if(qe===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Qe===null?Me.memoizedState:Qe.next;if(t!==null)Qe=t,qe=e;else{if(e===null)throw Error(I(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Qe===null?Me.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ai(e,t){return typeof t=="function"?t(e):t}function mc(e){var t=Ht(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=qe,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,d=a;do{var u=d.lane;if((Jn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Me.lanes|=u,Zn|=u}d=d.next}while(d!==null&&d!==a);c===null?o=n:c.next=l,rr(n,t.memoizedState)||(yt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Me.lanes|=a,Zn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pc(e){var t=Ht(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);rr(a,t.memoizedState)||(yt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Xp(){}function Jp(e,t){var r=Me,n=Ht(),s=t(),a=!rr(n.memoizedState,s);if(a&&(n.memoizedState=s,yt=!0),n=n.queue,Pu(t0.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,ii(9,e0.bind(null,r,n,s,t),void 0,null),Ke===null)throw Error(I(349));Jn&30||Zp(r,t,s)}return s}function Zp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function e0(e,t,r,n){t.value=r,t.getSnapshot=n,r0(t)&&n0(e)}function t0(e,t,r){return r(function(){r0(t)&&n0(e)})}function r0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rr(e,r)}catch{return!0}}function n0(e){var t=Vr(e,1);t!==null&&er(t,e,1,-1)}function Zf(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=ky.bind(null,Me,e),[t.memoizedState,e]}function ii(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s0(){return Ht().memoizedState}function ho(e,t,r,n){var s=cr();Me.flags|=e,s.memoizedState=ii(1|t,r,void 0,n===void 0?null:n)}function Dl(e,t,r,n){var s=Ht();n=n===void 0?null:n;var a=void 0;if(qe!==null){var o=qe.memoizedState;if(a=o.destroy,n!==null&&Du(n,o.deps)){s.memoizedState=ii(t,r,a,n);return}}Me.flags|=e,s.memoizedState=ii(1|t,r,a,n)}function eh(e,t){return ho(8390656,8,e,t)}function Pu(e,t){return Dl(2048,8,e,t)}function a0(e,t){return Dl(4,2,e,t)}function i0(e,t){return Dl(4,4,e,t)}function o0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l0(e,t,r){return r=r!=null?r.concat([e]):null,Dl(4,4,o0.bind(null,t,e),r)}function Mu(){}function c0(e,t){var r=Ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Du(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function d0(e,t){var r=Ht();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Du(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function u0(e,t,r){return Jn&21?(rr(r,t)||(r=gp(),Me.lanes|=r,Zn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r)}function wy(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var n=hc.transition;hc.transition={};try{e(!1),t()}finally{me=r,hc.transition=n}}function f0(){return Ht().memoizedState}function by(e,t,r){var n=vn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},h0(e))m0(t,r);else if(r=Qp(e,t,r,n),r!==null){var s=mt();er(r,e,n,s),p0(r,t,n)}}function ky(e,t,r){var n=vn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(h0(e))m0(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,rr(l,o)){var c=t.interleaved;c===null?(s.next=s,bu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Qp(e,t,s,n),r!==null&&(s=mt(),er(r,e,n,s),p0(r,t,n))}}function h0(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function m0(e,t){Aa=Vo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function p0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ou(e,r)}}var Bo={readContext:Bt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Ny={readContext:Bt,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:eh,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ho(4194308,4,o0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ho(4194308,4,e,t)},useInsertionEffect:function(e,t){return ho(4,2,e,t)},useMemo:function(e,t){var r=cr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=by.bind(null,Me,e),[n.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:Zf,useDebugValue:Mu,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=Zf(!1),t=e[0];return e=wy.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Me,s=cr();if(je){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ke===null)throw Error(I(349));Jn&30||Zp(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,eh(t0.bind(null,n,a,e),[e]),n.flags|=2048,ii(9,e0.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=cr(),t=Ke.identifierPrefix;if(je){var r=Or,n=Tr;r=(n&~(1<<32-Zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=si++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=yy++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Sy={readContext:Bt,useCallback:c0,useContext:Bt,useEffect:Pu,useImperativeHandle:l0,useInsertionEffect:a0,useLayoutEffect:i0,useMemo:d0,useReducer:mc,useRef:s0,useState:function(){return mc(ai)},useDebugValue:Mu,useDeferredValue:function(e){var t=Ht();return u0(t,qe.memoizedState,e)},useTransition:function(){var e=mc(ai)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Jp,useId:f0,unstable_isNewReconciler:!1},jy={readContext:Bt,useCallback:c0,useContext:Bt,useEffect:Pu,useImperativeHandle:l0,useInsertionEffect:a0,useLayoutEffect:i0,useMemo:d0,useReducer:pc,useRef:s0,useState:function(){return pc(ai)},useDebugValue:Mu,useDeferredValue:function(e){var t=Ht();return qe===null?t.memoizedState=e:u0(t,qe.memoizedState,e)},useTransition:function(){var e=pc(ai)[0],t=Ht().memoizedState;return[e,t]},useMutableSource:Xp,useSyncExternalStore:Jp,useId:f0,unstable_isNewReconciler:!1};function Gt(e,t){if(e&&e.defaultProps){t=Ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _l={isMounted:function(e){return(e=e._reactInternals)?is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=mt(),s=vn(e),a=Ir(n,s);a.payload=t,r!=null&&(a.callback=r),t=gn(e,a,s),t!==null&&(er(t,e,s,n),uo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=mt(),s=vn(e),a=Ir(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=gn(e,a,s),t!==null&&(er(t,e,s,n),uo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=mt(),n=vn(e),s=Ir(r,n);s.tag=2,t!=null&&(s.callback=t),t=gn(e,s,n),t!==null&&(er(t,e,n,r),uo(t,e,n))}};function th(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ja(r,n)||!Ja(s,a):!0}function g0(e,t,r){var n=!1,s=Sn,a=t.contextType;return typeof a=="object"&&a!==null?a=Bt(a):(s=bt(t)?Gn:ct.current,n=t.contextTypes,a=(n=n!=null)?Ws(e,s):Sn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_l,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function rh(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_l.enqueueReplaceState(t,t.state,null)}function xd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ku(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Bt(a):(a=bt(t)?Gn:ct.current,s.context=Ws(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(gd(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_l.enqueueReplaceState(s,s.state,null),zo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vs(e,t){try{var r="",n=t;do r+=Zx(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function gc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dy=typeof WeakMap=="function"?WeakMap:Map;function x0(e,t,r){r=Ir(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qo||(Qo=!0,Cd=n),vd(e,t)},r}function v0(e,t,r){r=Ir(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){vd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){vd(e,t),typeof n!="function"&&(xn===null?xn=new Set([this]):xn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function nh(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Dy;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Yy.bind(null,e,t,r),t.then(e,e))}function sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ir(-1,1),t.tag=2,gn(r,t,1))),r.lanes|=1),e)}var _y=Kr.ReactCurrentOwner,yt=!1;function ut(e,t,r,n){t.child=e===null?Hp(t,null,r,n):zs(t,e.child,r,n)}function ih(e,t,r,n,s){r=r.render;var a=t.ref;return Os(t,s),n=_u(e,t,r,n,a,s),r=Cu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Br(e,t,s)):(je&&r&&pu(t),t.flags|=1,ut(e,t,n,s),t.child)}function oh(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!$u(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,y0(e,t,a,n,s)):(e=xo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ja,r(o,n)&&e.ref===t.ref)return Br(e,t,s)}return t.flags|=1,e=yn(a,n),e.ref=t.ref,e.return=t,t.child=e}function y0(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ja(a,n)&&e.ref===t.ref)if(yt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(yt=!0);else return t.lanes=e.lanes,Br(e,t,s)}return yd(e,t,r,n,s)}function w0(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ds,St),St|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Ds,St),St|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ye(Ds,St),St|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ye(Ds,St),St|=n;return ut(e,t,s,r),t.child}function b0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yd(e,t,r,n,s){var a=bt(r)?Gn:ct.current;return a=Ws(t,a),Os(t,s),r=_u(e,t,r,n,a,s),n=Cu(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Br(e,t,s)):(je&&n&&pu(t),t.flags|=1,ut(e,t,r,s),t.child)}function lh(e,t,r,n,s){if(bt(r)){var a=!0;$o(t)}else a=!1;if(Os(t,s),t.stateNode===null)mo(e,t),g0(t,r,n),xd(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=Bt(d):(d=bt(r)?Gn:ct.current,d=Ws(t,d));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==d)&&rh(t,o,n,d),sn=!1;var h=t.memoizedState;o.state=h,zo(t,n,o,s),c=t.memoizedState,l!==n||h!==c||wt.current||sn?(typeof u=="function"&&(gd(t,r,u,n),c=t.memoizedState),(l=sn||th(t,r,l,n,h,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=d,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Kp(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:Gt(t.type,l),o.props=d,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bt(c):(c=bt(r)?Gn:ct.current,c=Ws(t,c));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&rh(t,o,n,c),sn=!1,h=t.memoizedState,o.state=h,zo(t,n,o,s);var p=t.memoizedState;l!==f||h!==p||wt.current||sn?(typeof m=="function"&&(gd(t,r,m,n),p=t.memoizedState),(d=sn||th(t,r,d,n,h,p,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,p,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,p,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return wd(e,t,r,n,a,s)}function wd(e,t,r,n,s,a){b0(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Hf(t,r,!1),Br(e,t,a);n=t.stateNode,_y.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zs(t,e.child,null,a),t.child=zs(t,null,l,a)):ut(e,t,l,a),t.memoizedState=n.state,s&&Hf(t,r,!0),t.child}function k0(e){var t=e.stateNode;t.pendingContext?Bf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Bf(e,t.context,!1),Nu(e,t.containerInfo)}function ch(e,t,r,n,s){return Us(),xu(s),t.flags|=256,ut(e,t,r,n),t.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function kd(e){return{baseLanes:e,cachePool:null,transitions:null}}function N0(e,t,r){var n=t.pendingProps,s=Ce.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return md(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ml(o,n,0,null),e=Vn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=kd(r),t.memoizedState=bd,e):Eu(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Cy(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=yn(l,a):(a=Vn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?kd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=bd,n}return a=e.child,e=a.sibling,n=yn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Eu(e,t){return t=Ml({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,r,n){return n!==null&&xu(n),zs(t,e.child,null,r),e=Eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cy(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=gc(Error(I(422))),qi(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ml({mode:"visible",children:n.children},s,0,null),a=Vn(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&zs(t,e.child,null,o),t.child.memoizedState=kd(o),t.memoizedState=bd,a);if(!(t.mode&1))return qi(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(I(419)),n=gc(a,n,void 0),qi(e,t,o,n)}if(l=(o&e.childLanes)!==0,yt||l){if(n=Ke,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Vr(e,s),er(n,e,s,-1))}return Au(),n=gc(Error(I(421))),qi(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Wy.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,_t=pn(s.nextSibling),Pt=t,je=!0,Jt=null,e!==null&&($t[Ft++]=Tr,$t[Ft++]=Or,$t[Ft++]=Xn,Tr=e.id,Or=e.overflow,Xn=t),t=Eu(t,n.children),t.flags|=4096,t)}function dh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),pd(e.return,t,r)}function xc(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function S0(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(ut(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,r,t);else if(e.tag===19)dh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ye(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&qo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),xc(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}xc(t,!0,r,null,a);break;case"together":xc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Br(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=yn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Py(e,t,r){switch(t.tag){case 3:k0(t),Us();break;case 5:Gp(t);break;case 1:bt(t.type)&&$o(t);break;case 4:Nu(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ye(Wo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?N0(e,t,r):(ye(Ce,Ce.current&1),e=Br(e,t,r),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,w0(e,t,r)}return Br(e,t,r)}var j0,Nd,D0,_0;j0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Nd=function(){};D0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Wn(br.current);var a=null;switch(r){case"input":s=Vc(e,s),n=Vc(e,n),a=[];break;case"select":s=Ee({},s,{value:void 0}),n=Ee({},n,{value:void 0}),a=[];break;case"textarea":s=Qc(e,s),n=Qc(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lo)}Gc(r,n);var o;r=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Va.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Va.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};_0=function(e,t,r,n){r!==n&&(t.flags|=4)};function xa(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function at(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function My(e,t,r){var n=t.pendingProps;switch(gu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(t),null;case 1:return bt(t.type)&&Ao(),at(t),null;case 3:return n=t.stateNode,qs(),Ne(wt),Ne(ct),ju(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Jt!==null&&(Ed(Jt),Jt=null))),Nd(e,t),at(t),null;case 5:Su(t);var s=Wn(ni.current);if(r=t.type,e!==null&&t.stateNode!=null)D0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return at(t),null}if(e=Wn(br.current),Ui(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[fr]=t,n[ti]=a,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(s=0;s<Pa.length;s++)ke(Pa[s],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":yf(n,a),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ke("invalid",n);break;case"textarea":bf(n,a),ke("invalid",n)}Gc(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Wi(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Wi(n.textContent,l,e),s=["children",""+l]):Va.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ke("scroll",n)}switch(r){case"input":Oi(n),wf(n,a,!0);break;case"textarea":Oi(n),kf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Lo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[fr]=t,e[ti]=n,j0(e,t,!1,!1),t.stateNode=e;e:{switch(o=Xc(r,n),r){case"dialog":ke("cancel",e),ke("close",e),s=n;break;case"iframe":case"object":case"embed":ke("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pa.length;s++)ke(Pa[s],e);s=n;break;case"source":ke("error",e),s=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),s=n;break;case"details":ke("toggle",e),s=n;break;case"input":yf(e,n),s=Vc(e,n),ke("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Ee({},n,{value:void 0}),ke("invalid",e);break;case"textarea":bf(e,n),s=Qc(e,n),ke("invalid",e);break;default:s=n}Gc(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?sp(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rp(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ba(e,c):typeof c=="number"&&Ba(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Va.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ke("scroll",e):c!=null&&tu(e,a,c,o))}switch(r){case"input":Oi(e),wf(e,n,!1);break;case"textarea":Oi(e),kf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ps(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ps(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return at(t),null;case 6:if(e&&t.stateNode!=null)_0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=Wn(ni.current),Wn(br.current),Ui(t)){if(n=t.stateNode,r=t.memoizedProps,n[fr]=t,(a=n.nodeValue!==r)&&(e=Pt,e!==null))switch(e.tag){case 3:Wi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fr]=t,t.stateNode=n}return at(t),null;case 13:if(Ne(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(je&&_t!==null&&t.mode&1&&!(t.flags&128))Vp(),Us(),t.flags|=98560,a=!1;else if(a=Ui(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(I(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(I(317));a[fr]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;at(t),a=!1}else Jt!==null&&(Ed(Jt),Jt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Be===0&&(Be=3):Au())),t.updateQueue!==null&&(t.flags|=4),at(t),null);case 4:return qs(),Nd(e,t),e===null&&Za(t.stateNode.containerInfo),at(t),null;case 10:return wu(t.type._context),at(t),null;case 17:return bt(t.type)&&Ao(),at(t),null;case 19:if(Ne(Ce),a=t.memoizedState,a===null)return at(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)xa(a,!1);else{if(Be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=qo(e),o!==null){for(t.flags|=128,xa(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}a.tail!==null&&Le()>Bs&&(t.flags|=128,n=!0,xa(a,!1),t.lanes=4194304)}else{if(!n)if(e=qo(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),xa(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!je)return at(t),null}else 2*Le()-a.renderingStartTime>Bs&&r!==1073741824&&(t.flags|=128,n=!0,xa(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Le(),t.sibling=null,r=Ce.current,ye(Ce,n?r&1|2:r&1),t):(at(t),null);case 22:case 23:return Lu(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?St&1073741824&&(at(t),t.subtreeFlags&6&&(t.flags|=8192)):at(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Ey(e,t){switch(gu(t),t.tag){case 1:return bt(t.type)&&Ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qs(),Ne(wt),Ne(ct),ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Su(t),null;case 13:if(Ne(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Ce),null;case 4:return qs(),null;case 10:return wu(t.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var Vi=!1,it=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,V=null;function js(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(e,t,n)}else r.current=null}function Sd(e,t,r){try{r()}catch(n){Te(e,t,n)}}var uh=!1;function Oy(e,t){if(od=Oo,e=Tp(),mu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++d===s&&(l=o),h===a&&++u===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ld={focusedElem:e,selectionRange:r},Oo=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Gt(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(N){Te(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return p=uh,uh=!1,p}function $a(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Sd(t,r,a)}s=s.next}while(s!==n)}}function Cl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function jd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C0(e){var t=e.alternate;t!==null&&(e.alternate=null,C0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fr],delete t[ti],delete t[ud],delete t[py],delete t[gy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function P0(e){return e.tag===5||e.tag===3||e.tag===4}function fh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lo));else if(n!==4&&(e=e.child,e!==null))for(Dd(e,t,r),e=e.sibling;e!==null;)Dd(e,t,r),e=e.sibling}function _d(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_d(e,t,r),e=e.sibling;e!==null;)_d(e,t,r),e=e.sibling}var Xe=null,Xt=!1;function Zr(e,t,r){for(r=r.child;r!==null;)M0(e,t,r),r=r.sibling}function M0(e,t,r){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(wl,r)}catch{}switch(r.tag){case 5:it||js(r,t);case 6:var n=Xe,s=Xt;Xe=null,Zr(e,t,r),Xe=n,Xt=s,Xe!==null&&(Xt?(e=Xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(Xt?(e=Xe,r=r.stateNode,e.nodeType===8?dc(e.parentNode,r):e.nodeType===1&&dc(e,r),Ga(e)):dc(Xe,r.stateNode));break;case 4:n=Xe,s=Xt,Xe=r.stateNode.containerInfo,Xt=!0,Zr(e,t,r),Xe=n,Xt=s;break;case 0:case 11:case 14:case 15:if(!it&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Sd(r,t,o),s=s.next}while(s!==n)}Zr(e,t,r);break;case 1:if(!it&&(js(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Te(r,t,l)}Zr(e,t,r);break;case 21:Zr(e,t,r);break;case 22:r.mode&1?(it=(n=it)||r.memoizedState!==null,Zr(e,t,r),it=n):Zr(e,t,r);break;default:Zr(e,t,r)}}function hh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ty),t.forEach(function(n){var s=Uy.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Kt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Xt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Xt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Xt=!0;break e}l=l.return}if(Xe===null)throw Error(I(160));M0(a,o,s),Xe=null,Xt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Te(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E0(t,e),t=t.sibling}function E0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Kt(t,e),or(e),n&4){try{$a(3,e,e.return),Cl(3,e)}catch(x){Te(e,e.return,x)}try{$a(5,e,e.return)}catch(x){Te(e,e.return,x)}}break;case 1:Kt(t,e),or(e),n&512&&r!==null&&js(r,r.return);break;case 5:if(Kt(t,e),or(e),n&512&&r!==null&&js(r,r.return),e.flags&32){var s=e.stateNode;try{Ba(s,"")}catch(x){Te(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Zm(s,a),Xc(l,o);var d=Xc(l,a);for(o=0;o<c.length;o+=2){var u=c[o],f=c[o+1];u==="style"?sp(s,f):u==="dangerouslySetInnerHTML"?rp(s,f):u==="children"?Ba(s,f):tu(s,u,f,d)}switch(l){case"input":Bc(s,a);break;case"textarea":ep(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ps(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ps(s,!!a.multiple,a.defaultValue,!0):Ps(s,!!a.multiple,a.multiple?[]:"",!1))}s[ti]=a}catch(x){Te(e,e.return,x)}}break;case 6:if(Kt(t,e),or(e),n&4){if(e.stateNode===null)throw Error(I(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(x){Te(e,e.return,x)}}break;case 3:if(Kt(t,e),or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ga(t.containerInfo)}catch(x){Te(e,e.return,x)}break;case 4:Kt(t,e),or(e);break;case 13:Kt(t,e),or(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Ru=Le())),n&4&&hh(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(it=(d=it)||u,Kt(t,e),it=d):Kt(t,e),or(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(f=V=u;V!==null;){switch(h=V,m=h.child,h.tag){case 0:case 11:case 14:case 15:$a(4,h,h.return);break;case 1:js(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Te(n,r,x)}}break;case 5:js(h,h.return);break;case 22:if(h.memoizedState!==null){ph(f);continue}}m!==null?(m.return=h,V=m):ph(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=np("display",o))}catch(x){Te(e,e.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(x){Te(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kt(t,e),or(e),n&4&&hh(e);break;case 21:break;default:Kt(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(P0(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ba(s,""),n.flags&=-33);var a=fh(e);_d(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=fh(e);Dd(e,l,o);break;default:throw Error(I(161))}}catch(c){Te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ry(e,t,r){V=e,T0(e)}function T0(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Vi;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||it;l=Vi;var d=it;if(Vi=o,(it=c)&&!d)for(V=s;V!==null;)o=V,c=o.child,o.tag===22&&o.memoizedState!==null?gh(s):c!==null?(c.return=o,V=c):gh(s);for(;a!==null;)V=a,T0(a),a=a.sibling;V=s,Vi=l,it=d}mh(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,V=a):mh(e)}}function mh(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Cl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!it)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Gt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Jf(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jf(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ga(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}it||t.flags&512&&jd(t)}catch(h){Te(t,t.return,h)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function ph(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function gh(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Cl(4,t)}catch(c){Te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Te(t,s,c)}}var a=t.return;try{jd(t)}catch(c){Te(t,a,c)}break;case 5:var o=t.return;try{jd(t)}catch(c){Te(t,o,c)}}}catch(c){Te(t,t.return,c)}if(t===e){V=null;break}var l=t.sibling;if(l!==null){l.return=t.return,V=l;break}V=t.return}}var Iy=Math.ceil,Ho=Kr.ReactCurrentDispatcher,Tu=Kr.ReactCurrentOwner,Vt=Kr.ReactCurrentBatchConfig,oe=0,Ke=null,Ye=null,et=0,St=0,Ds=Mn(0),Be=0,oi=null,Zn=0,Pl=0,Ou=0,Fa=null,vt=null,Ru=0,Bs=1/0,Pr=null,Qo=!1,Cd=null,xn=null,Bi=!1,dn=null,Ko=0,Ya=0,Pd=null,po=-1,go=0;function mt(){return oe&6?Le():po!==-1?po:po=Le()}function vn(e){return e.mode&1?oe&2&&et!==0?et&-et:vy.transition!==null?(go===0&&(go=gp()),go):(e=me,e!==0||(e=window.event,e=e===void 0?16:Np(e.type)),e):1}function er(e,t,r,n){if(50<Ya)throw Ya=0,Pd=null,Error(I(185));gi(e,r,n),(!(oe&2)||e!==Ke)&&(e===Ke&&(!(oe&2)&&(Pl|=r),Be===4&&on(e,et)),kt(e,n),r===1&&oe===0&&!(t.mode&1)&&(Bs=Le()+500,jl&&En()))}function kt(e,t){var r=e.callbackNode;vv(e,t);var n=To(e,e===Ke?et:0);if(n===0)r!==null&&jf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jf(r),t===1)e.tag===0?xy(xh.bind(null,e)):Up(xh.bind(null,e)),hy(function(){!(oe&6)&&En()}),r=null;else{switch(xp(n)){case 1:r=iu;break;case 4:r=mp;break;case 16:r=Eo;break;case 536870912:r=pp;break;default:r=Eo}r=Y0(r,O0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O0(e,t){if(po=-1,go=0,oe&6)throw Error(I(327));var r=e.callbackNode;if(Rs()&&e.callbackNode!==r)return null;var n=To(e,e===Ke?et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Go(e,n);else{t=n;var s=oe;oe|=2;var a=I0();(Ke!==e||et!==t)&&(Pr=null,Bs=Le()+500,qn(e,t));do try{$y();break}catch(l){R0(e,l)}while(!0);yu(),Ho.current=a,oe=s,Ye!==null?t=0:(Ke=null,et=0,t=Be)}if(t!==0){if(t===2&&(s=rd(e),s!==0&&(n=s,t=Md(e,s))),t===1)throw r=oi,qn(e,0),on(e,n),kt(e,Le()),r;if(t===6)on(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ly(s)&&(t=Go(e,n),t===2&&(a=rd(e),a!==0&&(n=a,t=Md(e,a))),t===1))throw r=oi,qn(e,0),on(e,n),kt(e,Le()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:In(e,vt,Pr);break;case 3:if(on(e,n),(n&130023424)===n&&(t=Ru+500-Le(),10<t)){if(To(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dd(In.bind(null,e,vt,Pr),t);break}In(e,vt,Pr);break;case 4:if(on(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Zt(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Le()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Iy(n/1960))-n,10<n){e.timeoutHandle=dd(In.bind(null,e,vt,Pr),n);break}In(e,vt,Pr);break;case 5:In(e,vt,Pr);break;default:throw Error(I(329))}}}return kt(e,Le()),e.callbackNode===r?O0.bind(null,e):null}function Md(e,t){var r=Fa;return e.current.memoizedState.isDehydrated&&(qn(e,t).flags|=256),e=Go(e,t),e!==2&&(t=vt,vt=r,t!==null&&Ed(t)),e}function Ed(e){vt===null?vt=e:vt.push.apply(vt,e)}function Ly(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!rr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t){for(t&=~Ou,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zt(t),n=1<<r;e[r]=-1,t&=~n}}function xh(e){if(oe&6)throw Error(I(327));Rs();var t=To(e,0);if(!(t&1))return kt(e,Le()),null;var r=Go(e,t);if(e.tag!==0&&r===2){var n=rd(e);n!==0&&(t=n,r=Md(e,n))}if(r===1)throw r=oi,qn(e,0),on(e,t),kt(e,Le()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,In(e,vt,Pr),kt(e,Le()),null}function Iu(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(Bs=Le()+500,jl&&En())}}function es(e){dn!==null&&dn.tag===0&&!(oe&6)&&Rs();var t=oe;oe|=1;var r=Vt.transition,n=me;try{if(Vt.transition=null,me=1,e)return e()}finally{me=n,Vt.transition=r,oe=t,!(oe&6)&&En()}}function Lu(){St=Ds.current,Ne(Ds)}function qn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,fy(r)),Ye!==null)for(r=Ye.return;r!==null;){var n=r;switch(gu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ao();break;case 3:qs(),Ne(wt),Ne(ct),ju();break;case 5:Su(n);break;case 4:qs();break;case 13:Ne(Ce);break;case 19:Ne(Ce);break;case 10:wu(n.type._context);break;case 22:case 23:Lu()}r=r.return}if(Ke=e,Ye=e=yn(e.current,null),et=St=t,Be=0,oi=null,Ou=Pl=Zn=0,vt=Fa=null,Yn!==null){for(t=0;t<Yn.length;t++)if(r=Yn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Yn=null}return e}function R0(e,t){do{var r=Ye;try{if(yu(),fo.current=Bo,Vo){for(var n=Me.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Vo=!1}if(Jn=0,Qe=qe=Me=null,Aa=!1,si=0,Tu.current=null,r===null||r.return===null){Be=1,oi=t,Ye=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=sh(o);if(m!==null){m.flags&=-257,ah(m,o,l,a,t),m.mode&1&&nh(a,d,t),t=m,c=d;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){nh(a,d,t),Au();break e}c=Error(I(426))}}else if(je&&l.mode&1){var g=sh(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),ah(g,o,l,a,t),xu(Vs(c,l));break e}}a=c=Vs(c,l),Be!==4&&(Be=2),Fa===null?Fa=[a]:Fa.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=x0(a,c,t);Xf(a,y);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xn===null||!xn.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=v0(a,l,t);Xf(a,N);break e}}a=a.return}while(a!==null)}A0(r)}catch(P){t=P,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function I0(){var e=Ho.current;return Ho.current=Bo,e===null?Bo:e}function Au(){(Be===0||Be===3||Be===2)&&(Be=4),Ke===null||!(Zn&268435455)&&!(Pl&268435455)||on(Ke,et)}function Go(e,t){var r=oe;oe|=2;var n=I0();(Ke!==e||et!==t)&&(Pr=null,qn(e,t));do try{Ay();break}catch(s){R0(e,s)}while(!0);if(yu(),oe=r,Ho.current=n,Ye!==null)throw Error(I(261));return Ke=null,et=0,Be}function Ay(){for(;Ye!==null;)L0(Ye)}function $y(){for(;Ye!==null&&!cv();)L0(Ye)}function L0(e){var t=F0(e.alternate,e,St);e.memoizedProps=e.pendingProps,t===null?A0(e):Ye=t,Tu.current=null}function A0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ey(r,t),r!==null){r.flags&=32767,Ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Ye=null;return}}else if(r=My(r,t,St),r!==null){Ye=r;return}if(t=t.sibling,t!==null){Ye=t;return}Ye=t=e}while(t!==null);Be===0&&(Be=5)}function In(e,t,r){var n=me,s=Vt.transition;try{Vt.transition=null,me=1,Fy(e,t,r,n)}finally{Vt.transition=s,me=n}return null}function Fy(e,t,r,n){do Rs();while(dn!==null);if(oe&6)throw Error(I(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(yv(e,a),e===Ke&&(Ye=Ke=null,et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bi||(Bi=!0,Y0(Eo,function(){return Rs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Vt.transition,Vt.transition=null;var o=me;me=1;var l=oe;oe|=4,Tu.current=null,Oy(e,r),E0(r,e),ay(ld),Oo=!!od,ld=od=null,e.current=r,Ry(r),dv(),oe=l,me=o,Vt.transition=a}else e.current=r;if(Bi&&(Bi=!1,dn=e,Ko=s),a=e.pendingLanes,a===0&&(xn=null),hv(r.stateNode),kt(e,Le()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Qo)throw Qo=!1,e=Cd,Cd=null,e;return Ko&1&&e.tag!==0&&Rs(),a=e.pendingLanes,a&1?e===Pd?Ya++:(Ya=0,Pd=e):Ya=0,En(),null}function Rs(){if(dn!==null){var e=xp(Ko),t=Vt.transition,r=me;try{if(Vt.transition=null,me=16>e?16:e,dn===null)var n=!1;else{if(e=dn,dn=null,Ko=0,oe&6)throw Error(I(331));var s=oe;for(oe|=4,V=e.current;V!==null;){var a=V,o=a.child;if(V.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(V=d;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:$a(8,u,a)}var f=u.child;if(f!==null)f.return=u,V=f;else for(;V!==null;){u=V;var h=u.sibling,m=u.return;if(C0(u),u===d){V=null;break}if(h!==null){h.return=m,V=h;break}V=m}}}var p=a.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(x!==null)}}V=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,V=o;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$a(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,V=y;break e}V=a.return}}var v=e.current;for(V=v;V!==null;){o=V;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,V=w;else e:for(o=v;V!==null;){if(l=V,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Cl(9,l)}}catch(P){Te(l,l.return,P)}if(l===o){V=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,V=N;break e}V=l.return}}if(oe=s,En(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(wl,e)}catch{}n=!0}return n}finally{me=r,Vt.transition=t}}return!1}function vh(e,t,r){t=Vs(r,t),t=x0(e,t,1),e=gn(e,t,1),t=mt(),e!==null&&(gi(e,1,t),kt(e,t))}function Te(e,t,r){if(e.tag===3)vh(e,e,r);else for(;t!==null;){if(t.tag===3){vh(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xn===null||!xn.has(n))){e=Vs(r,e),e=v0(t,e,1),t=gn(t,e,1),e=mt(),t!==null&&(gi(t,1,e),kt(t,e));break}}t=t.return}}function Yy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=mt(),e.pingedLanes|=e.suspendedLanes&r,Ke===e&&(et&r)===r&&(Be===4||Be===3&&(et&130023424)===et&&500>Le()-Ru?qn(e,0):Ou|=r),kt(e,t)}function $0(e,t){t===0&&(e.mode&1?(t=Li,Li<<=1,!(Li&130023424)&&(Li=4194304)):t=1);var r=mt();e=Vr(e,t),e!==null&&(gi(e,t,r),kt(e,r))}function Wy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),$0(e,r)}function Uy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),$0(e,r)}var F0;F0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||wt.current)yt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return yt=!1,Py(e,t,r);yt=!!(e.flags&131072)}else yt=!1,je&&t.flags&1048576&&zp(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mo(e,t),e=t.pendingProps;var s=Ws(t,ct.current);Os(t,r),s=_u(null,t,n,e,s,r);var a=Cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(n)?(a=!0,$o(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ku(t),s.updater=_l,t.stateNode=s,s._reactInternals=t,xd(t,n,e,r),t=wd(null,t,n,!0,a,r)):(t.tag=0,je&&a&&pu(t),ut(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=qy(n),e=Gt(n,e),s){case 0:t=yd(null,t,n,e,r);break e;case 1:t=lh(null,t,n,e,r);break e;case 11:t=ih(null,t,n,e,r);break e;case 14:t=oh(null,t,n,Gt(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),yd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),lh(e,t,n,s,r);case 3:e:{if(k0(t),e===null)throw Error(I(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Kp(e,t),zo(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Vs(Error(I(423)),t),t=ch(e,t,n,r,s);break e}else if(n!==s){s=Vs(Error(I(424)),t),t=ch(e,t,n,r,s);break e}else for(_t=pn(t.stateNode.containerInfo.firstChild),Pt=t,je=!0,Jt=null,r=Hp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Us(),n===s){t=Br(e,t,r);break e}ut(e,t,n,r)}t=t.child}return t;case 5:return Gp(t),e===null&&md(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,cd(n,s)?o=null:a!==null&&cd(n,a)&&(t.flags|=32),b0(e,t),ut(e,t,o,r),t.child;case 6:return e===null&&md(t),null;case 13:return N0(e,t,r);case 4:return Nu(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zs(t,null,n,r):ut(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),ih(e,t,n,s,r);case 7:return ut(e,t,t.pendingProps,r),t.child;case 8:return ut(e,t,t.pendingProps.children,r),t.child;case 12:return ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ye(Wo,n._currentValue),n._currentValue=o,a!==null)if(rr(a.value,o)){if(a.children===s.children&&!wt.current){t=Br(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Ir(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),pd(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(I(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),pd(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ut(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Os(t,r),s=Bt(s),n=n(s),t.flags|=1,ut(e,t,n,r),t.child;case 14:return n=t.type,s=Gt(n,t.pendingProps),s=Gt(n.type,s),oh(e,t,n,s,r);case 15:return y0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Gt(n,s),mo(e,t),t.tag=1,bt(n)?(e=!0,$o(t)):e=!1,Os(t,r),g0(t,n,s),xd(t,n,s,r),wd(null,t,n,!0,e,r);case 19:return S0(e,t,r);case 22:return w0(e,t,r)}throw Error(I(156,t.tag))};function Y0(e,t){return hp(e,t)}function zy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,r,n){return new zy(e,t,r,n)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qy(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nu)return 11;if(e===su)return 14}return 2}function yn(e,t){var r=e.alternate;return r===null?(r=zt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xo(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")$u(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gs:return Vn(r.children,s,a,t);case ru:o=8,s|=8;break;case Wc:return e=zt(12,r,t,s|2),e.elementType=Wc,e.lanes=a,e;case Uc:return e=zt(13,r,t,s),e.elementType=Uc,e.lanes=a,e;case zc:return e=zt(19,r,t,s),e.elementType=zc,e.lanes=a,e;case Gm:return Ml(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qm:o=10;break e;case Km:o=9;break e;case nu:o=11;break e;case su:o=14;break e;case nn:o=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=zt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Vn(e,t,r,n){return e=zt(7,e,n,t),e.lanes=r,e}function Ml(e,t,r,n){return e=zt(22,e,n,t),e.elementType=Gm,e.lanes=r,e.stateNode={isHidden:!1},e}function vc(e,t,r){return e=zt(6,e,null,t),e.lanes=r,e}function yc(e,t,r){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vy(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fu(e,t,r,n,s,a,o,l,c){return e=new Vy(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=zt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(a),e}function By(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function W0(e){if(!e)return Sn;e=e._reactInternals;e:{if(is(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(bt(r))return Wp(e,r,t)}return t}function U0(e,t,r,n,s,a,o,l,c){return e=Fu(r,n,!0,e,s,a,o,l,c),e.context=W0(null),r=e.current,n=mt(),s=vn(r),a=Ir(n,s),a.callback=t??null,gn(r,a,s),e.current.lanes=s,gi(e,s,n),kt(e,n),e}function El(e,t,r,n){var s=t.current,a=mt(),o=vn(s);return r=W0(r),t.context===null?t.context=r:t.pendingContext=r,t=Ir(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gn(s,t,o),e!==null&&(er(e,s,o,a),uo(e,s,o)),o}function Xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yu(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function Hy(){return null}var z0=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}Tl.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));El(e,t,null,null)};Tl.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;es(function(){El(null,e,null,null)}),t[qr]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var t=wp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<an.length&&t!==0&&t<an[r].priority;r++);an.splice(r,0,e),r===0&&kp(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wh(){}function Qy(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var d=Xo(o);a.call(d)}}var o=U0(t,n,e,0,null,!1,!1,"",wh);return e._reactRootContainer=o,e[qr]=o.current,Za(e.nodeType===8?e.parentNode:e),es(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var d=Xo(c);l.call(d)}}var c=Fu(e,0,!1,null,null,!1,!1,"",wh);return e._reactRootContainer=c,e[qr]=c.current,Za(e.nodeType===8?e.parentNode:e),es(function(){El(t,c,r,n)}),c}function Rl(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Xo(o);l.call(c)}}El(t,o,e,s)}else o=Qy(r,t,e,s,n);return Xo(o)}vp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ca(t.pendingLanes);r!==0&&(ou(t,r|1),kt(t,Le()),!(oe&6)&&(Bs=Le()+500,En()))}break;case 13:es(function(){var n=Vr(e,1);if(n!==null){var s=mt();er(n,e,1,s)}}),Yu(e,1)}};lu=function(e){if(e.tag===13){var t=Vr(e,134217728);if(t!==null){var r=mt();er(t,e,134217728,r)}Yu(e,134217728)}};yp=function(e){if(e.tag===13){var t=vn(e),r=Vr(e,t);if(r!==null){var n=mt();er(r,e,t,n)}Yu(e,t)}};wp=function(){return me};bp=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Zc=function(e,t,r){switch(t){case"input":if(Bc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Sl(n);if(!s)throw Error(I(90));Jm(n),Bc(n,s)}}}break;case"textarea":ep(e,r);break;case"select":t=r.value,t!=null&&Ps(e,!!r.multiple,t,!1)}};op=Iu;lp=es;var Ky={usingClientEntryPoint:!1,Events:[vi,ws,Sl,ap,ip,Iu]},va={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gy={bundleType:va.bundleType,version:va.version,rendererPackageName:va.rendererPackageName,rendererConfig:va.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=up(e),e===null?null:e.stateNode},findFiberByHostInstance:va.findFiberByHostInstance||Hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hi.isDisabled&&Hi.supportsFiber)try{wl=Hi.inject(Gy),wr=Hi}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ky;Tt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(I(200));return By(e,t,null,r)};Tt.createRoot=function(e,t){if(!Uu(e))throw Error(I(299));var r=!1,n="",s=z0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fu(e,1,!1,null,null,r,!1,n,s),e[qr]=t.current,Za(e.nodeType===8?e.parentNode:e),new Wu(t)};Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=up(t),e=e===null?null:e.stateNode,e};Tt.flushSync=function(e){return es(e)};Tt.hydrate=function(e,t,r){if(!Ol(t))throw Error(I(200));return Rl(null,e,t,!0,r)};Tt.hydrateRoot=function(e,t,r){if(!Uu(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=z0;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=U0(t,null,e,1,r??null,s,!1,a,o),e[qr]=t.current,Za(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Tl(t)};Tt.render=function(e,t,r){if(!Ol(t))throw Error(I(200));return Rl(null,e,t,!1,r)};Tt.unmountComponentAtNode=function(e){if(!Ol(e))throw Error(I(40));return e._reactRootContainer?(es(function(){Rl(null,null,e,!1,function(){e._reactRootContainer=null,e[qr]=null})}),!0):!1};Tt.unstable_batchedUpdates=Iu;Tt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ol(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Rl(e,t,r,!1,n)};Tt.version="18.3.1-next-f1338f8080-20240426";function q0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q0)}catch(e){console.error(e)}}q0(),qm.exports=Tt;var zu=qm.exports;const Xy=Em(zu);var bh=zu;Fc.createRoot=bh.createRoot,Fc.hydrateRoot=bh.hydrateRoot;var hr=[],At=[],Jy=Uint8Array,wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var us=0,Zy=wc.length;us<Zy;++us)hr[us]=wc[us],At[wc.charCodeAt(us)]=us;At[45]=62;At[95]=63;function ew(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function tw(e,t,r){return(t+r)*3/4-r}function li(e){var t,r=ew(e),n=r[0],s=r[1],a=new Jy(tw(e,n,s)),o=0,l=s>0?n-4:n,c;for(c=0;c<l;c+=4)t=At[e.charCodeAt(c)]<<18|At[e.charCodeAt(c+1)]<<12|At[e.charCodeAt(c+2)]<<6|At[e.charCodeAt(c+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return s===2&&(t=At[e.charCodeAt(c)]<<2|At[e.charCodeAt(c+1)]>>4,a[o++]=t&255),s===1&&(t=At[e.charCodeAt(c)]<<10|At[e.charCodeAt(c+1)]<<4|At[e.charCodeAt(c+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function rw(e){return hr[e>>18&63]+hr[e>>12&63]+hr[e>>6&63]+hr[e&63]}function nw(e,t,r){for(var n,s=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),s.push(rw(n));return s.join("")}function ci(e){for(var t,r=e.length,n=r%3,s=[],a=16383,o=0,l=r-n;o<l;o+=a)s.push(nw(e,o,o+a>l?l:o+a));return n===1?(t=e[r-1],s.push(hr[t>>2]+hr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],s.push(hr[t>>10]+hr[t>>4&63]+hr[t<<2&63]+"=")),s.join("")}function Er(e){if(e===void 0)return{};if(!V0(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function sw(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function V0(e){var s;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((s=r==null?void 0:r.constructor)==null?void 0:s.name)==="Object";return t&&n}const B0=!0,Hs=BigInt("-9223372036854775808"),qu=BigInt("9223372036854775807"),Td=BigInt("0"),aw=BigInt("8"),iw=BigInt("256");function H0(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function ow(e){e<Td&&(e-=Hs+Hs);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const s of t.match(/.{2}/g).reverse())r.set([parseInt(s,16)],n++),e>>=aw;return ci(r)}function lw(e){const t=li(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=Td,n=Td;for(const s of t)r+=BigInt(s)*iw**n,n++;return r>qu&&(r+=Hs+Hs),r}function cw(e){if(e<Hs||qu<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),ci(new Uint8Array(t))}function dw(e){const t=li(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const uw=DataView.prototype.setBigInt64?cw:ow,fw=DataView.prototype.getBigInt64?dw:lw,kh=1024;function Q0(e){if(e.length>kh)throw new Error(`Field name ${e} exceeds maximum field name length ${kh}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function Qs(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>Qs(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return li(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return fw(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const s=li(e.$float);if(s.byteLength!==8)throw new Error(`Received ${s.byteLength} bytes, expected 8 for $float`);const o=new DataView(s.buffer).getFloat64(0,B0);if(!H0(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,s]of Object.entries(e))Q0(n),r[n]=Qs(s);return r}const Nh=16384;function Wa(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>Nh){const r="[...truncated]";let n=Nh-r.length;const s=t.codePointAt(n-1);return s!==void 0&&s>65535&&(n-=1),t.substring(0,n)+r}return t}function Od(e,t,r,n){var o;if(e===void 0){const l=r&&` (present at path ${r} in original object ${Wa(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<Hs||qu<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:uw(e)}}if(typeof e=="number")if(H0(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,B0),{$float:ci(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:ci(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,c)=>Od(l,t,r+`[${c}]`));if(e instanceof Set)throw new Error(bc(r,"Set",[...e],t));if(e instanceof Map)throw new Error(bc(r,"Map",[...e],t));if(!V0(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,c=l?`${l} `:"";throw new Error(bc(r,c,e,t))}const s={},a=Object.entries(e);a.sort(([l,c],[d,u])=>l===d?0:l<d?-1:1);for(const[l,c]of a)c!==void 0&&(Q0(l),s[l]=Od(c,t,r+`.${l}`));return s}function bc(e,t,r,n){return e?`${t}${Wa(r)} is not a supported Convex type (present at path ${e} in original object ${Wa(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Wa(r)} is not a supported Convex type.`}function jn(e){return Od(e,e,"")}var hw=Object.defineProperty,mw=(e,t,r)=>t in e?hw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kc=(e,t,r)=>mw(e,typeof t!="symbol"?t+"":t,r),Sh,jh;const pw=Symbol.for("ConvexError");class Rd extends(jh=Error,Sh=pw,jh){constructor(t){super(typeof t=="string"?t:Wa(t)),kc(this,"name","ConvexError"),kc(this,"data"),kc(this,Sh,!0),this.data=t}}const K0=()=>Array.from({length:4},()=>0);K0();K0();const Dh="1.28.2";var gw=Object.defineProperty,xw=(e,t,r)=>t in e?gw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_h=(e,t,r)=>xw(e,typeof t!="symbol"?t+"":t,r);const vw="color:rgb(0, 145, 255)";function G0(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class X0{constructor(t){_h(this,"_onLogLineFuncs"),_h(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function J0(e){const t=new X0(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function Z0(e){return new X0(e)}function Jo(e,t,r,n,s){const a=G0(r);if(typeof s=="object"&&(s=`ConvexError ${JSON.stringify(s.errorData,null,2)}`),t==="info"){const o=s.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${a}(${n})] Could not parse console.log`);return}const l=s.slice(1,o[0].length-2),c=s.slice(o[0].length);e.log(`%c[CONVEX ${a}(${n})] [${l}]`,vw,c)}else e.error(`[CONVEX ${a}(${n})] ${s}`)}function yw(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function _s(e,t,r){return`[CONVEX ${G0(e)}(${t})] ${r.errorMessage}
  Called by client`}function Id(e,t){return t.data=e.errorData,t}function Zo(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function Bn(e,t){return JSON.stringify({udfPath:Zo(e),args:jn(t)})}var ww=Object.defineProperty,bw=(e,t,r)=>t in e?ww(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lr=(e,t,r)=>bw(e,typeof t!="symbol"?t+"":t,r);class kw{constructor(){lr(this,"nextQueryId"),lr(this,"querySetVersion"),lr(this,"querySet"),lr(this,"queryIdToToken"),lr(this,"identityVersion"),lr(this,"auth"),lr(this,"outstandingQueriesOlderThanRestart"),lr(this,"outstandingAuthOlderThanRestart"),lr(this,"paused"),lr(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,s){const a=Zo(t),o=Bn(a,r),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const c=this.nextQueryId++,d={id:c,canonicalizedUdfPath:a,args:r,numSubscribers:1,journal:n,componentPath:s};this.querySet.set(o,d),this.queryIdToToken.set(c,o);const u=this.querySetVersion,f=this.querySetVersion+1,h={type:"Add",queryId:c,udfPath:a,args:[jn(r)],journal:n,componentPath:s};return this.paused?this.pendingQuerySetModifications.set(c,h):this.querySetVersion=f,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:u,newVersion:f,modifications:[h]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const s=this.queryIdToToken.get(r.queryId);s!==void 0&&(this.querySet.get(s).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=Zo(t),s=Bn(n,r),a=this.querySet.get(s);return a!==void 0?a.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const s=this.identityVersion;return this.paused||(this.identityVersion=s+1),{type:"Authenticate",baseVersion:s,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const a of this.querySet.values()){const o={type:"Add",queryId:a.id,udfPath:a.canonicalizedUdfPath,args:[jn(a.args)],journal:a.journal,componentPath:a.componentPath};r.push(o),t.has(a.id)||this.outstandingQueriesOlderThanRestart.add(a.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const s={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,s]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,s=this.querySetVersion+1,a={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,a):this.querySetVersion=s,{type:"ModifyQuerySet",baseVersion:n,newVersion:s,modifications:[a]}}}}var Nw=Object.defineProperty,Sw=(e,t,r)=>t in e?Nw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qi=(e,t,r)=>Sw(e,typeof t!="symbol"?t+"":t,r);class jw{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,Qi(this,"inflightRequests"),Qi(this,"requestsOlderThanRestart"),Qi(this,"inflightMutationsCount",0),Qi(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(s=>{const a=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:a,requestedAt:new Date,onResult:s}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",s=r.message.udfPath;for(const c of t.logLines)Jo(this.logger,"info",n,s,c);const a=r.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:Qs(t.result)},l=()=>a.onResult(o);else{const c=t.result,{errorData:d}=t;Jo(this.logger,"error",n,s,c),o={success:!1,errorMessage:c,errorData:d!==void 0?Qs(d):void 0,logLines:t.logLines},l=()=>a.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(r.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,s]of this.inflightRequests.entries()){const a=s.status;a.status==="Completed"&&a.ts.lessThanOrEqual(t)&&(a.onResolve(),r.set(n,a.result),s.message.type==="Mutation"?this.inflightMutationsCount--:s.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const di=Symbol.for("functionName"),eg=Symbol.for("toReferencePath");function Dw(e){return e[eg]??null}function _w(e){return e.startsWith("function://")}function Cw(e){let t;if(typeof e=="string")_w(e)?t={functionHandle:e}:t={name:e};else if(e[di])t={name:e[di]};else{const r=Dw(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function Ct(e){const t=Cw(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[di];if(!r)throw new Error(`${e} is not a functionReference`);return r}function tg(e){return{[di]:e}}function rg(e=[]){const t={get(r,n){if(typeof n=="string"){const s=[...e,n];return rg(s)}else if(n===di){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const s=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?s:s+":"+a}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Pw=rg();var Mw=Object.defineProperty,Ew=(e,t,r)=>t in e?Mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,el=(e,t,r)=>Ew(e,typeof t!="symbol"?t+"":t,r);class ui{constructor(t){el(this,"queryResults"),el(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=Er(r[0]),s=Ct(t),a=this.queryResults.get(Bn(s,n));if(a!==void 0)return ui.queryValue(a.result)}getAllQueries(t){const r=[],n=Ct(t);for(const s of this.queryResults.values())s.udfPath===Zo(n)&&r.push({args:s.args,value:ui.queryValue(s.result)});return r}setQuery(t,r,n){const s=Er(r),a=Ct(t),o=Bn(a,s);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const c={udfPath:a,args:s,result:l};this.queryResults.set(o,c),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Tw{constructor(){el(this,"queryResults"),el(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!r.has(o.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const s=new ui(this.queryResults);for(const o of this.optimisticUpdates)o.update(s);const a=[];for(const[o,l]of this.queryResults){const c=n.get(o);(c===void 0||c.result!==l.result)&&a.push(o)}return a}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new ui(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?Id(n,new Rd(_s("query",r.udfPath,n))):new Error(_s("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var Ow=Object.defineProperty,Rw=(e,t,r)=>t in e?Ow(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nc=(e,t,r)=>Rw(e,typeof t!="symbol"?t+"":t,r);class jt{constructor(t,r){Nc(this,"low"),Nc(this,"high"),Nc(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new jt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?Ch:t>=Iw?Lw:new jt(t%Ua|0,t/Ua|0)}toString(){return(BigInt(this.high)*BigInt(Ua)+BigInt(this.low)).toString()}equals(t){return jt.isLong(t)||(t=jt.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return jt.isLong(t)||(t=jt.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?jt.fromNumber(t):new jt(t.low,t.high)}}const Ch=new jt(0,0),Ph=65536,Ua=Ph*Ph,Iw=Ua*Ua,Lw=new jt(-1,-1);var Aw=Object.defineProperty,$w=(e,t,r)=>t in e?Aw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ki=(e,t,r)=>$w(e,typeof t!="symbol"?t+"":t,r);class Mh{constructor(t,r){Ki(this,"version"),Ki(this,"remoteQuerySet"),Ki(this,"queryPath"),Ki(this,"logger"),this.version={querySet:0,ts:jt.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const s=this.queryPath(n.queryId);if(s)for(const o of n.logLines)Jo(this.logger,"info","query",s,o);const a=Qs(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:a,logLines:n.logLines});break}case"QueryFailed":{const s=this.queryPath(n.queryId);if(s)for(const o of n.logLines)Jo(this.logger,"info","query",s,o);const{errorData:a}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:a!==void 0?Qs(a):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function Sc(e){const t=li(e);return jt.fromBytesLE(Array.from(t))}function Fw(e){const t=new Uint8Array(e.toBytesLE());return ci(t)}function Eh(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:Sc(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:Sc(e.startVersion.ts)},endVersion:{...e.endVersion,ts:Sc(e.endVersion.ts)}}}}function Yw(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:Fw(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var Ww=Object.defineProperty,Uw=(e,t,r)=>t in e?Ww(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ge=(e,t,r)=>Uw(e,typeof t!="symbol"?t+"":t,r);const zw=1e3,qw=1001,Vw=1005,Bw=4040;let vo;function yo(){return vo===void 0&&(vo=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(vo+performance.now())}function Th(){return`t=${Math.round((yo()-vo)/100)/10}s`}const ng={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function Hw(e){if(e===void 0)return"Unknown";for(const t of Object.keys(ng))if(e.startsWith(t))return t;return"Unknown"}class Qw{constructor(t,r,n,s,a,o){this.markConnectionStateDirty=a,this.debug=o,Ge(this,"socket"),Ge(this,"connectionCount"),Ge(this,"_hasEverConnected",!1),Ge(this,"lastCloseReason"),Ge(this,"transitionChunkBuffer",null),Ge(this,"defaultInitialBackoff"),Ge(this,"maxBackoff"),Ge(this,"retries"),Ge(this,"serverInactivityThreshold"),Ge(this,"reconnectDueToServerInactivityTimeout"),Ge(this,"uri"),Ge(this,"onOpen"),Ge(this,"onResume"),Ge(this,"onMessage"),Ge(this,"webSocketConstructor"),Ge(this,"logger"),Ge(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=s,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=Eh(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:yo()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Th(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Th())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let s=Eh(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${s.type}`),s.type==="Ping")return;if(s.type==="TransitionChunk"){const o=this.assembleTransition(s);if(!o)return;s=o,this._logVerbose(`assembled full ws message of type ${s.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${s.type} while buffering TransitionChunks`)),s.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:s}),this.onMessage(s).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==zw&&r.code!==qw&&r.code!==Vw&&r.code!==Bw){let s=`WebSocket closed with code ${r.code}`;r.reason&&(s+=`: ${r.reason}`),this.logger.log(s),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(s)}const n=Hw(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=Yw(t),s=JSON.stringify(n);let a=!1;try{this.socket.ws.send(s),a=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${a?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:yo()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:ng[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const s=Math.min(n,this.maxBackoff),a=s*(Math.random()-.5);return s+a}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=yo()-t.clientClockSkew-t.serverTs/1e6,s=`${Math.round(n)}ms`,a=`${Math.round(r/1e4)/100}MB`,o=r/(n/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${a} transition in ${s} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${a}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${a} which took more than 20s to arrive (${s})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function Kw(){return Gw()}function Gw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class Ma extends Error{}Ma.prototype.name="InvalidTokenError";function Xw(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Jw(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Xw(t)}catch{return atob(t)}}function sg(e,t){if(typeof e!="string")throw new Ma("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new Ma(`Invalid token specified: missing part #${r+1}`);let s;try{s=Jw(n)}catch(a){throw new Ma(`Invalid token specified: invalid base64 for part #${r+1} (${a.message})`)}try{return JSON.parse(s)}catch(a){throw new Ma(`Invalid token specified: invalid json for part #${r+1} (${a.message})`)}}var Zw=Object.defineProperty,eb=(e,t,r)=>t in e?Zw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lt=(e,t,r)=>eb(e,typeof t!="symbol"?t+"":t,r);const tb=20*24*60*60*1e3,Oh=2;class rb{constructor(t,r,n){Lt(this,"authState",{state:"noAuth"}),Lt(this,"configVersion",0),Lt(this,"syncState"),Lt(this,"authenticate"),Lt(this,"stopSocket"),Lt(this,"tryRestartSocket"),Lt(this,"pauseSocket"),Lt(this,"resumeSocket"),Lt(this,"clearAuth"),Lt(this,"logger"),Lt(this,"refreshTokenLeewaySeconds"),Lt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Oh){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Oh-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:s}=r;if(!n||!s){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const a=s-n;if(a<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(tb,(a-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${a}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const s=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:s}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return sg(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const nb=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function sb(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function ab(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function ib(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of nb){const n=performance.getEntriesByName(r).filter(s=>s.entryType==="mark").filter(s=>s.detail.sessionId===e);t.push(...n)}return t.map(ab)}var ob=Object.defineProperty,lb=(e,t,r)=>t in e?ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fe=(e,t,r)=>lb(e,typeof t!="symbol"?t+"":t,r);class cb{constructor(t,r,n){if(Fe(this,"address"),Fe(this,"state"),Fe(this,"requestManager"),Fe(this,"webSocketManager"),Fe(this,"authenticationManager"),Fe(this,"remoteQuerySet"),Fe(this,"optimisticQueryResults"),Fe(this,"_transitionHandlerCounter",0),Fe(this,"_nextRequestId"),Fe(this,"_onTransitionFns",new Map),Fe(this,"_sessionId"),Fe(this,"firstMessageReceived",!1),Fe(this,"debug"),Fe(this,"logger"),Fe(this,"maxObservedTimestamp"),Fe(this,"connectionStateSubscribers",new Map),Fe(this,"nextConnectionStateSubscriberId",0),Fe(this,"_lastPublishedConnectionState"),Fe(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const m=this.connectionState();if(JSON.stringify(m)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=m;for(const p of this.connectionStateSubscribers.values())p(m)}})}),Fe(this,"mark",m=>{this.debug&&sb(m,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&sw(t),n={...n};const s=n.authRefreshTokenLeewaySeconds??2;let a=n.webSocketConstructor;if(!a&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");a=a||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?Z0({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:J0({verbose:n.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),c=t.substring(0,o);let d;if(c==="http")d="ws";else if(c==="https")d="wss";else throw new Error(`Unknown parent protocol ${c}`);const u=`${d}://${l}/api/${Dh}/sync`;this.state=new kw,this.remoteQuerySet=new Mh(m=>this.state.queryPath(m),this.logger),this.requestManager=new jw(this.logger,this.markConnectionStateDirty);const f=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new rb(this.state,{authenticate:m=>{const p=this.state.setAuth(m);return this.webSocketManager.sendMessage(p),p.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:f,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:s}),this.optimisticQueryResults=new Tw,this.addOnTransitionHandler(m=>{r(m.queries.map(p=>p.token))}),this._nextRequestId=0,this._sessionId=Kw();const{unsavedChangesWarning:h}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(h===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else h!==!1&&window.addEventListener("beforeunload",m=>{if(this.requestManager.hasIncompleteRequests()){m.preventDefault();const p="Are you sure you want to leave? Your changes may not be saved.";return(m||window.event).returnValue=p,p}});this.webSocketManager=new Qw(u,{onOpen:m=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...m,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const p=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Mh(y=>this.state.queryPath(y),this.logger);const[x,g]=this.state.restart(p);g&&this.webSocketManager.sendMessage(g),this.webSocketManager.sendMessage(x);for(const y of this.requestManager.restart())this.webSocketManager.sendMessage(y)},onResume:()=>{const[m,p]=this.state.resume();p&&this.webSocketManager.sendMessage(p),m&&this.webSocketManager.sendMessage(m);for(const x of this.requestManager.resume())this.webSocketManager.sendMessage(x)},onMessage:m=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),m.type){case"Transition":{this.observedTimestamp(m.endVersion.ts),this.authenticationManager.onTransition(m),this.remoteQuerySet.transition(m),this.state.transition(m);const p=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(p);break}case"MutationResponse":{m.success&&this.observedTimestamp(m.ts);const p=this.requestManager.onResponse(m);p!==null&&this.notifyOnQueryResultChanges(new Map([[p.requestId,p.result]]));break}case"ActionResponse":{this.requestManager.onResponse(m);break}case"AuthError":{this.authenticationManager.onAuthError(m);break}case"FatalError":{const p=yw(this.logger,m.error);throw this.webSocketManager.terminate(),p}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},a,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&f()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[a,o]of r){const l=this.state.queryToken(a);if(l!==null){const c={result:o,udfPath:this.state.queryPath(a),args:this.state.queryArgs(a)};n.set(l,c)}}const s=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:s.map(a=>{const o=this.optimisticQueryResults.rawQueryResult(a);return{token:a,modification:{kind:"Updated",result:o.result}}}),reflectedMutations:Array.from(t).map(([a,o])=>({requestId:a,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?sg(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const s=Er(r),{modification:a,queryToken:o,unsubscribe:l}=this.state.subscribe(t,s,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return a!==null&&this.webSocketManager.sendMessage(a),{queryToken:o,unsubscribe:()=>{const c=l();c&&this.webSocketManager.sendMessage(c)}}}localQueryResult(t,r){const n=Er(r),s=Bn(t,n);return this.optimisticQueryResults.queryResult(s)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=Er(r),s=Bn(t,n);return this.optimisticQueryResults.queryLogs(s)}queryJournal(t,r){const n=Er(r),s=Bn(t,n);return this.state.queryJournal(s)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const s=await this.mutationInternal(t,r,n);if(!s.success)throw s.errorData!==void 0?Id(s,new Rd(_s("mutation",t,s))):new Error(_s("mutation",t,s));return s.value}async mutationInternal(t,r,n,s){const{mutationPromise:a}=this.enqueueMutation(t,r,n,s);return a}enqueueMutation(t,r,n,s){const a=Er(r);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const u=n.optimisticUpdate;if(u!==void 0){const f=p=>{u(p,a)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},m=this.optimisticQueryResults.applyOptimisticUpdate(f,o).map(p=>{const x=this.localQueryResultByToken(p);return{token:p,modification:{kind:"Updated",result:x===void 0?void 0:{success:!0,value:x,logLines:[]}}}});this.handleTransition({queries:m,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:s,args:[jn(a)]},c=this.webSocketManager.sendMessage(l),d=this.requestManager.request(l,c);return{requestId:o,mutationPromise:d}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?Id(n,new Rd(_s("action",t,n))):new Error(_s("action",t,n));return n.value}async actionInternal(t,r,n){const s=Er(r),a=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:a,udfPath:t,componentPath:n,args:[jn(s)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=ib(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Dh}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function db({getCurrentValue:e,subscribe:t}){const[r,n]=k.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let s=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(s=e(),n({getCurrentValue:e,subscribe:t,value:s})),k.useEffect(()=>{let a=!1;const o=()=>{a||n(c=>{if(c.getCurrentValue!==e||c.subscribe!==t)return c;const d=e();return c.value===d?c:{...c,value:d}})},l=t(o);return o(),()=>{a=!0,l()}},[e,t]),s}var ub=Object.defineProperty,fb=(e,t,r)=>t in e?ub(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,en=(e,t,r)=>fb(e,typeof t!="symbol"?t+"":t,r);const hb=5e3;if(typeof T>"u")throw new Error("Required dependency 'react' not found");function ag(e,t,r){function n(s){return gb(s),t.mutation(e,s,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(a){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${Ct(e)}`);return ag(e,t,a)},n}class mb{constructor(t,r){if(en(this,"address"),en(this,"cachedSync"),en(this,"listeners"),en(this,"options"),en(this,"closed",!1),en(this,"_logger"),en(this,"adminAuth"),en(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?Z0({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:J0({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new cb(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,s]=r,a=Ct(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:c}=this.sync.subscribe(a,n,s),d=this.listeners.get(l);return d!==void 0?d.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const u=this.listeners.get(l);u.delete(o),u.size===0&&this.listeners.delete(l),c()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(a,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(a,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(a,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??hb,s=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(s,r)}mutation(t,...r){const[n,s]=r,a=Ct(t);return this.sync.mutation(a,n,s)}action(t,...r){const n=Ct(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),s=n.localQueryResult();return s!==void 0?Promise.resolve(s):new Promise((a,o)=>{const l=n.onUpdate(()=>{l();try{a(n.localQueryResult())}catch(c){o(c)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const s of n)s()}}}const Vu=T.createContext(void 0);function Bu(){return k.useContext(Vu)}const pb=({client:e,children:t})=>T.createElement(Vu.Provider,{value:e},t);function Ut(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:Er(t[0]),s=typeof e=="string"?tg(e):e,a=Ct(s),o=k.useMemo(()=>r?{}:{query:{query:s,args:n}},[JSON.stringify(jn(n)),a,r]),c=wb(o).query;if(c instanceof Error)throw c;return c}function Je(e){const t=typeof e=="string"?tg(e):e,r=k.useContext(Vu);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return k.useMemo(()=>ag(t,r),[r,Ct(t)])}function gb(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var xb=Object.defineProperty,vb=(e,t,r)=>t in e?xb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jc=(e,t,r)=>vb(e,typeof t!="symbol"?t+"":t,r);class yb{constructor(t){jc(this,"createWatch"),jc(this,"queries"),jc(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:s}=t[r];if(Ct(n),this.queries[r]===void 0)this.addQuery(r,n,s);else{const a=this.queries[r];(Ct(n)!==Ct(a.query)||JSON.stringify(jn(s))!==JSON.stringify(jn(a.args)))&&(this.removeQuery(r),this.addQuery(r,n,s))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:s,args:a}=t[n];Ct(s);const o=this.createWatch(s,a);let l;try{l=o.localQueryResult()}catch(c){if(c instanceof Error)l=c;else throw c}r[n]=l}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:s,watch:a}=this.queries[r],o=a.journal();this.removeQuery(r),this.addQuery(r,n,s,o)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,s){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const a=this.createWatch(r,n,s),o=a.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:a,unsubscribe:o}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function wb(e){const t=Bu();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=k.useMemo(()=>(n,s,a)=>t.watchQuery(n,s,a?{journal:a}:{}),[t]);return bb(e,r)}function bb(e,t){const[r]=k.useState(()=>new yb(t));r.createWatch!==t&&r.setCreateWatch(t),k.useEffect(()=>()=>r.destroy(),[r]);const n=k.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:s=>(r.setQueries(e),r.subscribe(s))}),[r,e]);return db(n)}function ig(e,t){const r={get(n,s){if(typeof s=="string"){const a=[...t,s];return ig(e,a)}else if(s===eg){if(t.length<1){const a=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const kb=()=>ig("components",[]),le=Pw;kb();let Nb={data:""},Sb=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Nb},jb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Db=/\/\*[^]*?\*\/|  +/g,Rh=/\n+/g,ln=(e,t)=>{let r="",n="",s="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?ln(o,a):a+"{"+ln(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=ln(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=ln.p?ln.p(a,o):a+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Cr={},og=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+og(e[r]);return t}return e},_b=(e,t,r,n,s)=>{let a=og(e),o=Cr[a]||(Cr[a]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(a));if(!Cr[o]){let c=a!==e?e:(d=>{let u,f,h=[{}];for(;u=jb.exec(d.replace(Db,""));)u[4]?h.shift():u[3]?(f=u[3].replace(Rh," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(Rh," ").trim();return h[0]})(e);Cr[o]=ln(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Cr.g?Cr.g:null;return r&&(Cr.g=Cr[o]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Cr[o],t,n,l),o},Cb=(e,t,r)=>e.reduce((n,s,a)=>{let o=t[a];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":ln(l,""):l===!1?"":l}return n+s+(o??"")},"");function Il(e){let t=this||{},r=e.call?e(t.p):e;return _b(r.unshift?r.raw?Cb(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Sb(t.target),t.g,t.o,t.k)}let lg,Ld,Ad;Il.bind({g:1});let Hr=Il.bind({k:1});function Pb(e,t,r,n){ln.p=t,lg=e,Ld=r,Ad=n}function Tn(e,t){let r=this||{};return function(){let n=arguments;function s(a,o){let l=Object.assign({},a),c=l.className||s.className;r.p=Object.assign({theme:Ld&&Ld()},l),r.o=/ *go\d+/.test(c),l.className=Il.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=l.as||e,delete l.as),Ad&&d[0]&&Ad(l),lg(d,l)}return s}}var Mb=e=>typeof e=="function",tl=(e,t)=>Mb(e)?e(t):e,Eb=(()=>{let e=0;return()=>(++e).toString()})(),cg=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Tb=20,Hu="default",dg=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return dg(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},wo=[],ug={toasts:[],pausedAt:void 0,settings:{toastLimit:Tb}},xr={},fg=(e,t=Hu)=>{xr[t]=dg(xr[t]||ug,e),wo.forEach(([r,n])=>{r===t&&n(xr[t])})},hg=e=>Object.keys(xr).forEach(t=>fg(e,t)),Ob=e=>Object.keys(xr).find(t=>xr[t].toasts.some(r=>r.id===e)),Ll=(e=Hu)=>t=>{fg(t,e)},Rb={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ib=(e={},t=Hu)=>{let[r,n]=k.useState(xr[t]||ug),s=k.useRef(xr[t]);k.useEffect(()=>(s.current!==xr[t]&&n(xr[t]),wo.push([t,n]),()=>{let o=wo.findIndex(([l])=>l===t);o>-1&&wo.splice(o,1)}),[t]);let a=r.toasts.map(o=>{var l,c,d;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((c=e[o.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Rb[o.type],style:{...e.style,...(d=e[o.type])==null?void 0:d.style,...o.style}}});return{...r,toasts:a}},Lb=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Eb()}),wi=e=>(t,r)=>{let n=Lb(t,e,r);return Ll(n.toasterId||Ob(n.id))({type:2,toast:n}),n.id},Ve=(e,t)=>wi("blank")(e,t);Ve.error=wi("error");Ve.success=wi("success");Ve.loading=wi("loading");Ve.custom=wi("custom");Ve.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Ll(t)(r):hg(r)};Ve.dismissAll=e=>Ve.dismiss(void 0,e);Ve.remove=(e,t)=>{let r={type:4,toastId:e};t?Ll(t)(r):hg(r)};Ve.removeAll=e=>Ve.remove(void 0,e);Ve.promise=(e,t,r)=>{let n=Ve.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?tl(t.success,s):void 0;return a?Ve.success(a,{id:n,...r,...r==null?void 0:r.success}):Ve.dismiss(n),s}).catch(s=>{let a=t.error?tl(t.error,s):void 0;a?Ve.error(a,{id:n,...r,...r==null?void 0:r.error}):Ve.dismiss(n)}),e};var Ab=1e3,$b=(e,t="default")=>{let{toasts:r,pausedAt:n}=Ib(e,t),s=k.useRef(new Map).current,a=k.useCallback((f,h=Ab)=>{if(s.has(f))return;let m=setTimeout(()=>{s.delete(f),o({type:4,toastId:f})},h);s.set(f,m)},[]);k.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(p<0){m.visible&&Ve.dismiss(m.id);return}return setTimeout(()=>Ve.dismiss(m.id,t),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let o=k.useCallback(Ll(t),[t]),l=k.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=k.useCallback((f,h)=>{o({type:1,toast:{id:f,height:h}})},[o]),d=k.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),u=k.useCallback((f,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:x}=h||{},g=r.filter(w=>(w.position||x)===(f.position||x)&&w.height),y=g.findIndex(w=>w.id===f.id),v=g.filter((w,N)=>N<y&&w.visible).length;return g.filter(w=>w.visible).slice(...m?[v+1]:[0,v]).reduce((w,N)=>w+(N.height||0)+p,0)},[r]);return k.useEffect(()=>{r.forEach(f=>{if(f.dismissed)a(f.id,f.removeDelay);else{let h=s.get(f.id);h&&(clearTimeout(h),s.delete(f.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:c,startPause:l,endPause:d,calculateOffset:u}}},Fb=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yb=Hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wb=Hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Ub=Tn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yb} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Wb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,zb=Hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,qb=Tn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${zb} 1s linear infinite;
`,Vb=Hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Bb=Hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hb=Tn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Bb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qb=Tn("div")`
  position: absolute;
`,Kb=Tn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Gb=Hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xb=Tn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Gb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Jb=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?k.createElement(Xb,null,t):t:r==="blank"?null:k.createElement(Kb,null,k.createElement(qb,{...n}),r!=="loading"&&k.createElement(Qb,null,r==="error"?k.createElement(Ub,{...n}):k.createElement(Hb,{...n})))},Zb=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,e1=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,t1="0%{opacity:0;} 100%{opacity:1;}",r1="0%{opacity:1;} 100%{opacity:0;}",n1=Tn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,s1=Tn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,a1=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=cg()?[t1,r1]:[Zb(r),e1(r)];return{animation:t?`${Hr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Hr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},i1=k.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?a1(e.position||t||"top-center",e.visible):{opacity:0},a=k.createElement(Jb,{toast:e}),o=k.createElement(s1,{...e.ariaProps},tl(e.message,e));return k.createElement(n1,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:o}):k.createElement(k.Fragment,null,a,o))});Pb(k.createElement);var o1=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=k.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return k.createElement("div",{ref:a,className:t,style:r},s)},l1=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:cg()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},c1=Il`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gi=16,d1=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=$b(r,a);return k.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:Gi,left:Gi,right:Gi,bottom:Gi,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let f=u.position||t,h=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),m=l1(f,h);return k.createElement(o1,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?c1:"",style:m},u.type==="custom"?tl(u.message,u):s?s(u):k.createElement(i1,{toast:u,position:f}))}))},$=Ve;const mg=k.createContext();function u1({children:e,userId:t}){const[r,n]=k.useState(null),[s,a]=k.useState(0),[o,l]=k.useState(!1),[c,d]=k.useState(!1),u=Ut(le.prayerSchedules.getByUser,t?{userId:t}:"skip"),f=Ut(le.prayerSchedules.getUpcoming,t?{userId:t}:"skip"),h=Ut(le.prayerStreaks.getByUser,t?{userId:t}:"skip"),m=Ut(le.prayerHistory.getByUser,t?{userId:t}:"skip"),p=Ut(le.userSettings.getByUser,t?{userId:t}:"skip"),x=u===void 0||f===void 0||h===void 0||m===void 0||p===void 0,g=Je(le.prayerSchedules.create),y=Je(le.prayerSchedules.update),v=Je(le.prayerSchedules.remove),w=Je(le.prayerStreaks.updateStreak),N=Je(le.prayerHistory.create),P=Je(le.prayerHistory.remove),M=Je(le.userSettings.update),C=async(R,O=15)=>{const W=u.find(q=>q._id===R);W&&(n(W),l(!0),d(!1),a(O*60))},b=()=>{d(!0)},E=()=>{d(!1)},j=async()=>{if(r){const R=Math.floor((900-s)/60);await w({userId:t}),await N({userId:t,prayerScheduleId:r._id,duration:R,prayerPoints:[],notes:""}),r.recurring||await y({id:r._id,isCompleted:!0}),$.success("Prayer session completed!")}n(null),l(!1),d(!1),a(0)};k.useEffect(()=>{let R=null;return o&&!c&&s>0?R=setInterval(()=>{a(O=>O<=1?(j(),0):O-1)},1e3):s===0&&o&&j(),()=>clearInterval(R)},[o,c,s]);const D=R=>{const O=Math.floor(R/60),W=R%60;return`${O.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`};return i.jsx(mg.Provider,{value:{userId:t,schedules:u||[],upcomingSchedules:f||[],streak:h,history:m||[],settings:p,isLoading:x,activePrayer:r,countdown:s,isPraying:o,isPaused:c,formatTime:D,startPrayer:C,stopPrayer:j,pausePrayer:b,resumePrayer:E,createSchedule:g,updateSchedule:y,deleteSchedule:v,deleteHistory:P,updateSettings:M},children:e})}function sr(){const e=k.useContext(mg);if(!e)throw new Error("usePrayer must be used within PrayerProvider");return e}let kr=null,f1=null;async function Qu(){var t,r;if(!("serviceWorker"in navigator))return console.warn("Service Workers are not supported in this browser"),null;if(!(location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="0.0.0.0"))return console.warn(" Service Workers require HTTPS in production (or localhost for development)"),console.warn("Current context:",location.protocol,location.hostname),null;console.log(" Secure context detected - Service Worker will work!");try{let n=await navigator.serviceWorker.getRegistration();if(n)console.log(" Service Worker already registered"),(((t=n.active)==null?void 0:t.scriptURL)||((r=n.waiting)==null?void 0:r.scriptURL)||"").includes("sw.js")?console.log(" Using custom service worker for notifications"):console.log(" Different service worker found - notifications may still work"),console.log(" Environment:",location.hostname==="localhost"?"Development":"Production");else{const s="/sw.js";try{n=await navigator.serviceWorker.register(s,{scope:"/"}),console.log(" Service Worker registered successfully:",s),console.log(" Environment:",location.hostname==="localhost"?"Development (localhost)":"Production (HTTPS)")}catch(a){return console.error(" Failed to register service worker:",a),(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log(" Service worker file may not be available in dev mode"),console.log(" It will work automatically when you deploy to production (HTTPS)")),null}}return kr=n,n.installing?(console.log("Service Worker installing..."),await new Promise(s=>{const a=n.installing;a.addEventListener("statechange",()=>{a.state==="activated"&&(console.log(" Service Worker activated"),s())})})):n.waiting&&n.waiting.postMessage({type:"SKIP_WAITING"}),n.active&&console.log(" Service Worker is active and ready for notifications"),n.addEventListener("updatefound",()=>{const s=n.installing;s.addEventListener("statechange",()=>{s.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New service worker available")})}),n}catch(n){console.error(" Service Worker registration failed:",n),n.message.includes("Failed to register")&&console.error("Make sure the service worker file (sw.js) is accessible at the root of your domain");try{const s=await navigator.serviceWorker.getRegistration();if(s)return kr=s,console.log(" Using existing service worker registration"),s}catch(s){console.error("Could not get existing service worker:",s)}return null}}async function pg(e,t){if(!kr)return console.warn("Service Worker not registered"),null;try{if(!("PushManager"in window))return console.warn("Push messaging is not supported"),null;if(await Notification.requestPermission()!=="granted")return console.warn("Notification permission not granted"),null;const n="BKkJoFms6e3nG-P7oe09z3a5N6LQtU15NpAnmT4cogJmkZ4qphvwnLWcW6veQJerqeTmHhl1s9q03SB5ca6ynQ8";console.log(" VAPID public key found - push subscriptions enabled!");try{const s=await kr.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:p1(n)});if(f1=s,console.log(" Push subscription successful!"),e&&t){const a=s.toJSON();await e({userId:t,subscription:{endpoint:a.endpoint,keys:{p256dh:a.keys.p256dh,auth:a.keys.auth}}}),console.log(" Subscription saved to backend!")}return s}catch(s){return console.warn("Push subscription failed:",s),null}}catch(r){return console.error("Push subscription failed:",r),null}}async function h1({title:e,body:t,icon:r,tag:n,data:s}){if(!("Notification"in window)||Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;if(!kr)try{kr=await navigator.serviceWorker.getRegistration()}catch(a){console.warn("Could not get service worker registration:",a)}try{const a=await navigator.serviceWorker.ready;return a&&a.active?new Promise(o=>{const l=new MessageChannel;l.port1.onmessage=c=>{c.data&&c.data.success?(console.log(" Notification shown via service worker"),o(!0)):o(!1)};try{a.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:e,body:t,icon:r||"/vite.svg",tag:n||"prayer-notification",data:s||{url:"/",timestamp:Date.now()}}},[l.port2]),setTimeout(()=>{o(!0)},500)}catch(c){console.warn("Failed to post message to service worker:",c),o(!1)}}).then(o=>{if(o)return!0;throw new Error("Service worker notification failed")}).catch(()=>new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:s})):(console.log("Service worker not ready, using fallback notification"),new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:s}))}catch(a){console.error("Error showing background notification via service worker:",a);try{return new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:s})}catch(o){return console.error("Fallback notification also failed:",o),null}}}async function m1(){if(!kr)return!1;try{return"sync"in kr?(await kr.sync.register("check-notifications"),console.log("Background sync registered"),!0):(console.warn("Background sync not supported"),!1)}catch(e){return console.error("Background sync registration failed:",e),!1}}function p1(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s}function g1(){return kr}function gg(){const{userId:e,settings:t,schedules:r,upcomingSchedules:n,streak:s}=sr(),a=Je(le.pushData.saveSubscription),o=k.useRef(null),l=k.useRef({}),c=k.useRef(null);return k.useEffect(()=>{Qu().then(d=>{d&&(console.log("Service Worker registered for background notifications"),m1(),t!=null&&t.notificationsEnabled&&e&&pg(a,e))}),"Notification"in window&&(c.current=Notification.permission)},[e,t==null?void 0:t.notificationsEnabled]),k.useEffect(()=>{if(!(t!=null&&t.notificationsEnabled)){o.current&&(clearInterval(o.current),o.current=null);return}if(Notification.permission==="default"||Notification.permission!=="granted")return;const d=()=>{const u=new Date;u.toTimeString().slice(0,5);const f=u.toDateString();if(t!=null&&t.notificationTime){const[h,m]=t.notificationTime.split(":").map(Number),p=h*60+m,x=u.getHours()*60+u.getMinutes(),g=u.getSeconds(),y=`daily-${f}`;!l.current[y]&&x===p&&g<50&&(ya({title:"Prayer Reminder",body:"Time for your daily prayer session!",icon:"/vite.svg",tag:y}),l.current[y]=Date.now(),$("Daily prayer reminder!",{icon:"",duration:5e3}))}if(t!=null&&t.showPrayerReminders&&n&&n.length>0&&n.forEach(h=>{const p=new Date(h.scheduledTime)-u,x=Math.floor(p/(1e3*60)),g=Math.floor(p/1e3);if(x===5&&g<=300&&g>=250){const y=`schedule-${h._id}-5min`;l.current[y]||(ya({title:"Prayer Schedule Reminder",body:`"${h.title}" starts in 5 minutes`,icon:"/vite.svg",tag:y}),l.current[y]=Date.now(),$(`Prayer "${h.title}" in 5 minutes!`,{icon:"",duration:5e3}))}if(x===1&&g<=60&&g>=50){const y=`schedule-${h._id}-1min`;l.current[y]||(ya({title:"Prayer Starting Soon",body:`"${h.title}" starts in 1 minute`,icon:"/vite.svg",tag:y}),l.current[y]=Date.now(),$(`Prayer "${h.title}" starting in 1 minute!`,{icon:"",duration:5e3}))}if(p<=1e4&&p>=0){const y=`schedule-${h._id}-start`;l.current[y]||(ya({title:"Prayer Time!",body:`"${h.title}" is starting now`,icon:"/vite.svg",tag:y}),l.current[y]=Date.now(),$(`Prayer "${h.title}" is starting now!`,{icon:"",duration:5e3}))}}),t!=null&&t.showStreakNotifications&&s){const h=`streak-${s.currentStreak}-${f}`,m=l.current[h];[7,14,30,50,100].includes(s.currentStreak)&&!m&&(ya({title:" Streak Milestone!",body:`Amazing! You've reached ${s.currentStreak} days of prayer!`,icon:"/vite.svg",tag:h}),l.current[h]=Date.now(),$.success(` ${s.currentStreak}-day streak milestone!`,{duration:5e3}))}};return o.current=setInterval(d,1e4),d(),()=>{o.current&&(clearInterval(o.current),o.current=null)}},[t==null?void 0:t.notificationsEnabled,t==null?void 0:t.notificationTime,t==null?void 0:t.showPrayerReminders,t==null?void 0:t.showStreakNotifications,n,s]),k.useEffect(()=>{const u=setInterval(()=>{const f=Date.now()-864e5;Object.keys(l.current).forEach(h=>{l.current[h]<f&&delete l.current[h]})},36e5);return()=>clearInterval(u)},[]),{requestPermission:async()=>{if("Notification"in window){const d=await Notification.requestPermission();return c.current=d,d}return"denied"},permission:c.current}}async function ya({title:e,body:t,icon:r,tag:n}){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{if(await h1({title:e,body:t,icon:r,tag:n}))return;const a=new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n||"prayer-notification",requireInteraction:!1,silent:!1});setTimeout(()=>{a.close()},5e3),a.onclick=()=>{window.focus(),a.close()}}catch(s){console.error("Error showing notification:",s)}}const xg=k.createContext(),Ih=[{id:"default-chant-1",name:"Deep Soaking Worship (Default)",url:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/Theophilus_Sunday_-_Aya_o_Aya_Adullam_CeeNaija.com_.mp3",duration:0}],Lh=[{id:"default-tongue-1",name:"Spirit Lead Me (Default)",url:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/Bishop%20David%20Oyedepo%20-%201%20HOUR%20OF%20TONGUES%20OF%20FIRE%20-%20No%20devil%20can%20withstand%20this%20I%20Gospel%20Afrik%20Tv-_AudioTrimmer.com_.mp3",duration:0}];function x1({children:e}){const{settings:t}=sr(),[r,n]=k.useState(null),[s,a]=k.useState(!1),[o,l]=k.useState((t==null?void 0:t.defaultVolume)??.7),[c,d]=k.useState([]),[u,f]=k.useState([]),[h,m]=k.useState(0),[p,x]=k.useState(0),g=k.useRef(null);k.useEffect(()=>{(t==null?void 0:t.defaultVolume)!==void 0&&l(t.defaultVolume)},[t==null?void 0:t.defaultVolume]),k.useEffect(()=>{if(!g.current){g.current=new Audio,g.current.loop=!0,g.current.volume=o;const j=()=>a(!1),D=F=>{a(!1),console.error("Audio playback error:",F)},R=()=>{g.current&&r&&(console.log(`Audio loaded successfully: ${(r==null?void 0:r.name)||"Unknown"}`),x(g.current.duration||0))},O=()=>{g.current&&x(g.current.duration||0)},W=()=>{g.current&&m(g.current.currentTime||0)},q=()=>{g.current&&x(g.current.duration||0)};return g.current.addEventListener("ended",j),g.current.addEventListener("error",D),g.current.addEventListener("canplay",R),g.current.addEventListener("loadedmetadata",O),g.current.addEventListener("timeupdate",W),g.current.addEventListener("durationchange",q),()=>{g.current&&(g.current.removeEventListener("ended",j),g.current.removeEventListener("error",D),g.current.removeEventListener("canplay",R),g.current.removeEventListener("loadedmetadata",O),g.current.removeEventListener("timeupdate",W),g.current.removeEventListener("durationchange",q),g.current.pause(),g.current.src="")}}},[]),k.useEffect(()=>{g.current&&(g.current.volume=o)},[o]),k.useEffect(()=>{if(!g.current)return;const j=g.current,D=()=>{j.duration&&!isNaN(j.duration)&&isFinite(j.duration)&&x(j.duration)},R=()=>{j.duration&&!isNaN(j.duration)&&isFinite(j.duration)&&x(j.duration)},O=()=>{j.currentTime!==void 0&&!isNaN(j.currentTime)&&m(j.currentTime)};j.addEventListener("loadedmetadata",D),j.addEventListener("durationchange",R),j.addEventListener("timeupdate",O);let W;const q=()=>{j&&j.currentTime!==void 0&&!isNaN(j.currentTime)&&m(j.currentTime),j.duration&&!isNaN(j.duration)&&isFinite(j.duration)&&x(j.duration),s&&(W=requestAnimationFrame(q))};return s&&(W=requestAnimationFrame(q)),()=>{W&&cancelAnimationFrame(W),j.removeEventListener("loadedmetadata",D),j.removeEventListener("durationchange",R),j.removeEventListener("timeupdate",O)}},[s]);const y=j=>{d(D=>[...D.filter(R=>R.id!==j.id),j])},v=j=>{f(D=>[...D.filter(R=>R.id!==j.id),j])},w=(j,D=null,R=null)=>{let O=u.find(_=>_.id===j);if(O||(O=Lh.find(_=>_.id===j)),D&&(O?O={...O,url:D,name:R||O.name||"Custom Tongue Song"}:O={id:j,url:D,name:R||"Custom Tongue Song"}),!O||!O.url){console.warn("No tongue song found or no URL provided:",j,D);return}if(console.log("Playing tongue song:",O.name,"URL:",O.url),g.current&&(r==null?void 0:r.id)===O.id&&!s){M();return}if(g.current&&s&&(r==null?void 0:r.id)!==O.id&&(g.current.pause(),g.current.currentTime=0),!g.current){console.error("Audio element not initialized");return}n(O),g.current.volume=o;const W=_=>{if(!_)return"";try{return new URL(_).href}catch{return _}},q=W(g.current.src),F=W(O.url);if(q===F&&q!==""&&g.current.readyState>=2){a(!0),g.current.play().catch(_=>{console.error("Audio play error:",_),a(!1)});return}const U=new Promise((_,L)=>{const A=()=>{g.current.removeEventListener("canplay",A),g.current.removeEventListener("error",de),g.current.removeEventListener("loadstart",te),g.current.removeEventListener("loadedmetadata",K),g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&x(g.current.duration),console.log("Tongue song loaded, ready to play:",O.name),a(!0),_()},K=()=>{g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&x(g.current.duration)},te=()=>{console.log("Loading tongue song:",O.url)},de=ge=>{var xe;g.current.removeEventListener("canplay",A),g.current.removeEventListener("error",de),g.current.removeEventListener("loadstart",te),console.error("Audio load error:",ge),console.error("Failed URL:",O.url),console.error("Audio element error:",(xe=g.current)==null?void 0:xe.error),a(!1),L(ge)};g.current.addEventListener("canplay",A,{once:!0}),g.current.addEventListener("loadstart",te,{once:!0}),g.current.addEventListener("loadedmetadata",K),g.current.addEventListener("error",de,{once:!0})});console.log("Setting audio source to:",O.url),g.current.src=O.url,g.current.load(),m(0),x(0),U.then(()=>{if(g.current)return console.log("Playing tongue song:",O.name),g.current.play()}).catch(_=>{console.error("Audio play error:",_),console.error("Failed to play URL:",O.url),a(!1)})},N=(j,D=null,R=null)=>{let O=c.find(_=>_.id===j);if(O||(O=Ih.find(_=>_.id===j)),D&&(O?O={...O,url:D,name:R||O.name||"Custom Chant"}:O={id:j,url:D,name:R||"Custom Chant"}),!O||!O.url){console.warn("No chant found or no URL provided:",j,D);return}if(console.log("Playing chant:",O.name,"URL:",O.url),g.current&&(r==null?void 0:r.id)===O.id&&!s){M();return}if(g.current&&s&&(r==null?void 0:r.id)!==O.id&&(g.current.pause(),g.current.currentTime=0),!g.current){console.error("Audio element not initialized");return}n(O),g.current.volume=o;const W=_=>{if(!_)return"";try{return new URL(_).href}catch{return _}},q=W(g.current.src),F=W(O.url);if(q===F&&q!==""&&g.current.readyState>=2){a(!0),g.current.play().catch(_=>{console.error("Audio play error:",_),a(!1)});return}const U=new Promise((_,L)=>{const A=()=>{g.current.removeEventListener("canplay",A),g.current.removeEventListener("error",de),g.current.removeEventListener("loadstart",te),g.current.removeEventListener("loadedmetadata",K),g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&x(g.current.duration),console.log("Chant loaded, ready to play:",O.name),a(!0),_()},K=()=>{g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&x(g.current.duration)},te=()=>{console.log("Loading chant:",O.url)},de=ge=>{var xe;g.current.removeEventListener("canplay",A),g.current.removeEventListener("error",de),g.current.removeEventListener("loadstart",te),console.error("Audio load error:",ge),console.error("Failed URL:",O.url),console.error("Audio element error:",(xe=g.current)==null?void 0:xe.error),a(!1),L(ge)};g.current.addEventListener("canplay",A,{once:!0}),g.current.addEventListener("loadstart",te,{once:!0}),g.current.addEventListener("loadedmetadata",K),g.current.addEventListener("error",de,{once:!0})});console.log("Setting audio source to:",O.url),g.current.src=O.url,g.current.load(),m(0),x(0),U.then(()=>{if(g.current)return console.log("Playing chant:",O.name),g.current.play()}).catch(_=>{console.error("Audio play error:",_),console.error("Failed to play URL:",O.url),a(!1)})},P=()=>{g.current&&s&&(g.current.pause(),a(!1))},M=()=>{g.current&&r&&!s&&(g.current.play().catch(j=>{console.error("Audio resume error:",j),a(!1)}),a(!0))},C=()=>{g.current&&(g.current.pause(),g.current.currentTime=0,a(!1)),n(null),m(0),x(0)},b=()=>{s?P():r&&M()},E=j=>{if(!j||isNaN(j))return"0:00";const D=Math.floor(j/60),R=Math.floor(j%60);return`${D}:${String(R).padStart(2,"0")}`};return i.jsx(xg.Provider,{value:{chants:Ih,tongueSongs:Lh,customChants:c,customTongueSongs:u,currentChant:r,isPlaying:s,volume:o,currentTime:h,duration:p,formatTime:E,setVolume:l,playChant:N,playTongueSong:w,pauseChant:P,resumeChant:M,stopChant:C,toggleChant:b,addCustomChant:y,addCustomTongueSong:v,audioRef:g,soundEffectsEnabled:(t==null?void 0:t.soundEffectsEnabled)??!0},children:e})}function Al(){const e=k.useContext(xg);if(!e)throw new Error("useAudio must be used within AudioProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(e,t)=>{const r=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},u)=>k.createElement("svg",{ref:u,...v1,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${y1(e)}`,l].join(" "),...d},[...t.map(([f,h])=>k.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=G("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=G("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=G("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=G("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=G("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=G("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=G("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=G("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=G("FileAudio",[["path",{d:"M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"1013sb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z",key:"gqt63y"}],["path",{d:"M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z",key:"cf7lqx"}],["path",{d:"M2 19v-3a6 6 0 0 1 12 0v3",key:"1acxgf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=G("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=G("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=G("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=G("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=G("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=G("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=G("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=G("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=G("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=G("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=G("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=G("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=G("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=G("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=G("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=G("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=G("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=G("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=G("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=G("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=G("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=G("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=G("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function A1({onEnter:e}){const[t,r]=k.useState(!1),n=()=>{r(!0),setTimeout(()=>{e()},800)};return i.jsxs("div",{className:"relative w-full h-full  min-h-[60vh] flex items-center justify-center overflow-hidden rounded-3xl border border-white/10 shadow-2xl",children:[i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1a103c] via-[#2d1b4e] to-[#1a103c]",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-to-b from-[#ffd700]/10 to-transparent blur-3xl opacity-30"}),[...Array(8)].map((s,a)=>i.jsx("div",{className:"absolute rounded-full bg-gradient-to-r from-[#ffd700]/20 to-amber-500/20 blur-xl animate-float",style:{width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`}},a))]}),i.jsxs("div",{className:`relative z-10 max-w-lg w-full -mt-10 mx-auto px-6 text-center transition-all duration-1000 transform ${t?"opacity-0 scale-95 translate-y-4":"opacity-100 scale-100 translate-y-0"}`,children:[i.jsxs("div",{className:"mb-8 relative inline-block",children:[i.jsx("div",{className:"absolute inset-0 bg-[#ffd700] blur-3xl opacity-20 animate-pulse"}),i.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md overflow-hidden flex items-center justify-center shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[i.jsx("div",{className:"absolute inset-0 rounded-full border border-[#ffd700]/20 scale-110"}),i.jsx("img",{src:"/logo.png",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover relative z-10"})]})]}),i.jsxs("div",{className:"space-y-2 mb-10",children:[i.jsx("p",{className:"text-[#ffd700]/60 text-xs md:text-sm uppercase tracking-[0.3em] font-medium",children:"Enter the Sanctuary"}),i.jsxs("h1",{className:"text-4xl md:text-6xl font-serif text-white leading-tight",children:["Prayer ",i.jsx("span",{className:"text-[#ffd700]",children:"Room"})]}),i.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-[#ffd700]/50 to-transparent mx-auto mt-6"})]}),i.jsxs("p",{className:"text-white/70 text-base md:text-lg mb-12 font-light leading-relaxed max-w-sm mx-auto",children:['"Draw near to God, and He will draw near to you."',i.jsx("span",{className:"block text-[#ffd700]/50 text-xs mt-2 font-serif italic",children:" James 4:8"})]}),i.jsxs("button",{onClick:n,className:"group relative inline-flex items-center gap-4 px-8 py-4 bg-gradient-to-r from-[#ffd700] to-[#fdb931] rounded-full text-[#1a103c] font-serif font-bold text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-500 hover:scale-105 active:scale-95",children:[i.jsx("span",{className:"relative z-10",children:"Begin Prayer"}),i.jsx(Ls,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),i.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-white/20 text-xs",children:[i.jsx(ve,{className:"w-3 h-3"}),i.jsx("span",{children:"Sacred Space"}),i.jsx(ve,{className:"w-3 h-3"})]})]})]})}function $1({isFullscreen:e,toggleFullscreen:t,schedules:r,selectedSchedule:n,setSelectedSchedule:s,selectedScheduleData:a,chants:o,chantUploads:l,selectedDuration:c,setSelectedDuration:d,customHours:u,setCustomHours:f,customMinutes:h,setCustomMinutes:m,useCustomTime:p,setUseCustomTime:x,durations:g,adjustDuration:y,handleStart:v}){var W,q,F,U;const[w,N]=k.useState(1),[P,M]=k.useState(!1),[C,b]=k.useState([]),E=3,j=n&&(a==null?void 0:a.prayerPoints)&&a.prayerPoints.length>0,D=p?u>0||h>0:c>0,R=()=>{w===1&&j?N(2):w===2&&D&&N(3)},O=()=>{w>1&&N(w-1)};return i.jsxs("div",{className:`w-full mx-auto px-3 md:px-4 ${e?"h-full overflow-y-auto pt-4":"max-w-2xl"}`,children:[i.jsx("div",{className:"md:hidden flex justify-end mb-4",children:i.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20",title:e?"Exit fullscreen":"Enter fullscreen",children:e?i.jsx(Fd,{className:"w-5 h-5 text-white"}):i.jsx($d,{className:"w-5 h-5 text-white"})})}),i.jsx("div",{className:"mb-6 md:mb-8",children:i.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(_=>i.jsxs("div",{className:"flex items-center flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center flex-1",children:[i.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-300 border ${_<w?"bg-gradient-to-r from-[#ffd700] to-amber-500 text-[#1a103c] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":_===w?"bg-[#1a103c] text-[#ffd700] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.2)] ring-2 ring-[#ffd700]/20":"bg-white/5 text-white/30 border-white/10"}`,children:_<w?i.jsx(Hn,{className:"w-4 h-4 md:w-5 md:h-5"}):_}),i.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium tracking-wide ${_<=w?"text-[#ffd700]":"text-white/30"}`,children:_===1?"Schedule":_===2?"Duration":"Start"})]}),_<E&&i.jsx("div",{className:`flex-1 h-px mx-2 transition-all duration-300 ${_<w?"bg-gradient-to-r from-[#ffd700] to-amber-500 opacity-50":"bg-white/10"}`})]},_))})}),i.jsxs("div",{className:"glass-strong p-4 md:p-6 lg:p-8 rounded-2xl min-h-[400px] md:min-h-[500px]",children:[w===1&&i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:i.jsx(qt,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),i.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Select Prayer Schedule"}),i.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Choose a schedule to begin your prayer session"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-white/80 text-xs md:text-sm font-medium mb-3",children:"Select Schedule"}),i.jsxs("div",{className:"relative z-20",children:[i.jsxs("button",{onClick:()=>M(!P),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-300 ${P?"bg-[#1a103c] border-[#ffd700] shadow-[0_0_20px_rgba(255,215,0,0.2)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":"bg-white/10 text-white/50"}`,children:i.jsx(qt,{className:"w-5 h-5"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:`font-semibold ${n?"text-white":"text-white/50"}`,children:a?a.title:"Choose a schedule..."}),a&&i.jsxs("p",{className:"text-xs text-white/50",children:[new Date(a.scheduledTime).toLocaleDateString(),"  ",((W=a.prayerPoints)==null?void 0:W.length)||0," points"]})]})]}),i.jsx(Gu,{className:`w-5 h-5 text-white/50 transition-transform duration-300 ${P?"rotate-180":""}`})]}),P&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1a103c] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-fade-in max-h-[300px] overflow-y-auto custom-scrollbar",children:r.filter(_=>!_.isCompleted&&!C.includes(_._id)).length===0?i.jsx("div",{className:"p-4 text-center text-white/40 text-sm",children:"No schedules available"}):r.filter(_=>!_.isCompleted&&!C.includes(_._id)).map(_=>i.jsxs("div",{className:`flex items-center justify-between p-3 hover:bg-white/5 transition-colors border-b border-white/5 last:border-0 ${n===_._id?"bg-white/5":""}`,children:[i.jsxs("button",{onClick:()=>{s(_._id),M(!1)},className:"flex-1 flex items-center gap-3 text-left",children:[i.jsx("div",{className:`w-2 h-2 rounded-full ${n===_._id?"bg-[#ffd700]":"bg-white/20"}`}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-medium ${n===_._id?"text-[#ffd700]":"text-white/90"}`,children:_.title}),i.jsx("p",{className:"text-xs text-white/50 line-clamp-1",children:_.description||"No description"})]})]}),i.jsx("button",{onClick:L=>{L.stopPropagation(),b(A=>[...A,_._id]),n===_._id&&s(null)},className:"p-2 text-white/30 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Hide from list",children:i.jsx(N1,{className:"w-4 h-4"})})]},_._id))})]}),a&&i.jsxs("div",{className:"mt-6 glass-card p-6 rounded-2xl border border-[#ffd700]/30 bg-gradient-to-br from-[#ffd700]/5 to-purple-500/5 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ffd700]/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-[#ffd700]/20 transition-all duration-700"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:a.title}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/60",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(qt,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(a.scheduledTime).toLocaleDateString()]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Lr,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(a.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#ffd700]/10 flex items-center justify-center border border-[#ffd700]/20",children:i.jsx(ve,{className:"w-5 h-5 text-[#ffd700]"})})]}),a.description&&i.jsxs("p",{className:"text-white/70 text-sm mb-4 leading-relaxed border-l-2 border-[#ffd700]/30 pl-3 italic",children:['"',a.description,'"']}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-[#ffd700] uppercase tracking-wider",children:[i.jsx(lt,{className:"w-3 h-3"}),"Prayer Focus Points"]}),i.jsxs("div",{className:"grid gap-2",children:[(q=a.prayerPoints)==null?void 0:q.slice(0,3).map((_,L)=>i.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[i.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700]/10 text-[#ffd700] text-xs font-bold flex-shrink-0 mt-0.5",children:L+1}),i.jsx("p",{className:"text-sm text-white/80 leading-snug",children:_})]},L)),(((F=a.prayerPoints)==null?void 0:F.length)||0)>3&&i.jsxs("button",{className:"text-xs text-white/40 hover:text-[#ffd700] transition-colors text-center w-full py-1",children:["+",a.prayerPoints.length-3," more points"]})]})]})]})]})]}),i.jsxs("button",{onClick:R,disabled:!j,className:"w-full group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx("span",{className:"relative z-10",children:"Continue"}),i.jsx(Ls,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),i.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),w===2&&i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-purple-500/20 to-indigo-500/20 mb-4",children:i.jsx(Lr,{className:"w-6 h-6 md:w-8 md:h-8 text-purple-400"})}),i.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Set Duration"}),i.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Choose how long you want to pray"})]}),i.jsxs("div",{className:"flex gap-2 glass-card p-1.5 rounded-lg",children:[i.jsx("button",{onClick:()=>x(!1),className:`flex-1 px-3 py-2 md:px-4 md:py-2.5 rounded-md text-xs md:text-sm font-medium transition-all ${p?"text-white/70 hover:text-white/90":"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold"}`,children:"Preset"}),i.jsx("button",{onClick:()=>x(!0),className:`flex-1 px-3 py-2 md:px-4 md:py-2.5 rounded-md text-xs md:text-sm font-medium transition-all ${p?"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold":"text-white/70 hover:text-white/90"}`,children:"Custom"})]}),p?i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"glass-card p-6 rounded-xl border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-6",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Hours"}),i.jsx("input",{type:"number",min:"0",max:"23",value:u,onChange:_=>f(Math.max(0,Math.min(23,parseInt(_.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]}),i.jsx("span",{className:"text-white/40 text-3xl md:text-4xl font-bold mt-8",children:":"}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Minutes"}),i.jsx("input",{type:"number",min:"0",max:"59",value:h,onChange:_=>m(Math.max(0,Math.min(59,parseInt(_.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]})]}),i.jsxs("div",{className:"text-center mt-6 pt-4 border-t border-white/10",children:[i.jsx("span",{className:"text-white/60 text-sm",children:"Total Duration: "}),i.jsxs("span",{className:"text-[#ffd700] font-bold text-xl",children:[u*60+h," minutes"]})]})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 md:gap-3",children:g.map(_=>i.jsxs("button",{onClick:()=>d(_),className:`py-3 md:py-5 rounded-xl font-bold text-sm md:text-lg transition-all duration-300 ${c===_?"bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] shadow-[0_0_20px_rgba(255,215,0,0.3)] scale-105":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border border-white/5 hover:border-[#ffd700]/30"}`,children:[_,"m"]},_))}),i.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[i.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Selected: "}),i.jsxs("span",{className:"text-[#ffd700] font-bold text-base md:text-lg",children:[c," minutes"]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:O,className:"flex-1 py-3 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-base md:text-lg flex items-center justify-center gap-2",children:[i.jsx(za,{className:"w-5 h-5"}),"Back"]}),i.jsxs("button",{onClick:R,disabled:!D,className:"flex-1 group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx("span",{className:"relative z-10",children:"Continue"}),i.jsx(Ls,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),i.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]}),w===3&&i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:i.jsx(Dn,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-400"})}),i.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Ready to Pray"}),i.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Review your settings and begin"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"glass-card p-3 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:[i.jsx(qt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),i.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"Prayer Schedule"})]}),i.jsx("p",{className:"text-white text-base md:text-lg font-bold mb-2",children:a==null?void 0:a.title}),i.jsx("div",{className:"flex items-center gap-4 text-xs md:text-sm text-white/60",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ve,{className:"w-3 h-3 text-[#ffd700]"}),((U=a==null?void 0:a.prayerPoints)==null?void 0:U.length)||0," prayer points"]})})]}),i.jsxs("div",{className:"glass-card p-3 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:[i.jsx(Lr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),i.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"Duration"})]}),i.jsx("p",{className:"text-white text-xl md:text-2xl font-bold",children:p?`${u}h ${h}m`:`${c} minutes`}),i.jsxs("p",{className:"text-white/60 text-xs md:text-sm mt-1",children:["Total: ",p?u*60+h:c," minutes"]})]})]}),i.jsxs("div",{className:"flex gap-2 md:gap-3 pt-4",children:[i.jsxs("button",{onClick:O,className:"flex-1 py-2.5 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-sm md:text-lg flex items-center justify-center gap-2",children:[i.jsx(za,{className:"w-4 h-4 md:w-5 md:h-5"}),i.jsx("span",{children:"Back"})]}),i.jsxs("button",{onClick:v,className:"flex-[2] group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-2.5 md:py-4 text-[#1a103c] font-bold text-sm md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center justify-center gap-2",children:[i.jsx("span",{className:"relative z-10",children:"Start Prayer"}),i.jsx(Dn,{className:"w-5 h-5 relative z-10 fill-current"}),i.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})]})]})}function F1({isOpen:e,onClose:t,onConfirm:r}){return e?i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-[#1a103c]/80 backdrop-blur-md animate-fade-in",children:i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-3xl max-w-md w-full border border-white/10 shadow-2xl animate-fade-in bg-[#2d1b4e]",children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx(Ku,{className:"w-6 h-6 text-red-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 font-serif",children:"End Prayer Session?"}),i.jsx("p",{className:"text-white/70 text-sm md:text-base leading-relaxed",children:"Are you sure you want to end this prayer session? Your progress will be saved."})]}),i.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors flex-shrink-0 text-white/50 hover:text-white",children:i.jsx(jr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),i.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-500 text-white font-bold shadow-lg hover:shadow-red-500/20 transition-all text-base",children:"End Session"})]})]})}):null}function Y1({isFullscreen:e,toggleFullscreen:t,countdown:r,formatTime:n,isPaused:s,activePrayerPointIndex:a,prayerPoints:o,currentScripture:l,nextSwitchTime:c,timePerPoint:d,showSwitchNotification:u,isTonguesMode:f,activePrayer:h,isPlaying:m,pauseChant:p,resumeChant:x,playChant:g,playTongueSong:y,currentChant:v,chants:w,tongueSongs:N,chantUploads:P,tongueUploads:M,playChantForSchedule:C,playTongueSongForSchedule:b,handlePause:E,handleResume:j,handleStop:D,backgroundEffects:R=!0,isAutoMode:O,toggleAutoMode:W,handleNextPoint:q,onOpenNoteModal:F}){const[U,_]=k.useState(!1),[L,A]=k.useState(!1),K=k.useRef(null);k.useEffect(()=>{const ge=xe=>{K.current&&!K.current.contains(xe.target)&&A(!1)};return L&&document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[L]);const te=()=>{_(!0)},de=()=>{_(!1),D()};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:`relative z-10 w-full mx-auto px-3 md:px-4 ${e?"h-full flex flex-col justify-center":"max-w-5xl"}`,children:[i.jsx("div",{className:"absolute top-4 left-4 z-20 md:hidden",children:i.jsx("button",{onClick:t,className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all shadow-lg",title:e?"Exit fullscreen":"Enter fullscreen",children:e?i.jsx(Fd,{className:"w-5 h-5 text-white"}):i.jsx($d,{className:"w-5 h-5 text-white"})})}),i.jsxs("div",{className:"absolute top-4 right-4 z-20 flex gap-2 items-center",children:[i.jsxs("div",{className:"hidden md:flex items-center gap-2 bg-black/20 backdrop-blur-md rounded-full p-1 border border-white/10 mr-2",children:[i.jsx("button",{onClick:()=>!O&&W(),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${O?"bg-[#ffd700] text-[#1a103c] shadow-lg":"text-white/60 hover:text-white"}`,children:"Auto Flow"}),i.jsx("button",{onClick:()=>O&&W(),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all ${O?"text-white/60 hover:text-white":"bg-[#ffd700] text-[#1a103c] shadow-lg"}`,children:"Manual"})]}),i.jsx("button",{onClick:t,className:"hidden md:block p-2.5 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all",title:e?"Exit fullscreen":"Enter fullscreen",children:e?i.jsx(Fd,{className:"w-5 h-5 text-white"}):i.jsx($d,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"md:hidden",ref:K,children:[i.jsx("button",{onClick:()=>A(!L),className:"p-2.5 rounded-lg bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 backdrop-blur-md border border-white/30 transition-all shadow-lg",children:i.jsx(P1,{className:"w-5 h-5 text-white"})}),L&&i.jsx("div",{className:"absolute top-12 right-0 glass-strong rounded-xl border border-white/30 shadow-2xl min-w-[220px] overflow-hidden animate-fade-in z-[100]",children:i.jsxs("div",{className:"bg-gradient-to-br from-[#2d1b4e] to-[#1a103c] p-1 space-y-1",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-white/10",children:[i.jsx("div",{className:"text-xs text-white/60 mb-2 uppercase tracking-wider",children:"Flow Control"}),i.jsxs("div",{className:"flex bg-white/5 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>{O||W()},className:`flex-1 py-1.5 rounded-md text-xs font-medium transition-all ${O?"bg-[#ffd700] text-[#1a103c]":"text-white/60"}`,children:"Auto"}),i.jsx("button",{onClick:()=>{O&&W()},className:`flex-1 py-1.5 rounded-md text-xs font-medium transition-all ${O?"text-white/60":"bg-[#ffd700] text-[#1a103c]"}`,children:"Manual"})]})]}),i.jsxs("button",{onClick:()=>{A(!1),te()},className:"w-full px-4 py-3 text-left rounded-lg text-red-400 hover:bg-gradient-to-r hover:from-red-500/20 hover:to-red-600/10 transition-all flex items-center gap-3 group",children:[i.jsx("div",{className:"p-1.5 rounded-lg bg-red-500/10 group-hover:bg-red-500/20 transition-colors",children:i.jsx(Fh,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-semibold text-sm",children:"End Session"})]})]})})]})]}),i.jsxs("div",{className:`p-4 md:p-10 lg:p-14 rounded-3xl text-center backdrop-blur-md border border-white/10 shadow-2xl transition-all duration-1000 relative overflow-hidden ${e?"w-full":""} ${R?"prayer-room-glow":""}`,children:[R&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-[#ffd700]/10 to-transparent rounded-br-full blur-2xl"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-[#ffd700]/10 to-transparent rounded-tl-full blur-2xl"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ffd700]/5 via-transparent to-[#ffd700]/5 pointer-events-none"})]}),i.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[i.jsx("div",{className:`text-4xl md:text-7xl lg:text-8xl font-bold font-serif mb-3 transition-all ${s?"text-[#ffd700]/50":"text-white"}`,style:{textShadow:"0 0 40px rgba(255, 215, 0, 0.3), 0 0 80px rgba(255, 215, 0, 0.1)",letterSpacing:"0.05em"},children:n(r)}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#ffd700]/70 text-[10px] md:text-sm mb-2 uppercase tracking-widest font-medium",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#ffd700] animate-pulse"}),i.jsxs("span",{children:["Prayer Point ",a+1," of ",o.length]})]}),s&&i.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/30 text-[#ffd700] text-xs font-medium mt-2",children:[i.jsx(wn,{className:"w-3 h-3"}),"Timer Paused"]}),!O&&i.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/30 text-blue-300 text-xs font-medium mt-2 ml-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-400"}),"Manual Flow"]})]}),i.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-20 md:h-20 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md mb-4 md:mb-7 shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:i.jsx("span",{className:"text-[#ffd700] text-xl md:text-3xl font-serif font-bold",children:a+1})}),i.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-6 md:mb-8 leading-tight px-3 md:px-6 font-serif",style:{textShadow:"0 2px 20px rgba(0, 0, 0, 0.5)"},children:o[a]})]}),!f&&l&&i.jsxs("div",{className:"mt-6 md:mt-10 transition-all duration-1000 ease-in-out relative z-10",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 mb-4 md:mb-6",children:[i.jsx(lt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),i.jsx("span",{className:"text-[#ffd700] text-xs md:text-sm font-semibold uppercase tracking-wider",children:"Scripture"})]}),i.jsx("div",{className:"glass-card p-5 md:p-7 rounded-2xl border border-[#ffd700]/20 max-w-3xl mx-auto bg-[#1a103c]/30",children:i.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-white/90 italic leading-relaxed animate-fade-in font-serif",style:{textShadow:"0 1px 10px rgba(0, 0, 0, 0.5)"},children:['"',l,'"']})})]}),i.jsxs("div",{className:"mt-6 md:mt-8 relative z-10 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Progress"}),i.jsxs("span",{className:"text-[#ffd700] text-xs font-mono",children:[Math.floor(c/60),":",(c%60).toString().padStart(2,"0")," remaining"]})]}),i.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)] transition-all duration-1000 ease-linear",style:{width:`${Math.max(0,Math.min(100,(d-c)/d*100))}%`}})})]}),i.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:o.map((ge,xe)=>i.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${xe===a?"w-8 bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)]":xe<a?"w-1.5 bg-[#ffd700]/50":"w-1.5 bg-white/10"}`},xe))})]}),u&&a<o.length-1&&i.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-yellow-400/50 animate-pulse relative z-10",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-300",children:[i.jsx(ve,{className:"w-5 h-5"}),i.jsxs("span",{className:"font-semibold text-sm md:text-base",children:["Switching to Prayer Point ",a+2," in ",Math.ceil(c)," seconds..."]})]})}),f&&i.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-purple-400/50 animate-pulse relative z-10",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[i.jsx(ve,{className:"w-5 h-5"}),i.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Speaking in Tongues"})]})}),s&&i.jsxs("div",{className:"mt-4 text-yellow-400 text-sm font-medium flex items-center justify-center gap-2 relative z-10",children:[i.jsx(wn,{className:"w-4 h-4"}),"Prayer Paused"]}),i.jsxs("div",{className:"mt-8 md:mt-12 flex items-center justify-center gap-3 md:gap-6 flex-wrap relative z-10 pb-8",children:[i.jsxs("button",{onClick:F,className:"p-3 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-all group relative",title:"Write a Note",children:[i.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-[#ffd700] rounded-full animate-pulse"}),i.jsx(lt,{className:"w-5 h-5 text-white group-hover:text-[#ffd700] transition-colors"})]}),((h==null?void 0:h.selectedMusicId)&&!f||(h==null?void 0:h.selectedTongueSongId)&&f)&&i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm",children:[i.jsx(We,{className:"w-4 h-4 text-[#ffd700]"}),m?i.jsx("button",{onClick:()=>p(),className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Pause Music"}):i.jsx("button",{onClick:async()=>{f&&(h!=null&&h.selectedTongueSongId)?(v==null?void 0:v.id)===h.selectedTongueSongId?x():await b(h):h!=null&&h.selectedMusicId&&((v==null?void 0:v.id)===h.selectedMusicId?x():await C(h))},className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Play Music"})]}),s?i.jsxs("button",{onClick:j,className:"group relative overflow-hidden px-8 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-sm md:text-base shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[i.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[i.jsx($h,{className:"w-4 h-4 md:w-5 md:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Continue Prayer"}),i.jsx("span",{className:"sm:hidden",children:"Continue"})]}),i.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):i.jsxs("button",{onClick:E,className:"px-6 py-3 rounded-full border border-white/20 bg-white/5 text-white hover:bg-white/10 transition-all text-sm md:text-base font-medium flex items-center gap-2",children:[i.jsx(wn,{className:"w-4 h-4 md:w-5 md:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Pause Prayer"}),i.jsx("span",{className:"sm:hidden",children:"Pause"})]}),!O&&a<o.length-1&&i.jsxs("button",{onClick:q,className:"px-6 py-3 rounded-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-sm md:text-base shadow-lg hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2",children:[i.jsx("span",{children:"Next Point"}),i.jsx($h,{className:"w-4 h-4"})]}),i.jsxs("button",{onClick:te,className:"hidden md:flex px-6 py-3 rounded-full border border-red-500/30 bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all text-sm md:text-base font-medium items-center gap-2",children:[i.jsx(Fh,{className:"w-4 h-4"}),"End Session"]})]})]})]}),i.jsx(F1,{isOpen:U,onClose:()=>_(!1),onConfirm:de})]})}function W1({isTonguesMode:e,timeRemaining:t,prayerPoint:r}){const[n,s]=k.useState([]),[a,o]=k.useState([]),l=k.useRef([]),c=k.useRef(0);k.useEffect(()=>{if(!e||l.current.length>0)return;(async()=>{var m,p,x,g,y;try{const N=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Generate 10 powerful, motivational messages for someone speaking in tongues during prayer. Make them urgent, inspiring, and destiny-focused. Examples: "Your life depends on this!", "Don't stop now - your destiny is being shaped!", "Keep going - breakthrough is coming!", "Speak more - your future is in your mouth!", "Your breakthrough is in your tongue!". Return them as a simple list, one per line, each message should be 5-15 words. Make them passionate and encouraging.`}]}]})});if(!N.ok)throw new Error("Failed to generate messages");let C=(((y=(g=(x=(p=(m=(await N.json()).candidates)==null?void 0:m[0])==null?void 0:p.content)==null?void 0:x.parts)==null?void 0:g[0])==null?void 0:y.text)||"").split(`
`).map(b=>b.trim()).filter(b=>b.length>5&&b.length<100).slice(0,10);C.length===0&&(C=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"]),l.current=C,s(C)}catch(v){console.error("Error generating motivational messages:",v);const w=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"];l.current=w,s(w)}})()},[e]),k.useEffect(()=>{if(!e||n.length===0){o([]);return}const h=setInterval(()=>{if(Math.random()>.3){const m=n[Math.floor(Math.random()*n.length)],p={id:c.current++,message:m,x:Math.random()*70+15,y:Math.random()*60+20,delay:Math.random()*.5};o(x=>[...x,p]),setTimeout(()=>{o(x=>x.filter(g=>g.id!==p.id))},4e3)}},3e3);return()=>clearInterval(h)},[e,n]);const[d,u]=k.useState(t);if(k.useEffect(()=>{if(!e){u(0);return}u(t);const h=setInterval(()=>{u(m=>Math.max(0,m-1))},1e3);return()=>clearInterval(h)},[e,t]),!e)return null;const f=h=>{if(!h||h<=0)return"0:00";const m=Math.floor(h/60),p=Math.floor(h%60);return`${m}:${String(p).padStart(2,"0")}`};return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",style:{padding:"100px 10px 120px 10px"},children:a.map(h=>{const m=Math.max(5,Math.min(85,h.x)),p=Math.max(15,Math.min(75,h.y));return i.jsx("div",{className:"absolute floating-popup",style:{left:`${m}%`,top:`${p}%`,animationDelay:`${h.delay}s`,transform:"translate(-50%, -50%)",maxWidth:"calc(100vw - 20px)"},children:i.jsx("div",{className:"glass-strong px-2 py-1.5 md:px-4 md:py-2 lg:px-6 lg:py-4 rounded-lg md:rounded-xl lg:rounded-2xl border border-[#ffd700]/30 shadow-[0_0_20px_rgba(255,215,0,0.2)] backdrop-blur-xl max-w-[85vw] md:max-w-none bg-[#1a103c]/60",children:i.jsxs("div",{className:"flex items-center gap-1 md:gap-2 lg:gap-3",children:[i.jsx(qa,{className:"w-3 h-3 md:w-5 md:h-5 lg:w-6 lg:h-6 text-[#ffd700] animate-pulse flex-shrink-0"}),i.jsx("p",{className:"text-white font-bold text-xs md:text-sm lg:text-lg break-words font-serif line-clamp-2",children:h.message})]})})},h.id)})}),i.jsx("div",{className:"fixed top-20 md:top-24 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none px-2",children:i.jsx("div",{className:"glass-strong px-3 py-2 md:px-6 md:py-3 lg:px-8 lg:py-4 rounded-lg md:rounded-xl lg:rounded-2xl border border-[#ffd700]/50 shadow-[0_0_30px_rgba(255,215,0,0.3)] animate-pulse bg-[#1a103c]/80",children:i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 lg:gap-3",children:[i.jsx(ve,{className:"w-4 h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 text-[#ffd700] flex-shrink-0"}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-[#ffd700] font-bold text-base md:text-xl lg:text-2xl mb-0.5 font-serif",children:f(d)}),i.jsx("p",{className:"text-white/90 text-[10px] md:text-xs lg:text-sm font-medium uppercase tracking-wide md:tracking-wider",children:"Keep Speaking in Tongues!"})]})]})})})]})}function U1({isOpen:e,onClose:t,userId:r,activePrayerPoint:n,scheduleId:s}){const[a,o]=k.useState(""),[l,c]=k.useState(!1),d=Je(le.prayerNotes.create);if(!e)return null;const u=async()=>{if(!a.trim()){$.error("Please write something first");return}c(!0);try{const f={userId:r,content:a,prayerPoint:n};s&&(f.prayerScheduleId=s),await d(f),$.success("Divine Revelation saved!"),o(""),t()}catch(f){console.error("Failed to save note:",f),$.error("Failed to save note")}finally{c(!1)}};return i.jsx("div",{className:"fixed inset-0 z-[350] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"w-full max-w-lg bg-[#2d1b4e] border border-white/10 rounded-3xl shadow-2xl overflow-hidden animate-scale-up",children:[i.jsxs("div",{className:"bg-[#1a103c] p-4 flex items-center justify-between border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-[#ffd700]/10",children:i.jsx(yg,{className:"w-5 h-5 text-[#ffd700]"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-bold text-lg font-serif",children:"Divine Revelation"}),i.jsx("p",{className:"text-white/40 text-xs",children:"Capture what the Spirit is saying"})]})]}),i.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 text-white/60 hover:text-white transition-colors",children:i.jsx(jr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[n&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-white/5 border border-white/10",children:[i.jsx("p",{className:"text-[#ffd700]/80 text-xs uppercase tracking-wider mb-1 font-bold",children:"Current Prayer Point"}),i.jsxs("p",{className:"text-white/80 text-sm italic line-clamp-2",children:['"',n,'"']})]}),i.jsx("textarea",{value:a,onChange:f=>o(f.target.value),placeholder:"Write down what you hear, see, or feel...",className:"w-full h-48 bg-[#1a103c]/50 border border-white/10 rounded-xl p-4 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-[#1a103c] transition-all resize-none font-serif text-lg leading-relaxed",autoFocus:!0})]}),i.jsxs("div",{className:"p-4 bg-[#1a103c]/50 border-t border-white/10 flex justify-end gap-3",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 rounded-xl text-white/60 hover:text-white hover:bg-white/5 transition-all font-medium text-sm",children:"Cancel"}),i.jsx("button",{onClick:u,disabled:l,className:"px-6 py-2 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-sm shadow-lg hover:shadow-[#ffd700]/20 hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?i.jsx("span",{className:"animate-pulse",children:"Saving..."}):i.jsxs(i.Fragment,{children:[i.jsx(fi,{className:"w-4 h-4"}),"Save Note"]})})]})]})})}function z1({isOpen:e,onClose:t,duration:r,prayerPointsCount:n,scripturesGenerated:s}){const[a,o]=k.useState(!1);return k.useEffect(()=>{e?setTimeout(()=>o(!0),100):o(!1)},[e]),e?i.jsxs("div",{className:"fixed inset-0 z-[400] flex items-center justify-center bg-[#0f0728] animate-fade-in",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-radial from-[#ffd700]/10 via-transparent to-transparent blur-3xl opacity-30"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-900/20 rounded-full blur-3xl"})]}),i.jsxs("div",{className:`w-full max-w-2xl p-6 md:p-10 relative z-10 transition-all duration-1000 transform ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[#ffd700] to-[#fdb931] flex items-center justify-center shadow-[0_0_30px_rgba(255,215,0,0.3)] animate-scale-up",children:i.jsx(Ah,{className:"w-10 h-10 text-[#1a103c]"})})}),i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-3 font-serif",children:"Prayer Complete"}),i.jsx("p",{className:"text-white/60 text-lg",children:"You have faithfully sought the Lord today."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-10",children:[i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 text-center backdrop-blur-sm hover:bg-white/10 transition-all group",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:i.jsx(Lr,{className:"w-5 h-5 text-blue-400"})}),i.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[Math.floor(r/60),"m"]}),i.jsx("div",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Time in Prayer"})]}),i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 text-center backdrop-blur-sm hover:bg-white/10 transition-all group",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:i.jsx(Ah,{className:"w-5 h-5 text-purple-400"})}),i.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:n}),i.jsx("div",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Points Covered"})]}),i.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 text-center backdrop-blur-sm hover:bg-white/10 transition-all group",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-[#ffd700]/20 flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:i.jsx(lt,{className:"w-5 h-5 text-[#ffd700]"})}),i.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:s}),i.jsx("div",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Verses Received"})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-[#2d1b4e] to-[#1a103c] border border-white/10 rounded-2xl p-6 md:p-8 mb-10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#ffd700] to-transparent opacity-50"}),i.jsxs("h3",{className:"text-[#ffd700] font-serif font-bold text-lg mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#ffd700]"}),"Spiritual Digest"]}),i.jsx("p",{className:"text-white/80 italic leading-relaxed",children:'"Your prayers have ascended as a sweet incense before the throne. The seeds you have sown in the spirit today will surely bring forth a harvest in due season. Remain steadfast!"'})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[i.jsxs("button",{onClick:t,className:"px-8 py-4 rounded-xl bg-white text-[#1a103c] font-bold shadow-lg hover:bg-gray-100 hover:scale-105 transition-all flex items-center justify-center gap-2",children:[i.jsx(vg,{className:"w-5 h-5"}),"Return Home"]}),i.jsxs("button",{className:"px-8 py-4 rounded-xl bg-white/5 border border-white/10 text-white font-medium hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[i.jsx(T1,{className:"w-5 h-5"}),"Share Testimony"]})]})]})]}):null}function q1(){const[e,t]=k.useState(!0),[r,n]=k.useState(!1),{userId:s,schedules:a,activePrayer:o,countdown:l,isPraying:c,isPaused:d,formatTime:u,startPrayer:f,stopPrayer:h,pausePrayer:m,resumePrayer:p,settings:x}=sr(),{playChant:g,playTongueSong:y,pauseChant:v,resumeChant:w,stopChant:N,currentChant:P,isPlaying:M,chants:C,tongueSongs:b}=Al();Bu();const E=Ut(le.uploads.getByUser,s?{userId:s}:"skip"),j=(E||[]).filter(J=>!J.uploadType||J.uploadType==="chant"),D=(E||[]).filter(J=>J.uploadType==="tongue"),R=(x==null?void 0:x.defaultPrayerDuration)??15,[O,W]=k.useState(R);k.useEffect(()=>{x!=null&&x.defaultPrayerDuration&&W(x.defaultPrayerDuration)},[x==null?void 0:x.defaultPrayerDuration]);const[q,F]=k.useState(null),[U,_]=k.useState(0),[L,A]=k.useState(15),[K,te]=k.useState(!1),[de,ge]=k.useState(0),[xe,Re]=k.useState({}),[xt,H]=k.useState(!1),[S,B]=k.useState(0),[ie,nt]=k.useState(!1),[ar,Ue]=k.useState(0),[Rt,It]=k.useState(!0),[ze,ir]=k.useState(!1),[_r,oa]=k.useState(!1),[Xr,dt]=k.useState({duration:0,points:0,scriptures:0}),ee=k.useRef(null),la=120,He=(o==null?void 0:o.prayerPoints)||[],Di=K?U*60+L:O,Jr=He.length>0?Di*60/He.length:0,mx=30,px=[5,10,15,20,30,45,60],uf=()=>{n(!r)},_e=a.find(J=>J._id===q),_i=k.useRef({}),Hl=async(J,X)=>{var Ie,ae,be,Pi,ls;if(xe[X]||_i.current[X])return xe[X]||_i.current[X];try{const On="AIzaSyC3IxLVaP6VAYF_RCZT4HKNUox7F35tBd0",da=`Generate exactly 1 powerful and highly relevant Bible verse for this prayer point: "${J}". Return it in this format: "Book Chapter:Verse - Quote".`,Mi=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${On}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:da}]}]})});if(!Mi.ok)throw new Error("Failed to generate scriptures");let cs=(((ls=(Pi=(be=(ae=(Ie=(await Mi.json()).candidates)==null?void 0:Ie[0])==null?void 0:ae.content)==null?void 0:be.parts)==null?void 0:Pi[0])==null?void 0:ls.text)||"").trim();return(!cs||cs.length<10)&&(cs="Philippians 4:13 - I can do all things through Christ who strengthens me"),_i.current[X]=cs,Re(kx=>({...kx,[X]:cs})),cs}catch(On){console.error("Error generating scripture:",On);const da="Philippians 4:13 - I can do all things through Christ who strengthens me";return _i.current[X]=da,Re(Mi=>({...Mi,[X]:da})),da}};k.useEffect(()=>{ee.current||(ee.current=()=>{if((x==null?void 0:x.soundEffectsEnabled)!==!1)try{const J=new(window.AudioContext||window.webkitAudioContext),X=J.createOscillator(),Ie=J.createGain();X.connect(Ie),Ie.connect(J.destination),X.frequency.value=800,X.type="sine",Ie.gain.setValueAtTime(.3,J.currentTime),Ie.gain.exponentialRampToValueAtTime(.01,J.currentTime+.5),X.start(J.currentTime),X.stop(J.currentTime+.5)}catch(J){console.error("Error playing notification sound:",J)}})},[x]),k.useEffect(()=>{if(!c||d||He.length===0||Jr===0)return;const J=Di*60,X=(o==null?void 0:o.tonguesMode)||"none",Ie=setInterval(()=>{const ae=J-l;if(X==="start"&&ae<la&&!ie)ie||(nt(!0),Ue(Date.now()/1e3),ca(o));else if(X==="start"&&ae>=la&&ie)nt(!1),Ue(0),Ci(o);else if(X==="perPoint"){Math.min(Math.floor(ae/Jr),He.length-1);const On=ae%Jr;On<la?(!ie||ar===0)&&(nt(!0),Ue(Date.now()/1e3-On),ca(o)):ie&&(nt(!1),Ue(0),Ci(o))}const be=Math.min(Math.floor(ae/Jr),He.length-1),Pi=ae%Jr,ls=Jr-Pi;B(ls),ls<=mx&&ls>0&&be<He.length-1?xt||(H(!0),ee.current&&ee.current()):H(!1),Rt&&be!==de&&be<He.length&&(ee.current&&ee.current(),ge(be),ge(be),H(!1),Hl(He[be],be),$.success(`Now praying: Prayer Point ${be+1}`,{duration:3e3,icon:""}))},1e3);return()=>clearInterval(Ie)},[c,d,He,Jr,l,Di,de,xt,ie,ar,o,Rt]);const gx=()=>{if(de<He.length-1){const J=de+1;ge(J),Re({}),Hl(He[J],J),ee.current&&ee.current(),$.success(`Moved to Prayer Point ${J+1}`)}else ff()};k.useEffect(()=>{c&&He.length>0&&!xe[0]&&Hl(He[0],0)},[c,He]);const Ci=async(J=null)=>{const X=J||o;if(!(X!=null&&X.selectedMusicId))return;const Ie=C.find(ae=>ae.id===X.selectedMusicId);if(Ie)g(Ie.id);else{const ae=j.find(be=>be._id===X.selectedMusicId);if(ae){const be=ae.imageKitUrl;be?g(ae._id,be,ae.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for chant")}}},ca=async(J=null)=>{const X=J||o;if(!(X!=null&&X.selectedTongueSongId)){console.log("No tongue song selected in schedule:",X);return}console.log("Playing tongue song for schedule:",X.selectedTongueSongId);const Ie=b.find(ae=>ae.id===X.selectedTongueSongId);if(Ie)y(Ie.id);else{const ae=D.find(be=>be._id===X.selectedTongueSongId);if(ae){const be=ae.imageKitUrl;be?y(ae._id,be,ae.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for tongue song")}else console.error("Tongue song not found:",X.selectedTongueSongId)}},xx=async()=>{var J;if(q){const X=K?U*60+L:O;if(X<=0){$.error("Please set a valid prayer duration");return}if(!(_e!=null&&_e.prayerPoints)||_e.prayerPoints.length===0){$.error("Please select a schedule with prayer points");return}ge(0),Re({}),nt(!1),Ue(0),f(q,X);const Ie=(_e==null?void 0:_e.tonguesMode)||"none";if(console.log("Starting prayer with tongues mode:",Ie,"selectedTongueSongId:",_e==null?void 0:_e.selectedTongueSongId),(x==null?void 0:x.autoPlayMusic)!==!1){if(Ie==="start"&&(_e!=null&&_e.selectedTongueSongId))nt(!0),Ue(Date.now()/1e3),await ca(_e);else if(Ie==="perPoint"&&(_e!=null&&_e.selectedTongueSongId))nt(!0),Ue(Date.now()/1e3),await ca(_e);else if(_e!=null&&_e.selectedMusicId)await Ci(_e);else if(x!=null&&x.preferredChant){const ae=C.find(be=>be.id===x.preferredChant)||j.find(be=>be._id===x.preferredChant);ae&&(ae.url?g(ae.id,ae.url,ae.name):ae.imageKitUrl&&g(ae._id||ae.id,ae.imageKitUrl,((J=ae.fileName)==null?void 0:J.replace(/\.[^/.]+$/,""))||ae.name))}}$.success("Entering Prayer Room...")}else $.error("Please select a prayer schedule")},vx=()=>{m(),$.success("Prayer paused")},yx=()=>{p(),$.success("Prayer resumed")},ff=()=>{const J=Di*60-l,X=de+1,Ie=Object.keys(xe).length;dt({duration:J,points:X,scriptures:Ie}),h(),N(),oa(!0)},wx=()=>{oa(!1),ge(0),Re({}),nt(!1),Ue(0),t(!0),$.success("Prayer session ended")},bx=J=>{c||W(Math.max(5,Math.min(60,J)))};return xe[de],i.jsxs("div",{className:`${r?"fixed inset-0 z-[300] rounded-none":"w-full h-full min-h-[calc(100vh-140px)] md:min-h-[calc(100vh-120px)] relative rounded-3xl"} overflow-hidden border border-amber-400/20 shadow-2xl shadow-purple-900/50 transition-all duration-500 ease-in-out`,children:[i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0728] via-[#1a0b3d] via-[#2d1b4e] to-[#0f0728] z-0",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3/4 h-1/2 bg-gradient-radial from-amber-400/10 via-yellow-500/5 to-transparent blur-3xl opacity-40 animate-pulse-slow"}),i.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-radial from-purple-500/10 via-indigo-600/5 to-transparent blur-3xl opacity-30"}),i.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[i.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-amber-300/40 via-amber-400/20 to-transparent transform -skew-x-12 animate-pulse"}),i.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-white/30 via-purple-300/20 to-transparent animate-pulse",style:{animationDelay:"0.5s"}}),i.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-indigo-300/40 via-indigo-400/20 to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(30)].map((J,X)=>i.jsx("div",{className:"absolute rounded-full bg-amber-200/20 blur-sm animate-float",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*4+4}s`,boxShadow:"0 0 10px rgba(251, 191, 36, 0.3)"}},X)),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-950/30 via-transparent to-indigo-950/30"})]}),e&&i.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center",children:i.jsx(A1,{onEnter:()=>t(!1)})}),i.jsx("div",{className:"relative z-10 h-full overflow-y-auto overflow-x-hidden custom-scrollbar",children:c?i.jsxs("div",{className:"min-h-full flex items-center justify-center p-3 md:p-4 relative",children:[(x==null?void 0:x.prayerRoomBackgroundEffects)!==!1&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-1/4 w-1 h-full bg-gradient-to-b from-purple-400/20 via-transparent to-transparent transform -skew-x-12 animate-pulse"}),i.jsx("div",{className:"absolute top-0 right-1/4 w-1 h-full bg-gradient-to-b from-indigo-400/20 via-transparent to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(20)].map((J,X)=>i.jsx("div",{className:"absolute rounded-full bg-white/10 blur-sm animate-float",style:{width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+3}s`}},X))]}),He.length>0&&i.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 p-8 pointer-events-none",children:He.map((J,X)=>X!==de&&i.jsx("div",{className:"glass-card p-4 w-full max-w-2xl opacity-20 blur-sm transition-all duration-1000",style:{transform:`translateY(${(X-de)*20}px)`},children:i.jsx("p",{className:"text-white/30 text-sm text-center",children:J})},X))}),i.jsxs("div",{className:"flex-1 relative z-0",children:[i.jsx(Y1,{isFullscreen:r,toggleFullscreen:uf,countdown:l,formatTime:u,isPaused:d,activePrayerPointIndex:de,prayerPoints:He,currentScripture:xe[de]||"",nextSwitchTime:S,timePerPoint:Jr,showSwitchNotification:xt,isTonguesMode:ie,activePrayer:o,isPlaying:M,pauseChant:v,resumeChant:w,playChant:g,playTongueSong:y,currentChant:P,chants:C,tongueSongs:b,chantUploads:j,tongueUploads:D,playChantForSchedule:Ci,playTongueSongForSchedule:ca,handlePause:vx,handleResume:yx,handleStop:ff,backgroundEffects:(x==null?void 0:x.prayerRoomBackgroundEffects)!==!1,isAutoMode:Rt,toggleAutoMode:()=>It(!Rt),handleNextPoint:gx,onOpenNoteModal:()=>ir(!0)}),(x==null?void 0:x.showMotivationalPopups)!==!1&&ie&&i.jsx(W1,{isTonguesMode:ie,timeRemaining:S}),i.jsx(U1,{isOpen:ze,onClose:()=>ir(!1),userId:s,activePrayerPoint:He[de],scheduleId:q}),i.jsx(z1,{isOpen:_r,onClose:wx,duration:Xr.duration,prayerPointsCount:Xr.points,scripturesGenerated:Xr.scriptures})]})]}):i.jsx("div",{className:"p-4 md:p-8",children:i.jsx($1,{isFullscreen:r,toggleFullscreen:uf,schedules:a,selectedSchedule:q,setSelectedSchedule:F,selectedScheduleData:_e,chants:C,chantUploads:j,selectedDuration:O,setSelectedDuration:W,customHours:U,setCustomHours:_,customMinutes:L,setCustomMinutes:A,useCustomTime:K,setUseCustomTime:te,durations:px,adjustDuration:bx,handleStart:xx})})})]})}function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function rs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Se(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function we(e){Se(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||nl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function V1(e,t){Se(2,arguments);var r=we(e).getTime(),n=rs(t);return new Date(r+n)}var B1={};function bi(){return B1}function Wd(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function bo(e,t){Se(2,arguments);var r=we(e),n=we(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function H1(e){return Se(1,arguments),e instanceof Date||nl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Q1(e){if(Se(1,arguments),!H1(e)&&typeof e!="number")return!1;var t=we(e);return!isNaN(Number(t))}function K1(e,t){Se(2,arguments);var r=we(e),n=we(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function G1(e,t){return Se(2,arguments),we(e).getTime()-we(t).getTime()}var X1={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},J1="trunc";function Z1(e){return X1[J1]}function ek(e){Se(1,arguments);var t=we(e);return t.setHours(23,59,59,999),t}function tk(e){Se(1,arguments);var t=we(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function rk(e){Se(1,arguments);var t=we(e);return ek(t).getTime()===tk(t).getTime()}function nk(e,t){Se(2,arguments);var r=we(e),n=we(t),s=bo(r,n),a=Math.abs(K1(r,n)),o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);var l=bo(r,n)===-s;rk(we(e))&&a===1&&bo(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function sk(e,t,r){Se(2,arguments);var n=G1(e,t)/1e3;return Z1()(n)}function ak(e,t){Se(2,arguments);var r=rs(t);return V1(e,-r)}var ik=864e5;function ok(e){Se(1,arguments);var t=we(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/ik)+1}function sl(e){Se(1,arguments);var t=1,r=we(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function Ng(e){Se(1,arguments);var t=we(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=sl(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var o=sl(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function lk(e){Se(1,arguments);var t=Ng(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=sl(r);return n}var ck=6048e5;function dk(e){Se(1,arguments);var t=we(e),r=sl(t).getTime()-lk(t).getTime();return Math.round(r/ck)+1}function al(e,t){var r,n,s,a,o,l,c,d;Se(1,arguments);var u=bi(),f=rs((r=(n=(s=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:u.weekStartsOn)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=we(e),m=h.getUTCDay(),p=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function Sg(e,t){var r,n,s,a,o,l,c,d;Se(1,arguments);var u=we(e),f=u.getUTCFullYear(),h=bi(),m=rs((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(f+1,0,m),p.setUTCHours(0,0,0,0);var x=al(p,t),g=new Date(0);g.setUTCFullYear(f,0,m),g.setUTCHours(0,0,0,0);var y=al(g,t);return u.getTime()>=x.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function uk(e,t){var r,n,s,a,o,l,c,d;Se(1,arguments);var u=bi(),f=rs((r=(n=(s=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:u.firstWeekContainsDate)!==null&&n!==void 0?n:(c=u.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=Sg(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var p=al(m,t);return p}var fk=6048e5;function hk(e,t){Se(1,arguments);var r=we(e),n=al(r,t).getTime()-uk(r,t).getTime();return Math.round(n/fk)+1}function fe(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var tn={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return fe(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):fe(n+1,2)},d:function(t,r){return fe(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return fe(t.getUTCHours()%12||12,r.length)},H:function(t,r){return fe(t.getUTCHours(),r.length)},m:function(t,r){return fe(t.getUTCMinutes(),r.length)},s:function(t,r){return fe(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,n-3));return fe(a,r.length)}},fs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mk={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return tn.y(t,r)},Y:function(t,r,n,s){var a=Sg(t,s),o=a>0?a:1-a;if(r==="YY"){var l=o%100;return fe(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):fe(o,r.length)},R:function(t,r){var n=Ng(t);return fe(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return fe(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return fe(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return fe(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return tn.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return fe(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var a=hk(t,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):fe(a,r.length)},I:function(t,r,n){var s=dk(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):fe(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):tn.d(t,r)},D:function(t,r,n){var s=ok(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):fe(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var a=t.getUTCDay(),o=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return fe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var a=t.getUTCDay(),o=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return fe(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return fe(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),a;switch(s===12?a=fs.noon:s===0?a=fs.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),a;switch(s>=17?a=fs.evening:s>=12?a=fs.afternoon:s>=4?a=fs.morning:a=fs.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return tn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):tn.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):fe(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):fe(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):tn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):tn.s(t,r)},S:function(t,r){return tn.S(t,r)},X:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Wh(o);case"XXXX":case"XX":return Ln(o);case"XXXXX":case"XXX":default:return Ln(o,":")}},x:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(r){case"x":return Wh(o);case"xxxx":case"xx":return Ln(o);case"xxxxx":case"xxx":default:return Ln(o,":")}},O:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Yh(o,":");case"OOOO":default:return"GMT"+Ln(o,":")}},z:function(t,r,n,s){var a=s._originalDate||t,o=a.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Yh(o,":");case"zzzz":default:return"GMT"+Ln(o,":")}},t:function(t,r,n,s){var a=s._originalDate||t,o=Math.floor(a.getTime()/1e3);return fe(o,r.length)},T:function(t,r,n,s){var a=s._originalDate||t,o=a.getTime();return fe(o,r.length)}};function Yh(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),a=n%60;if(a===0)return r+String(s);var o=t;return r+String(s)+o+fe(a,2)}function Wh(e,t){if(e%60===0){var r=e>0?"-":"+";return r+fe(Math.abs(e)/60,2)}return Ln(e,t)}function Ln(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),a=fe(Math.floor(s/60),2),o=fe(s%60,2);return n+a+r+o}var Uh=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},jg=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},pk=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return Uh(t,r);var o;switch(s){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Uh(s,r)).replace("{{time}}",jg(a,r))},gk={p:jg,P:pk},xk=["D","DD"],vk=["YY","YYYY"];function yk(e){return xk.indexOf(e)!==-1}function wk(e){return vk.indexOf(e)!==-1}function zh(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var bk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kk=function(t,r,n){var s,a=bk[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function _c(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Nk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sk={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Dk={date:_c({formats:Nk,defaultWidth:"full"}),time:_c({formats:Sk,defaultWidth:"full"}),dateTime:_c({formats:jk,defaultWidth:"full"})},_k={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ck=function(t,r,n,s){return _k[t]};function wa(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return s[d]}}var Pk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mk={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ek={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ok={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ik=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Lk={ordinalNumber:Ik,era:wa({values:Pk,defaultWidth:"wide"}),quarter:wa({values:Mk,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:wa({values:Ek,defaultWidth:"wide"}),day:wa({values:Tk,defaultWidth:"wide"}),dayPeriod:wa({values:Ok,defaultWidth:"wide",formattingValues:Rk,defaultFormattingWidth:"wide"})};function ba(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$k(l,function(f){return f.test(o)}):Ak(l,function(f){return f.test(o)}),d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;var u=t.slice(o.length);return{value:d,rest:u}}}function Ak(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function $k(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Fk(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(s.length);return{value:o,rest:l}}}var Yk=/^(\d+)(th|st|nd|rd)?/i,Wk=/\d+/i,Uk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zk={any:[/^b/i,/^(a|c)/i]},qk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vk={any:[/1/i,/2/i,/3/i,/4/i]},Bk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Hk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jk={ordinalNumber:Fk({matchPattern:Yk,parsePattern:Wk,valueCallback:function(t){return parseInt(t,10)}}),era:ba({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:zk,defaultParseWidth:"any"}),quarter:ba({matchPatterns:qk,defaultMatchWidth:"wide",parsePatterns:Vk,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ba({matchPatterns:Bk,defaultMatchWidth:"wide",parsePatterns:Hk,defaultParseWidth:"any"}),day:ba({matchPatterns:Qk,defaultMatchWidth:"wide",parsePatterns:Kk,defaultParseWidth:"any"}),dayPeriod:ba({matchPatterns:Gk,defaultMatchWidth:"any",parsePatterns:Xk,defaultParseWidth:"any"})},Dg={code:"en-US",formatDistance:kk,formatLong:Dk,formatRelative:Ck,localize:Lk,match:Jk,options:{weekStartsOn:0,firstWeekContainsDate:1}},Zk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,e2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,t2=/^'([^]*?)'?$/,r2=/''/g,n2=/[a-zA-Z]/;function Cs(e,t,r){var n,s,a,o,l,c,d,u,f,h,m,p,x,g;Se(2,arguments);var y=String(t),v=bi(),w=(n=(s=void 0)!==null&&s!==void 0?s:v.locale)!==null&&n!==void 0?n:Dg,N=rs((a=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:v.firstWeekContainsDate)!==null&&o!==void 0?o:(d=v.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=rs((f=(h=(m=(p=void 0)!==null&&p!==void 0?p:void 0)!==null&&m!==void 0?m:v.weekStartsOn)!==null&&h!==void 0?h:(x=v.locale)===null||x===void 0||(g=x.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var M=we(e);if(!Q1(M))throw new RangeError("Invalid time value");var C=Wd(M),b=ak(M,C),E={firstWeekContainsDate:N,weekStartsOn:P,locale:w,_originalDate:M},j=y.match(e2).map(function(D){var R=D[0];if(R==="p"||R==="P"){var O=gk[R];return O(D,w.formatLong)}return D}).join("").match(Zk).map(function(D){if(D==="''")return"'";var R=D[0];if(R==="'")return s2(D);var O=mk[R];if(O)return wk(D)&&zh(D,t,String(e)),yk(D)&&zh(D,t,String(e)),O(b,D,w.localize,E);if(R.match(n2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return D}).join("");return j}function s2(e){var t=e.match(t2);return t?t[1].replace(r2,"'"):e}function _g(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function a2(e){return _g({},e)}var qh=1440,i2=2520,Cc=43200,o2=86400;function l2(e,t,r){var n,s;Se(2,arguments);var a=bi(),o=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:a.locale)!==null&&n!==void 0?n:Dg;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=bo(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=_g(a2(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),d,u;l>0?(d=we(t),u=we(e)):(d=we(e),u=we(t));var f=sk(u,d),h=(Wd(u)-Wd(d))/1e3,m=Math.round((f-h)/60),p;if(m<2)return r!=null&&r.includeSeconds?f<5?o.formatDistance("lessThanXSeconds",5,c):f<10?o.formatDistance("lessThanXSeconds",10,c):f<20?o.formatDistance("lessThanXSeconds",20,c):f<40?o.formatDistance("halfAMinute",0,c):f<60?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",1,c):m===0?o.formatDistance("lessThanXMinutes",1,c):o.formatDistance("xMinutes",m,c);if(m<45)return o.formatDistance("xMinutes",m,c);if(m<90)return o.formatDistance("aboutXHours",1,c);if(m<qh){var x=Math.round(m/60);return o.formatDistance("aboutXHours",x,c)}else{if(m<i2)return o.formatDistance("xDays",1,c);if(m<Cc){var g=Math.round(m/qh);return o.formatDistance("xDays",g,c)}else if(m<o2)return p=Math.round(m/Cc),o.formatDistance("aboutXMonths",p,c)}if(p=nk(u,d),p<12){var y=Math.round(m/Cc);return o.formatDistance("xMonths",y,c)}else{var v=p%12,w=Math.floor(p/12);return v<3?o.formatDistance("aboutXYears",w,c):v<9?o.formatDistance("overXYears",w,c):o.formatDistance("almostXYears",w+1,c)}}function c2(e,t){return Se(1,arguments),l2(e,Date.now(),t)}function Vh({scheduleId:e,userId:t,currentPoints:r=[],onPointsChange:n}){const[s,a]=k.useState(!1),[o,l]=k.useState(!1),[c,d]=k.useState(!1),[u,f]=k.useState(!1),[h,m]=k.useState(""),[p,x]=k.useState(""),[g,y]=k.useState(r||[]),v=Ut(le.aiPrayerPoints.getByUser,t?{userId:t}:"skip")||[],w=Je(le.savedPrayerPoints.save);Je(le.savedPrayerPoints.remove);const N=async()=>{var b,E,j,D,R;if(!h.trim()){$.error("Please enter a prompt");return}a(!0);try{const O="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",W=`Generate 5-7 specific, meaningful prayer points based on: ${h}. Format the response as a numbered list (1. 2. 3. etc.) with each point on a new line. Make each point specific, actionable, and spiritually meaningful.`,q=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${O}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:W}]}]})});if(!q.ok)throw new Error("API error");const U=((R=(D=(j=(E=(b=(await q.json()).candidates)==null?void 0:b[0])==null?void 0:E.content)==null?void 0:j.parts)==null?void 0:D[0])==null?void 0:R.text)||"";let _=U.split(`
`).map(A=>A.trim()).filter(A=>A&&(A.startsWith("-")||A.startsWith("")||A.match(/^\d+\./))).map(A=>A.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(A=>A.length>10).slice(0,7);_.length===0&&(_=U.split(/\n+/).map(A=>A.trim()).filter(A=>A.length>20).slice(0,7));const L=[...g,..._];y(L),n(L),await w({userId:t,title:`Generated: ${h.substring(0,30)}...`,points:_,prayerScheduleId:e}),$.success(`${_.length} prayer points generated and added!`),l(!1),m("")}catch(O){console.error("Error generating prayer points:",O),$.error("Failed to generate prayer points")}finally{a(!1)}},P=()=>{if(p.trim()){const b=[...g,p.trim()];y(b),n(b),x(""),f(!1),$.success("Prayer point added!")}},M=b=>{const E=g.filter((j,D)=>D!==b);y(E),n(E),$.success("Prayer point removed")},C=b=>{const E=[...g,...b.points];y(E),n(E),d(!1),$.success(`${b.points.length} prayer points added!`)};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(ve,{className:"w-5 h-5 text-indigo-400"}),"Prayer Points"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary text-xs px-3 py-1",children:[i.jsx(ve,{className:"w-3 h-3 inline mr-1"}),"Generate"]}),i.jsx("button",{onClick:()=>d(!0),className:"btn-secondary text-xs px-3 py-1",children:"Select"}),i.jsxs("button",{onClick:()=>f(!0),className:"btn-secondary text-xs px-3 py-1",children:[i.jsx(ts,{className:"w-3 h-3 inline mr-1"}),"Add"]})]})]}),g.length>0?i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:g.map((b,E)=>i.jsxs("div",{className:"flex items-start gap-2 glass-card p-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx("span",{className:"text-white text-xs font-bold",children:E+1})}),i.jsx("p",{className:"text-white/90 flex-1 text-sm",children:b}),i.jsx("button",{onClick:()=>M(E),className:"p-1 rounded hover:bg-red-600/20 text-red-400 transition-colors",children:i.jsx(jr,{className:"w-4 h-4"})})]},E))}):i.jsx("div",{className:"glass-card p-4 text-center",children:i.jsx("p",{className:"text-white/60 text-sm",children:"No prayer points added yet"})}),o&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Generate Prayer Points"}),i.jsx("textarea",{value:h,onChange:b=>m(b.target.value),placeholder:"Describe what you want to pray about...",className:"input-glass w-full mb-4",rows:"4"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:N,disabled:s,className:"btn-primary flex-1",children:s?i.jsxs(i.Fragment,{children:[i.jsx(rl,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ve,{className:"w-4 h-4 inline mr-2"}),"Generate"]})}),i.jsx("button",{onClick:()=>{l(!1),m("")},className:"btn-secondary",children:"Cancel"})]})]})}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Select Saved Prayer Points"}),v.length===0?i.jsx("p",{className:"text-white/60 text-sm mb-4",children:"No saved prayer points yet"}):i.jsx("div",{className:"space-y-2 mb-4",children:v.map(b=>i.jsxs("div",{className:"glass-card p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"text-white font-semibold text-sm",children:b.title||"Saved Prayer Points"}),i.jsxs("button",{onClick:()=>C(b),className:"btn-secondary text-xs px-2 py-1",children:[i.jsx(Hn,{className:"w-3 h-3 inline mr-1"}),"Select"]})]}),i.jsxs("p",{className:"text-white/60 text-xs",children:[b.points.length," points"]})]},b._id))}),i.jsx("button",{onClick:()=>d(!1),className:"btn-secondary w-full",children:"Close"})]})}),u&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Prayer Point"}),i.jsx("textarea",{value:p,onChange:b=>x(b.target.value),placeholder:"Enter your prayer point...",className:"input-glass w-full mb-4",rows:"3"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:P,className:"btn-primary flex-1",children:[i.jsx(ts,{className:"w-4 h-4 inline mr-2"}),"Add Point"]}),i.jsx("button",{onClick:()=>{f(!1),x("")},className:"btn-secondary",children:"Cancel"})]})]})})]})}function Yt({value:e,onChange:t,options:r,placeholder:n="Select an option...",className:s="",disabled:a=!1}){const[o,l]=k.useState(!1),c=k.useRef(null);k.useEffect(()=>{const u=f=>{c.current&&!c.current.contains(f.target)&&l(!1)};return o&&document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[o]);const d=r.find(u=>u.value===e);return i.jsxs("div",{className:`relative ${s}`,ref:c,children:[i.jsxs("button",{type:"button",onClick:()=>!a&&l(!o),disabled:a,className:`w-full input-glass text-left flex items-center justify-between ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[i.jsx("span",{className:`${d?"text-white":"text-white/50"}`,children:d?d.label:n}),i.jsx(Gu,{className:`w-4 h-4 text-white/70 transition-transform ${o?"transform rotate-180":""}`})]}),o&&i.jsx("div",{className:"absolute z-50 w-full mt-2 rounded-xl border border-white/30 shadow-2xl max-h-60 overflow-y-auto bg-gradient-to-br from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-xl",children:i.jsx("div",{className:"py-2",children:r.map(u=>i.jsxs("button",{type:"button",onClick:()=>{t(u.value),l(!1)},className:`w-full text-left px-4 py-3 text-sm md:text-base transition-colors flex items-center justify-between ${e===u.value?"bg-indigo-600/50 text-white":"text-white/90 hover:bg-white/20 hover:text-white"}`,children:[i.jsx("span",{children:u.label}),e===u.value&&i.jsx(Hn,{className:"w-4 h-4 text-indigo-300"})]},u.value))})})]})}function d2(){return i.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-2xl border border-white/20 animate-pulse",children:[i.jsxs("div",{className:"mb-5 md:mb-6",children:[i.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-6 md:h-7 bg-white/10 rounded-lg w-3/4"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-full"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-2/3"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-24"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20"})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[i.jsx("div",{className:"h-6 bg-white/10 rounded-full w-16"}),i.jsx("div",{className:"h-6 bg-white/10 rounded-full w-20"}),i.jsx("div",{className:"h-6 bg-white/10 rounded-full w-24"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"h-10 bg-white/10 rounded-lg flex-1 md:flex-none w-20"}),i.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-28"}),i.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-10"})]})]})}function u2({count:e=4}){return i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Array.from({length:e}).map((t,r)=>i.jsx(d2,{},r))})}function Cg(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Cg(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Cg(e))&&(n&&(n+=" "),n+=t);return n}const Pg=6048e5,f2=864e5,$l=6e4,Fl=36e5,h2=1e3,Bh=Symbol.for("constructDateFrom");function pe(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Bh in e?e[Bh](t):e instanceof Date?new e.constructor(t):new Date(t)}function Q(e,t){return pe(t||e,e)}function tr(e,t,r){const n=Q(e,r==null?void 0:r.in);return isNaN(t)?pe((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function nr(e,t,r){const n=Q(e,r==null?void 0:r.in);if(isNaN(t))return pe(e,NaN);if(!t)return n;const s=n.getDate(),a=pe(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const o=a.getDate();return s>=o?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}function Mg(e,t,r){return pe(e,+Q(e)+t)}function m2(e,t,r){return Mg(e,t*Fl)}let p2={};function os(){return p2}function Qr(e,t){var l,c,d,u;const r=os(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=Q(e,t==null?void 0:t.in),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Gs(e,t){return Qr(e,{...t,weekStartsOn:1})}function Eg(e,t){const r=Q(e,t==null?void 0:t.in),n=r.getFullYear(),s=pe(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=Gs(s),o=pe(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Gs(o);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function il(e){const t=Q(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Gr(e,...t){const r=pe.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function ns(e,t){const r=Q(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Xs(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t),a=ns(n),o=ns(s),l=+a-il(a),c=+o-il(o);return Math.round((l-c)/f2)}function g2(e,t){const r=Eg(e,t),n=pe(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Gs(n)}function Ud(e,t,r){const n=Q(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*$l),n}function Xu(e,t,r){return nr(e,t*3,r)}function x2(e,t,r){return Mg(e,t*1e3)}function ol(e,t,r){return tr(e,t*7,r)}function $r(e,t,r){return nr(e,t*12,r)}function Hh(e,t){let r,n=t==null?void 0:t.in;return e.forEach(s=>{!n&&typeof s=="object"&&(n=pe.bind(null,s));const a=Q(s,n);(!r||r<a||isNaN(+a))&&(r=a)}),pe(n,r||NaN)}function Qh(e,t){let r,n=t==null?void 0:t.in;return e.forEach(s=>{!n&&typeof s=="object"&&(n=pe.bind(null,s));const a=Q(s,n);(!r||r>a||isNaN(+a))&&(r=a)}),pe(n,r||NaN)}function v2(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t);return+ns(n)==+ns(s)}function Fr(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ll(e){return!(!Fr(e)&&typeof e!="number"||isNaN(+Q(e)))}function cl(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t),a=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return a*12+o}function un(e,t){const r=Q(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function dl(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t),a=n.getFullYear()-s.getFullYear(),o=un(n)-un(s);return a*4+o}function ul(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t);return n.getFullYear()-s.getFullYear()}function y2(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t),a=Kh(n,s),o=Math.abs(Xs(n,s));n.setDate(n.getDate()-a*o);const l=+(Kh(n,s)===-a),c=a*(o-l);return c===0?0:c}function Kh(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Tg(e,t){const r=Q(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function Og(e,t){const r=Q(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function zd(e,t){const r=Q(e,t==null?void 0:t.in),n=r.getMonth(),s=n-n%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}function Rg(e,t){const r=Q(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Ig(e,t){const r=Q(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Yl(e,t){const r=Q(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function w2(e,t){var l,c;const r=os(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=Q(e,t==null?void 0:t.in),a=s.getDay(),o=(a<n?-7:0)+6-(a-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const b2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k2=(e,t,r)=>{let n;const s=b2[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Pc(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const N2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},S2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},j2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},D2={date:Pc({formats:N2,defaultWidth:"full"}),time:Pc({formats:S2,defaultWidth:"full"}),dateTime:Pc({formats:j2,defaultWidth:"full"})},_2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},C2=(e,t,r,n)=>_2[e];function ka(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const P2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},M2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},T2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},O2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},I2=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},L2={ordinalNumber:I2,era:ka({values:P2,defaultWidth:"wide"}),quarter:ka({values:M2,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ka({values:E2,defaultWidth:"wide"}),day:ka({values:T2,defaultWidth:"wide"}),dayPeriod:ka({values:O2,defaultWidth:"wide",formattingValues:R2,defaultFormattingWidth:"wide"})};function Na(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?$2(l,f=>f.test(o)):A2(l,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function A2(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function $2(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function F2(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Y2=/^(\d+)(th|st|nd|rd)?/i,W2=/\d+/i,U2={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},z2={any:[/^b/i,/^(a|c)/i]},q2={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V2={any:[/1/i,/2/i,/3/i,/4/i]},B2={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},H2={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q2={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K2={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G2={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},X2={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J2={ordinalNumber:F2({matchPattern:Y2,parsePattern:W2,valueCallback:e=>parseInt(e,10)}),era:Na({matchPatterns:U2,defaultMatchWidth:"wide",parsePatterns:z2,defaultParseWidth:"any"}),quarter:Na({matchPatterns:q2,defaultMatchWidth:"wide",parsePatterns:V2,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Na({matchPatterns:B2,defaultMatchWidth:"wide",parsePatterns:H2,defaultParseWidth:"any"}),day:Na({matchPatterns:Q2,defaultMatchWidth:"wide",parsePatterns:K2,defaultParseWidth:"any"}),dayPeriod:Na({matchPatterns:G2,defaultMatchWidth:"any",parsePatterns:X2,defaultParseWidth:"any"})},Lg={code:"en-US",formatDistance:k2,formatLong:D2,formatRelative:C2,localize:L2,match:J2,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z2(e,t){const r=Q(e,t==null?void 0:t.in);return Xs(r,Yl(r))+1}function Ju(e,t){const r=Q(e,t==null?void 0:t.in),n=+Gs(r)-+g2(r);return Math.round(n/Pg)+1}function Zu(e,t){var u,f,h,m;const r=Q(e,t==null?void 0:t.in),n=r.getFullYear(),s=os(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=pe((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=Qr(o,t),c=pe((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const d=Qr(c,t);return+r>=+l?n+1:+r>=+d?n:n-1}function eN(e,t){var l,c,d,u;const r=os(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(d=r.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=Zu(e,t),a=pe((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Qr(a,t)}function Ag(e,t){const r=Q(e,t==null?void 0:t.in),n=+Qr(r,t)-+eN(r,t);return Math.round(n/Pg)+1}function he(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const rn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return he(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):he(r+1,2)},d(e,t){return he(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return he(e.getHours()%12||12,t.length)},H(e,t){return he(e.getHours(),t.length)},m(e,t){return he(e.getMinutes(),t.length)},s(e,t){return he(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return he(s,t.length)}},hs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gh={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return rn.y(e,t)},Y:function(e,t,r,n){const s=Zu(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return he(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):he(a,t.length)},R:function(e,t){const r=Eg(e);return he(r,t.length)},u:function(e,t){const r=e.getFullYear();return he(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return he(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return he(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return rn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return he(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Ag(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):he(s,t.length)},I:function(e,t,r){const n=Ju(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):he(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):rn.d(e,t)},D:function(e,t,r){const n=Z2(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):he(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return he(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return he(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return he(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=hs.noon:n===0?s=hs.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=hs.evening:n>=12?s=hs.afternoon:n>=4?s=hs.morning:s=hs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return rn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):rn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):he(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):he(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):rn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):rn.s(e,t)},S:function(e,t){return rn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Jh(n);case"XXXX":case"XX":return An(n);case"XXXXX":case"XXX":default:return An(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Jh(n);case"xxxx":case"xx":return An(n);case"xxxxx":case"xxx":default:return An(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xh(n,":");case"OOOO":default:return"GMT"+An(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xh(n,":");case"zzzz":default:return"GMT"+An(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return he(n,t.length)},T:function(e,t,r){return he(+e,t.length)}};function Xh(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+he(a,2)}function Jh(e,t){return e%60===0?(e>0?"-":"+")+he(Math.abs(e)/60,2):An(e,t)}function An(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=he(Math.trunc(n/60),2),a=he(n%60,2);return r+s+t+a}const Zh=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$g=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},tN=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Zh(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Zh(n,t)).replace("{{time}}",$g(s,t))},qd={p:$g,P:tN},rN=/^D+$/,nN=/^Y+$/,sN=["D","DD","YY","YYYY"];function aN(e){return rN.test(e)}function iN(e){return nN.test(e)}function oN(e,t,r){const n=lN(e,t,r);if(console.warn(n),sN.includes(e))throw new RangeError(n)}function lN(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uN=/^'([^]*?)'?$/,fN=/''/g,hN=/[a-zA-Z]/;function em(e,t,r){var u,f,h,m,p,x,g,y;const n=os(),s=(r==null?void 0:r.locale)??n.locale??Lg,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,l=Q(e,r==null?void 0:r.in);if(!ll(l))throw new RangeError("Invalid time value");let c=t.match(dN).map(v=>{const w=v[0];if(w==="p"||w==="P"){const N=qd[w];return N(v,s.formatLong)}return v}).join("").match(cN).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const w=v[0];if(w==="'")return{isToken:!1,value:mN(v)};if(Gh[w])return{isToken:!0,value:v};if(w.match(hN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const w=v.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&iN(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&aN(w))&&oN(w,t,String(e));const N=Gh[w[0]];return N(l,w,s.localize,d)}).join("")}function mN(e){const t=e.match(uN);return t?t[1].replace(fN,"'"):e}function tm(e,t){return Q(e,t==null?void 0:t.in).getDate()}function pN(e,t){return Q(e,t==null?void 0:t.in).getDay()}function gN(e,t){const r=Q(e,t==null?void 0:t.in),n=r.getFullYear(),s=r.getMonth(),a=pe(r,0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}function xN(){return Object.assign({},os())}function Yr(e,t){return Q(e,t==null?void 0:t.in).getHours()}function vN(e,t){const r=Q(e,t==null?void 0:t.in).getDay();return r===0?7:r}function Wr(e,t){return Q(e,t==null?void 0:t.in).getMinutes()}function ot(e,t){return Q(e,t==null?void 0:t.in).getMonth()}function bn(e){return Q(e).getSeconds()}function Vd(e){return+Q(e)}function Z(e,t){return Q(e,t==null?void 0:t.in).getFullYear()}function _n(e,t){return+Q(e)>+Q(t)}function vr(e,t){return+Q(e)<+Q(t)}function yN(e,t){return+Q(e)==+Q(t)}function wN(e,t){const r=bN(t)?new t(0):pe(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function bN(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const kN=10;class Fg{constructor(){z(this,"subPriority",0)}validate(t,r){return!0}}class NN extends Fg{constructor(t,r,n,s,a){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=s,a&&(this.subPriority=a)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class SN extends Fg{constructor(r,n){super();z(this,"priority",kN);z(this,"subPriority",-1);this.context=r||(s=>pe(n,s))}set(r,n){return n.timestampIsSet?r:pe(r,wN(r,this.context))}}class ce{run(t,r,n,s){const a=this.parse(t,r,n,s);return a?{setter:new NN(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,r,n){return!0}}class jN extends ce{constructor(){super(...arguments);z(this,"priority",140);z(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Ae={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},mr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function $e(e,t){return e&&{value:t(e.value),rest:e.rest}}function Pe(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function pr(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*Fl+a*$l+o*h2),rest:t.slice(r[0].length)}}function Yg(e){return Pe(Ae.anyDigitsSigned,e)}function Oe(e,t){switch(e){case 1:return Pe(Ae.singleDigit,t);case 2:return Pe(Ae.twoDigits,t);case 3:return Pe(Ae.threeDigits,t);case 4:return Pe(Ae.fourDigits,t);default:return Pe(new RegExp("^\\d{1,"+e+"}"),t)}}function fl(e,t){switch(e){case 1:return Pe(Ae.singleDigitSigned,t);case 2:return Pe(Ae.twoDigitsSigned,t);case 3:return Pe(Ae.threeDigitsSigned,t);case 4:return Pe(Ae.fourDigitsSigned,t);default:return Pe(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ef(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Wg(e,t){const r=t>0,n=r?t:1-t;let s;if(n<=50)s=e||100;else{const a=n+50,o=Math.trunc(a/100)*100,l=e>=a%100;s=e+o-(l?100:0)}return r?s:1-s}function Ug(e){return e%400===0||e%4===0&&e%100!==0}class DN extends ce{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const a=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return $e(Oe(4,r),a);case"yo":return $e(s.ordinalNumber(r,{unit:"year"}),a);default:return $e(Oe(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const a=r.getFullYear();if(s.isTwoDigitYear){const l=Wg(s.year,a);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class _N extends ce{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const a=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return $e(Oe(4,r),a);case"Yo":return $e(s.ordinalNumber(r,{unit:"year"}),a);default:return $e(Oe(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,a){const o=Zu(r,a);if(s.isTwoDigitYear){const c=Wg(s.year,o);return r.setFullYear(c,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Qr(r,a)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Qr(r,a)}}class CN extends ce{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return fl(n==="R"?4:n.length,r)}set(r,n,s){const a=pe(r,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Gs(a)}}class PN extends ce{constructor(){super(...arguments);z(this,"priority",130);z(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return fl(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class MN extends ce{constructor(){super(...arguments);z(this,"priority",120);z(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Oe(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class EN extends ce{constructor(){super(...arguments);z(this,"priority",120);z(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Oe(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class TN extends ce{constructor(){super(...arguments);z(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);z(this,"priority",110)}parse(r,n,s){const a=o=>o-1;switch(n){case"M":return $e(Pe(Ae.month,r),a);case"MM":return $e(Oe(2,r),a);case"Mo":return $e(s.ordinalNumber(r,{unit:"month"}),a);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class ON extends ce{constructor(){super(...arguments);z(this,"priority",110);z(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const a=o=>o-1;switch(n){case"L":return $e(Pe(Ae.month,r),a);case"LL":return $e(Oe(2,r),a);case"Lo":return $e(s.ordinalNumber(r,{unit:"month"}),a);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function RN(e,t,r){const n=Q(e,r==null?void 0:r.in),s=Ag(n,r)-t;return n.setDate(n.getDate()-s*7),Q(n,r==null?void 0:r.in)}class IN extends ce{constructor(){super(...arguments);z(this,"priority",100);z(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return Pe(Ae.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Oe(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,a){return Qr(RN(r,s,a),a)}}function LN(e,t,r){const n=Q(e,r==null?void 0:r.in),s=Ju(n,r)-t;return n.setDate(n.getDate()-s*7),n}class AN extends ce{constructor(){super(...arguments);z(this,"priority",100);z(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return Pe(Ae.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Oe(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return Gs(LN(r,s))}}const $N=[31,28,31,30,31,30,31,31,30,31,30,31],FN=[31,29,31,30,31,30,31,31,30,31,30,31];class YN extends ce{constructor(){super(...arguments);z(this,"priority",90);z(this,"subPriority",1);z(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return Pe(Ae.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Oe(n.length,r)}}validate(r,n){const s=r.getFullYear(),a=Ug(s),o=r.getMonth();return a?n>=1&&n<=FN[o]:n>=1&&n<=$N[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class WN extends ce{constructor(){super(...arguments);z(this,"priority",90);z(this,"subpriority",1);z(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return Pe(Ae.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Oe(n.length,r)}}validate(r,n){const s=r.getFullYear();return Ug(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function tf(e,t,r){var f,h,m,p;const n=os(),s=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Q(e,r==null?void 0:r.in),o=a.getDay(),c=(t%7+7)%7,d=7-s,u=t<0||t>6?t-(o+d)%7:(c+d)%7-(o+d)%7;return tr(a,u,r)}class UN extends ce{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=tf(r,s,a),r.setHours(0,0,0,0),r}}class zN extends ce{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,a){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return $e(Oe(n.length,r),o);case"eo":return $e(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=tf(r,s,a),r.setHours(0,0,0,0),r}}class qN extends ce{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,a){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return $e(Oe(n.length,r),o);case"co":return $e(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=tf(r,s,a),r.setHours(0,0,0,0),r}}function VN(e,t,r){const n=Q(e,r==null?void 0:r.in),s=vN(n,r),a=t-s;return tr(n,a,r)}class BN extends ce{constructor(){super(...arguments);z(this,"priority",90);z(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const a=o=>o===0?7:o;switch(n){case"i":case"ii":return Oe(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return $e(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return $e(s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return $e(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return $e(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=VN(r,s),r.setHours(0,0,0,0),r}}class HN extends ce{constructor(){super(...arguments);z(this,"priority",80);z(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(ef(s),0,0,0),r}}class QN extends ce{constructor(){super(...arguments);z(this,"priority",80);z(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(ef(s),0,0,0),r}}class KN extends ce{constructor(){super(...arguments);z(this,"priority",80);z(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(ef(s),0,0,0),r}}class GN extends ce{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return Pe(Ae.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Oe(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const a=r.getHours()>=12;return a&&s<12?r.setHours(s+12,0,0,0):!a&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class XN extends ce{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return Pe(Ae.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Oe(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class JN extends ce{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return Pe(Ae.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Oe(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class ZN extends ce{constructor(){super(...arguments);z(this,"priority",70);z(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return Pe(Ae.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Oe(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const a=s<=24?s%24:s;return r.setHours(a,0,0,0),r}}class eS extends ce{constructor(){super(...arguments);z(this,"priority",60);z(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return Pe(Ae.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Oe(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class tS extends ce{constructor(){super(...arguments);z(this,"priority",50);z(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return Pe(Ae.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Oe(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class rS extends ce{constructor(){super(...arguments);z(this,"priority",30);z(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=a=>Math.trunc(a*Math.pow(10,-n.length+3));return $e(Oe(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class nS extends ce{constructor(){super(...arguments);z(this,"priority",10);z(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return pr(mr.basicOptionalMinutes,r);case"XX":return pr(mr.basic,r);case"XXXX":return pr(mr.basicOptionalSeconds,r);case"XXXXX":return pr(mr.extendedOptionalSeconds,r);case"XXX":default:return pr(mr.extended,r)}}set(r,n,s){return n.timestampIsSet?r:pe(r,r.getTime()-il(r)-s)}}class sS extends ce{constructor(){super(...arguments);z(this,"priority",10);z(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return pr(mr.basicOptionalMinutes,r);case"xx":return pr(mr.basic,r);case"xxxx":return pr(mr.basicOptionalSeconds,r);case"xxxxx":return pr(mr.extendedOptionalSeconds,r);case"xxx":default:return pr(mr.extended,r)}}set(r,n,s){return n.timestampIsSet?r:pe(r,r.getTime()-il(r)-s)}}class aS extends ce{constructor(){super(...arguments);z(this,"priority",40);z(this,"incompatibleTokens","*")}parse(r){return Yg(r)}set(r,n,s){return[pe(r,s*1e3),{timestampIsSet:!0}]}}class iS extends ce{constructor(){super(...arguments);z(this,"priority",20);z(this,"incompatibleTokens","*")}parse(r){return Yg(r)}set(r,n,s){return[pe(r,s),{timestampIsSet:!0}]}}const oS={G:new jN,y:new DN,Y:new _N,R:new CN,u:new PN,Q:new MN,q:new EN,M:new TN,L:new ON,w:new IN,I:new AN,d:new YN,D:new WN,E:new UN,e:new zN,c:new qN,i:new BN,a:new HN,b:new QN,B:new KN,h:new GN,H:new XN,K:new JN,k:new ZN,m:new eS,s:new tS,S:new rS,X:new nS,x:new sS,t:new aS,T:new iS},lS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dS=/^'([^]*?)'?$/,uS=/''/g,fS=/\S/,hS=/[a-zA-Z]/;function mS(e,t,r,n){var g,y,v,w,N,P,M,C;const s=()=>pe((n==null?void 0:n.in)||r,NaN),a=xN(),o=(n==null?void 0:n.locale)??a.locale??Lg,l=(n==null?void 0:n.firstWeekContainsDate)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((w=(v=a.locale)==null?void 0:v.options)==null?void 0:w.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((P=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:P.weekStartsOn)??a.weekStartsOn??((C=(M=a.locale)==null?void 0:M.options)==null?void 0:C.weekStartsOn)??0;if(!t)return e?s():Q(r,n==null?void 0:n.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},u=[new SN(n==null?void 0:n.in,r)],f=t.match(cS).map(b=>{const E=b[0];if(E in qd){const j=qd[E];return j(b,o.formatLong)}return b}).join("").match(lS),h=[];for(let b of f){const E=b[0],j=oS[E];if(j){const{incompatibleTokens:D}=j;if(Array.isArray(D)){const O=h.find(W=>D.includes(W.token)||W.token===E);if(O)throw new RangeError(`The format string mustn't contain \`${O.fullToken}\` and \`${b}\` at the same time`)}else if(j.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);h.push({token:E,fullToken:b});const R=j.run(e,b,o.match,d);if(!R)return s();u.push(R.setter),e=R.rest}else{if(E.match(hS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");if(b==="''"?b="'":E==="'"&&(b=pS(b)),e.indexOf(b)===0)e=e.slice(b.length);else return s()}}if(e.length>0&&fS.test(e))return s();const m=u.map(b=>b.priority).sort((b,E)=>E-b).filter((b,E,j)=>j.indexOf(b)===E).map(b=>u.filter(E=>E.priority===b).sort((E,j)=>j.subPriority-E.subPriority)).map(b=>b[0]);let p=Q(r,n==null?void 0:n.in);if(isNaN(+p))return s();const x={};for(const b of m){if(!b.validate(p,d))return s();const E=b.set(p,x,d);Array.isArray(E)?(p=E[0],Object.assign(x,E[1])):p=E}return p}function pS(e){return e.match(dS)[1].replace(uS,"'")}function gS(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function xS(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t);return+zd(n)==+zd(s)}function vS(e,t,r){const[n,s]=Gr(r==null?void 0:r.in,e,t);return n.getFullYear()===s.getFullYear()}function hi(e,t,r){const n=+Q(e,r==null?void 0:r.in),[s,a]=[+Q(t.start,r==null?void 0:r.in),+Q(t.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=s&&n<=a}function yS(e,t,r){return tr(e,-1,r)}function wS(e,t){const r=()=>pe(t==null?void 0:t.in,NaN),s=SS(e);let a;if(s.date){const d=jS(s.date,2);a=DS(d.restDateString,d.year)}if(!a||isNaN(+a))return r();const o=+a;let l=0,c;if(s.time&&(l=_S(s.time),isNaN(l)))return r();if(s.timezone){if(c=CS(s.timezone),isNaN(c))return r()}else{const d=new Date(o+l),u=Q(0,t==null?void 0:t.in);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return Q(o+l+c,t==null?void 0:t.in)}const Ji={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,NS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function SS(e){const t={},r=e.split(Ji.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Ji.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ji.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Ji.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function jS(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function DS(e,t){if(t===null)return new Date(NaN);const r=e.match(bS);if(!r)return new Date(NaN);const n=!!r[4],s=Sa(r[1]),a=Sa(r[2])-1,o=Sa(r[3]),l=Sa(r[4]),c=Sa(r[5])-1;if(n)return OS(t,l,c)?PS(t,l,c):new Date(NaN);{const d=new Date(0);return!ES(t,a,o)||!TS(t,s)?new Date(NaN):(d.setUTCFullYear(t,a,Math.max(s,o)),d)}}function Sa(e){return e?parseInt(e):1}function _S(e){const t=e.match(kS);if(!t)return NaN;const r=Mc(t[1]),n=Mc(t[2]),s=Mc(t[3]);return RS(r,n,s)?r*Fl+n*$l+s*1e3:NaN}function Mc(e){return e&&parseFloat(e.replace(",","."))||0}function CS(e){if(e==="Z")return 0;const t=e.match(NS);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return IS(n,s)?r*(n*Fl+s*$l):NaN}function PS(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const MS=[31,null,31,30,31,30,31,31,30,31,30,31];function zg(e){return e%400===0||e%4===0&&e%100!==0}function ES(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(MS[t]||(zg(e)?29:28))}function TS(e,t){return t>=1&&t<=(zg(e)?366:365)}function OS(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function RS(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function IS(e,t){return t>=0&&t<=59}function Dt(e,t,r){const n=Q(e,r==null?void 0:r.in),s=n.getFullYear(),a=n.getDate(),o=pe(e,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const l=gN(o);return n.setMonth(t,Math.min(a,l)),n}function ko(e,t,r){const n=Q(e,r==null?void 0:r.in);return n.setHours(t),n}function No(e,t,r){const n=Q(e,r==null?void 0:r.in);return n.setMinutes(t),n}function ms(e,t,r){const n=Q(e,r==null?void 0:r.in),s=Math.trunc(n.getMonth()/3)+1,a=t-s;return Dt(n,n.getMonth()+a*3)}function So(e,t,r){const n=Q(e,r==null?void 0:r.in);return n.setSeconds(t),n}function dr(e,t,r){const n=Q(e,r==null?void 0:r.in);return isNaN(+n)?pe(e,NaN):(n.setFullYear(t),n)}function Qn(e,t,r){return nr(e,-t,r)}function qg(e,t,r){return Xu(e,-1,r)}function rm(e,t,r){return ol(e,-1,r)}function Js(e,t,r){return $r(e,-t,r)}function Wl(){return typeof window<"u"}function ia(e){return Vg(e)?(e.nodeName||"").toLowerCase():"#document"}function Mt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Dr(e){var t;return(t=(Vg(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Vg(e){return Wl()?e instanceof Node||e instanceof Mt(e).Node:!1}function ht(e){return Wl()?e instanceof Element||e instanceof Mt(e).Element:!1}function Sr(e){return Wl()?e instanceof HTMLElement||e instanceof Mt(e).HTMLElement:!1}function nm(e){return!Wl()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mt(e).ShadowRoot}const LS=new Set(["inline","contents"]);function ki(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Qt(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!LS.has(s)}const AS=new Set(["table","td","th"]);function $S(e){return AS.has(ia(e))}const FS=[":popover-open",":modal"];function Ul(e){return FS.some(t=>{try{return e.matches(t)}catch{return!1}})}const YS=["transform","translate","scale","rotate","perspective"],WS=["transform","translate","scale","rotate","perspective","filter"],US=["paint","layout","strict","content"];function rf(e){const t=nf(),r=ht(e)?Qt(e):e;return YS.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||WS.some(n=>(r.willChange||"").includes(n))||US.some(n=>(r.contain||"").includes(n))}function zS(e){let t=Cn(e);for(;Sr(t)&&!Zs(t);){if(rf(t))return t;if(Ul(t))return null;t=Cn(t)}return null}function nf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qS=new Set(["html","body","#document"]);function Zs(e){return qS.has(ia(e))}function Qt(e){return Mt(e).getComputedStyle(e)}function zl(e){return ht(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cn(e){if(ia(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nm(e)&&e.host||Dr(e);return nm(t)?t.host:t}function Bg(e){const t=Cn(e);return Zs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Sr(t)&&ki(t)?t:Bg(t)}function mi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Bg(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Mt(s);if(a){const l=Bd(o);return t.concat(o,o.visualViewport||[],ki(s)?s:[],l&&r?mi(l):[])}return t.concat(s,mi(s,[],r))}function Bd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const ea=Math.min,Kn=Math.max,hl=Math.round,Zi=Math.floor,Nr=e=>({x:e,y:e}),VS={left:"right",right:"left",bottom:"top",top:"bottom"},BS={start:"end",end:"start"};function HS(e,t,r){return Kn(e,ea(t,r))}function ql(e,t){return typeof e=="function"?e(t):e}function ta(e){return e.split("-")[0]}function Ni(e){return e.split("-")[1]}function QS(e){return e==="x"?"y":"x"}function sf(e){return e==="y"?"height":"width"}const KS=new Set(["top","bottom"]);function Un(e){return KS.has(ta(e))?"y":"x"}function af(e){return QS(Un(e))}function GS(e,t,r){r===void 0&&(r=!1);const n=Ni(e),s=af(e),a=sf(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=ml(o)),[o,ml(o)]}function XS(e){const t=ml(e);return[Hd(e),t,Hd(t)]}function Hd(e){return e.replace(/start|end/g,t=>BS[t])}const sm=["left","right"],am=["right","left"],JS=["top","bottom"],ZS=["bottom","top"];function ej(e,t,r){switch(e){case"top":case"bottom":return r?t?am:sm:t?sm:am;case"left":case"right":return t?JS:ZS;default:return[]}}function tj(e,t,r,n){const s=Ni(e);let a=ej(ta(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Hd)))),a}function ml(e){return e.replace(/left|right|bottom|top/g,t=>VS[t])}function rj(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hg(e){return typeof e!="number"?rj(e):{top:e,right:e,bottom:e,left:e}}function pl(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}var nj=typeof document<"u",sj=function(){},gl=nj?k.useLayoutEffect:sj;const aj={...Um},ij=aj.useInsertionEffect,oj=ij||(e=>e());function lj(e){const t=k.useRef(()=>{});return oj(()=>{t.current=e}),k.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function im(e,t,r){let{reference:n,floating:s}=e;const a=Un(t),o=af(t),l=sf(o),c=ta(t),d=a==="y",u=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:u,y:n.y-s.height};break;case"bottom":m={x:u,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Ni(t)){case"start":m[o]-=h*(r&&d?-1:1);break;case"end":m[o]+=h*(r&&d?-1:1);break}return m}const cj=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:u,y:f}=im(d,n,c),h=n,m={},p=0;for(let x=0;x<l.length;x++){const{name:g,fn:y}=l[x],{x:v,y:w,data:N,reset:P}=await y({x:u,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:e,floating:t}});u=v??u,f=w??f,m={...m,[g]:{...m[g],...N}},P&&p<=50&&(p++,typeof P=="object"&&(P.placement&&(h=P.placement),P.rects&&(d=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):P.rects),{x:u,y:f}=im(d,h,c)),x=-1)}return{x:u,y:f,placement:h,strategy:s,middlewareData:m}};async function dj(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ql(t,e),p=Hg(m),g=l[h?f==="floating"?"reference":"floating":f],y=pl(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(g)))==null||r?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),N=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},P=pl(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-P.top+p.top)/N.y,bottom:(P.bottom-y.bottom+p.bottom)/N.y,left:(y.left-P.left+p.left)/N.x,right:(P.right-y.right+p.right)/N.x}}const uj=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:d,padding:u=0}=ql(e,t)||{};if(d==null)return{};const f=Hg(u),h={x:r,y:n},m=af(s),p=sf(m),x=await o.getDimensions(d),g=m==="y",y=g?"top":"left",v=g?"bottom":"right",w=g?"clientHeight":"clientWidth",N=a.reference[p]+a.reference[m]-h[m]-a.floating[p],P=h[m]-a.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=M?M[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(M)))&&(C=l.floating[w]||a.floating[p]);const b=N/2-P/2,E=C/2-x[p]/2-1,j=ea(f[y],E),D=ea(f[v],E),R=j,O=C-x[p]-D,W=C/2-x[p]/2+b,q=HS(R,W,O),F=!c.arrow&&Ni(s)!=null&&W!==q&&a.reference[p]/2-(W<R?j:D)-x[p]/2<0,U=F?W<R?W-R:W-O:0;return{[m]:h[m]+U,data:{[m]:q,centerOffset:W-q-U,...F&&{alignmentOffset:U}},reset:F}}}),fj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:d}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:x=!0,...g}=ql(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=ta(s),v=Un(l),w=ta(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=h||(w||!x?[ml(l)]:XS(l)),M=p!=="none";!h&&M&&P.push(...tj(l,x,p,N));const C=[l,...P],b=await dj(t,g),E=[];let j=((n=a.flip)==null?void 0:n.overflows)||[];if(u&&E.push(b[y]),f){const W=GS(s,o,N);E.push(b[W[0]],b[W[1]])}if(j=[...j,{placement:s,overflows:E}],!E.every(W=>W<=0)){var D,R;const W=(((D=a.flip)==null?void 0:D.index)||0)+1,q=C[W];if(q&&(!(f==="alignment"?v!==Un(q):!1)||j.every(_=>Un(_.placement)===v?_.overflows[0]>0:!0)))return{data:{index:W,overflows:j},reset:{placement:q}};let F=(R=j.filter(U=>U.overflows[0]<=0).sort((U,_)=>U.overflows[1]-_.overflows[1])[0])==null?void 0:R.placement;if(!F)switch(m){case"bestFit":{var O;const U=(O=j.filter(_=>{if(M){const L=Un(_.placement);return L===v||L==="y"}return!0}).map(_=>[_.placement,_.overflows.filter(L=>L>0).reduce((L,A)=>L+A,0)]).sort((_,L)=>_[1]-L[1])[0])==null?void 0:O[0];U&&(F=U);break}case"initialPlacement":F=l;break}if(s!==F)return{reset:{placement:F}}}return{}}}},hj=new Set(["left","top"]);async function mj(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=ta(r),l=Ni(r),c=Un(r)==="y",d=hj.has(o)?-1:1,u=a&&c?-1:1,f=ql(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof p=="number"&&(m=l==="end"?p*-1:p),c?{x:m*u,y:h*d}:{x:h*d,y:m*u}}const pj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await mj(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}};function Qg(e){const t=Qt(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Sr(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=hl(r)!==a||hl(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function of(e){return ht(e)?e:e.contextElement}function $s(e){const t=of(e);if(!Sr(t))return Nr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=Qg(t);let o=(a?hl(r.width):r.width)/n,l=(a?hl(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gj=Nr(0);function Kg(e){const t=Mt(e);return!nf()||!t.visualViewport?gj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xj(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Mt(e)?!1:t}function ss(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=of(e);let o=Nr(1);t&&(n?ht(n)&&(o=$s(n)):o=$s(e));const l=xj(a,r,n)?Kg(a):Nr(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,f=s.height/o.y;if(a){const h=Mt(a),m=n&&ht(n)?Mt(n):n;let p=h,x=Bd(p);for(;x&&n&&m!==p;){const g=$s(x),y=x.getBoundingClientRect(),v=Qt(x),w=y.left+(x.clientLeft+parseFloat(v.paddingLeft))*g.x,N=y.top+(x.clientTop+parseFloat(v.paddingTop))*g.y;c*=g.x,d*=g.y,u*=g.x,f*=g.y,c+=w,d+=N,p=Mt(x),x=Bd(p)}}return pl({width:u,height:f,x:c,y:d})}function Vl(e,t){const r=zl(e).scrollLeft;return t?t.left+r:ss(Dr(e)).left+r}function Gg(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Vl(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function vj(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Dr(n),l=t?Ul(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},d=Nr(1);const u=Nr(0),f=Sr(n);if((f||!f&&!a)&&((ia(n)!=="body"||ki(o))&&(c=zl(n)),Sr(n))){const m=ss(n);d=$s(n),u.x=m.x+n.clientLeft,u.y=m.y+n.clientTop}const h=o&&!f&&!a?Gg(o,c):Nr(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+u.x+h.x,y:r.y*d.y-c.scrollTop*d.y+u.y+h.y}}function yj(e){return Array.from(e.getClientRects())}function wj(e){const t=Dr(e),r=zl(e),n=e.ownerDocument.body,s=Kn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Kn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Vl(e);const l=-r.scrollTop;return Qt(n).direction==="rtl"&&(o+=Kn(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const om=25;function bj(e,t){const r=Mt(e),n=Dr(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=nf();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Vl(n);if(d<=0){const u=n.ownerDocument,f=u.body,h=getComputedStyle(f),m=u.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,p=Math.abs(n.clientWidth-f.clientWidth-m);p<=om&&(a-=p)}else d<=om&&(a+=d);return{width:a,height:o,x:l,y:c}}const kj=new Set(["absolute","fixed"]);function Nj(e,t){const r=ss(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Sr(e)?$s(e):Nr(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,d=n*a.y;return{width:o,height:l,x:c,y:d}}function lm(e,t,r){let n;if(t==="viewport")n=bj(e,r);else if(t==="document")n=wj(Dr(e));else if(ht(t))n=Nj(t,r);else{const s=Kg(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return pl(n)}function Xg(e,t){const r=Cn(e);return r===t||!ht(r)||Zs(r)?!1:Qt(r).position==="fixed"||Xg(r,t)}function Sj(e,t){const r=t.get(e);if(r)return r;let n=mi(e,[],!1).filter(l=>ht(l)&&ia(l)!=="body"),s=null;const a=Qt(e).position==="fixed";let o=a?Cn(e):e;for(;ht(o)&&!Zs(o);){const l=Qt(o),c=rf(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&kj.has(s.position)||ki(o)&&!c&&Xg(e,o))?n=n.filter(u=>u!==o):s=l,o=Cn(o)}return t.set(e,n),n}function jj(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Ul(t)?[]:Sj(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,u)=>{const f=lm(t,u,s);return d.top=Kn(f.top,d.top),d.right=ea(f.right,d.right),d.bottom=ea(f.bottom,d.bottom),d.left=Kn(f.left,d.left),d},lm(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Dj(e){const{width:t,height:r}=Qg(e);return{width:t,height:r}}function _j(e,t,r){const n=Sr(t),s=Dr(t),a=r==="fixed",o=ss(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Nr(0);function d(){c.x=Vl(s)}if(n||!n&&!a)if((ia(t)!=="body"||ki(s))&&(l=zl(t)),n){const m=ss(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&d();a&&!n&&s&&d();const u=s&&!n&&!a?Gg(s,l):Nr(0),f=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function Ec(e){return Qt(e).position==="static"}function cm(e,t){if(!Sr(e)||Qt(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Dr(e)===r&&(r=r.ownerDocument.body),r}function Jg(e,t){const r=Mt(e);if(Ul(e))return r;if(!Sr(e)){let s=Cn(e);for(;s&&!Zs(s);){if(ht(s)&&!Ec(s))return s;s=Cn(s)}return r}let n=cm(e,t);for(;n&&$S(n)&&Ec(n);)n=cm(n,t);return n&&Zs(n)&&Ec(n)&&!rf(n)?r:n||zS(e)||r}const Cj=async function(e){const t=this.getOffsetParent||Jg,r=this.getDimensions,n=await r(e.floating);return{reference:_j(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Pj(e){return Qt(e).direction==="rtl"}const Mj={convertOffsetParentRelativeRectToViewportRelativeRect:vj,getDocumentElement:Dr,getClippingRect:jj,getOffsetParent:Jg,getElementRects:Cj,getClientRects:yj,getDimensions:Dj,getScale:$s,isElement:ht,isRTL:Pj};function Zg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ej(e,t){let r=null,n;const s=Dr(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const d=e.getBoundingClientRect(),{left:u,top:f,width:h,height:m}=d;if(l||t(),!h||!m)return;const p=Zi(f),x=Zi(s.clientWidth-(u+h)),g=Zi(s.clientHeight-(f+m)),y=Zi(u),w={rootMargin:-p+"px "+-x+"px "+-g+"px "+-y+"px",threshold:Kn(0,ea(1,c))||1};let N=!0;function P(M){const C=M[0].intersectionRatio;if(C!==c){if(!N)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!Zg(d,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(P,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(P,w)}r.observe(e)}return o(!0),a}function Tj(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=of(e),u=s||a?[...d?mi(d):[],...mi(t)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const f=d&&l?Ej(d,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),d&&!c&&m.observe(d),m.observe(t));let p,x=c?ss(e):null;c&&g();function g(){const y=ss(e);x&&!Zg(x,y)&&r(),x=y,p=requestAnimationFrame(g)}return r(),()=>{var y;u.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(p)}}const Oj=pj,Rj=fj,dm=uj,Ij=(e,t,r)=>{const n=new Map,s={platform:Mj,...r},a={...s.platform,_c:n};return cj(e,t,{...s,platform:a})};var Lj=typeof document<"u",Aj=function(){},jo=Lj?k.useLayoutEffect:Aj;function xl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!xl(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!xl(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ex(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function um(e,t){const r=ex(e);return Math.round(t*r)/r}function Tc(e){const t=k.useRef(e);return jo(()=>{t.current=e}),t}function $j(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=e,[u,f]=k.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=k.useState(n);xl(h,n)||m(n);const[p,x]=k.useState(null),[g,y]=k.useState(null),v=k.useCallback(_=>{_!==M.current&&(M.current=_,x(_))},[]),w=k.useCallback(_=>{_!==C.current&&(C.current=_,y(_))},[]),N=a||p,P=o||g,M=k.useRef(null),C=k.useRef(null),b=k.useRef(u),E=c!=null,j=Tc(c),D=Tc(s),R=Tc(d),O=k.useCallback(()=>{if(!M.current||!C.current)return;const _={placement:t,strategy:r,middleware:h};D.current&&(_.platform=D.current),Ij(M.current,C.current,_).then(L=>{const A={...L,isPositioned:R.current!==!1};W.current&&!xl(b.current,A)&&(b.current=A,zu.flushSync(()=>{f(A)}))})},[h,t,r,D,R]);jo(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(_=>({..._,isPositioned:!1})))},[d]);const W=k.useRef(!1);jo(()=>(W.current=!0,()=>{W.current=!1}),[]),jo(()=>{if(N&&(M.current=N),P&&(C.current=P),N&&P){if(j.current)return j.current(N,P,O);O()}},[N,P,O,j,E]);const q=k.useMemo(()=>({reference:M,floating:C,setReference:v,setFloating:w}),[v,w]),F=k.useMemo(()=>({reference:N,floating:P}),[N,P]),U=k.useMemo(()=>{const _={position:r,left:0,top:0};if(!F.floating)return _;const L=um(F.floating,u.x),A=um(F.floating,u.y);return l?{..._,transform:"translate("+L+"px, "+A+"px)",...ex(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:L,top:A}},[r,l,F.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:O,refs:q,elements:F,floatingStyles:U}),[u,O,q,F,U])}const Fj=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?dm({element:n.current,padding:s}).fn(r):{}:n?dm({element:n,padding:s}).fn(r):{}}}},Yj=(e,t)=>({...Oj(e),options:[e,t]}),Wj=(e,t)=>({...Rj(e),options:[e,t]}),Uj=(e,t)=>({...Fj(e),options:[e,t]}),zj={...Um};let fm=!1,qj=0;const hm=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qj++;function Vj(){const[e,t]=k.useState(()=>fm?hm():void 0);return gl(()=>{e==null&&t(hm())},[]),k.useEffect(()=>{fm=!0},[]),e}const Bj=zj.useId,tx=Bj||Vj,Hj=k.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:a,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:u=0,staticOffset:f,stroke:h,d:m,style:{transform:p,...x}={},...g}=t,y=tx(),[v,w]=k.useState(!1);if(gl(()=>{if(!s)return;Qt(s).direction==="rtl"&&w(!0)},[s]),!s)return null;const[N,P]=n.split("-"),M=N==="top"||N==="bottom";let C=f;(M&&o!=null&&o.x||!M&&o!=null&&o.y)&&(C=null);const b=u*2,E=b/2,j=l/2*(d/-8+1),D=c/2*d/4,R=!!m,O=C&&P==="end"?"bottom":"top";let W=C&&P==="end"?"right":"left";C&&v&&(W=P==="end"?"left":"right");const q=(a==null?void 0:a.x)!=null?C||a.x:"",F=(a==null?void 0:a.y)!=null?C||a.y:"",U=m||"M0,0"+(" H"+l)+(" L"+(l-j)+","+(c-D))+(" Q"+l/2+","+c+" "+j+","+(c-D))+" Z",_={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[N];return i.jsxs("svg",{...g,"aria-hidden":!0,ref:r,width:R?l:l+b,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[W]:q,[O]:F,[N]:M||R?"100%":"calc(100% - "+b/2+"px)",transform:[_,p].filter(L=>!!L).join(" "),...x},children:[b>0&&i.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:h,strokeWidth:b+(m?0:1),d:U}),i.jsx("path",{stroke:b&&!m?g.fill:"none",d:U}),i.jsx("clipPath",{id:y,children:i.jsx("rect",{x:-E,y:E*(R?-1:1),width:l+b,height:l})})]})});function Qj(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(s=>s(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const Kj=k.createContext(null),Gj=k.createContext(null),Xj=()=>{var e;return((e=k.useContext(Kj))==null?void 0:e.id)||null},Jj=()=>k.useContext(Gj);function Zj(e){const{open:t=!1,onOpenChange:r,elements:n}=e,s=tx(),a=k.useRef({}),[o]=k.useState(()=>Qj()),l=Xj()!=null,[c,d]=k.useState(n.reference),u=lj((m,p,x)=>{a.current.openEvent=m?p:void 0,o.emit("openchange",{open:m,event:p,reason:x,nested:l}),r==null||r(m,p,x)}),f=k.useMemo(()=>({setPositionReference:d}),[]),h=k.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return k.useMemo(()=>({dataRef:a,open:t,onOpenChange:u,elements:h,events:o,floatingId:s,refs:f}),[t,u,h,o,s,f])}function e5(e){e===void 0&&(e={});const{nodeId:t}=e,r=Zj({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,s=n.elements,[a,o]=k.useState(null),[l,c]=k.useState(null),u=(s==null?void 0:s.domReference)||a,f=k.useRef(null),h=Jj();gl(()=>{u&&(f.current=u)},[u]);const m=$j({...e,elements:{...s,...l&&{reference:l}}}),p=k.useCallback(w=>{const N=ht(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),getClientRects:()=>w.getClientRects(),contextElement:w}:w;c(N),m.refs.setReference(N)},[m.refs]),x=k.useCallback(w=>{(ht(w)||w===null)&&(f.current=w,o(w)),(ht(m.refs.reference.current)||m.refs.reference.current===null||w!==null&&!ht(w))&&m.refs.setReference(w)},[m.refs]),g=k.useMemo(()=>({...m.refs,setReference:x,setPositionReference:p,domReference:f}),[m.refs,x,p]),y=k.useMemo(()=>({...m.elements,domReference:u}),[m.elements,u]),v=k.useMemo(()=>({...m,...n,refs:g,elements:y,nodeId:t}),[m,g,y,t,n]);return gl(()=>{n.dataRef.current.floatingContext=v;const w=h==null?void 0:h.nodesRef.current.find(N=>N.id===t);w&&(w.context=v)}),k.useMemo(()=>({...m,context:v,refs:g,elements:y}),[m,g,y,v])}/*!
  react-datepicker v8.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Qd=function(t,r){return Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},Qd(t,r)};function rt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Qd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var se=function(){return se=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},se.apply(this,arguments)};function yr(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var t5=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,s=n===void 0?!1:n,a=e.className,o=e.children,l=e.inline,c=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return T.createElement("div",{className:a,"aria-label":c,role:l?void 0:"dialog","aria-modal":l?void 0:"true"},o)},r5=function(e,t){var r=k.useRef(null),n=k.useRef(e);k.useEffect(function(){n.current=e},[e]);var s=k.useCallback(function(a){var o,l=a.composed&&a.composedPath&&a.composedPath().find(function(c){return c instanceof Node})||a.target;r.current&&!r.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(o=n.current)===null||o===void 0||o.call(n,a))},[t]);return k.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),r},Bl=function(e){var t=e.children,r=e.onClickOutside,n=e.className,s=e.containerRef,a=e.style,o=e.ignoreClass,l=r5(r,o);return T.createElement("div",{className:n,style:a,ref:function(c){l.current=c,s&&(s.current=c)}},t)},Y;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Y||(Y={}));function rx(){var e=typeof window<"u"?window:globalThis;return e}var Si=12;function ue(e){if(e==null)return new Date;var t=typeof e=="string"?wS(e):Q(e);return gr(t)?t:new Date}function Oc(e,t,r,n,s){s===void 0&&(s=ue());for(var a=ra(r)||ra(lf()),o=Array.isArray(t)?t:[t],l=0,c=o;l<c.length;l++){var d=c[l],u=mS(e,d,s,{locale:a});if(gr(u)&&(!n||e===De(u,d,r)))return u}return null}function gr(e,t){return ll(e)&&!vr(e,new Date("1/1/1800"))}function De(e,t,r){if(r==="en")return em(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?ra(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||ra(lf()),em(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Nt(e,t){var r=t.dateFormat,n=t.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return e&&De(e,s,n)||""}var nx=" - ";function n5(e,t,r){if(!e&&!t)return"";var n=e?Nt(e,r):"",s=t?Nt(t,r):"",a=r.rangeSeparator||nx;return"".concat(n).concat(a).concat(s)}function s5(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Nt(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=Nt(e[1],t);return"".concat(r,", ").concat(n)}var s=e.length-1;return"".concat(r," (+").concat(s,")")}function Rc(e,t){var r=t.hour,n=r===void 0?0:r,s=t.minute,a=s===void 0?0:s,o=t.second,l=o===void 0?0:o;return ko(No(So(e,l),a),n)}function a5(e){return Ju(e)}function i5(e,t){return De(e,"ddd",t)}function Do(e){return ns(e)}function kn(e,t,r){var n=ra(t||lf());return Qr(e,{locale:n,weekStartsOn:r})}function Ur(e){return Rg(e)}function Ea(e){return Yl(e)}function mm(e){return zd(e)}function pm(){return ns(ue())}function gm(e){return Tg(e)}function o5(e){return w2(e)}function l5(e){return Og(e)}function ur(e,t){return e&&t?vS(e,t):!e&&!t}function ft(e,t){return e&&t?gS(e,t):!e&&!t}function vl(e,t){return e&&t?xS(e,t):!e&&!t}function ne(e,t){return e&&t?v2(e,t):!e&&!t}function zn(e,t){return e&&t?yN(e,t):!e&&!t}function $n(e,t,r){var n,s=ns(t),a=Tg(r);try{n=hi(e,{start:s,end:a})}catch{n=!1}return n}function lf(){var e=rx();return e.__localeId__}function ra(e){if(typeof e=="string"){var t=rx();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function c5(e,t,r){return t(De(e,"EEEE",r))}function d5(e,t){return De(e,"EEEEEE",t)}function u5(e,t){return De(e,"EEE",t)}function cf(e,t){return De(Dt(ue(),e),"LLLL",t)}function sx(e,t){return De(Dt(ue(),e),"LLL",t)}function f5(e,t){return De(ms(ue(),e),"QQQ",t)}function Wt(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.maxDate,a=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,d=r.filterDate,u=r.disabled;return u?!0:ji(e,{minDate:n,maxDate:s})||a&&a.some(function(f){return f instanceof Date?ne(e,f):ne(e,f.date)})||o&&o.some(function(f){var h=f.start,m=f.end;return hi(e,{start:h,end:m})})||l&&!l.some(function(f){return ne(e,f)})||c&&!c.some(function(f){var h=f.start,m=f.end;return hi(e,{start:h,end:m})})||d&&!d(ue(e))||!1}function df(e,t){var r=t===void 0?{}:t,n=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(a){var o=a.start,l=a.end;return hi(e,{start:o,end:l})}):n&&n.some(function(a){var o;return a instanceof Date?ne(e,a):ne(e,(o=a.date)!==null&&o!==void 0?o:new Date)})||!1}function ax(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.maxDate,a=r.excludeDates,o=r.includeDates,l=r.filterDate;return ji(e,{minDate:n?Rg(n):void 0,maxDate:s?Og(s):void 0})||(a==null?void 0:a.some(function(c){return ft(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return ft(e,c)})||l&&!l(ue(e))||!1}function eo(e,t,r,n){var s=Z(e),a=ot(e),o=Z(t),l=ot(t),c=Z(n);return s===o&&s===c?a<=r&&r<=l:s<o?c===s&&a<=r||c===o&&l>=r||c<o&&c>s:!1}function h5(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.maxDate,a=r.excludeDates,o=r.includeDates;return ji(e,{minDate:n,maxDate:s})||a&&a.some(function(l){return ft(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return ft(l,e)})||!1}function to(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.maxDate,a=r.excludeDates,o=r.includeDates,l=r.filterDate,c=r.disabled;return c?!0:ji(e,{minDate:n,maxDate:s})||(a==null?void 0:a.some(function(d){return vl(e,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return vl(e,d)})||l&&!l(ue(e))||!1}function ro(e,t,r){if(!t||!r||!ll(t)||!ll(r))return!1;var n=Z(t),s=Z(r);return n<=e&&s>=e}function _o(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.maxDate,a=r.excludeDates,o=r.includeDates,l=r.filterDate,c=r.disabled;if(c)return!0;var d=new Date(e,0,1);return ji(d,{minDate:n?Yl(n):void 0,maxDate:s?Ig(s):void 0})||(a==null?void 0:a.some(function(u){return ur(d,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return ur(d,u)})||l&&!l(ue(d))||!1}function no(e,t,r,n){var s=Z(e),a=un(e),o=Z(t),l=un(t),c=Z(n);return s===o&&s===c?a<=r&&r<=l:s<o?c===s&&a<=r||c===o&&l>=r||c<o&&c>s:!1}function ji(e,t){var r,n=t===void 0?{}:t,s=n.minDate,a=n.maxDate;return(r=s&&Xs(e,s)<0||a&&Xs(e,a)>0)!==null&&r!==void 0?r:!1}function xm(e,t){return t.some(function(r){return Yr(r)===Yr(e)&&Wr(r)===Wr(e)&&bn(r)===bn(e)})}function vm(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,s=r.includeTimes,a=r.filterTime;return n&&xm(e,n)||s&&!xm(e,s)||a&&!a(e)||!1}function ym(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var s=ue();s=ko(s,Yr(e)),s=No(s,Wr(e)),s=So(s,bn(e));var a=ue();a=ko(a,Yr(r)),a=No(a,Wr(r)),a=So(a,bn(r));var o=ue();o=ko(o,Yr(n)),o=No(o,Wr(n)),o=So(o,bn(n));var l;try{l=!hi(s,{start:a,end:o})}catch{l=!1}return l}function wm(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.includeDates,a=Qn(e,1);return n&&cl(n,a)>0||s&&s.every(function(o){return cl(o,a)>0})||!1}function bm(e,t){var r=t===void 0?{}:t,n=r.maxDate,s=r.includeDates,a=nr(e,1);return n&&cl(a,n)>0||s&&s.every(function(o){return cl(a,o)>0})||!1}function m5(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.includeDates,a=Yl(e),o=qg(a);return n&&dl(n,o)>0||s&&s.every(function(l){return dl(l,o)>0})||!1}function p5(e,t){var r=t===void 0?{}:t,n=r.maxDate,s=r.includeDates,a=Ig(e),o=Xu(a,1);return n&&dl(o,n)>0||s&&s.every(function(l){return dl(o,l)>0})||!1}function km(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.includeDates,a=Js(e,1);return n&&ul(n,a)>0||s&&s.every(function(o){return ul(o,a)>0})||!1}function g5(e,t){var r=t===void 0?{}:t,n=r.minDate,s=r.yearItemNumber,a=s===void 0?Si:s,o=Ea(Js(e,a)),l=Rr(o,a).endPeriod,c=n&&Z(n);return c&&c>l||!1}function Nm(e,t){var r=t===void 0?{}:t,n=r.maxDate,s=r.includeDates,a=$r(e,1);return n&&ul(a,n)>0||s&&s.every(function(o){return ul(a,o)>0})||!1}function x5(e,t){var r=t===void 0?{}:t,n=r.maxDate,s=r.yearItemNumber,a=s===void 0?Si:s,o=$r(e,a),l=Rr(o,a).startPeriod,c=n&&Z(n);return c&&c<l||!1}function ix(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(s){return Xs(s,t)>=0});return Qh(n)}else return r?Qh(r):t}function ox(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(s){return Xs(s,t)<=0});return Hh(n)}else return r?Hh(r):t}function Sm(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,s=0,a=e.length;s<a;s++){var o=e[s];if(Fr(o)){var l=De(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(t)||(c.push(t),n.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),u=(r=d[0])!==null&&r!==void 0?r:"",f=o[u];if(typeof u=="string"&&Array.isArray(f))for(var h=0,m=f.length;h<m;h++){var p=f[h];if(p){var l=De(p,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(u)||(c.push(u),n.set(l,c))}}}}return n}function v5(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function y5(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var s=n.date,a=n.holidayName;if(Fr(s)){var o=De(s,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&v5(l.holidayNames,[a]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?yr(yr([],c,!0),[a],!1):[a],r.set(o,l)}}}),r}function w5(e,t,r,n,s){for(var a=s.length,o=[],l=0;l<a;l++){var c=e,d=s[l];d&&(c=m2(c,Yr(d)),c=Ud(c,Wr(d)),c=x2(c,bn(d)));var u=Ud(e,(r+1)*n);_n(c,t)&&vr(c,u)&&d!=null&&o.push(d)}return o}function jm(e){return e<10?"0".concat(e):"".concat(e)}function Rr(e,t){t===void 0&&(t=Si);var r=Math.ceil(Z(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function b5(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function Dm(e){var t=e.getSeconds(),r=e.getMilliseconds();return Q(e.getTime()-t*1e3-r)}function k5(e,t){return Dm(e).getTime()===Dm(t).getTime()}function _m(e){if(!Fr(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function Ic(e,t){if(!Fr(e)||!Fr(t))throw new Error("Invalid date received");var r=_m(e),n=_m(t);return vr(r,n)}function lx(e){return e.key===Y.Space}var N5=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=T.createRef(),n.onTimeChange=function(s){var a,o;n.setState({time:s});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(s!=null&&s.includes(":")){var u=s.split(":"),f=u[0],h=u[1];d.setHours(Number(f)),d.setMinutes(Number(h))}(o=(a=n.props).onChange)===null||o===void 0||o.call(a,d)},n.renderTimeInput=function(){var s=n.state.time,a=n.props,o=a.date,l=a.timeString,c=a.customTimeInput;return c?k.cloneElement(c,{date:o,value:s,onChange:n.onTimeChange}):T.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){n.onTimeChange(d.target.value||l)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return T.createElement("div",{className:"react-datepicker__input-time-container"},T.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),T.createElement("div",{className:"react-datepicker-time__input-container"},T.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(k.Component),S5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=k.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var s,a,o=n.key;o===Y.Space&&(n.preventDefault(),n.key=Y.Enter),(a=(s=r.props).handleOnKeyDown)===null||a===void 0||a.call(s,n)},r.isSameDay=function(n){return ne(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),a=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!a},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),Wt(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(){return df(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return ne(r.props.day,kn(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&ne(n,kn(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,s=n.day,a=n.highlightDates;if(!a)return!1;var o=De(s,"MM.dd.yyyy");return a.get(o)},r.getHolidaysClass=function(){var n,s=r.props,a=s.day,o=s.holidays;if(!o)return[void 0];var l=De(a,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,s=n.day,a=n.startDate,o=n.endDate;return!a||!o?!1:$n(s,a,o)},r.isInSelectingRange=function(){var n,s=r.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.selectsDisabledDaysInRange,u=s.startDate,f=s.swapRange,h=s.endDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!m||!d&&r.isDisabled())return!1;if(o&&h&&(vr(m,h)||zn(m,h)))return $n(a,m,h);if(l&&u&&(_n(m,u)||zn(m,u)))return $n(a,u,m);if(c&&u&&!h){if(zn(m,u)||_n(m,u))return $n(a,u,m);if(f&&vr(m,u))return $n(a,m,u)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,a=s.day,o=s.startDate,l=s.selectsStart,c=s.swapRange,d=s.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?ne(a,u):d&&c&&o&&u?ne(a,vr(u,o)?u:o):ne(a,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,a=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=s.swapRange,u=s.startDate,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?ne(a,f):c&&d&&u&&f?ne(a,vr(f,u)?u:f):c?ne(a,f):ne(a,o)},r.isRangeStart=function(){var n=r.props,s=n.day,a=n.startDate,o=n.endDate;return!a||!o?!1:ne(a,s)},r.isRangeEnd=function(){var n=r.props,s=n.day,a=n.startDate,o=n.endDate;return!a||!o?!1:ne(o,s)},r.isWeekend=function(){var n=pN(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ot(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ot(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(ue())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var s=r.props.dayClassName?r.props.dayClassName(n):void 0;return Ze("react-datepicker__day",s,"react-datepicker__day--"+i5(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,s=n.day,a=n.ariaLabelPrefixWhenEnabled,o=a===void 0?"Choose":a,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=r.isDisabled()||r.isExcluded()?c:o;return"".concat(d," ").concat(De(s,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,s=n.day,a=n.holidays,o=a===void 0?new Map:a,l=n.excludeDates,c=De(s,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),r.isExcluded()&&d.push(l==null?void 0:l.filter(function(u){return u instanceof Date?ne(u,s):ne(u==null?void 0:u.date,s)}).map(function(u){if(!(u instanceof Date))return u==null?void 0:u.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,s=r.props.preSelection,a=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&ne(s,n))?0:-1;return a},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(tm(r.props.day),r.props.day):tm(r.props.day)},r.render=function(){return T.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&T.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,s;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(k.Component),j5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=k.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var s,a,o=n.key;o===Y.Space&&(n.preventDefault(),n.key=Y.Enter),(a=(s=r.props).handleOnKeyDown)===null||a===void 0||a.call(s,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ne(r.props.date,r.props.selected)&&ne(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||ne(r.props.date,r.props.selected)&&ne(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var s=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&ne(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,s=r.isWeekDisabled,a=r.ariaLabelPrefix,o=a===void 0?t.defaultProps.ariaLabelPrefix:a,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&ne(this.props.date,this.props.selected)};return T.createElement("div",{ref:this.weekNumberEl,className:Ze(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},t}(k.Component),D5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return Wt(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,s){r.props.onDayClick&&r.props.onDayClick(n,s)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,s,a){for(var o,l,c,d=new Date(n),u=0;u<7;u++){var f=new Date(n);f.setDate(f.getDate()+u);var h=!r.isDisabled(f);if(h){d=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,s,a),r.props.showWeekPicker&&r.handleDayClick(d,a),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):a5(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),s=tr(n,6),a=new Date(n);a<=s;){if(!r.isDisabled(a))return!1;a=tr(a,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),s=[],a=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,a):void 0;s.push(T.createElement(j5,se({key:"W"},t.defaultProps,r.props,{weekNumber:a,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var c=tr(n,l);return T.createElement(S5,se({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return kn(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!ne(r.startOfWeek(),r.props.selected)&&ne(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":ne(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return T.createElement("div",{className:Ze(r,n),role:"row"},this.renderDays())},t}(k.Component),ja,_5=6,Fs={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Lc=(ja={},ja[Fs.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},ja[Fs.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},ja[Fs.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},ja),so=1;function Cm(e,t){return e?Fs.FOUR_COLUMNS:t?Fs.TWO_COLUMNS:Fs.THREE_COLUMNS}var C5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=yr([],Array(12),!0).map(function(){return k.createRef()}),r.QUARTER_REFS=yr([],Array(4),!0).map(function(){return k.createRef()}),r.isDisabled=function(n){return Wt(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate,disabled:r.props.disabled})},r.isExcluded=function(n){return df(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,s){var a,o;(o=(a=r.props).onDayClick)===null||o===void 0||o.call(a,n,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var s,a;(a=(s=r.props).onDayMouseEnter)===null||a===void 0||a.call(s,n)},r.handleMouseLeave=function(){var n,s;(s=(n=r.props).onMouseLeave)===null||s===void 0||s.call(n)},r.isRangeStartMonth=function(n){var s=r.props,a=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ft(Dt(a,n),o)},r.isRangeStartQuarter=function(n){var s=r.props,a=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:vl(ms(a,n),o)},r.isRangeEndMonth=function(n){var s=r.props,a=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:ft(Dt(a,n),l)},r.isRangeEndQuarter=function(n){var s=r.props,a=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:vl(ms(a,n),l)},r.isInSelectingRangeMonth=function(n){var s,a=r.props,o=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,u=a.startDate,f=a.endDate,h=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!h?!1:l&&f?eo(h,f,n,o):c&&u||d&&u&&!f?eo(u,h,n,o):!1},r.isSelectingMonthRangeStart=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var a=r.props,o=a.day,l=a.startDate,c=a.selectsStart,d=Dt(o,n),u=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c?ft(d,u):ft(d,l)},r.isSelectingMonthRangeEnd=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var a=r.props,o=a.day,l=a.endDate,c=a.selectsEnd,d=a.selectsRange,u=Dt(o,n),f=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c||d?ft(u,f):ft(u,l)},r.isInSelectingRangeQuarter=function(n){var s,a=r.props,o=a.day,l=a.selectsStart,c=a.selectsEnd,d=a.selectsRange,u=a.startDate,f=a.endDate,h=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!h?!1:l&&f?no(h,f,n,o):c&&u||d&&u&&!f?no(u,h,n,o):!1},r.isWeekInMonth=function(n){var s=r.props.day,a=tr(n,6);return ft(n,s)||ft(a,s)},r.isCurrentMonth=function(n,s){return Z(n)===Z(ue())&&s===ot(ue())},r.isCurrentQuarter=function(n,s){return Z(n)===Z(ue())&&s===un(ue())},r.isSelectedMonth=function(n,s,a){return ot(a)===s&&Z(n)===Z(a)},r.isSelectMonthInList=function(n,s,a){return a.some(function(o){return r.isSelectedMonth(n,s,o)})},r.isSelectedQuarter=function(n,s,a){return un(a)===s&&Z(n)===Z(a)},r.isSelectQuarterInList=function(n,s,a){return a.some(function(o){return r.isSelectedQuarter(n,s,o)})},r.isMonthSelected=function(){var n=r.props,s=n.day,a=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=ot(s);return l?o==null?void 0:o.some(function(d){return r.isSelectedMonth(s,c,d)}):!!a&&r.isSelectedMonth(s,c,a)},r.isQuarterSelected=function(){var n=r.props,s=n.day,a=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=un(s);return l?o==null?void 0:o.some(function(d){return r.isSelectedQuarter(s,c,d)}):!!a&&r.isSelectedQuarter(s,c,a)},r.renderWeeks=function(){if(!gr(r.props.day))return[];for(var n=[],s=r.props.fixedHeight,a=0,o=!1,l=kn(Ur(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(p){return r.props.showWeekPicker?kn(p,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(p){return r.props.showWeekPicker?kn(p,r.props.locale,r.props.calendarStartDay):r.props.selected},u=r.props.selected?d(r.props.selected):void 0,f=r.props.preSelection?c(r.props.preSelection):void 0;n.push(T.createElement(D5,se({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:a,day:l,month:ot(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:u,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!o;){a++,l=ol(l,1);var h=s&&a>=_5,m=!s&&!r.isWeekInMonth(l);if(h||m)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,s){var a=r.isMonthDisabledForLabelDate(s),o=a.isDisabled,l=a.labelDate;o||r.handleDayClick(Ur(l),n)},r.onMonthMouseEnter=function(n){var s=r.isMonthDisabledForLabelDate(n),a=s.isDisabled,o=s.labelDate;a||r.handleDayMouseEnter(Ur(o))},r.handleMonthNavigation=function(n,s){var a,o,l,c;(o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,s),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,s,a){var o,l=r.props,c=l.selected,d=l.preSelection,u=l.setPreSelection,f=l.minDate,h=l.maxDate,m=l.showFourColumnMonthYearPicker,p=l.showTwoColumnMonthYearPicker;if(d){var x=Cm(m,p),g=r.getVerticalOffset(x),y=(o=Lc[x])===null||o===void 0?void 0:o.grid,v=function(C,b,E){var j,D,R=b,O=E;switch(C){case Y.ArrowRight:R=nr(b,so),O=E===11?0:E+so;break;case Y.ArrowLeft:R=Qn(b,so),O=E===0?11:E-so;break;case Y.ArrowUp:R=Qn(b,g),O=!((j=y==null?void 0:y[0])===null||j===void 0)&&j.includes(E)?E+12-g:E-g;break;case Y.ArrowDown:R=nr(b,g),O=!((D=y==null?void 0:y[y.length-1])===null||D===void 0)&&D.includes(E)?E-12+g:E+g;break}return{newCalculatedDate:R,newCalculatedMonth:O}},w=function(C,b,E){for(var j=40,D=C,R=!1,O=0,W=v(D,b,E),q=W.newCalculatedDate,F=W.newCalculatedMonth;!R;){if(O>=j){q=b,F=E;break}if(f&&q<f){D=Y.ArrowRight;var U=v(D,q,F);q=U.newCalculatedDate,F=U.newCalculatedMonth}if(h&&q>h){D=Y.ArrowLeft;var U=v(D,q,F);q=U.newCalculatedDate,F=U.newCalculatedMonth}if(h5(q,r.props)){var U=v(D,q,F);q=U.newCalculatedDate,F=U.newCalculatedMonth}else R=!0;O++}return{newCalculatedDate:q,newCalculatedMonth:F}};if(s===Y.Enter){r.isMonthDisabled(a)||(r.onMonthClick(n,a),u==null||u(c));return}var N=w(s,d,a),P=N.newCalculatedDate,M=N.newCalculatedMonth;switch(s){case Y.ArrowRight:case Y.ArrowLeft:case Y.ArrowUp:case Y.ArrowDown:r.handleMonthNavigation(M,P);break}}},r.getVerticalOffset=function(n){var s,a;return(a=(s=Lc[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&a!==void 0?a:0},r.onMonthKeyDown=function(n,s){var a=r.props,o=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,c=n.key;c!==Y.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,s),l&&l(n)},r.onQuarterClick=function(n,s){var a=ms(r.props.day,s);to(a,r.props)||r.handleDayClick(mm(a),n)},r.onQuarterMouseEnter=function(n){var s=ms(r.props.day,n);to(s,r.props)||r.handleDayMouseEnter(mm(s))},r.handleQuarterNavigation=function(n,s){var a,o,l,c;r.isDisabled(s)||r.isExcluded(s)||((o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,s),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,s){var a,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case Y.Enter:r.onQuarterClick(n,s),(o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,r.props.selected);break;case Y.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,Xu(r.props.preSelection,1));break;case Y.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,qg(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var s,a=r.props,o=a.day,l=a.disabled,c=a.minDate,d=a.maxDate,u=a.excludeDates,f=a.includeDates,h=Dt(o,n);return l?{isDisabled:!0,labelDate:Dt(o,n)}:{isDisabled:(s=(c||d||u||f)&&ax(h,r.props))!==null&&s!==void 0?s:!1,labelDate:h}},r.isMonthDisabled=function(n){var s=r.isMonthDisabledForLabelDate(n).isDisabled;return s},r.getMonthClassNames=function(n){var s=r.props,a=s.day,o=s.startDate,l=s.endDate,c=s.preSelection,d=s.monthClassName,u=d?d(Dt(a,n)):void 0,f=r.getSelection();return Ze("react-datepicker__month-text","react-datepicker__month-".concat(n),u,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(a,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(a,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?eo(o,l,n,a):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(a,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=ot(r.props.preSelection),a=r.isMonthDisabledForLabelDate(s).isDisabled,o=n===s&&!(a||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=un(r.props.preSelection),a=to(r.props.day,r.props),o=n===s&&!(a||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var s=r.props,a=s.chooseDayAriaLabelPrefix,o=a===void 0?"Choose":a,l=s.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=s.day,u=s.locale,f=Dt(d,n),h=r.isDisabled(f)||r.isExcluded(f)?c:o;return"".concat(h," ").concat(De(f,"MMMM yyyy",u))},r.getQuarterClassNames=function(n){var s=r.props,a=s.day,o=s.startDate,l=s.endDate,c=s.minDate,d=s.maxDate,u=s.excludeDates,f=s.includeDates,h=s.filterDate,m=s.preSelection,p=s.disabledKeyboardNavigation,x=s.disabled,g=(c||d||u||f||h||x)&&to(ms(a,n),r.props),y=r.getSelection();return Ze("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":g,"react-datepicker__quarter-text--selected":y?r.isSelectQuarterInList(a,n,y):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&m&&r.isSelectedQuarter(a,n,m)&&!r.isQuarterSelected()&&!g,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?no(o,l,n,a):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(a,n)})},r.getMonthContent=function(n){var s=r.props,a=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,c=s.day,d=sx(n,l),u=cf(n,l);return o?o(n,d,u,c):a?u:d},r.getQuarterContent=function(n){var s,a=r.props,o=a.renderQuarterContent,l=a.locale,c=f5(n,l);return(s=o==null?void 0:o(n,c))!==null&&s!==void 0?s:c},r.renderMonths=function(){var n,s=r.props,a=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,c=s.selected,d=(n=Lc[Cm(o,a)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(u,f){return T.createElement("div",{className:"react-datepicker__month-wrapper",key:f},u.map(function(h,m){return T.createElement("div",{ref:r.MONTH_REFS[h],key:m,onClick:function(p){r.onMonthClick(p,h)},onKeyDown:function(p){lx(p)&&(p.preventDefault(),p.key=Y.Enter),r.onMonthKeyDown(p,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:Number(r.getTabIndex(h)),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(l,h)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,h,c):void 0},r.getMonthContent(h))}))})},r.renderQuarters=function(){var n=r.props,s=n.day,a=n.selected,o=[1,2,3,4];return T.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return T.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(d){r.onQuarterClick(d,l)},onKeyDown:function(d){r.onQuarterKeyDown(d,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":a?r.isSelectedQuarter(s,l,a):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(s,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,s=n.selectingDate,a=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,d=n.showWeekPicker;return Ze("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(a||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,s=r.selectedDates,a=r.selectsMultiple;if(a)return s;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,s=r.showQuarterYearPicker,a=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",d=gr(a)?"".concat(c).concat(De(a,"MMMM, yyyy",this.props.locale)):"",u=n||s;return u?T.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"listbox"},n?this.renderMonths():this.renderQuarters()):T.createElement("div",{role:"table"},this.props.dayNamesHeader&&T.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),T.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":d,role:"rowgroup"},this.renderWeeks()))},t}(k.Component),P5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,s){var a;switch(s.key){case"Enter":s.preventDefault(),r.onChange(n);break;case"Escape":s.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(n+(s.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(a=r.monthOptionButtonsRef[o])===null||a===void 0||a.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,s){return T.createElement("div",{ref:function(a){r.monthOptionButtonsRef[s]=a,r.isSelectedMonth(s)&&(a==null||a.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,s),onKeyDown:r.handleOptionKeyDown.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?T.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return T.createElement(Bl,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(k.Component),M5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(s,a){return T.createElement("option",{key:s,value:a},s)})},r.renderSelectMode=function(n){return T.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,s){return T.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},T.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(n){return T.createElement(P5,se({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var s=r.state.dropdownVisible,a=[r.renderReadView(!s,n)];return s&&a.unshift(r.renderDropdown(n)),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return sx(a,r.props.locale)}:function(a){return cf(a,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return T.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},t}(k.Component);function E5(e,t){for(var r=[],n=Ur(e),s=Ur(t);!_n(n,s);)r.push(ue(n)),n=nr(n,1);return r}var T5=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var a=Vd(s),o=ur(n.props.date,s)&&ft(n.props.date,s);return T.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":o?"true":void 0},o?T.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",De(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:E5(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Ze({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return T.createElement(Bl,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(k.Component),O5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=Ur(r.props.minDate),s=Ur(r.props.maxDate),a=[];!_n(n,s);){var o=Vd(n);a.push(T.createElement("option",{key:o,value:o},De(n,r.props.dateFormat,r.props.locale))),n=nr(n,1)}return a},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return T.createElement("select",{value:Vd(Ur(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var s=De(r.props.date,r.props.dateFormat,r.props.locale);return T.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},T.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return T.createElement(T5,se({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown();var s=ue(n);ur(r.props.date,s)&&ft(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return T.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(k.Component),R5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,a;r.list&&(r.list.scrollTop=(a=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&a!==void 0?a:0)})},r.handleClick=function(n){var s,a;(r.props.minTime||r.props.maxTime)&&ym(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&vm(n,r.props)||(a=(s=r.props).onChange)===null||a===void 0||a.call(s,n)},r.isSelectedTime=function(n){return r.props.selected&&k5(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&ym(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&vm(n,r.props)},r.liClasses=function(n){var s,a=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(Yr(n)*3600+Wr(n)*60+bn(n))%(((s=r.props.intervals)!==null&&s!==void 0?s:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},r.handleOnKeyDown=function(n,s){var a,o;n.key===Y.Space&&(n.preventDefault(),n.key=Y.Enter),(n.key===Y.ArrowUp||n.key===Y.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Y.ArrowDown||n.key===Y.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Y.Enter&&r.handleClick(s),(o=(a=r.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},r.renderTimes=function(){for(var n,s=[],a=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,l=r.props.selected||r.props.openToDate||ue(),c=Do(l),d=r.props.injectTimes&&r.props.injectTimes.sort(function(g,y){return g.getTime()-y.getTime()}),u=60*b5(l),f=u/o,h=0;h<f;h++){var m=Ud(c,h*o);if(s.push(m),d){var p=w5(c,m,h,o,d);s=s.concat(p)}}var x=s.reduce(function(g,y){return y.getTime()<=l.getTime()?y:g},s[0]);return s.map(function(g){return T.createElement("li",{key:g.valueOf(),onClick:r.handleClick.bind(r,g),className:r.liClasses(g),ref:function(y){g===x&&(r.centerLi=y)},onKeyDown:function(y){r.handleOnKeyDown(y,g)},tabIndex:g===x?0:-1,role:"option","aria-selected":r.isSelectedTime(g)?"true":void 0,"aria-disabled":r.isDisabledTime(g)?"true":void 0},De(g,a,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?T.createElement(T.Fragment,null):T.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},T.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,s=this.state.height;return T.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),T.createElement("div",{className:"react-datepicker__time"},T.createElement("div",{className:"react-datepicker__time-box"},T.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){r.list=a},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(k.Component),Pm=3,I5=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=yr([],Array(n.props.yearItemNumber),!0).map(function(){return k.createRef()}),n.isDisabled=function(s){return Wt(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return df(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var a=function(){var o,l;(l=(o=n.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(s,a){n.props.onDayClick&&n.props.onDayClick(s,a)},n.handleYearNavigation=function(s,a){var o,l,c,d,u=n.props,f=u.date,h=u.yearItemNumber;if(!(f===void 0||h===void 0)){var m=Rr(f,h).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,a),s-m<0?n.updateFocusOnPaginate(h-(m-s)):s-m>=h?n.updateFocusOnPaginate(Math.abs(h-(s-m))):(d=(c=n.YEAR_REFS[s-m])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},n.isSameDay=function(s,a){return ne(s,a)},n.isCurrentYear=function(s){return s===Z(ue())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&ur(dr(ue(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&ur(dr(ue(),s),n.props.endDate)},n.isInRange=function(s){return ro(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var a=n.props,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,d=a.startDate,u=a.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&u?ro(s,n.selectingDate(),u):l&&d||c&&d&&!u?ro(s,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var a;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,d=dr(ue(),s);return c?ur(d,(a=n.selectingDate())!==null&&a!==void 0?a:null):ur(d,l??null)},n.isSelectingRangeEnd=function(s){var a;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,u=dr(ue(),s);return c||d?ur(u,(a=n.selectingDate())!==null&&a!==void 0?a:null):ur(u,l??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var a=n.props,o=a.minDate,l=a.maxDate,c=a.excludeDates,d=a.includeDates,u=a.filterDate,f=a.selected,h=Ea(dr(n.props.date,s)),m=(o||l||c||d||u)&&_o(s,n.props),p=!!f&&ne(h,Ea(f)),x=ne(h,Ea(n.props.preSelection));return!n.props.inline&&!p&&x&&!m}},n.isSelectedYear=function(s){var a=n.props,o=a.selectsMultiple,l=a.selected,c=a.selectedDates;return o?c==null?void 0:c.some(function(d){return s===Z(d)}):!!l&&s===Z(l)},n.onYearClick=function(s,a){var o=n.props.date;o!==void 0&&n.handleYearClick(Ea(dr(o,a)),s)},n.onYearKeyDown=function(s,a){var o,l,c=s.key,d=n.props,u=d.date,f=d.yearItemNumber,h=d.handleOnKeyDown;if(c!==Y.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case Y.Enter:if(n.props.selected==null)break;n.onYearClick(s,a),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case Y.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,$r(n.props.preSelection,1));break;case Y.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,Js(n.props.preSelection,1));break;case Y.ArrowUp:{if(u===void 0||f===void 0||n.props.preSelection==null)break;var m=Rr(u,f).startPeriod,p=Pm,x=a-p;if(x<m){var g=f%p;a>=m&&a<m+g?p=g:p+=g,x=a-p}n.handleYearNavigation(x,Js(n.props.preSelection,p));break}case Y.ArrowDown:{if(u===void 0||f===void 0||n.props.preSelection==null)break;var y=Rr(u,f).endPeriod,p=Pm,x=a+p;if(x>y){var g=f%p;a<=y&&a>y-g?p=g:p+=g,x=a+p}n.handleYearNavigation(x,$r(n.props.preSelection,p));break}}h&&h(s)},n.getYearClassNames=function(s){var a=n.props,o=a.date,l=a.disabled,c=a.minDate,d=a.maxDate,u=a.excludeDates,f=a.includeDates,h=a.filterDate,m=a.yearClassName;return Ze("react-datepicker__year-text","react-datepicker__year-".concat(s),o?m==null?void 0:m(dr(o,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(c||d||u||f||h||l)&&_o(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Z(n.props.preSelection),o=_o(s,n.props);return s===a&&!o?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return t.prototype.render=function(){var r=this,n=[],s=this.props,a=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave;if(a===void 0)return null;for(var d=Rr(a,o),u=d.startPeriod,f=d.endPeriod,h=function(x){n.push(T.createElement("div",{ref:m.YEAR_REFS[x-u],onClick:function(g){r.onYearClick(g,x)},onKeyDown:function(g){lx(g)&&(g.preventDefault(),g.key=Y.Enter),r.onYearKeyDown(g,x)},tabIndex:Number(m.getYearTabIndex(x)),className:m.getYearClassNames(x),onMouseEnter:m.props.usePointerEvent?void 0:function(g){return l(g,x)},onPointerEnter:m.props.usePointerEvent?function(g){return l(g,x)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(g){return c(g,x)},onPointerLeave:m.props.usePointerEvent?function(g){return c(g,x)}:void 0,key:x,"aria-current":m.isCurrentYear(x)?"date":void 0},m.getYearContent(x)))},m=this,p=u;p<=f;p++)h(p);return T.createElement("div",{className:"react-datepicker__year"},T.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(k.Component);function L5(e,t,r,n){for(var s=[],a=0;a<2*t+1;a++){var o=e+t-a,l=!0;r&&(l=Z(r)<=o),n&&l&&(l=Z(n)>=o),l&&s.push(o)}return s}var A5=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var u=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[u]&&((d=n.yearOptionButtonsRef[u])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(f){return T.createElement("div",{ref:function(h){n.yearOptionButtonsRef[f]=h,f===l&&(h==null||h.focus())},role:"button",tabIndex:0,className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),onKeyDown:n.handleOptionKeyDown.bind(n,f),"aria-selected":l===f?"true":void 0},l===f?T.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),d=n.props.minDate?Z(n.props.minDate):null,u=n.props.maxDate?Z(n.props.maxDate):null;return(!u||!n.state.yearsList.find(function(f){return f===u}))&&c.unshift(T.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},T.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(f){return f===d}))&&c.push(T.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},T.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(d){return d+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=r.yearDropdownItemNumber,a=r.scrollableYearDropdown,o=s||(a?10:5);return n.state={yearsList:L5(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=k.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,s=n?n.find(function(a){return a.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Ze({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return T.createElement(Bl,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(k.Component),$5=function(e){rt(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?Z(r.props.minDate):1900,s=r.props.maxDate?Z(r.props.maxDate):2100,a=[],o=n;o<=s;o++)a.push(T.createElement("option",{key:o,value:o},o));return a},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return T.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return T.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},T.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),T.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return T.createElement(A5,se({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,s){var a;(a=r.onSelect)===null||a===void 0||a.call(r,n,s),r.setOpen()},r.onSelect=function(n,s){var a,o;(o=(a=r.props).onSelect)===null||o===void 0||o.call(a,n,s)},r.setOpen=function(){var n,s;(s=(n=r.props).setOpen)===null||s===void 0||s.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return T.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(k.Component),F5=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],cx="react-datepicker-ignore-onclickoutside",Y5=function(e){var t=(e.className||"").split(/\s+/);return F5.some(function(r){return t.indexOf(r)>=0})},W5=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var a,o;Y5(s.target)&&((o=(a=n.props).onDropdownFocus)===null||o===void 0||o.call(a,s))},n.getDateInView=function(){var s=n.props,a=s.preSelection,o=s.selected,l=s.openToDate,c=ix(n.props),d=ox(n.props),u=ue(),f=l||o||a;return f||(c&&vr(u,c)?c:d&&_n(u,d)?d:u)},n.increaseMonth=function(){n.setState(function(s){var a=s.date;return{date:nr(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var a=s.date;return{date:Qn(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,a,o){n.props.onSelect(s,a,o),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,a){n.setState({selectingDate:dr(ue(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,a)},n.handleYearMouseLeave=function(s,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,a)},n.handleYearChange=function(s){var a,o,l,c;(o=(a=n.props).onYearChange)===null||o===void 0||o.call(a,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!Wt(s,n.props))return s;for(var a=Ur(s),o=l5(s),l=y2(o,a),c=null,d=0;d<=l;d++){var u=tr(a,d);if(!Wt(u,n.props)){c=u;break}}return c},n.handleMonthChange=function(s){var a,o,l,c=(a=n.getEnabledPreSelectionDateForMonth(s))!==null&&a!==void 0?a:s;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(s){var a,o;(o=(a=n.props).onMonthChange)===null||o===void 0||o.call(a,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(a){var o=a.date;return{date:dr(o,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(a){var o=a.date;return{date:Dt(o,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(a){var o=a.date;return{date:dr(Dt(o,ot(s)),Z(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){if(s===void 0&&(s=n.state.date),!gr(s))return[];var a=n.props.disabled,o=kn(s,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(T.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},T.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),T.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(c){var d=tr(o,c),u=n.formatWeekday(d,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return T.createElement("div",{key:c,role:"columnheader",className:Ze("react-datepicker__day-name",f,a?"react-datepicker__day-name--disabled":"")},T.createElement("span",{className:"react-datepicker__sr-only"},De(d,"EEEE",n.props.locale)),T.createElement("span",{"aria-hidden":"true"},u))}))},n.formatWeekday=function(s,a){return n.props.formatWeekDay?c5(s,n.props.formatWeekDay,a):n.props.useWeekdaysShort?u5(s,a):d5(s,a)},n.decreaseYear=function(){n.setState(function(s){var a,o=s.date;return{date:Js(o,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,a,o;if(!n.props.renderCustomHeader){var l=(s=n.props.monthsShown)!==null&&s!==void 0?s:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:c,u=Qn(n.state.date,d),f;switch(!0){case n.props.disabled:f=!0;break;case n.props.showMonthYearPicker:f=km(n.state.date,n.props);break;case n.props.showYearPicker:f=g5(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=m5(n.state.date,n.props);break;default:f=wm(u,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],p=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),p=void 0);var x=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,y=g.previousMonthButtonLabel,v=y===void 0?t.defaultProps.previousMonthButtonLabel:y,w=g.previousYearButtonLabel,N=w===void 0?t.defaultProps.previousYearButtonLabel:w,P=n.props,M=P.previousMonthAriaLabel,C=M===void 0?typeof v=="string"?v:"Previous Month":M,b=P.previousYearAriaLabel,E=b===void 0?typeof N=="string"?N:"Previous Year":b;return T.createElement("button",{type:"button",className:m.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":x?E:C},T.createElement("span",{className:h.join(" ")},x?N:v))}}},n.increaseYear=function(){n.setState(function(s){var a,o=s.date;return{date:$r(o,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.disabled:a=!0;break;case n.props.showMonthYearPicker:a=Nm(n.state.date,n.props);break;case n.props.showYearPicker:a=x5(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=p5(n.state.date,n.props);break;default:a=bm(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,u=n.props,f=u.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,m=u.nextYearButtonLabel,p=m===void 0?t.defaultProps.nextYearButtonLabel:m,x=n.props,g=x.nextMonthAriaLabel,y=g===void 0?typeof h=="string"?h:"Next Month":g,v=x.nextYearAriaLabel,w=v===void 0?typeof p=="string"?p:"Next Year":v;return T.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?w:y},T.createElement("span",{className:l.join(" ")},d?p:h))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),T.createElement("h2",{className:a.join(" ")},gr(s)?De(s,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return T.createElement($5,se({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Z(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return T.createElement(M5,se({},t.defaultProps,n.props,{month:ot(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return T.createElement(O5,se({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(pm(),s),n.props.setPreSelection&&n.props.setPreSelection(pm())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return T.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return T.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var a=s.monthDate,o=s.i;return T.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),T.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(s){var a,o,l=s.monthDate,c=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,u=d.showYearPicker,f=d.yearItemNumber,h;if(u){var m=Rr(l,f),p=m.startPeriod,x=m.endPeriod;h={startYear:p,endYear:x}}var g=wm(n.state.date,n.props),y=bm(n.state.date,n.props),v=km(n.state.date,n.props),w=Nm(n.state.date,n.props);return T.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(a=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(a,se(se(se({},n.state),u&&{visibleYearsRange:h}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:y,prevYearButtonDisabled:v,nextYearButtonDisabled:w})))},n.renderYearHeader=function(s){var a=s.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?t.defaultProps.yearItemNumber:c,u=Rr(a,d),f=u.startPeriod,h=u.endPeriod;return T.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(h):Z(a))},n.renderHeader=function(s){var a=s.monthDate,o=s.i,l=o===void 0?0:o,c={monthDate:a,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var s,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(s=n.props.monthsShown)!==null&&s!==void 0?s:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?$r(n.state.date,c):Qn(n.state.date,c),u=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:c,f=0;f<l;++f){var h=f-u+c,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?$r(d,h):nr(d,h),p="month-".concat(f),x=f<l-1,g=f>0;o.push(T.createElement("div",{key:p,ref:function(y){n.monthContainer=y??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:m,i:f}),T.createElement(C5,se({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:m,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:x,monthShowsDuplicateDaysStart:g,dayNamesHeader:n.renderDayNamesHeader(m)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return T.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),T.createElement(I5,se({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return T.createElement(R5,se({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,a=s&&gr(s)&&!!n.props.selected,o=a?"".concat(jm(s.getHours()),":").concat(jm(s.getMinutes())):"";if(n.props.showTimeInput)return T.createElement(N5,se({},t.defaultProps,n.props,{date:s,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s;if(!gr(n.state.date))return T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var a=Rr(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber),o=a.startPeriod,l=a.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=Z(n.state.date):c="".concat(cf(ot(n.state.date),n.props.locale)," ").concat(Z(n.state.date)),T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return T.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=k.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:cx,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Si}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&gr(this.props.preSelection)&&(!ne(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!ft(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!ne(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||t5;return T.createElement(Bl,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},T.createElement("div",{style:{display:"contents"},ref:this.containerRef},T.createElement(r,{className:Ze("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(k.Component),U5=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,s=e.onClick,a="react-datepicker__calendar-icon";if(typeof t=="string")return T.createElement("i",{className:"".concat(a," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:s});if(T.isValidElement(t)){var o=t;return T.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(a," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return T.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},T.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},dx=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Xy.createPortal(this.props.children,this.el)},t}(k.Component),z5="[tabindex], a, button, input, select, textarea",q5=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},ux=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(z5),1,-1).filter(q5)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=k.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?T.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},T.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,T.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(k.Component);function V5(e){function t(r){var n,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,a=k.useRef(null),o=e5(se({open:!s,whileElementsMounted:Tj,placement:r.popperPlacement,middleware:yr([Wj({padding:15}),Yj(10),Uj({element:a})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=se(se({},r),{hidePopper:s,popperProps:se(se({},o),{arrowRef:a})});return T.createElement(e,se({},l))}return t.displayName="withFloating(".concat(e.displayName||e.name||"Component",")"),t}var B5=function(e){var t=e.className,r=e.wrapperClassName,n=e.hidePopper,s=n===void 0?!0:n,a=e.popperComponent,o=e.targetComponent,l=e.enableTabLoop,c=e.popperOnKeyDown,d=e.portalId,u=e.portalHost,f=e.popperProps,h=e.showArrow,m=void 0;if(!s){var p=Ze("react-datepicker-popper",t);m=T.createElement(ux,{enableTabLoop:l},T.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:p,"data-placement":f.placement,onKeyDown:c},a,h&&T.createElement(Hj,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}e.popperContainer&&(m=k.createElement(e.popperContainer,{},m)),d&&!s&&(m=T.createElement(dx,{portalId:d,portalHost:u},m));var x=Ze("react-datepicker-wrapper",r);return T.createElement(T.Fragment,null,T.createElement("div",{ref:f.refs.setReference,className:x},o),m)},H5=V5(B5);function Q5(e,t){return e&&t?ot(e)!==ot(t)||Z(e)!==Z(t):e!==t}var Ac="Date input not valid.",K5=function(e){rt(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:ue()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(a,o){var l=new Date(o.date);return gr(l)?yr(yr([],a,!0),[se(se({},o),{date:l})],!1):a},[])},n.calcInitialState=function(){var s,a=n.getPreSelection(),o=ix(n.props),l=ox(n.props),c=o&&vr(a,Do(o))?o:l&&_n(a,gm(l))?l:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:c,highlightDates:Sm(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,a=n.props,o=a.locale,l=a.startDate,c=a.endDate,d=a.rangeSeparator,u=a.selected,f=a.selectedDates,h=a.selectsMultiple,m=a.selectsRange,p=a.value,x=(s=n.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,g=n.state.inputValue;return typeof p=="string"?p:typeof g=="string"?g:m?n5(l,c,{dateFormat:x,locale:o,rangeSeparator:d}):h?s5(f??[],{dateFormat:x,locale:o}):Nt(u,{dateFormat:x,locale:o})},n.resetHiddenStatus=function(){n.setState(se(se({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(se(se({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,a;(a=(s=n.input)===null||s===void 0?void 0:s.focus)===null||a===void 0||a.call(s,{preventScroll:!0})},n.setBlur=function(){var s,a;(a=(s=n.input)===null||s===void 0?void 0:s.blur)===null||a===void 0||a.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,a){a===void 0&&(a=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:$c},function(){s||n.setState(function(o){return{focused:a?o.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Fr(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var a,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(a=n.props).onFocus)===null||o===void 0||o.call(a,s),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(se(se({},n.state),{inputValue:null}))},n.handleBlur=function(s){var a,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(a=n.props).onBlur)===null||o===void 0||o.call(a,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var a,o;n.props.inline||n.setOpen(!1),(o=(a=n.props).onClickOutside)===null||o===void 0||o.call(a,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,a,o,l,c,d=[],u=0;u<arguments.length;u++)d[u]=arguments[u];var f=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:G5});var h=n.props,m=h.selectsRange,p=h.startDate,x=h.endDate,g=(s=n.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,y=(a=n.props.strictParsing)!==null&&a!==void 0?a:t.defaultProps.strictParsing,v=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(m){var w=n.props.rangeSeparator,N=w.trim(),P=v.split(g.includes(N)?w:N,2).map(function(O){return O.trim()}),M=P[0],C=P[1],b=Oc(M??"",g,n.props.locale,y),E=b?Oc(C??"",g,n.props.locale,y):null,j=(p==null?void 0:p.getTime())!==(b==null?void 0:b.getTime()),D=(x==null?void 0:x.getTime())!==(E==null?void 0:E.getTime());if(!j&&!D||b&&Wt(b,n.props)||E&&Wt(E,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[b,E],f)}else{var R=Oc(v,g,n.props.locale,y,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(R||!v)&&n.setSelected(R,f,!0)}}},n.handleSelect=function(s,a,o){var l;if(!n.props.readOnly){var c=n.props,d=c.selectsRange,u=c.startDate,f=c.endDate,h=c.locale,m=c.swapRange,p=(l=n.props.dateFormat)!==null&&l!==void 0?l:t.defaultProps.dateFormat,x=!d||u&&!f&&(m||!Ic(s,u));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&x&&n.sendFocusBackToInput(),n.props.onChangeRaw){var g=Nt(s,{dateFormat:p,locale:h});n.props.onChangeRaw(a,{date:s,formattedDate:g})}n.setSelected(s,a,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):x&&n.setOpen(!1)}},n.setSelected=function(s,a,o,l){var c,d,u=s;if(n.props.showYearPicker){if(u!==null&&_o(Z(u),n.props))return}else if(n.props.showMonthYearPicker){if(u!==null&&ax(u,n.props))return}else if(u!==null&&Wt(u,n.props))return;var f=n.props,h=f.onChange,m=f.selectsRange,p=f.startDate,x=f.endDate,g=f.selectsMultiple,y=f.selectedDates,v=f.minTime,w=f.swapRange;if(!zn(n.props.selected,u)||n.props.allowSameDay||m||g)if(u!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(u=Rc(u,{hour:Yr(n.props.selected),minute:Wr(n.props.selected),second:bn(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&v&&(u=Rc(u,{hour:v.getHours(),minute:v.getMinutes(),second:v.getSeconds()})),n.props.inline||n.setState({preSelection:u}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),m){var N=!p&&!x,P=p&&!x,M=!p&&!!x,C=p&&x;N?h==null||h([u,null],a):P?u===null?h==null||h([null,null],a):Ic(u,p)?w?h==null||h([u,p],a):h==null||h([u,null],a):h==null||h([p,u],a):M&&(u&&Ic(u,x)?h==null||h([u,x],a):h==null||h([u,null],a)),C&&(h==null||h([u,null],a))}else if(g){if(u!==null)if(!(y!=null&&y.length))h==null||h([u],a);else{var b=y.some(function(j){return ne(j,u)});if(b){var E=y.filter(function(j){return!ne(j,u)});h==null||h(E,a)}else h==null||h(yr(yr([],y,!0),[u],!1),a)}}else h==null||h(u,a);o||((d=(c=n.props).onSelect)===null||d===void 0||d.call(c,u,a),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var a=Fr(n.props.minDate),o=Fr(n.props.maxDate),l=!0;if(s){var c=Do(s);if(a&&o)l=$n(s,n.props.minDate,n.props.maxDate);else if(a){var d=Do(n.props.minDate);l=_n(s,d)||zn(c,d)}else if(o){var u=gm(n.props.maxDate);l=vr(s,u)||zn(c,u)}}l&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var a,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?s:Rc(l,{hour:Yr(s),minute:Wr(s)});n.setState({preSelection:c}),(o=(a=n.props).onChange)===null||o===void 0||o.call(a,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(s=n.props).onInputClick)===null||a===void 0||a.call(s)},n.onInputKeyDown=function(s){var a,o,l,c,d,u;(o=(a=n.props).onKeyDown)===null||o===void 0||o.call(a,s);var f=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===Y.ArrowDown||f===Y.ArrowUp||f===Y.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(f===Y.ArrowDown||f===Y.ArrowUp){s.preventDefault();var h=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(h);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var p=ue(n.state.preSelection);f===Y.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===$c?(n.handleSelect(p,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(p)):n.setOpen(!1)):f===Y.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===Y.Tab&&n.setOpen(!1),n.inputOk()||(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:Ac})}},n.onPortalKeyDown=function(s){var a=s.key;a===Y.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var a,o,l,c,d,u,f=n.props,h=f.minDate,m=f.maxDate,p=f.disabledKeyboardNavigation,x=f.showWeekPicker,g=f.shouldCloseOnSelect,y=f.locale,v=f.calendarStartDay,w=f.adjustDateOnChange,N=f.inline;if((o=(a=n.props).onKeyDown)===null||o===void 0||o.call(a,s),!p){var P=s.key,M=s.shiftKey,C=ue(n.state.preSelection),b=function(q,F){var U=F;switch(q){case Y.ArrowRight:U=x?ol(F,1):tr(F,1);break;case Y.ArrowLeft:U=x?rm(F):yS(F);break;case Y.ArrowUp:U=rm(F);break;case Y.ArrowDown:U=ol(F,1);break;case Y.PageUp:U=M?Js(F,1):Qn(F,1);break;case Y.PageDown:U=M?$r(F,1):nr(F,1);break;case Y.Home:U=kn(F,y,v);break;case Y.End:U=o5(F);break}return U},E=function(q,F){for(var U=40,_=q,L=!1,A=0,K=b(q,F);!L;){if(A>=U){K=F;break}h&&K<h&&(_=Y.ArrowRight,K=Wt(h,n.props)?b(_,K):h),m&&K>m&&(_=Y.ArrowLeft,K=Wt(m,n.props)?b(_,K):m),Wt(K,n.props)?((_===Y.PageUp||_===Y.Home)&&(_=Y.ArrowRight),(_===Y.PageDown||_===Y.End)&&(_=Y.ArrowLeft),K=b(_,K)):L=!0,A++}return K};if(P===Y.Enter){s.preventDefault(),n.handleSelect(C,s),!g&&n.setPreSelection(C);return}else if(P===Y.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:Ac});return}var j=null;switch(P){case Y.ArrowLeft:case Y.ArrowRight:case Y.ArrowUp:case Y.ArrowDown:case Y.PageUp:case Y.PageDown:case Y.Home:case Y.End:j=E(P,C);break}if(!j){(u=(d=n.props).onInputError)===null||u===void 0||u.call(d,{code:1,msg:Ac});return}if(s.preventDefault(),n.setState({lastPreSelectChange:$c}),w&&n.setSelected(j),n.setPreSelection(j),N){var D=ot(C),R=ot(j),O=Z(C),W=Z(j);D!==R||O!==W?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var a=s.key;a===Y.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var a=n.props,o=a.selectsRange,l=a.onChange;o?l==null||l([null,null],s):l==null||l(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,a;return!n.props.inline&&!n.isCalendarOpen()?null:T.createElement(W5,se({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:y5(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,a=n.props.locale,o=(s=n.props.dateFormat)!==null&&s!==void 0?s:t.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(Nt(n.props.startDate,{dateFormat:c,locale:a}),". ").concat(n.props.endDate?"End date: "+Nt(n.props.endDate,{dateFormat:c,locale:a}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(Nt(n.props.selected,{dateFormat:o,locale:a})):n.props.showYearPicker?d="Selected year: ".concat(Nt(n.props.selected,{dateFormat:"yyyy",locale:a})):n.props.showMonthYearPicker?d="Selected month: ".concat(Nt(n.props.selected,{dateFormat:"MMMM yyyy",locale:a})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(Nt(n.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):d="Selected date: ".concat(Nt(n.props.selected,{dateFormat:c,locale:a})),T.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var s,a,o=Ze(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||t.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),l=n.props.customInput||T.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return k.cloneElement(l,(a={},a[c]=function(d){n.input=d},a.value=n.getInputValue(),a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Ze(l.props.className,o),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var s=n.props,a=s.isClearable,o=s.disabled,l=s.selected,c=s.startDate,d=s.endDate,u=s.clearButtonTitle,f=s.clearButtonClassName,h=f===void 0?"":f,m=s.ariaLabelClose,p=m===void 0?"Close":m,x=s.selectedDates,g=s.readOnly;return a&&!g&&(l!=null||c!=null||d!=null||x!=null&&x.length)?T.createElement("button",{type:"button",className:Ze("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":p,onClick:n.onClearClick,title:u,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:cx,readOnly:!1,rangeSeparator:nx,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Si,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var s,a,o,l;r.inline&&Q5(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Sm(this.props.highlightDates)}),!n.focused&&!zn(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(s=this.props).onCalendarOpen)===null||a===void 0||a.call(s)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,s=r.icon,a=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),T.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&T.createElement(U5,se({icon:s,className:Ze(o,!o&&a,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?T.createElement(ux,{enableTabLoop:this.props.enableTabLoop},T.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=T.createElement(dx,se({portalId:this.props.portalId},this.props),n)),T.createElement("div",null,this.renderInputContainer(),n)}return T.createElement(H5,se({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(k.Component),G5="input",$c="navigate";function X5(){var xt,H;const{userId:e,schedules:t,isLoading:r,createSchedule:n,updateSchedule:s,deleteSchedule:a}=sr(),{chants:o,tongueSongs:l}=Al(),c=Ut(le.uploads.getByUser,e?{userId:e}:"skip"),d=c===void 0,u=(c||[]).filter(S=>!S.uploadType||S.uploadType==="chant"),f=(c||[]).filter(S=>S.uploadType==="tongue"),[h,m]=k.useState(!1),[p,x]=k.useState(null),[g,y]=k.useState(null),[v,w]=k.useState(1),[N,P]=k.useState(!1),[M,C]=k.useState(null),[b,E]=k.useState({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),[j,D]=k.useState(!1),R=async S=>{S.preventDefault();try{p?(await s({id:p._id,...b}),$.success("Schedule updated!")):(await n({userId:e,...b}),$.success("Schedule created!")),m(!1),x(null),w(1),E({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""})}catch(B){$.error("Failed to save schedule"),console.error(B)}},O=async()=>{var S,B,ie,nt,ar;if(!b.title){$.error("Please enter a title first");return}D(!0);try{const Ue="AIzaSyC3IxLVaP6VAYF_RCZT4HKNUox7F35tBd0",Rt=`Suggest a relevant Bible scripture (Book Chapter:Verse - Quote) for a prayer schedule titled "${b.title}"${b.description?` with description: "${b.description}"`:""}. Return ONLY the scripture reference and quote in this format: "Book Chapter:Verse - Quote". Example: "Jeremiah 29:11 - For I know the plans I have for you..."`,It=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Ue}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Rt}]}]})});if(!It.ok)throw new Error("API error");const ir=((ar=(nt=(ie=(B=(S=(await It.json()).candidates)==null?void 0:S[0])==null?void 0:B.content)==null?void 0:ie.parts)==null?void 0:nt[0])==null?void 0:ar.text)||"";ir?(E(_r=>({..._r,scripture:ir.trim()})),$.success("Scripture suggested!")):$.error("Could not generate scripture")}catch(Ue){console.error("Error generating scripture:",Ue),$.error("Failed to generate scripture")}finally{D(!1)}},W=S=>{x(S),w(1),E({title:S.title,description:S.description||"",scripture:S.scripture||"",scheduledTime:S.scheduledTime,recurring:S.recurring,frequency:S.frequency||"daily",prayerPoints:S.prayerPoints||[],selectedMusicId:S.selectedMusicId||"",tonguesMode:S.tonguesMode||"none",selectedTongueSongId:S.selectedTongueSongId||""}),m(!0)},q=4,F=b.title&&b.scheduledTime,U=()=>{v===1&&F?w(2):v===2?w(3):v===3&&w(4)},_=()=>{v>1&&w(v-1)},L=async(S,B)=>{try{await s({id:S,prayerPoints:B})}catch(ie){console.error("Error updating prayer points:",ie)}},A=async(S,B)=>{try{await s({id:S,tonguesMode:B,...B==="none"&&{selectedTongueSongId:""}}),$.success("Tongues mode updated!")}catch(ie){$.error("Failed to update tongues mode"),console.error(ie)}},K=async(S,B)=>{try{await s({id:S,selectedTongueSongId:B}),$.success("Tongue song updated!")}catch(ie){$.error("Failed to update tongue song"),console.error(ie)}},te=async(S,B)=>{try{await s({id:S,selectedMusicId:B}),$.success("Music updated!")}catch(ie){console.error("Error updating music:",ie),$.error("Failed to update music")}},de=S=>{C(S),P(!0)},ge=async()=>{if(M){try{await a({id:M}),$.success("Schedule deleted!")}catch{$.error("Failed to delete schedule")}P(!1),C(null)}},xe=t.filter(S=>!S.isCompleted&&new Date(S.scheduledTime)>new Date),Re=t.filter(S=>S.isCompleted||new Date(S.scheduledTime)<=new Date);return i.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-white font-serif tracking-tight",children:"Prayer Schedules"}),i.jsx("p",{className:"text-white/60 text-xs md:text-base mt-1 font-light",children:"Manage your prayer sessions and divine appointments"})]}),i.jsxs("button",{onClick:()=>{x(null),E({title:"",description:"",scripture:"",scheduledTime:new Date().toISOString().slice(0,16),recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),w(1),m(!0)},className:"group relative overflow-hidden px-6 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[i.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[i.jsx(ts,{className:"w-5 h-5"}),"New Schedule"]}),i.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),i.jsxs("div",{className:"w-full",children:[i.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[i.jsx(qt,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700]"}),"Upcoming Schedules"]}),r||d?i.jsx(u2,{count:4}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:xe.length===0?i.jsxs("div",{className:"glass-card col-span-full text-center py-16 md:py-20 border border-white/10 bg-[#1a103c]/30 rounded-3xl",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-[#ffd700]/5 flex items-center justify-center mx-auto mb-6 border border-[#ffd700]/10",children:i.jsx(qt,{className:"w-10 h-10 text-[#ffd700]/40"})}),i.jsx("p",{className:"text-white/80 text-lg md:text-xl font-medium mb-2",children:"No upcoming schedules"}),i.jsx("p",{className:"text-white/50 text-sm",children:"Create your first schedule to get started"})]}):xe.map(S=>i.jsxs("div",{className:"group relative overflow-hidden p-6 rounded-3xl bg-[#1a103c]/40 backdrop-blur-md border border-white/10 hover:border-[#ffd700]/30 transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[i.jsxs("div",{className:"mb-6 relative z-10",children:[i.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight font-serif group-hover:text-[#ffd700] transition-colors",children:S.title}),S.description&&i.jsx("p",{className:"text-white/60 text-sm md:text-base mb-4 line-clamp-2 font-light",children:S.description})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[i.jsx(qt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),i.jsx("span",{className:"truncate font-medium",children:Cs(new Date(S.scheduledTime),"MMM d, yyyy")})]}),i.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[i.jsx(Lr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),i.jsx("span",{className:"font-medium",children:Cs(new Date(S.scheduledTime),"h:mm a")})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[S.recurring&&i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs md:text-sm font-medium",children:S.frequency}),S.scripture&&i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs md:text-sm",children:[i.jsx(lt,{className:"w-3 h-3"}),"Scripture"]}),S.prayerPoints&&S.prayerPoints.length>0&&i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs md:text-sm",children:[i.jsx(ve,{className:"w-3 h-3"}),S.prayerPoints.length," Point",S.prayerPoints.length!==1?"s":""]}),S.selectedMusicId&&i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-xs md:text-sm",children:[i.jsx(We,{className:"w-3 h-3"}),"Music"]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 relative z-10",children:[i.jsxs("button",{onClick:()=>W(S),className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium flex items-center justify-center gap-2",children:[i.jsx(M1,{className:"w-4 h-4"}),"Edit"]}),i.jsx("button",{onClick:()=>{g===S._id?y(null):y(S._id)},className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium",children:g===S._id?"Hide Details":"View Details"}),i.jsx("button",{onClick:()=>de(S._id),className:"px-4 py-2.5 rounded-xl border border-red-500/20 bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:border-red-500/40 transition-all text-sm font-medium flex items-center justify-center",title:"Delete Schedule",children:i.jsx(Ar,{className:"w-4 h-4"})})]}),g===S._id&&i.jsxs("div",{className:"border-t border-white/10 pt-5 mt-5 space-y-6 relative z-10 animate-fade-in",children:[S.scripture&&i.jsxs("div",{className:"p-4 rounded-xl border border-[#ffd700]/20 bg-[#ffd700]/5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(lt,{className:"w-4 h-4 text-[#ffd700]"}),i.jsx("h5",{className:"text-[#ffd700] font-semibold text-sm uppercase tracking-wider",children:"Scripture Passage"})]}),i.jsxs("p",{className:"text-white/90 text-sm italic font-serif leading-relaxed",children:['"',S.scripture,'"']})]}),i.jsx(Vh,{scheduleId:S._id,userId:e,currentPoints:S.prayerPoints||[],onPointsChange:B=>L(S._id,B)}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx(We,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),o.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:o.map(B=>i.jsx("button",{onClick:()=>te(S._id,B.id),className:`p-3 rounded-xl text-left transition-all border ${S.selectedMusicId===B.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:i.jsx("p",{className:`text-sm font-medium ${S.selectedMusicId===B.id?"text-[#ffd700]":"text-white"}`,children:B.name})},B.id))}),u.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:u.map(B=>i.jsx("button",{onClick:()=>te(S._id,B._id),className:`p-3 rounded-xl text-left transition-all border ${S.selectedMusicId===B._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:i.jsx("p",{className:`text-sm font-medium ${S.selectedMusicId===B._id?"text-[#ffd700]":"text-white"}`,children:B.fileName.replace(/\.[^/.]+$/,"")})},B._id))})]}),i.jsx("button",{onClick:()=>te(S._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Music"})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx(ve,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongues Mode"}),i.jsx(Yt,{value:S.tonguesMode||"none",onChange:B=>A(S._id,B),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(S.tonguesMode==="start"||S.tonguesMode==="perPoint")&&i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongue Song"}),l.length>0&&i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:l.map(B=>i.jsx("button",{onClick:()=>K(S._id,B.id),className:`p-3 rounded-xl text-left transition-all border ${S.selectedTongueSongId===B.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:i.jsx("p",{className:`text-sm font-medium ${S.selectedTongueSongId===B.id?"text-[#ffd700]":"text-white"}`,children:B.name})},B.id))}),f.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:f.map(B=>i.jsx("button",{onClick:()=>K(S._id,B._id),className:`p-3 rounded-xl text-left transition-all border ${S.selectedTongueSongId===B._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:i.jsx("p",{className:`text-sm font-medium ${S.selectedTongueSongId===B._id?"text-[#ffd700]":"text-white"}`,children:B.fileName.replace(/\.[^/.]+$/,"")})},B._id))})]}),i.jsx("button",{onClick:()=>K(S._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Tongue Song"})]})]})]})]},S._id))})]}),Re.length>0&&i.jsxs("div",{className:"w-full pt-8 border-t border-white/10",children:[i.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white/60 mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[i.jsx(lt,{className:"w-5 h-5 md:w-6 md:h-6"}),"Past Schedules"]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Re.map(S=>i.jsxs("div",{className:"p-5 md:p-6 rounded-2xl bg-white/5 border border-white/5 opacity-60 hover:opacity-100 transition-all duration-300",children:[i.jsx("h4",{className:"text-lg md:text-xl font-semibold text-white mb-3 font-serif",children:S.title}),i.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm md:text-base mb-3",children:[i.jsx(Lr,{className:"w-4 h-4"}),i.jsx("span",{children:Cs(new Date(S.scheduledTime),"MMM d, yyyy h:mm a")})]}),S.isCompleted&&i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-500/20 border border-green-500/30 text-green-300 text-xs md:text-sm font-medium",children:"Completed"})]},S._id))})]}),h&&i.jsx("div",{className:"fixed inset-0 bg-[#1a103c]/95 md:bg-[#1a103c]/80 backdrop-blur-md z-[200] flex items-stretch md:items-center justify-center p-0 md:p-4 overflow-y-auto animate-fade-in",children:i.jsx("div",{className:"glass-card w-full md:max-w-2xl rounded-none md:rounded-3xl h-full md:h-auto md:max-h-[85vh] overflow-y-auto border-0 md:border border-white/10 shadow-2xl bg-[#2d1b4e] flex flex-col",children:i.jsxs("div",{className:"p-5 md:p-8 pb-20 md:pb-8",children:[i.jsx("div",{className:"mb-6 md:mb-8",children:i.jsx("div",{className:"flex items-center justify-between mb-3 px-2 md:px-0",children:[1,2,3,4].map(S=>i.jsxs("div",{className:"flex items-center flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center flex-1",children:[i.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-500 ${S<v?"bg-[#ffd700] text-[#1a103c] shadow-[0_0_10px_rgba(255,215,0,0.5)]":S===v?"bg-[#ffd700]/20 text-[#ffd700] border-2 border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":"bg-white/5 text-white/30 border border-white/10"}`,children:S<v?i.jsx(Hn,{className:"w-4 h-4 md:w-5 md:h-5"}):S}),i.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium uppercase tracking-wider transition-colors duration-300 ${S<=v?"text-[#ffd700]":"text-white/30"}`,children:S===1?"Basic":S===2?"Time":S===3?"Music":"Review"})]}),S<q&&i.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-500 ${S<v?"bg-[#ffd700]":"bg-white/10"}`})]},S))})}),i.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[i.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white font-serif",children:p?"Edit Schedule":"New Schedule"}),i.jsx("button",{onClick:()=>{m(!1),x(null),w(1)},className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white/50 hover:text-white",children:i.jsx("span",{className:"text-2xl leading-none",children:""})})]}),i.jsxs("form",{onSubmit:R,children:[v===1&&i.jsxs("div",{className:"space-y-5 animate-fade-in",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Title *"}),i.jsx("input",{type:"text",value:b.title,onChange:S=>E({...b,title:S.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",placeholder:"Enter schedule title",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Description"}),i.jsx("textarea",{value:b.description,onChange:S=>E({...b,description:S.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none",rows:"3",placeholder:"Add a description for this prayer schedule"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lt,{className:"w-4 h-4 text-[#ffd700]"}),"Scripture Passage"]}),i.jsxs("button",{type:"button",onClick:O,disabled:j||!b.title,className:"text-xs flex items-center gap-1 text-[#ffd700] hover:text-[#ffd700]/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[j?i.jsx(rl,{className:"w-3 h-3 animate-spin"}):i.jsx(ve,{className:"w-3 h-3"}),j?"Suggesting...":"Suggest Scripture"]})]}),i.jsx("textarea",{value:b.scripture,onChange:S=>E({...b,scripture:S.target.value}),placeholder:"E.g., John 3:16 - For God so loved the world...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none font-serif italic",rows:"3"}),i.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Add a scripture passage that will be used when generating prayer points"})]}),i.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>{m(!1),x(null),w(1)},className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),i.jsxs("button",{type:"button",onClick:U,disabled:!b.title,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",i.jsx(Ls,{className:"w-5 h-5"})]})]})]}),v===2&&i.jsxs("div",{className:"space-y-5 animate-fade-in",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Scheduled Time *"}),i.jsx("div",{className:"md:hidden",children:i.jsx("input",{type:"datetime-local",value:b.scheduledTime?new Date(b.scheduledTime).toISOString().slice(0,16):"",onChange:S=>E({...b,scheduledTime:new Date(S.target.value).toISOString()}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",required:!0})}),i.jsx("div",{className:"hidden md:block custom-datepicker-wrapper w-full",children:i.jsx(K5,{selected:b.scheduledTime?new Date(b.scheduledTime):null,onChange:S=>E({...b,scheduledTime:S?S.toISOString():""}),showTimeSelect:!0,dateFormat:"MMMM d, yyyy h:mm aa",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",placeholderText:"Select date and time",wrapperClassName:"w-full",required:!0})})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>E({...b,recurring:!b.recurring}),children:[i.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center transition-all ${b.recurring?"bg-[#ffd700] border-[#ffd700]":"border-white/30"}`,children:b.recurring&&i.jsx(Hn,{className:"w-4 h-4 text-[#1a103c]"})}),i.jsx("label",{className:"text-white/90 text-base cursor-pointer select-none",children:"Make this schedule recurring"})]}),b.recurring&&i.jsxs("div",{className:"animate-fade-in",children:[i.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Frequency"}),i.jsx(Yt,{value:b.frequency,onChange:S=>E({...b,frequency:S}),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],placeholder:"Select frequency"})]}),i.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[i.jsxs("button",{type:"button",onClick:_,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[i.jsx(za,{className:"w-5 h-5"}),"Back"]}),i.jsxs("button",{type:"button",onClick:U,disabled:!b.scheduledTime,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",i.jsx(Ls,{className:"w-5 h-5"})]})]})]}),v===3&&i.jsxs("div",{className:"space-y-5 animate-fade-in",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[i.jsx(We,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),i.jsx(Yt,{value:b.selectedMusicId||"",onChange:S=>E({...b,selectedMusicId:S}),options:[{value:"",label:"None"},...o.map(S=>({value:S.id,label:S.name})),...u.map(S=>({value:S._id,label:S.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select background music"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[i.jsx(ve,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),i.jsx(Yt,{value:b.tonguesMode||"none",onChange:S=>E({...b,tonguesMode:S,selectedTongueSongId:S==="none"?"":b.selectedTongueSongId}),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(b.tonguesMode==="start"||b.tonguesMode==="perPoint")&&i.jsxs("div",{className:"animate-fade-in",children:[i.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Tongue Song"}),i.jsx(Yt,{value:b.selectedTongueSongId||"",onChange:S=>E({...b,selectedTongueSongId:S}),options:[{value:"",label:"None"},...l.map(S=>({value:S.id,label:S.name})),...f.map(S=>({value:S._id,label:S.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select tongue song"})]}),p&&i.jsx("div",{className:"border-t border-white/10 pt-5 mt-5",children:i.jsx(Vh,{scheduleId:p._id,userId:e,currentPoints:b.prayerPoints||[],onPointsChange:S=>E({...b,prayerPoints:S})})}),i.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[i.jsxs("button",{type:"button",onClick:_,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[i.jsx(za,{className:"w-5 h-5"}),"Back"]}),i.jsxs("button",{type:"button",onClick:U,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:["Next",i.jsx(Ls,{className:"w-5 h-5"})]})]})]}),v===4&&i.jsxs("div",{className:"space-y-5 animate-fade-in",children:[i.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[i.jsx("h4",{className:"text-lg font-bold text-white mb-4 font-serif",children:"Review Your Schedule"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Title"}),i.jsx("p",{className:"text-white font-medium text-lg",children:b.title})]}),b.description&&i.jsxs("div",{children:[i.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Description"}),i.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:b.description})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scheduled Time"}),i.jsxs("p",{className:"text-white font-medium text-base flex items-center gap-2",children:[i.jsx(qt,{className:"w-4 h-4 text-[#ffd700]"}),b.scheduledTime&&Cs(new Date(b.scheduledTime),"MMM d, yyyy h:mm a")]})]}),b.recurring&&i.jsxs("div",{children:[i.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Frequency"}),i.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs font-bold uppercase tracking-wider",children:b.frequency})]}),b.scripture&&i.jsxs("div",{children:[i.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scripture"}),i.jsxs("p",{className:"text-white/90 text-sm italic font-serif border-l-2 border-[#ffd700]/50 pl-3 py-1",children:['"',b.scripture,'"']})]}),b.selectedMusicId&&i.jsxs("div",{children:[i.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Music"}),i.jsx("p",{className:"text-white font-medium text-base",children:((xt=o.find(S=>S.id===b.selectedMusicId))==null?void 0:xt.name)||((H=u.find(S=>S._id===b.selectedMusicId))==null?void 0:H.fileName.replace(/\.[^/.]+$/,""))||"Selected"})]}),b.tonguesMode!=="none"&&i.jsxs("div",{children:[i.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Tongues Mode:"}),i.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:b.tonguesMode==="start"?"Start with Tongues":"Per Prayer Point"})]})]})]}),i.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[i.jsxs("button",{type:"button",onClick:_,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[i.jsx(za,{className:"w-5 h-5"}),"Back"]}),i.jsxs("button",{type:"submit",className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:[i.jsx(Hn,{className:"w-5 h-5"}),p?"Update Schedule":"Create Schedule"]})]})]})]})]})})}),N&&i.jsx("div",{className:"fixed inset-0 bg-[#1a103c]/95 backdrop-blur-md z-[300] flex items-center justify-center p-4 animate-fade-in",children:i.jsxs("div",{className:"glass-card w-full max-w-md p-6 md:p-8 rounded-3xl border border-white/10 bg-[#2d1b4e] shadow-2xl text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/10 flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(Ar,{className:"w-8 h-8 text-red-500"})}),i.jsx("h3",{className:"text-2xl font-bold text-white mb-2 font-serif",children:"Delete Schedule?"}),i.jsx("p",{className:"text-white/60 mb-8",children:"Are you sure you want to delete this prayer schedule? This action cannot be undone."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>{P(!1),C(null)},className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all font-medium",children:"Cancel"}),i.jsx("button",{onClick:ge,className:"flex-1 py-3 rounded-xl bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/20 transition-all font-bold",children:"Delete"})]})]})})]})}function J5(){return i.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0 animate-pulse",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-8 md:h-9 bg-white/10 rounded-lg w-48"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-64"})]})}),i.jsx("div",{className:"glass-strong p-6 md:p-8 lg:p-10 rounded-2xl md:rounded-3xl border border-white/20",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:i.jsx("div",{className:"h-8 bg-white/10 rounded-full w-40"})}),i.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 md:mb-8",children:[i.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-white/10"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-12 md:h-16 lg:h-20 bg-white/10 rounded-lg w-24 md:w-32"}),i.jsx("div",{className:"h-5 bg-white/5 rounded-lg w-32"})]})]}),i.jsxs("div",{className:"max-w-md mx-auto space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("div",{className:"h-4 bg-white/5 rounded w-32"}),i.jsx("div",{className:"h-4 bg-white/5 rounded w-16"})]}),i.jsx("div",{className:"h-3 bg-white/10 rounded-full"})]})]})}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Array.from({length:3}).map((e,t)=>i.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[i.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-white/10"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-white/5 rounded w-24"}),i.jsx("div",{className:"h-8 bg-white/10 rounded w-16"})]})]}),i.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:i.jsx("div",{className:"h-3 bg-white/5 rounded w-32"})})]},t))}),i.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5",children:[i.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-white/10 rounded"}),i.jsx("div",{className:"h-6 bg-white/10 rounded w-32"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),i.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"}),i.jsx("div",{className:"h-4 bg-white/5 rounded w-4/6"})]})]})]})}function Z5(){const{streak:e,isLoading:t}=sr();if(t||!e)return i.jsx(J5,{});const r=e.longestStreak>0?Math.round(e.currentStreak/e.longestStreak*100):0,s=(o=>o===0?{level:"Beginner",color:"from-indigo-400 to-indigo-600",icon:O1}:o<7?{level:"Rising",color:"from-indigo-500 to-purple-500",icon:bg}:o<30?{level:"Dedicated",color:"from-purple-500 to-pink-500",icon:w1}:o<100?{level:"Devoted",color:"from-amber-500 to-orange-600",icon:Xi}:{level:"Master",color:"from-amber-400 to-amber-600",icon:qa})(e.currentStreak),a=e.currentStreak===e.longestStreak&&e.currentStreak>0;return i.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-2 md:gap-3",children:[i.jsx(qa,{className:"w-6 h-6 md:w-8 md:h-8 text-amber-400"}),"Prayer Streak"]}),i.jsx("p",{className:"text-indigo-200/70 text-xs md:text-sm mt-1 font-light tracking-wide",children:"Track your consistent prayer journey"})]})}),i.jsxs("div",{className:"glass-card p-8 md:p-10 rounded-3xl border border-white/10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),e.currentStreak>0&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/10 via-purple-400/10 to-indigo-400/10 animate-pulse"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"flex items-center justify-center mb-8",children:i.jsxs("div",{className:`inline-flex items-center gap-2 px-6 py-2 rounded-full bg-gradient-to-r ${s.color} border border-white/20 shadow-lg shadow-amber-500/10`,children:[i.jsx(s.icon,{className:"w-5 h-5 text-white"}),i.jsxs("span",{className:"text-white font-bold text-sm tracking-wide uppercase",children:[s.level," Prayer Warrior"]})]})}),i.jsxs("div",{className:"text-center mb-10",children:[i.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-br ${s.color} flex items-center justify-center shadow-2xl shadow-amber-500/20 relative overflow-hidden ring-4 ring-white/10`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),i.jsx(qa,{className:`w-12 h-12 md:w-16 md:h-16 text-white relative z-10 ${e.currentStreak>0?"animate-pulse":""}`}),e.currentStreak>0&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/50 to-yellow-400/50 animate-pulse"})]}),e.currentStreak>0&&i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full animate-ping opacity-75"})]}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:`text-4xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r ${s.color} bg-clip-text text-transparent mb-1 drop-shadow-lg font-serif`,children:e.currentStreak}),i.jsx("p",{className:"text-indigo-200 text-sm md:text-lg font-medium uppercase tracking-wider md:tracking-widest",children:"Day Streak"})]})]}),a&&i.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-amber-500/10 border border-amber-400/30 mb-4 animate-pulse",children:[i.jsx(Xi,{className:"w-4 h-4 text-amber-400"}),i.jsx("span",{className:"text-amber-300 text-sm font-bold tracking-wide",children:"NEW PERSONAL BEST! "})]})]}),e.longestStreak>0&&i.jsxs("div",{className:"max-w-lg mx-auto bg-indigo-950/30 p-6 rounded-2xl border border-white/5 backdrop-blur-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-indigo-200/70 text-sm font-medium uppercase tracking-wider",children:"Progress to Record"}),i.jsxs("span",{className:"text-white font-bold text-sm",children:[r,"%  ",e.currentStreak," / ",e.longestStreak]})]}),i.jsx("div",{className:"relative w-full h-3 bg-indigo-950/50 rounded-full overflow-hidden border border-white/5",children:i.jsx("div",{className:`h-full bg-gradient-to-r ${s.color} rounded-full transition-all duration-1000 ease-out relative`,style:{width:`${r}%`},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:i.jsx(Xi,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Longest Streak"}),i.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.longestStreak})]})]}),i.jsx("div",{className:"pt-4 border-t border-white/5",children:i.jsx("p",{className:"text-indigo-200/40 text-xs",children:"Your all-time record"})})]}),i.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-purple-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:i.jsx(I1,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Total Prayers"}),i.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.totalPrayers})]})]}),i.jsx("div",{className:"pt-4 border-t border-white/5",children:i.jsx("p",{className:"text-indigo-200/40 text-xs",children:"All-time sessions completed"})})]}),i.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition-all duration-300 hover:-translate-y-1 group sm:col-span-2 lg:col-span-1",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:i.jsx(qt,{className:"w-7 h-7 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Last Prayer"}),i.jsx("div",{className:"text-xl md:text-2xl font-bold text-white font-serif truncate",children:e.lastPrayerDate?new Date(e.lastPrayerDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never"})]})]}),i.jsx("div",{className:"pt-4 border-t border-white/5",children:i.jsx("p",{className:"text-indigo-200/40 text-xs",children:e.lastPrayerDate?"Last session completed":"Start your journey today"})})]})]}),i.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[i.jsx(ve,{className:"w-6 h-6 text-amber-400"}),i.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Keep Going!"})]}),e.currentStreak===0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:"Start your prayer journey today! Complete your first prayer session to begin your streak and build a powerful habit of consistent prayer."}),i.jsxs("div",{className:"p-4 rounded-xl bg-indigo-500/10 border border-indigo-400/20 flex items-start gap-3",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("p",{className:"text-indigo-200 text-sm font-medium pt-0.5",children:"Tip: Set a daily reminder to help maintain your streak!"})]})]}),e.currentStreak>0&&e.currentStreak<7&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Great start! You're on a ",i.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak,"-day streak"]}),". Keep it up to build a strong habit! Every day counts."]}),i.jsxs("div",{className:"p-4 rounded-xl bg-purple-500/10 border border-purple-400/20 flex items-start gap-3",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("p",{className:"text-purple-200 text-sm font-medium pt-0.5",children:"You're building momentum! Consistency is key to spiritual growth."})]})]}),e.currentStreak>=7&&e.currentStreak<30&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Excellent! You've maintained your prayer habit for ",i.jsxs("span",{className:"font-bold text-purple-300",children:[e.currentStreak," days"]}),". You're building a strong foundation for your spiritual journey!"]}),i.jsxs("div",{className:"p-4 rounded-xl bg-pink-500/10 border border-pink-400/20 flex items-start gap-3",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("p",{className:"text-pink-200 text-sm font-medium pt-0.5",children:"You're developing a powerful prayer discipline. Keep going!"})]})]}),e.currentStreak>=30&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Amazing dedication! ",i.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak," days"]})," of consistent prayer is truly inspiring. You're demonstrating incredible commitment to your spiritual growth!"]}),i.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-400/20 flex items-start gap-3",children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("p",{className:"text-amber-200 text-sm font-medium pt-0.5",children:"You're a prayer warrior! Your consistency is transforming your spiritual life."})]})]}),a&&i.jsx("div",{className:"mt-6 p-5 rounded-xl bg-gradient-to-r from-amber-500/10 via-orange-500/10 to-red-500/10 border border-amber-400/30 animate-pulse",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xi,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),i.jsx("p",{className:"text-amber-200 font-bold text-base",children:"You're at your personal best! Keep pushing forward and break new records!"})]})})]})]})]})}function eD(){return i.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 animate-pulse",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 bg-white/10 rounded"}),i.jsx("div",{className:"h-6 bg-white/10 rounded-lg w-32"})]}),i.jsx("div",{className:"h-4 bg-white/5 rounded w-40"})]}),i.jsx("div",{className:"h-8 bg-white/10 rounded-full w-20"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-white/5 rounded w-full"}),i.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"})]})]})}function tD({count:e=5}){return i.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,r)=>i.jsx(eD,{},r))})}function rD({isOpen:e,onClose:t,onConfirm:r,entryDate:n}){return e?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-red-600 to-orange-600 flex items-center justify-center",children:i.jsx(Ku,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Delete History Entry"})]}),i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx(jr,{className:"w-5 h-5 text-white/70"})})]}),i.jsxs("div",{className:"mb-5 md:mb-6",children:[i.jsx("p",{className:"text-white/80 text-sm md:text-base leading-relaxed mb-3",children:"Are you sure you want to delete this prayer history entry?"}),n&&i.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-indigo-500/10 border border-indigo-400/20",children:i.jsx("p",{className:"text-indigo-300 text-sm md:text-base font-medium",children:n})}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-3",children:"This action cannot be undone."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),i.jsx("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:"Delete Entry"})]})]})}):null}function nD(){const{history:e,deleteHistory:t,isLoading:r}=sr(),[n,s]=k.useState(null),[a,o]=k.useState(!1),[l,c]=k.useState(null),d=g=>{c(g),o(!0)},u=async()=>{if(l){s(l._id);try{await t({id:l._id}),$.success("History entry deleted"),o(!1),c(null)}catch(g){console.error("Error deleting history:",g),$.error("Failed to delete history entry")}finally{s(null)}}},f=()=>{n||(o(!1),c(null))};if(r)return i.jsxs("div",{className:"space-y-6 w-full pb-20 md:pb-0",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-48 animate-pulse"}),i.jsx("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]})}),i.jsx(tD,{count:5})]});if(!e||e.length===0)return i.jsxs("div",{className:"space-y-6 w-full pb-20 md:pb-0",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[i.jsx(lt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),i.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),i.jsxs("div",{className:"glass-card p-16 rounded-2xl text-center border border-white/10",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:i.jsx(lt,{className:"w-10 h-10 text-indigo-300/30"})}),i.jsx("p",{className:"text-indigo-200/60 text-lg font-medium mb-2",children:"No prayer history yet"}),i.jsx("p",{className:"text-indigo-200/40 text-base",children:"Complete your first prayer session to see it here"})]})]});const h=e.length,m=Math.round(e.reduce((g,y)=>g+y.duration,0)/e.length),p=e.reduce((g,y)=>g+y.duration,0),x=e.filter(g=>g.prayerPoints&&g.prayerPoints.length>0).length;return i.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[i.jsx(lt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),i.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),i.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(bg,{className:"w-6 h-6 text-amber-400"}),i.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Your Prayer Journey"})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 to-amber-600 bg-clip-text text-transparent mb-2 font-serif",children:h}),i.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Sessions"})]}),i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2 font-serif",children:m}),i.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Avg Duration (min)"})]}),i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent mb-2 font-serif",children:p}),i.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Time (min)"})]}),i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent mb-2 font-serif",children:x}),i.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"With Prayer Points"})]})]})]})]}),i.jsx("div",{className:"space-y-6",children:e.map(g=>i.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 mb-5",children:[i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:i.jsx(qt,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1 font-serif",children:Cs(new Date(g.completedAt),"MMM d, yyyy")}),i.jsx("p",{className:"text-indigo-200/60 text-sm",children:c2(new Date(g.completedAt),{addSuffix:!0})})]})]})}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-500/10 border border-indigo-400/20",children:[i.jsx(Lr,{className:"w-4 h-4 text-indigo-300"}),i.jsxs("span",{className:"text-indigo-200 font-bold text-sm",children:[g.duration," min"]})]}),i.jsx("button",{onClick:()=>d(g),disabled:n===g._id,className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed opacity-0 group-hover:opacity-100",title:"Delete entry",children:n===g._id?i.jsx("div",{className:"w-5 h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):i.jsx(Ar,{className:"w-5 h-5"})})]})]}),g.prayerPoints&&g.prayerPoints.length>0&&i.jsxs("div",{className:"mb-5 p-5 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-400/20",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(ve,{className:"w-5 h-5 text-purple-400"}),i.jsxs("h4",{className:"text-white font-bold text-base",children:["Prayer Points (",g.prayerPoints.length,")"]})]}),i.jsx("ul",{className:"space-y-3",children:g.prayerPoints.map((y,v)=>i.jsxs("li",{className:"text-indigo-100 text-base flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:i.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:v+1})}),i.jsx("span",{className:"flex-1 leading-relaxed",children:y})]},v))})]}),g.notes&&i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(j1,{className:"w-4 h-4 text-indigo-400"}),i.jsx("h4",{className:"text-indigo-200 font-bold text-sm uppercase tracking-wider",children:"Notes"})]}),i.jsx("p",{className:"text-indigo-100 text-base whitespace-pre-wrap leading-relaxed",children:g.notes})]}),g.prayerScheduleId&&i.jsx("div",{className:"mt-4 pt-4 border-t border-white/5",children:i.jsxs("p",{className:"text-indigo-200/40 text-sm",children:[i.jsx("span",{className:"text-indigo-200/60",children:"From schedule:"})," ",g.prayerScheduleId]})})]})]},g._id))}),i.jsx(rD,{isOpen:a,onClose:f,onConfirm:u,entryDate:l?Cs(new Date(l.completedAt),"MMM d, yyyy"):null})]})}function sD(){return i.jsxs("li",{className:"flex items-start gap-3 md:gap-4 animate-pulse",children:[i.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500/30 to-purple-500/30 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-white/10 rounded-lg w-full"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-5/6"}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-4/6"})]}),i.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"})]})]})}function aD({count:e=5}){return i.jsx("ul",{className:"space-y-3 md:space-y-4",children:Array.from({length:e}).map((t,r)=>i.jsx(sD,{},r))})}function iD(){return i.jsxs("div",{className:"glass p-3 md:p-4 rounded-xl animate-pulse",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"h-5 bg-white/10 rounded-lg w-32"}),i.jsx("div",{className:"w-8 h-8 bg-white/10 rounded"})]}),i.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20 mb-3"}),i.jsx("div",{className:"h-9 bg-white/10 rounded-lg w-24"})]})}function oD({count:e=3}){return i.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,r)=>i.jsx(iD,{},r))})}function lD({text:e}){const[t,r]=k.useState(!1),n=e.length>150;return i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-indigo-100/90 text-sm md:text-base leading-relaxed break-words text-justify ${t?"":"line-clamp-2"}`,children:e}),n&&i.jsx("button",{onClick:s=>{s.stopPropagation(),r(!t)},className:"text-amber-400 hover:text-amber-300 text-xs font-medium mt-1 focus:outline-none",children:t?"Read Less":"Read More"})]})}function cD(){const{userId:e,schedules:t,updateSchedule:r,settings:n}=sr(),[s,a]=k.useState("ai"),[o,l]=k.useState(!1),[c,d]=k.useState([]),[u,f]=k.useState(null),[h,m]=k.useState(!1),[p,x]=k.useState(""),[g,y]=k.useState(""),[v,w]=k.useState(""),[N,P]=k.useState(5),[M,C]=k.useState([""]),[b,E]=k.useState({isValid:!0,message:"",parsed:null}),j=t.find(H=>H._id===g),D=Je(le.savedPrayerPoints.save),R=Ut(le.savedPrayerPoints.getByUser,e?{userId:e}:"skip"),O=R===void 0,W=Je(le.savedPrayerPoints.remove),q=H=>{if(!H||!H.trim())return{isValid:!0,message:"",parsed:null};const S=H.trim(),B=/^([1-3]?\s?[A-Za-z]+)\s+(\d+):(\d+)(?:-(\d+))?(?:\s*[-]\s*(.+))?$/i,ie=S.match(B);if(ie){const[,nt,ar,Ue,Rt,It]=ie,ze={book:nt.trim(),chapter:parseInt(ar),startVerse:parseInt(Ue),endVerse:parseInt(Rt||Ue),quote:It?It.trim():null,full:S};return ze.endVerse<ze.startVerse?{isValid:!1,message:"End verse cannot be less than start verse",parsed:null}:{isValid:!0,message:` ${ze.book} ${ze.chapter}:${ze.startVerse}${ze.endVerse>ze.startVerse?`-${ze.endVerse}`:""}`,parsed:ze}}return S.length>20&&!S.match(/\d+:\d+/)?{isValid:!0,message:" Scripture quote (no reference)",parsed:{quote:S,full:S}}:S.match(/[A-Za-z]+\s+\d+:/)?{isValid:!0,message:" Scripture reference detected",parsed:{full:S}}:{isValid:!0,message:" Custom scripture passage",parsed:{full:S}}};gg(),k.useEffect(()=>{j!=null&&j.scripture?(w(j.scripture),E(q(j.scripture))):(w(""),E({isValid:!0,message:"",parsed:null}))},[g,j]);const F=H=>{w(H),E(q(H))};k.useEffect(()=>{j!=null&&j.prayerPoints&&j.prayerPoints.length>0&&(d(j.prayerPoints),C(j.prayerPoints))},[g,j]);const U=async()=>{var B,ie,nt,ar,Ue,Rt;if(!g){$.error("Please select a prayer schedule");return}if(!j){$.error("Selected schedule not found");return}const H=typeof N=="number"?N:parseInt(N)||5,S=Math.max(1,Math.min(20,H));if(S<1||S>20){$.error("Number of points must be between 1 and 20");return}l(!0),d([]);try{const It="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ";let ze=`Generate exactly ${S} specific, meaningful prayer points for the prayer schedule: "${j.title}".`;j.description&&(ze+=`
Description: ${j.description}`);const ir=v.trim()||j.scripture||"";ir&&(ze+=`
Scripture Passage: ${ir}`),ze+=`

Format the response as a numbered list (1. 2. 3. etc.) with exactly ${S} prayer points, each on a new line. Make each point specific, actionable, and spiritually meaningful. Use the scripture passage as the foundation for the prayer points if provided.`;const _r=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${It}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:ze}]}]})});if(!_r.ok){const ee=await _r.json().catch(()=>({}));throw new Error(((B=ee.error)==null?void 0:B.message)||`API error: ${_r.status}`)}const Xr=((Rt=(Ue=(ar=(nt=(ie=(await _r.json()).candidates)==null?void 0:ie[0])==null?void 0:nt.content)==null?void 0:ar.parts)==null?void 0:Ue[0])==null?void 0:Rt.text)||"";if(!Xr)throw new Error("No response from AI");let dt=Xr.split(`
`).map(ee=>ee.trim()).filter(ee=>ee&&(ee.startsWith("-")||ee.startsWith("")||ee.match(/^\d+\./)||ee.match(/^[1-9]\./))).map(ee=>ee.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(ee=>ee.length>10&&ee.length<300).slice(0,S);if(dt.length===0&&(dt=Xr.split(/\n+/).map(ee=>ee.trim()).filter(ee=>ee.length>20&&ee.length<300).slice(0,S)),dt.length===0&&(dt=Xr.split(/[.!?]+/).map(ee=>ee.trim()).filter(ee=>ee.length>20&&ee.length<300).slice(0,S)),dt.length===0)dt=Array.from({length:S},(ee,la)=>`Prayer point ${la+1}: Pray for guidance and wisdom in this situation`);else{for(;dt.length<S;)dt.push("Pray for God's will to be done");dt=dt.slice(0,S)}if(d(dt),(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{await r({id:g,prayerPoints:dt,scripture:v.trim()||void 0}),$.success(`${S} Prayer points generated and saved!`)}catch(ee){console.error("Error saving to schedule:",ee),$.error("Prayer points generated but failed to save to schedule")}else $.success(`${S} Prayer points generated! (Auto-save disabled)`);try{await D({userId:e,title:`Generated: ${j.title}`,points:dt})}catch(ee){console.error("Error saving points to library:",ee)}}catch(It){console.error("Error generating prayer points:",It),$.error(`Failed to generate prayer points: ${It.message||"Please try again"}`);const ze=typeof N=="number"?N:parseInt(N)||5,ir=Math.max(1,Math.min(20,ze));d(Array.from({length:ir},(_r,oa)=>`Prayer point ${oa+1}: Pray for guidance and wisdom`))}finally{l(!1)}},_=async()=>{const H=s==="ai"?c:M.filter(S=>S.trim());if(H.length===0){$.error("No prayer points to save");return}if(!g){$.error("Please select a prayer schedule");return}try{await r({id:g,prayerPoints:H,scripture:v.trim()||void 0}),$.success("Prayer points saved to schedule!")}catch(S){console.error("Error saving to schedule:",S),$.error("Failed to save prayer points")}},L=H=>{const S=s==="ai"?c:M;f(H),x(S[H]||"")},A=async H=>{if(!p.trim()){$.error("Prayer point cannot be empty");return}let S;if(s==="ai"?(S=[...c],S[H]=p.trim(),d(S)):(S=[...M],S[H]=p.trim(),C(S)),f(null),x(""),$.success("Prayer point updated!"),g&&S.length>0&&(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{const B=s==="ai"?S:S.filter(ie=>ie.trim());await r({id:g,prayerPoints:B,scripture:v.trim()||void 0})}catch(B){console.error("Error auto-saving to schedule:",B)}},K=()=>{f(null),x("")},te=H=>{if(s==="ai"){const S=c.filter((B,ie)=>ie!==H);d(S)}else{const S=M.filter((B,ie)=>ie!==H);C(S)}$.success("Prayer point deleted!")},de=()=>{C([...M,""])},ge=(H,S)=>{const B=[...M];B[H]=S,C(B)},xe=H=>{if(M.length>1){const S=M.filter((B,ie)=>ie!==H);C(S)}else $.error("At least one prayer point is required")},Re=s==="ai"?c:M.filter(H=>H.trim()),xt=Re.length>0;return i.jsxs("div",{className:"space-y-6 md:space-y-8 w-full pb-20 md:pb-0",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight",children:"Prayer Points"}),i.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Generate spiritual prayer points for your schedules"})]})}),i.jsxs("div",{className:"flex p-1 bg-indigo-950/40 backdrop-blur-md rounded-xl border border-white/5 w-full md:w-auto self-start",children:[i.jsxs("button",{onClick:()=>a("ai"),className:`flex-1 md:flex-none px-3 md:px-6 py-2 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 ${s==="ai"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[i.jsx(ve,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${s==="ai"?"text-amber-300":""}`}),i.jsx("span",{className:"hidden sm:inline",children:"AI Generate"}),i.jsx("span",{className:"sm:hidden",children:"AI"})]}),i.jsxs("button",{onClick:()=>a("manual"),className:`flex-1 md:flex-none px-3 md:px-6 py-2 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 ${s==="manual"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[i.jsx(Dc,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${s==="manual"?"text-amber-300":""}`}),i.jsx("span",{className:"hidden sm:inline",children:"Manual Create"}),i.jsx("span",{className:"sm:hidden",children:"Manual"})]})]}),i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),i.jsxs("div",{className:"space-y-6 relative z-10",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-2 uppercase tracking-wider",children:["Select Prayer Schedule ",i.jsx("span",{className:"text-amber-400",children:"*"})]}),i.jsx(Yt,{value:g,onChange:y,options:[{value:"",label:"Choose a schedule..."},...t.filter(H=>!H.isCompleted).map(H=>({value:H._id,label:`${H.title} - ${new Date(H.scheduledTime).toLocaleDateString()}`}))],placeholder:"Choose a schedule..."}),j&&i.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-indigo-950/50 border border-indigo-500/20 flex items-start gap-3",children:[i.jsx("div",{className:"w-1 h-full min-h-[2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base",children:j.title}),j.description&&i.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-1",children:j.description})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-3 flex items-center gap-2 uppercase tracking-wider",children:[i.jsx(lt,{className:"w-4 h-4 text-amber-400"}),"Scripture Passage"]}),i.jsxs("div",{className:"relative group",children:[i.jsx("textarea",{value:v,onChange:H=>F(H.target.value),placeholder:`E.g., John 3:16 - For God so loved the world...
Or: John 3:4-16
Or: Psalm 23:1-6`,className:`w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none ${b.isValid&&b.message?"border-emerald-500/30 focus:border-emerald-500/50":""}`,rows:"3"}),v&&i.jsx("div",{className:"absolute top-3 right-3",children:b.isValid?i.jsx(As,{className:"w-5 h-5 text-emerald-400"}):i.jsx(Is,{className:"w-5 h-5 text-amber-400"})})]}),v&&i.jsx("div",{className:`mt-3 p-3 rounded-lg border transition-all ${b.isValid?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[b.isValid?i.jsx(As,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}):i.jsx(Is,{className:"w-4 h-4 text-amber-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`text-sm font-medium ${b.isValid?"text-emerald-300":"text-amber-300"}`,children:b.message||"Enter a scripture reference or passage"}),b.parsed&&b.parsed.book&&i.jsxs("div",{className:"mt-2 space-y-1 pl-1 border-l-2 border-white/5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[i.jsx("span",{className:"font-semibold text-indigo-200",children:"Book:"}),i.jsx("span",{children:b.parsed.book})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[i.jsx("span",{className:"font-semibold text-indigo-200",children:"Chapter:"}),i.jsx("span",{children:b.parsed.chapter})]}),b.parsed.startVerse&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[i.jsx("span",{className:"font-semibold text-indigo-200",children:"Verse:"}),i.jsxs("span",{children:[b.parsed.startVerse,b.parsed.endVerse>b.parsed.startVerse?` - ${b.parsed.endVerse}`:""]})]}),b.parsed.quote&&i.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:i.jsxs("p",{className:"text-xs text-indigo-200/80 italic font-serif",children:['"',b.parsed.quote,'"']})})]})]})]})}),i.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-500/5 border border-indigo-500/10",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(D1,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-indigo-200 text-[10px] md:text-xs font-medium mb-2",children:"Supported Formats:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[i.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),i.jsxs("span",{children:[i.jsx("strong",{children:"John 3:16"})," - Single verse"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[i.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),i.jsxs("span",{children:[i.jsx("strong",{children:"John 3:4-16"})," - Verse range"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[i.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),i.jsxs("span",{children:[i.jsx("strong",{children:"With Quote"}),' - "For God so loved..."']})]}),i.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[i.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),i.jsxs("span",{children:[i.jsx("strong",{children:"Custom"})," - Any text"]})]})]})]})]})})]}),s==="ai"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-indigo-200 text-sm font-medium mb-3 uppercase tracking-wider",children:"Number of Prayer Points"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{type:"button",onClick:()=>{const H=typeof N=="number"?N:parseInt(N)||5;P(Math.max(1,H-1))},disabled:(typeof N=="number"?N:parseInt(N)||5)<=1,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Decrease",children:i.jsx(C1,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})}),i.jsx("div",{className:"flex-1 relative",children:i.jsx("input",{type:"number",min:"1",max:"20",value:N,onChange:H=>{const S=H.target.value;if(S===""){P("");return}const B=parseInt(S);isNaN(B)||P(Math.max(1,Math.min(20,B)))},onBlur:H=>{const S=H.target.value;(S===""||isNaN(parseInt(S))||parseInt(S)<1)&&P(5)},className:"w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl py-3 text-center text-xl font-bold text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"5"})}),i.jsx("button",{type:"button",onClick:()=>{const H=typeof N=="number"?N:parseInt(N)||5;P(Math.min(20,H+1))},disabled:(typeof N=="number"?N:parseInt(N)||5)>=20,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Increase",children:i.jsx(ts,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})})]}),i.jsx("p",{className:"text-indigo-300/50 text-[10px] md:text-xs mt-2 text-center",children:"Enter a number between 1 and 20"})]}),s==="ai"&&i.jsx("button",{onClick:U,disabled:o||!g,className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-indigo-950 font-bold shadow-lg shadow-amber-500/20 hover:shadow-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-300 transform hover:-translate-y-0.5 border border-amber-400/20 flex items-center justify-center gap-2",children:o?i.jsxs(i.Fragment,{children:[i.jsx(rl,{className:"w-5 h-5 animate-spin"}),"Generating ",typeof N=="number"?N:parseInt(N)||5," Prayer Points..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ve,{className:"w-5 h-5"}),"Generate ",typeof N=="number"?N:parseInt(N)||5," Prayer Points"]})}),s==="ai"&&!g&&i.jsxs("p",{className:"text-amber-400/80 text-xs md:text-sm text-center flex items-center justify-center gap-2",children:[i.jsx(Is,{className:"w-4 h-4"}),"Please select a prayer schedule to generate prayer points"]})]})]}),s==="manual"&&i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(Dc,{className:"w-5 h-5 text-amber-400"}),"Create Prayer Points"]}),i.jsxs("button",{onClick:de,className:"px-4 py-2 rounded-lg bg-indigo-600/50 hover:bg-indigo-600/70 text-white text-sm font-medium transition-all border border-indigo-500/30 flex items-center gap-2",children:[i.jsx(ts,{className:"w-4 h-4"}),"Add Point"]})]}),i.jsx("div",{className:"space-y-4",children:M.map((H,S)=>i.jsxs("div",{className:"flex items-start gap-3 group",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-950/50 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 mt-1",children:i.jsx("span",{className:"text-indigo-300 text-sm font-bold font-serif",children:S+1})}),i.jsx("textarea",{value:H,onChange:B=>ge(S,B.target.value),placeholder:`Prayer point ${S+1}...`,className:"flex-1 bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"2"}),M.length>1&&i.jsx("button",{onClick:()=>xe(S),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 opacity-50 group-hover:opacity-100 transition-all flex-shrink-0",title:"Remove point",children:i.jsx(jr,{className:"w-5 h-5"})})]},S))})]}),o?i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(ve,{className:"w-5 h-5 text-amber-400"}),"Generating Prayer Points"]}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20",children:[i.jsx(rl,{className:"w-4 h-4 animate-spin text-amber-400"}),i.jsx("span",{className:"text-indigo-200 text-xs font-medium",children:"AI Processing..."})]})]}),i.jsx(aD,{count:typeof N=="number"?N:parseInt(N)||5})]}):xt&&i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(ve,{className:"w-5 h-5 text-amber-400"}),s==="ai"?"Generated":"Manual"," Prayer Points"]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:_,disabled:!g,className:"px-5 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-medium shadow-lg shadow-emerald-500/20 border border-emerald-400/20 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[i.jsx(fi,{className:"w-4 h-4"}),"Save to Schedule"]}),i.jsx("button",{onClick:()=>{s==="ai"?d([]):C([""])},className:"px-3 py-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all",title:"Clear all",children:i.jsx(Ar,{className:"w-4 h-4"})})]})]}),i.jsx("ul",{className:"space-y-4",children:Re.map((H,S)=>i.jsxs("li",{className:`group relative ${S>=3&&!h?"hidden md:block":""}`,children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsxs("div",{className:"relative flex items-start gap-4 p-4 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:i.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:S+1})}),u===S?i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("textarea",{value:p,onChange:B=>x(B.target.value),className:"w-full bg-indigo-950/50 border border-indigo-500/50 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"3",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2 justify-end",children:[i.jsx("button",{onClick:K,className:"px-3 py-1.5 rounded-lg text-indigo-200 hover:text-white hover:bg-white/5 text-sm transition-all",children:"Cancel"}),i.jsxs("button",{onClick:()=>A(S),className:"px-4 py-1.5 rounded-lg bg-amber-500 hover:bg-amber-400 text-indigo-950 text-sm font-bold flex items-center gap-1 transition-all",children:[i.jsx(Hn,{className:"w-3 h-3"}),"Save"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(lD,{text:H}),i.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("button",{onClick:()=>L(S),className:"p-2 rounded-lg hover:bg-indigo-500/20 text-indigo-300 hover:text-white transition-colors",title:"Edit point",children:i.jsx(Dc,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>te(S),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",title:"Delete point",children:i.jsx(Ar,{className:"w-4 h-4"})})]})]})]})]},S))}),Re.length>3&&i.jsx("button",{onClick:()=>m(!h),className:"w-full mt-4 py-3 flex items-center justify-center gap-2 text-indigo-200/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-xl transition-all md:hidden text-sm font-medium",children:h?i.jsxs(i.Fragment,{children:[i.jsx(k1,{className:"w-4 h-4"}),"Show Less"]}):i.jsxs(i.Fragment,{children:[i.jsx(Gu,{className:"w-4 h-4"}),"Show ",Re.length-3," More"]})})]}),O?i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Saved Prayer Points Library"}),i.jsx(oD,{count:3})]}):R&&R.length>0&&i.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[i.jsx(lt,{className:"w-5 h-5 text-amber-400"}),"Saved Prayer Points Library"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(H=>i.jsxs("div",{className:"glass p-5 rounded-xl border border-white/5 hover:border-white/10 transition-all group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate pr-2",children:H.title||"Saved Prayer Points"}),i.jsx("button",{onClick:async()=>{if(confirm("Delete this saved prayer point set?"))try{await W({id:H._id}),$.success("Deleted")}catch{$.error("Failed to delete")}},className:"p-1.5 rounded hover:bg-red-500/20 text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:i.jsx(Ar,{className:"w-4 h-4"})})]}),i.jsxs("p",{className:"text-indigo-200/60 text-sm mb-4",children:[H.points.length," points"]}),i.jsx("button",{onClick:()=>{s==="ai"?d(H.points||[]):C(H.points&&H.points.length>0?H.points:[""]),$.success("Prayer points loaded! You can edit and save them to your schedule.")},className:"w-full py-2 rounded-lg bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-200 hover:text-white text-sm font-medium border border-indigo-500/20 transition-all",children:"Load Points"})]},H._id))})]}),!o&&!xt&&!g&&i.jsxs("div",{className:"glass-card text-center py-16 md:py-20 rounded-2xl border border-white/5",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:i.jsx(ve,{className:"w-10 h-10 text-indigo-300/30"})}),i.jsxs("p",{className:"text-indigo-200/60 text-base font-medium",children:["No prayer points ",s==="ai"?"generated":"created"," yet"]}),i.jsx("p",{className:"text-indigo-200/40 text-sm mt-2 max-w-md mx-auto",children:s==="ai"?'Select a prayer schedule above and click "Generate Prayer Points" to get started with AI-powered spiritual guidance.':"Select a prayer schedule and start creating your personalized prayer points manually."})]})]})}function dD({currentChant:e,isPlaying:t,volume:r,currentTime:n,duration:s,formatTime:a,setVolume:o,toggleChant:l,stopChant:c,audioRef:d,setCurrentTime:u}){if(!e)return null;const[f,h]=k.useState(null),m=f!==null?f:n,p=s>0?m/s*100:0;return i.jsx("div",{className:"glass-strong rounded-xl md:rounded-2xl border border-white/20 overflow-hidden shadow-2xl",children:i.jsxs("div",{className:"p-2 md:p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[i.jsxs("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),i.jsx(We,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"}),t&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/30 to-purple-400/30 animate-pulse"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("h3",{className:"text-xs md:text-sm font-bold text-white truncate",children:e.name||"Custom Chant"}),i.jsx("button",{onClick:c,className:"p-1 rounded-lg hover:bg-red-600/20 text-red-400 hover:text-red-300 transition-colors flex-shrink-0",title:"Stop and Close",children:i.jsx(jr,{className:"w-3 h-3 md:w-3.5 md:h-3.5"})})]}),i.jsxs("p",{className:"text-white/60 text-[10px] md:text-xs",children:[a(n)," / ",a(s)]})]})]}),i.jsx("div",{className:"mb-2",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-1 md:h-1.5 bg-white/10 rounded-full overflow-visible",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),i.jsx("input",{type:"range",min:"0",max:s||0,step:"0.1",value:m||0,onChange:x=>{const g=parseFloat(x.target.value);h(g),d.current&&(d.current.currentTime=g),typeof u=="function"&&u(g)},onMouseUp:()=>h(null),onTouchEnd:()=>h(null),className:"absolute inset-0 w-full h-1 md:h-1.5 opacity-0 cursor-pointer z-10",style:{background:"transparent",WebkitAppearance:"none",appearance:"none"}}),i.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 md:w-3.5 md:h-3.5 bg-white rounded-full shadow-lg border-2 border-indigo-500 cursor-grab active:cursor-grabbing hover:scale-125 transition-transform z-20 pointer-events-none",style:{left:`calc(${Math.max(0,Math.min(100,p))}% - ${p>0&&p<100?"6px":p>=100?"7px":"0px"})`,transform:"translateY(-50%)"}})]})}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("button",{onClick:l,className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center hover:scale-110 transition-transform shadow-lg relative overflow-hidden group flex-shrink-0",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),t?i.jsx(wn,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"}):i.jsx(Dn,{className:"w-4 h-4 md:w-5 md:h-5 text-white ml-0.5 relative z-10"}),t&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/50 to-purple-400/50 animate-pulse"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[i.jsx("button",{onClick:()=>o(r===0?.7:0),className:"p-1 rounded-lg bg-white/10 hover:bg-white/20 transition-colors flex-shrink-0",children:r===0?i.jsx(L1,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-white"}):i.jsx(kg,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0 relative",children:[i.jsx("div",{className:"h-1 bg-white/10 rounded-full",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all",style:{width:`${r*100}%`}})}),i.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r,onChange:x=>o(parseFloat(x.target.value)),className:"absolute inset-0 w-full h-1 opacity-0 cursor-pointer"})]}),i.jsxs("span",{className:"text-white/80 text-[10px] md:text-xs w-7 md:w-8 text-right flex-shrink-0",children:[Math.round(r*100),"%"]})]})]})]})})}function uD(){return i.jsxs("div",{className:"glass-strong p-4 md:p-5 rounded-xl border border-white/20 animate-pulse",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-indigo-600/30 to-purple-600/30 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[i.jsx("div",{className:"h-4 md:h-5 bg-white/10 rounded-lg w-3/4"}),i.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-1/2"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-20"}),i.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-16"})]})]})}function fx({count:e=6}){return i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:Array.from({length:e}).map((t,r)=>i.jsx(uD,{},r))})}function hx({isOpen:e,onClose:t,onConfirm:r,musicName:n,musicType:s}){return e?i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:i.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx(Ku,{className:"w-5 h-5 md:w-6 md:h-6 text-red-400"})}),i.jsx("div",{children:i.jsxs("h3",{className:"text-base md:text-lg font-bold text-white font-serif",children:["Delete ",s,"?"]})})]}),i.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-1",children:i.jsx(jr,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"mb-5 md:mb-6",children:i.jsxs("div",{className:"flex items-start gap-3 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10",children:[i.jsx(We,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-white/90 text-sm md:text-base font-medium break-words",children:n}),i.jsx("p",{className:"text-white/50 text-xs md:text-sm mt-1",children:"This action cannot be undone"})]})]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),i.jsxs("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:["Delete ",s]})]})]})}):null}function fD({chants:e,chantUploads:t,currentChant:r,isPlaying:n,playChant:s,stopChant:a,toggleChant:o,deleteUpload:l,isLoading:c}){const[d,u]=k.useState(!1),[f,h]=k.useState(null),m=[...e.map(p=>({...p,isDefault:!0})),...(t||[]).map(p=>({id:p._id,name:p.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:p.imageKitUrl,fileSize:p.fileSize,fileType:p.fileType,isDefault:!1,upload:p}))];return c?i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(We,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),i.jsx(fx,{count:6})]})}):m.length===0?i.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:i.jsx(We,{className:"w-10 h-10 text-indigo-300/30"})}),i.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No chants available"}),i.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first chant to get started"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-8",children:[e.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[i.jsx(We,{className:"w-5 h-5 text-amber-400"}),"Default Chants"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(p=>i.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===p.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===p.id?o():s(p.id)},children:[(r==null?void 0:r.id)===p.id&&i.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),i.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===p.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:i.jsx(We,{className:`w-6 h-6 ${(r==null?void 0:r.id)===p.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),i.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[i.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===p.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:p.name}),i.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(p.duration/60),":",String(p.duration%60).padStart(2,"0")]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===p.id&&n?i.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):i.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===p.id?i.jsxs("button",{onClick:x=>{x.stopPropagation(),a()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[i.jsx(wn,{className:"w-3 h-3 fill-current"}),"Stop"]}):i.jsxs("button",{onClick:x=>{x.stopPropagation(),s(p.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[i.jsx(Dn,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},p.id))})]}),t.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>{const x={id:p._id,name:p.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:p.imageKitUrl,size:p.fileSize,type:p.fileType};return i.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===x.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===x.id)o();else{const g=p.imageKitUrl;if(!g){$.error("File URL not available. Please check your upload.");return}s(x.id,g,x.name)}},children:[(r==null?void 0:r.id)===x.id&&i.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),i.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===x.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:i.jsx(Ks,{className:`w-6 h-6 ${(r==null?void 0:r.id)===x.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),i.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[i.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===x.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:x.name}),i.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(p.fileSize/1024/1024).toFixed(2)," MB  ",p.fileType]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===x.id&&n?i.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):i.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),i.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===x.id?i.jsxs("button",{onClick:g=>{g.stopPropagation(),a()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[i.jsx(wn,{className:"w-3 h-3 fill-current"}),"Stop"]}):i.jsxs("button",{onClick:async g=>{g.stopPropagation();const y=p.imageKitUrl;if(!y){$.error("File URL not available. Please check your upload.");return}s(x.id,y,x.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[i.jsx(Dn,{className:"w-3 h-3 fill-current"}),"Play"]}),i.jsx("button",{onClick:g=>{g.stopPropagation(),h({name:x.name,id:p._id}),u(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:i.jsx(Ar,{className:"w-4 h-4"})})]})]})]},p._id)})})]})]}),i.jsx(hx,{isOpen:d,onClose:()=>{u(!1),h(null)},onConfirm:async()=>{if(f)try{await l({id:f.id}),$.success("Chant deleted"),u(!1),h(null)}catch(p){$.error("Failed to delete chant"),console.error(p)}},musicName:(f==null?void 0:f.name)||"",musicType:"Chant"})]})}function hD({tongueSongs:e,tongueUploads:t,currentChant:r,isPlaying:n,playTongueSong:s,stopChant:a,toggleChant:o,deleteUpload:l,isLoading:c}){const[d,u]=k.useState(!1),[f,h]=k.useState(null),m=[...e.map(p=>({...p,isDefault:!0})),...(t||[]).map(p=>({id:p._id,name:p.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:p.imageKitUrl,fileSize:p.fileSize,fileType:p.fileType,isDefault:!1,upload:p}))];return c?i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(We,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),i.jsx(fx,{count:6})]})}):m.length===0?i.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:i.jsx(We,{className:"w-10 h-10 text-indigo-300/30"})}),i.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No tongue songs available"}),i.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first tongue song to get started"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-8",children:[e.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[i.jsx(We,{className:"w-5 h-5 text-amber-400"}),"Default Tongue Songs"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(p=>i.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===p.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===p.id?o():s(p.id)},children:[(r==null?void 0:r.id)===p.id&&i.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),i.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===p.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:i.jsx(We,{className:`w-6 h-6 ${(r==null?void 0:r.id)===p.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),i.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[i.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===p.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:p.name}),i.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(p.duration/60),":",String(p.duration%60).padStart(2,"0")]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===p.id&&n?i.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):i.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===p.id?i.jsxs("button",{onClick:x=>{x.stopPropagation(),a()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[i.jsx(wn,{className:"w-3 h-3 fill-current"}),"Stop"]}):i.jsxs("button",{onClick:x=>{x.stopPropagation(),s(p.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[i.jsx(Dn,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},p.id))})]}),t.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(p=>{const x={id:p._id,name:p.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:p.imageKitUrl,size:p.fileSize,type:p.fileType};return i.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===x.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===x.id)o();else{const g=p.imageKitUrl;if(!g){$.error("File URL not available. Please check your upload.");return}s(x.id,g,x.name)}},children:[(r==null?void 0:r.id)===x.id&&i.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),i.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===x.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:i.jsx(Ks,{className:`w-6 h-6 ${(r==null?void 0:r.id)===x.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),i.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[i.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===x.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:x.name}),i.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(p.fileSize/1024/1024).toFixed(2)," MB  ",p.fileType]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===x.id&&n?i.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):i.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),i.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===x.id?i.jsxs("button",{onClick:g=>{g.stopPropagation(),a()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[i.jsx(wn,{className:"w-3 h-3 fill-current"}),"Stop"]}):i.jsxs("button",{onClick:async g=>{g.stopPropagation();const y=p.imageKitUrl;if(!y){$.error("File URL not available. Please check your upload.");return}s(x.id,y,x.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[i.jsx(Dn,{className:"w-3 h-3 fill-current"}),"Play"]}),i.jsx("button",{onClick:g=>{g.stopPropagation(),h({name:x.name,id:p._id}),u(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:i.jsx(Ar,{className:"w-4 h-4"})})]})]})]},p._id)})})]})]}),i.jsx(hx,{isOpen:d,onClose:()=>{u(!1),h(null)},onConfirm:async()=>{if(f)try{await l({id:f.id}),$.success("Tongue song deleted"),u(!1),h(null)}catch(p){$.error("Failed to delete tongue song"),console.error(p)}},musicName:(f==null?void 0:f.name)||"",musicType:"Tongue Song"})]})}function Mm({uploadType:e,userId:t,convex:r,createUpload:n,addCustomChant:s,addCustomTongueSong:a,api:o}){const[l,c]=k.useState(!1),[d,u]=k.useState(null),f=e==="chant",h=f?"Chant":"Tongue Song",m=f?"/audio/chant/":"/audio/tongue/",p=k.useRef(null),[x,g]=k.useState(null),[y,v]=k.useState(0),w=M=>{var j;const C=(j=M.target.files)==null?void 0:j[0];if(!C)return;const b=["audio/mpeg","audio/wav","audio/ogg","audio/mp3"],E=/\.(mp3|wav|ogg)$/i;if(!b.includes(C.type)&&!E.test(C.name)){$.error("Invalid file type. Please upload MP3, WAV, or OGG files.");return}if(C.size>500*1024*1024){$.error("File size too large. Maximum size is 500MB.");return}g(C)},N=async()=>{if(!x)return;const M=x;c(!0),v(10);try{const C=await r.query(o.imagekit.getUploadToken,{fileName:M.name,uploadType:e});if(!C)throw new Error("Failed to get upload token");const b=new FormData;b.append("file",M),b.append("fileName",M.name),b.append("folder",m),b.append("publicKey",C.publicKey),b.append("signature",C.signature),b.append("expire",C.expire.toString()),b.append("token",C.token);const j=await(O=>new Promise((W,q)=>{const F=new XMLHttpRequest;F.open("POST","https://upload.imagekit.io/api/v1/files/upload"),F.upload.onprogress=U=>{if(U.lengthComputable){const _=U.loaded/U.total*100;v(Math.round(_))}},F.onload=()=>{F.status>=200&&F.status<300?W(JSON.parse(F.responseText)):q(new Error(`ImageKit upload failed: ${F.responseText}`))},F.onerror=()=>{q(new Error("ImageKit upload failed due to network error"))},F.send(O)}))(b),D=await n({userId:t,fileName:M.name,fileType:M.type,fileSize:M.size,imageKitUrl:j.url,imageKitFileId:j.fileId,uploadType:e}),R={_id:D,id:D,name:M.name.replace(/\.[^/.]+$/,""),storageId:null,url:j.url,size:M.size,type:M.type,uploadedAt:new Date().toISOString()};f?s(R):a(R),v(100),u(R),g(null),p.current&&(p.current.value=""),$.success(`"${R.name}" uploaded successfully!`),setTimeout(()=>{v(0)},1e3)}catch(C){console.error("Upload error:",C),$.error(`Failed to upload file: ${C.message||"Please try again"}`),v(0)}finally{c(!1)}},P=()=>{g(null),p.current&&(p.current.value="")};return i.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[i.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[i.jsx(Ks,{className:`w-5 h-5 ${f?"text-indigo-400":"text-purple-400"}`}),"Upload Custom ",h]}),i.jsxs("p",{className:"text-white/60 text-xs md:text-sm mb-4",children:["Upload your own ",h.toLowerCase()," audio files (MP3, WAV, OGG - Max 500MB)"]}),i.jsxs("div",{className:"space-y-4",children:[!x&&!l&&i.jsx("label",{className:"block",children:i.jsxs("div",{className:"glass-card p-8 md:p-12 rounded-xl border-2 border-dashed border-white/20 hover:border-indigo-400/50 transition-all cursor-pointer group",children:[i.jsx("input",{ref:p,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/*",className:"hidden",onChange:w}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-600/20 to-purple-600/20 flex items-center justify-center group-hover:from-indigo-600/30 group-hover:to-purple-600/30 transition-all",children:i.jsx(S1,{className:`w-8 h-8 md:w-10 md:h-10 ${f?"text-indigo-400":"text-purple-400"}`})}),i.jsx("p",{className:"text-white font-medium text-sm md:text-base mb-2",children:"Click to select audio file"}),i.jsx("p",{className:"text-white/50 text-xs md:text-sm",children:"MP3, WAV, or OGG  Max 500MB"})]})]})}),x&&!l&&i.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-lg bg-gradient-to-br ${f?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} flex items-center justify-center flex-shrink-0`,children:i.jsx(We,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate mb-1",children:x.name}),i.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(x.size/1024/1024).toFixed(2)," MB"]})]}),i.jsx("button",{onClick:P,className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400 flex-shrink-0",children:i.jsx(jr,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),i.jsxs("button",{onClick:N,className:`w-full mt-4 py-3 rounded-xl bg-gradient-to-r ${f?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} hover:opacity-90 transition-opacity text-white font-semibold text-sm md:text-base shadow-lg`,children:[i.jsx(Ks,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"Upload ",h]})]}),l&&i.jsxs("div",{className:`p-4 md:p-5 rounded-xl ${f?"bg-indigo-500/10 border-indigo-400/20":"bg-purple-500/10 border-purple-400/20"} border`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:`w-5 h-5 border-2 ${f?"border-indigo-400":"border-purple-400"} border-t-transparent rounded-full animate-spin`}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:"Uploading..."}),i.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.round(y),"%"]})]})]}),i.jsx("div",{className:"w-full h-2.5 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full bg-gradient-to-r ${f?"from-indigo-500 to-purple-500":"from-purple-500 to-pink-500"} rounded-full transition-all duration-300 relative`,style:{width:`${y}%`},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),d&&i.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-green-500/10 border border-green-400/30",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(As,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-green-300 text-sm font-medium",children:[" Uploaded: ",d.name]}),i.jsx("p",{className:"text-green-400/60 text-xs mt-1",children:"File is stored and ready to use"})]})]})})]})]})}function mD(){const{userId:e}=sr(),{chants:t,tongueSongs:r,currentChant:n,isPlaying:s,volume:a,currentTime:o,duration:l,formatTime:c,setVolume:d,setCurrentTime:u,playChant:f,playTongueSong:h,stopChant:m,toggleChant:p,addCustomChant:x,addCustomTongueSong:g,audioRef:y}=Al(),v=Bu(),w=Je(le.uploads.create),N=Je(le.uploads.remove),P=Ut(le.uploads.getByUser,e?{userId:e}:"skip"),M=P===void 0,C=(P||[]).filter(D=>!D.uploadType||D.uploadType==="chant"),b=(P||[]).filter(D=>D.uploadType==="tongue"),[E,j]=k.useState("chants");return k.useEffect(()=>{C&&C.length>0&&C.forEach(D=>{const R={_id:D._id,id:D._id,name:D.fileName.replace(/\.[^/.]+$/,""),storageId:D.storageId,url:D.imageKitUrl||null,size:D.fileSize,type:D.fileType,uploadedAt:D.uploadedAt||new Date().toISOString()};x(R)}),b&&b.length>0&&b.forEach(D=>{const R={_id:D._id,id:D._id,name:D.fileName.replace(/\.[^/.]+$/,""),storageId:D.storageId,url:D.imageKitUrl||null,size:D.fileSize,type:D.fileType,uploadedAt:D.uploadedAt||new Date().toISOString()};g(R)})},[C.length,b.length]),i.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-20 md:pb-0",children:[i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:i.jsxs("div",{children:[i.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[i.jsx(We,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Music Library"]}),i.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Manage your chants and tongue songs"})]})}),n&&i.jsx("div",{className:"sticky top-[60px] md:top-[72px] z-[40] mb-4",children:i.jsx(dD,{currentChant:n,isPlaying:s,volume:a,currentTime:o,duration:l,formatTime:c,setVolume:d,toggleChant:p,stopChant:m,audioRef:y,setCurrentTime:u})}),i.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[i.jsxs("button",{onClick:()=>j("chants"),className:`px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm font-medium transition-all relative ${E==="chants"?"text-white":"text-white/60 hover:text-white/80"}`,children:[i.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2",children:[i.jsx(We,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),"Chants",t.length+C.length>0&&i.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-indigo-600/30 text-indigo-300 text-[10px] md:text-xs",children:t.length+C.length})]}),E==="chants"&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]}),i.jsxs("button",{onClick:()=>j("tongue"),className:`px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm font-medium transition-all relative ${E==="tongue"?"text-white":"text-white/60 hover:text-white/80"}`,children:[i.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2",children:[i.jsx(ve,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),"Tongue Songs",r.length+b.length>0&&i.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-purple-600/30 text-purple-300 text-[10px] md:text-xs",children:r.length+b.length})]}),E==="tongue"&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),E==="chants"&&i.jsxs("div",{className:"space-y-4 md:space-y-6",children:[i.jsx(fD,{chants:t,chantUploads:C,currentChant:n,isPlaying:s,playChant:f,stopChant:m,toggleChant:p,deleteUpload:N,isLoading:M}),i.jsx(Mm,{uploadType:"chant",userId:e,convex:v,createUpload:w,addCustomChant:x,api:le})]}),E==="tongue"&&i.jsxs("div",{className:"space-y-4 md:space-y-6",children:[i.jsx(hD,{tongueSongs:r,tongueUploads:b,currentChant:n,isPlaying:s,playTongueSong:h,stopChant:m,toggleChant:p,deleteUpload:N,isLoading:M}),i.jsx(Mm,{uploadType:"tongue",userId:e,convex:v,createUpload:w,addCustomTongueSong:g,api:le})]})]})}function pD({isOpen:e,onClose:t,userId:r}){const[n,s]=k.useState(""),[a,o]=k.useState(""),[l,c]=k.useState(!1),d=Je(le.prayerNotes.create);if(!e)return null;const u=async()=>{if(!n.trim()){$.error("Please write something first");return}c(!0);try{await d({userId:r,content:a?`${a}

${n}`:n,noteType:"custom"}),$.success("Custom note saved!"),s(""),o(""),t()}catch(f){console.error("Failed to save note:",f),$.error("Failed to save note")}finally{c(!1)}};return i.jsx("div",{className:"fixed inset-0 z-[350] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"w-full max-w-lg bg-[#2d1b4e] border border-white/10 rounded-3xl shadow-2xl overflow-hidden animate-scale-up",children:[i.jsxs("div",{className:"bg-[#1a103c] p-4 flex items-center justify-between border-b border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-blue-500/10",children:i.jsx(Yd,{className:"w-5 h-5 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-white font-bold text-lg font-serif",children:"Custom Note"}),i.jsx("p",{className:"text-white/40 text-xs",children:"Write your personal thoughts"})]})]}),i.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 text-white/60 hover:text-white transition-colors",children:i.jsx(jr,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider mb-2",children:"Title (Optional)"}),i.jsx("input",{type:"text",value:a,onChange:f=>o(f.target.value),placeholder:"Give your note a title...",className:"w-full bg-[#1a103c]/50 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:bg-[#1a103c] transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider mb-2",children:"Content"}),i.jsx("textarea",{value:n,onChange:f=>s(f.target.value),placeholder:"Write your thoughts, ideas, or insights...",className:"w-full h-48 bg-[#1a103c]/50 border border-white/10 rounded-xl p-4 text-white placeholder-white/30 focus:outline-none focus:border-blue-500/50 focus:bg-[#1a103c] transition-all resize-none font-serif text-lg leading-relaxed",autoFocus:!0})]})]}),i.jsxs("div",{className:"p-4 bg-[#1a103c]/50 border-t border-white/10 flex justify-end gap-3",children:[i.jsx("button",{onClick:t,className:"px-4 py-2 rounded-xl text-white/60 hover:text-white hover:bg-white/5 transition-all font-medium text-sm",children:"Cancel"}),i.jsx("button",{onClick:u,disabled:l,className:"px-6 py-2 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold text-sm shadow-lg hover:shadow-blue-500/20 hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?i.jsx("span",{className:"animate-pulse",children:"Saving..."}):i.jsxs(i.Fragment,{children:[i.jsx(fi,{className:"w-4 h-4"}),"Save Note"]})})]})]})})}function gD(){return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(e=>i.jsxs("div",{className:"bg-[#1a103c]/50 border border-white/10 rounded-2xl p-6 animate-pulse",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-white/10 rounded-full"}),i.jsx("div",{className:"h-3 bg-white/10 rounded w-32"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 bg-white/10 rounded w-3/4"}),i.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),i.jsx("div",{className:"h-4 bg-white/10 rounded w-5/6"})]})]},e))})}function xD({userId:e}){const t=Ut(le.prayerNotes.getByUser,{userId:e}),r=Je(le.prayerNotes.deleteNote),[n,s]=k.useState(""),[a,o]=k.useState(null),[l,c]=k.useState(!1),[d,u]=k.useState("divine"),f=t===void 0,h=(t||[]).filter(x=>{const g=x.content.toLowerCase().includes(n.toLowerCase())||x.prayerPoint&&x.prayerPoint.toLowerCase().includes(n.toLowerCase()),y=!x.noteType||x.noteType==="prayer";return g&&(d==="divine"?y:!y)}),m=async x=>{try{await r({id:x}),$.success("Note deleted"),o(null)}catch{$.error("Failed to delete note")}},p=x=>new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 md:p-6 space-y-8 animate-fade-in pb-24",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"text-center md:text-left",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:"Spiritual Journal"}),i.jsx("p",{className:"text-white/60 text-sm",children:"Your collection of Divine Revelations and personal notes"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"px-4 md:px-6 py-2 md:py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2 text-sm md:text-base",children:[i.jsx(ts,{className:"w-4 h-4 md:w-5 md:h-5"}),i.jsx("span",{children:"Add Note"})]})]}),i.jsxs("div",{className:"flex items-center justify-center gap-1 md:gap-4 bg-white/5 backdrop-blur-sm rounded-2xl p-1 border border-white/10",children:[i.jsxs("button",{onClick:()=>u("divine"),className:`flex-1 md:flex-none md:px-8 py-2 md:py-3 px-2 rounded-xl font-bold text-xs md:text-base transition-all flex items-center justify-center gap-1 md:gap-2 ${d==="divine"?"bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] shadow-lg":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[i.jsx(ve,{className:"w-3 h-3 md:w-4 md:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Divine Revelations"}),i.jsx("span",{className:"sm:hidden",children:"Divine"})]}),i.jsxs("button",{onClick:()=>u("personal"),className:`flex-1 md:flex-none md:px-8 py-2 md:py-3 px-2 rounded-xl font-bold text-xs md:text-base transition-all flex items-center justify-center gap-1 md:gap-2 ${d==="personal"?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[i.jsx(Yd,{className:"w-3 h-3 md:w-4 md:h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Personal Journal"}),i.jsx("span",{className:"sm:hidden",children:"Personal"})]})]}),i.jsxs("div",{className:"relative max-w-md mx-auto",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(E1,{className:"h-5 w-5 text-white/40"})}),i.jsx("input",{type:"text",value:n,onChange:x=>s(x.target.value),placeholder:"Search your revelations...",className:"block w-full pl-10 pr-3 py-3 border border-white/10 rounded-xl leading-5 bg-white/5 text-white placeholder-white/30 focus:outline-none focus:bg-white/10 focus:border-[#ffd700]/50 transition-all"})]}),f?i.jsx(gD,{}):t.length===0?i.jsxs("div",{className:"text-center py-20 bg-white/5 rounded-3xl border border-white/10",children:[i.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(yg,{className:"w-10 h-10 text-white/20"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Notes Yet"}),i.jsx("p",{className:"text-white/40 max-w-md mx-auto mb-6 text-sm px-4",children:'Start a prayer session and use the "Note" button to capture divine revelations, or click "Add Note" to write a custom note.'}),i.jsxs("button",{onClick:()=>c(!0),className:"px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all inline-flex items-center gap-2",children:[i.jsx(ts,{className:"w-5 h-5"}),"Add Your First Note"]})]}):h.length===0?i.jsx("div",{className:"text-center py-20",children:i.jsxs("p",{className:"text-white/40",children:['No notes found matching "',n,'"']})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map(x=>{const g=!x.noteType||x.noteType==="prayer";return i.jsxs("div",{className:`group relative backdrop-blur-sm border rounded-2xl p-6 hover:-translate-y-1 shadow-lg transition-all duration-300 ${g?"bg-[#1a103c]/50 border-white/10 hover:bg-[#1a103c]/80 hover:border-[#ffd700]/30 hover:shadow-[#ffd700]/10":"bg-blue-950/30 border-blue-500/20 hover:bg-blue-950/50 hover:border-blue-500/40 hover:shadow-blue-500/10"}`,children:[i.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:i.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider ${g?"bg-[#ffd700]/10 text-[#ffd700]":"bg-blue-500/10 text-blue-400"}`,children:[g?i.jsx(ve,{className:"w-3 h-3"}):i.jsx(Yd,{className:"w-3 h-3"}),g?"Divine":"Custom"]})}),i.jsxs("div",{className:`flex items-center gap-2 text-xs font-medium uppercase tracking-wider mb-4 ${g?"text-[#ffd700]/60":"text-blue-400/60"}`,children:[i.jsx(qt,{className:"w-3 h-3"}),p(x.createdAt)]}),g&&x.prayerPoint&&i.jsxs("div",{className:"mb-4 p-3 rounded-xl bg-white/5 border border-white/5 group-hover:border-white/10 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white/40 text-[10px] uppercase tracking-wider mb-1",children:[i.jsx(lt,{className:"w-3 h-3"}),"Prayer Point"]}),i.jsxs("p",{className:"text-white/80 text-sm italic line-clamp-2",children:['"',x.prayerPoint,'"']})]}),i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx("p",{className:"text-white/90 text-base md:text-lg font-serif leading-relaxed whitespace-pre-wrap line-clamp-6",children:x.content})}),i.jsx("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("button",{onClick:()=>o(x._id),className:"p-2 rounded-full hover:bg-red-500/20 text-white/20 hover:text-red-400 transition-colors",title:"Delete Note",children:i.jsx(Ar,{className:"w-4 h-4"})})})]},x._id)})}),a&&i.jsx("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-[#1a103c] border border-white/10 rounded-2xl p-6 max-w-sm w-full shadow-2xl animate-scale-up",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Note?"}),i.jsx("p",{className:"text-white/60 mb-6",children:"This action cannot be undone."}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>o(null),className:"px-4 py-2 rounded-lg text-white/60 hover:text-white hover:bg-white/5 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:()=>m(a),className:"px-4 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors font-medium",children:"Delete"})]})]})}),i.jsx(pD,{isOpen:l,onClose:()=>c(!1),userId:e})]})}function vD(){const{userId:e,settings:t,updateSettings:r}=sr(),{chants:n,tongueSongs:s,setVolume:a}=Al(),o=Ut(le.uploads.getByUser,e?{userId:e}:"skip"),l=(o||[]).filter(D=>!D.uploadType||D.uploadType==="chant"),c=(o||[]).filter(D=>D.uploadType==="tongue"),[d,u]=k.useState({notificationsEnabled:!0,notificationTime:"08:00",theme:"default",preferredChant:"",preferredTongueSong:"",autoPlayMusic:!0,showMotivationalPopups:!0,defaultPrayerDuration:15,prayerRoomBackgroundEffects:!0,defaultVolume:.7,soundEffectsEnabled:!0,autoSavePrayerPoints:!0,showStreakNotifications:!0,showPrayerReminders:!0,notificationSoundId:""}),[f,h]=k.useState(!1),[m,p]=k.useState(!1),[x,g]=k.useState("checking"),[y,v]=k.useState(!1);k.useEffect(()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(D=>{g(D?"registered":"not-registered")}):g("not-supported"),"PushManager"in window&&"serviceWorker"in navigator&&(v(!0),console.log(" VAPID key is configured - push subscriptions are available!"))},[]),k.useEffect(()=>{if(t){const D={notificationsEnabled:t.notificationsEnabled??!0,notificationTime:t.notificationTime??"08:00",theme:t.theme??"default",preferredChant:t.preferredChant??"",preferredTongueSong:t.preferredTongueSong??"",autoPlayMusic:t.autoPlayMusic??!0,showMotivationalPopups:t.showMotivationalPopups??!0,defaultPrayerDuration:t.defaultPrayerDuration??15,prayerRoomBackgroundEffects:t.prayerRoomBackgroundEffects??!0,defaultVolume:t.defaultVolume??.7,soundEffectsEnabled:t.soundEffectsEnabled??!0,autoSavePrayerPoints:t.autoSavePrayerPoints??!0,showStreakNotifications:t.showStreakNotifications??!0,showPrayerReminders:t.showPrayerReminders??!0,notificationSoundId:t.notificationSoundId??""};u(D),t.defaultVolume!==void 0&&a(t.defaultVolume)}},[t,a]),k.useEffect(()=>{if(t){const D=d.notificationsEnabled!==(t.notificationsEnabled??!0)||d.notificationTime!==(t.notificationTime??"08:00")||d.theme!==(t.theme??"default")||d.preferredChant!==(t.preferredChant??"")||d.preferredTongueSong!==(t.preferredTongueSong??"")||d.autoPlayMusic!==(t.autoPlayMusic??!0)||d.showMotivationalPopups!==(t.showMotivationalPopups??!0)||d.defaultPrayerDuration!==(t.defaultPrayerDuration??15)||d.prayerRoomBackgroundEffects!==(t.prayerRoomBackgroundEffects??!0)||d.defaultVolume!==(t.defaultVolume??.7)||d.soundEffectsEnabled!==(t.soundEffectsEnabled??!0)||d.autoSavePrayerPoints!==(t.autoSavePrayerPoints??!0)||d.showStreakNotifications!==(t.showStreakNotifications??!0)||d.showPrayerReminders!==(t.showPrayerReminders??!0)||d.notificationSoundId!==(t.notificationSoundId??"");h(D)}},[d,t]);const w=async()=>{p(!0);try{await r({userId:e,...d}),d.defaultVolume!==void 0&&a(d.defaultVolume),h(!1),$.success("Settings saved successfully!")}catch(D){$.error("Failed to save settings"),console.error(D)}finally{p(!1)}},N=async()=>{if("Notification"in window)try{x==="not-registered"&&await Qu()&&(g("registered"),$.success("Service Worker registered for background notifications!"));const D=await Notification.requestPermission();if(D==="granted"){if($.success("Notifications enabled! You will receive real-time reminders."),u({...d,notificationsEnabled:!0}),y)try{await pg(),$.success("Push notifications enabled! You will receive notifications even when the app is closed.")}catch(O){console.warn("Push subscription failed, but regular notifications will work:",O)}const R=g1();R&&R.active?R.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Notifications Enabled!",body:"You will now receive prayer reminders and notifications, even when the app is closed.",icon:"/vite.svg",tag:"permission-granted"}}):new Notification("Notifications Enabled!",{body:"You will now receive prayer reminders and notifications.",icon:"/vite.svg",tag:"permission-granted"})}else D==="denied"?($.error("Notification permission denied. Please enable in browser settings."),u({...d,notificationsEnabled:!1})):u({...d,notificationsEnabled:!1})}catch(D){console.error("Error requesting notification permission:",D),$.error("Failed to request notification permission")}else $.error("Notifications not supported in this browser")},P=[...n.map(D=>({value:D.id,label:D.name})),...l.map(D=>({value:D._id,label:D.fileName.replace(/\.[^/.]+$/,"")}))],M=[...s.map(D=>({value:D.id,label:D.name})),...c.map(D=>({value:D._id,label:D.fileName.replace(/\.[^/.]+$/,"")}))],C=[{value:"default",label:"Default (Indigo/Purple/Gold)"},{value:"dark",label:"Dark Mode"},{value:"light",label:"Light Mode"}],b=Array.from({length:20},(D,R)=>({value:(R+1)*5,label:`${(R+1)*5} minutes`})),E=Array.from({length:11},(D,R)=>({value:R/10,label:`${R*10}%`})),j=({checked:D,onChange:R,disabled:O=!1})=>i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:D,onChange:R,disabled:O,className:"sr-only peer"}),i.jsx("div",{className:`w-12 h-6 md:w-14 md:h-7 bg-white/20 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 md:after:h-6 md:after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600 ${O?"opacity-50 cursor-not-allowed":""}`})]});return i.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-20 md:pb-0",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[i.jsx(wg,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Settings"]}),i.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Customize your prayer experience"})]}),f&&i.jsxs("button",{onClick:w,disabled:m,className:"btn-primary px-4 md:px-6 py-2.5 md:py-3 text-sm md:text-base flex items-center gap-2 disabled:opacity-50",children:[i.jsx(fi,{className:"w-4 h-4 md:w-5 md:h-5"}),m?"Saving...":"Save Changes"]})]}),i.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center",children:i.jsx(b1,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Notifications"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer reminders and alerts"})]})]}),i.jsxs("div",{className:"space-y-4 md:space-y-5",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Enable Notifications"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Receive prayer reminders and updates"})]}),i.jsx(j,{checked:d.notificationsEnabled,onChange:D=>{D.target.checked&&Notification.permission!=="granted"?N():u({...d,notificationsEnabled:D.target.checked})}})]}),d.notificationsEnabled&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Notification Time"}),i.jsx("input",{type:"time",value:d.notificationTime,onChange:D=>u({...d,notificationTime:D.target.value}),className:"input-glass w-full text-base"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[i.jsx(We,{className:"w-4 h-4 md:w-5 md:h-5 text-pink-400"}),"Notification Sound"]}),i.jsx(Yt,{value:d.notificationSoundId,onChange:D=>u({...d,notificationSoundId:D}),options:[{value:"",label:"Default System Sound"},...P.map(D=>({...D,label:` ${D.label}`})),...M.map(D=>({...D,label:` ${D.label}`}))],placeholder:"Select notification sound"}),i.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Note: Custom sounds work best on Android and Desktop. iOS may use default sound."})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Prayer Reminders"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Get reminded about upcoming prayer schedules"})]}),i.jsx(j,{checked:d.showPrayerReminders,onChange:D=>u({...d,showPrayerReminders:D.target.checked}),disabled:!d.notificationsEnabled})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Streak Notifications"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Celebrate your prayer streak milestones"})]}),i.jsx(j,{checked:d.showStreakNotifications,onChange:D=>u({...d,showStreakNotifications:D.target.checked}),disabled:!d.notificationsEnabled})]}),i.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-white/80 text-sm md:text-base font-medium",children:"Permission Status"}),Notification.permission==="granted"?i.jsxs("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-300 text-xs font-medium flex items-center gap-1",children:[i.jsx(As,{className:"w-3 h-3"}),"Granted"]}):Notification.permission==="denied"?i.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-medium flex items-center gap-1",children:[i.jsx(Is,{className:"w-3 h-3"}),"Denied"]}):i.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-300 text-xs font-medium flex items-center gap-1",children:[i.jsx(Is,{className:"w-3 h-3"}),"Not Requested"]})]}),Notification.permission==="default"&&i.jsx("button",{onClick:N,className:"btn-secondary w-full text-sm md:text-base py-2.5 md:py-3 mt-2",children:"Request Notification Permission"}),Notification.permission==="denied"&&i.jsx("p",{className:"text-white/60 text-xs mt-2",children:"Notifications are blocked. Please enable them in your browser settings to receive prayer reminders."}),Notification.permission==="granted"&&i.jsxs("div",{className:"mt-2 space-y-2",children:[i.jsx("p",{className:"text-green-300 text-xs",children:" You will receive real-time notifications for prayer reminders, schedule alerts, and streak milestones."}),x==="registered"&&i.jsxs("p",{className:"text-indigo-300 text-xs flex items-center gap-1",children:[i.jsx(As,{className:"w-3 h-3"}),"Background notifications enabled (works when app is closed)"]}),y&&x==="registered"&&i.jsxs("p",{className:"text-purple-300 text-xs flex items-center gap-1",children:[i.jsx(As,{className:"w-3 h-3"}),"Push notifications supported"]}),x==="not-supported"&&i.jsx("p",{className:"text-yellow-300 text-xs",children:" Service Workers not supported - notifications work only when app is open"})]})]})]})]}),i.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:i.jsx(vg,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Room"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize your prayer session experience"})]})]}),i.jsxs("div",{className:"space-y-4 md:space-y-5",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-play Music"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically start background music when entering prayer room"})]}),i.jsx(j,{checked:d.autoPlayMusic,onChange:D=>u({...d,autoPlayMusic:D.target.checked})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Motivational Popups"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Show encouraging messages during tongues mode"})]}),i.jsx(j,{checked:d.showMotivationalPopups,onChange:D=>u({...d,showMotivationalPopups:D.target.checked})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Background Effects"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable animated background effects in prayer room"})]}),i.jsx(j,{checked:d.prayerRoomBackgroundEffects,onChange:D=>u({...d,prayerRoomBackgroundEffects:D.target.checked})})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[i.jsx(Lr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Default Prayer Duration"]}),i.jsx(Yt,{value:d.defaultPrayerDuration,onChange:D=>u({...d,defaultPrayerDuration:parseInt(D)}),options:b,placeholder:"Select default duration"})]})]})]}),i.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-pink-600 to-orange-600 flex items-center justify-center",children:i.jsx(We,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Audio Preferences"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Configure music and sound settings"})]})]}),i.jsxs("div",{className:"space-y-4 md:space-y-5",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[i.jsx(kg,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Default Volume"]}),i.jsx(Yt,{value:d.defaultVolume,onChange:D=>{const R=parseFloat(D);u({...d,defaultVolume:R}),a(R)},options:E,placeholder:"Select default volume"}),i.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Volume is applied immediately"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[i.jsx(Dn,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Preferred Chant"]}),i.jsx(Yt,{value:d.preferredChant,onChange:D=>u({...d,preferredChant:D}),options:[{value:"",label:"None (Manual Selection)"},...P],placeholder:"Select preferred chant"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[i.jsx(ve,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Preferred Tongue Song"]}),i.jsx(Yt,{value:d.preferredTongueSong,onChange:D=>u({...d,preferredTongueSong:D}),options:[{value:"",label:"None (Manual Selection)"},...M],placeholder:"Select preferred tongue song"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Sound Effects"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable sound effects for interactions"})]}),i.jsx(j,{checked:d.soundEffectsEnabled,onChange:D=>u({...d,soundEffectsEnabled:D.target.checked})})]})]})]}),i.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-orange-600 to-yellow-600 flex items-center justify-center",children:i.jsx(ve,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Points"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer points generation and saving"})]})]}),i.jsx("div",{className:"space-y-4 md:space-y-5",children:i.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-save Prayer Points"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically save generated prayer points to schedule"})]}),i.jsx(j,{checked:d.autoSavePrayerPoints,onChange:D=>u({...d,autoSavePrayerPoints:D.target.checked})})]})})]}),i.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:i.jsx(R1,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Appearance"}),i.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize the look and feel"})]})]}),i.jsx("div",{className:"space-y-4 md:space-y-5",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Color Theme"}),i.jsx(Yt,{value:d.theme,onChange:D=>u({...d,theme:D}),options:C,placeholder:"Select theme"}),i.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Theme changes will take effect after reload"})]})})]}),f&&i.jsx("div",{className:"sticky bottom-4 md:bottom-6 z-[60] glass-strong p-3 md:p-4 rounded-xl border border-indigo-400/50 shadow-2xl",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[i.jsx(Is,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400 flex-shrink-0"}),i.jsx("p",{className:"text-white text-xs md:text-base",children:"You have unsaved changes"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-xs md:text-base px-3 py-1.5 md:px-4 md:py-2",children:"Discard"}),i.jsx("button",{onClick:w,disabled:m,className:"btn-primary text-xs md:text-base px-3 py-1.5 md:px-4 md:py-3 flex items-center gap-1.5 md:gap-2 disabled:opacity-50",children:m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{className:"hidden sm:inline",children:"Saving..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(fi,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),i.jsx("span",{className:"hidden sm:inline",children:"Save Changes"}),i.jsx("span",{className:"sm:hidden",children:"Save"})]})})]})]})})]})}function yD(){const[e,t]=k.useState("timer"),[r,n]=k.useState(!1),{isPraying:s,activePrayer:a,userId:o}=sr();gg();const l=[{id:"timer",label:"Prayer Room",icon:Lr},{id:"schedule",label:"Schedule",icon:qt},{id:"points",label:"Prayer Points",icon:ve},{id:"music",label:"Music",icon:We},{id:"journal",label:"Journal",icon:lt},{id:"streak",label:"Streak",icon:qa},{id:"history",label:"History",icon:lt},{id:"settings",label:"Settings",icon:wg}],c=l.slice(0,5),d=l.slice(5);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900 pb-16 md:pb-0",children:[i.jsxs("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-2xl border-b border-white/20 shadow-[0_4px_24px_rgba(0,0,0,0.4)]",children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-amber-400/50 to-transparent"}),i.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[i.jsxs("div",{className:"hidden md:flex items-center justify-between py-3.5",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3 px-2",children:[i.jsx("div",{className:"relative w-11 h-11 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20 animate-pulse-glow",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),i.jsx("p",{className:"text-xs text-amber-400/60 leading-tight font-medium tracking-wide",children:"Prayer Chain"})]})]}),i.jsx("div",{className:"flex items-center gap-1 ml-2 bg-white/5 rounded-xl p-1.5 border border-white/10 shadow-inner",children:l.map(u=>{const f=u.icon;return i.jsxs("button",{onClick:()=>t(u.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg whitespace-nowrap transition-all duration-300 text-sm font-semibold relative ${e===u.id?"bg-gradient-to-r from-amber-500 to-purple-600 text-white shadow-lg shadow-purple-500/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e===u.id&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/20 to-purple-500/20 rounded-lg blur-sm"}),i.jsx(f,{className:`w-4 h-4 relative z-10 ${e===u.id?"drop-shadow-[0_0_4px_rgba(255,255,255,0.5)]":""}`}),i.jsx("span",{className:"relative z-10",children:u.label})]},u.id)})})]}),s&&a&&i.jsxs("div",{className:"flex items-center gap-2.5 px-5 py-2.5 rounded-xl bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/40 shadow-lg shadow-green-500/20",children:[i.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"}),i.jsxs("span",{className:"text-white text-sm font-semibold",children:["Praying: ",a.title]})]})]}),i.jsxs("div",{className:"flex md:hidden items-center justify-between py-3",children:[i.jsxs("div",{className:"flex items-center gap-2.5",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-base font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),i.jsx("p",{className:"text-[10px] text-amber-400/60 leading-tight font-medium",children:"Prayer Chain"})]})]}),i.jsx("button",{onClick:()=>n(!r),className:"p-2.5 rounded-xl bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 transition-all duration-300 border border-white/20 shadow-lg",children:r?i.jsx(jr,{className:"w-5 h-5 text-white"}):i.jsx(_1,{className:"w-5 h-5 text-white"})})]}),r&&i.jsx("div",{className:"md:hidden border-t border-white/10 py-3",children:i.jsx("div",{className:"flex flex-col gap-2",children:d.map(u=>{const f=u.icon;return i.jsxs("button",{onClick:()=>{t(u.id),n(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300 text-xs ${e===u.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[i.jsx(f,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"font-medium",children:u.label})]},u.id)})})})]})]}),i.jsxs("main",{className:"container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-7xl pt-20 md:pt-24 pb-28 md:pb-8",children:[e==="timer"&&i.jsx(q1,{}),e==="schedule"&&i.jsx(X5,{}),e==="points"&&i.jsx(cD,{}),e==="music"&&i.jsx(mD,{userId:o}),e==="journal"&&i.jsx(xD,{userId:o}),e==="streak"&&i.jsx(Z5,{}),e==="history"&&i.jsx(nD,{}),e==="settings"&&i.jsx(vD,{})]}),i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-gradient-to-t from-indigo-950/99 via-purple-950/99 to-indigo-950/99 backdrop-blur-2xl border-t border-white/20 z-50 shadow-[0_-4px_20px_rgba(0,0,0,0.3)] safe-area-bottom",children:i.jsx("div",{className:"flex items-center justify-around px-2 py-2 pb-safe",children:c.map(u=>{const f=u.icon;return i.jsxs("button",{onClick:()=>t(u.id),className:`flex flex-col items-center gap-1 px-1.5 py-1.5 rounded-xl transition-all duration-300 flex-1 max-w-[70px] relative ${e===u.id?"text-white":"text-white/50 hover:text-white/70"}`,children:[e===u.id&&i.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-10 h-0.5 bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 rounded-b-full shadow-lg shadow-purple-500/50"}),i.jsx("div",{className:`p-2 rounded-xl transition-all duration-300 ${e===u.id?"bg-gradient-to-br from-amber-500/20 to-purple-500/20 border border-amber-400/30 shadow-lg shadow-purple-500/20":"bg-white/5 border border-transparent"}`,children:i.jsx(f,{className:`w-4.5 h-4.5 transition-all ${e===u.id?"drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]":""}`})}),i.jsx("span",{className:`text-[9px] font-bold leading-tight text-center transition-all ${e===u.id?"text-white":"text-white/50"}`,children:u.label})]},u.id)})})})]})}function wD(){return i.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-amber-500/20 rounded-full blur-3xl animate-pulse delay-700"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 px-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-transparent border-t-amber-400 border-r-purple-400 animate-spin"}),i.jsx("div",{className:"absolute inset-2 w-20 h-20 md:w-28 md:h-28 rounded-full border-4 border-transparent border-b-amber-500 border-l-purple-500 animate-spin-reverse"}),i.jsx("div",{className:"relative w-24 h-24 md:w-32 md:h-32 flex items-center justify-center",children:i.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl overflow-hidden shadow-2xl shadow-purple-500/50 animate-pulse",children:i.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})})})]}),i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 bg-clip-text text-transparent font-serif animate-pulse bg-[length:200%_auto] animate-shimmer",children:"Adullam"}),i.jsx("p",{className:"text-sm md:text-base text-white/60 font-medium tracking-wider",children:"Prayer Chain"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400 animate-bounce"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-400 animate-bounce delay-150"}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 animate-bounce delay-300"})]}),i.jsx("p",{className:"text-white/40 text-xs md:text-sm font-medium tracking-widest uppercase animate-pulse",children:"Loading your prayer space..."})]})]})}const bD="https://majestic-armadillo-966.convex.cloud",kD=new mb(bD);function ND(){const[e,t]=k.useState(()=>{let s=localStorage.getItem("adullam_user_id");return s||(s=`user_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("adullam_user_id",s)),s}),[r,n]=k.useState(!0);return k.useEffect(()=>{"serviceWorker"in navigator&&Qu().then(s=>{s&&console.log("Service Worker registered for push notifications")}).catch(s=>{console.error("Service Worker registration failed:",s)})},[]),k.useEffect(()=>{const a=Date.now(),o=setTimeout(()=>{const l=Date.now()-a,c=Math.max(0,1500-l);setTimeout(()=>{n(!1)},c)},500);return()=>clearTimeout(o)},[]),i.jsx(pb,{client:kD,children:i.jsx(u1,{userId:e,children:i.jsx(x1,{children:r?i.jsx(wD,{}):i.jsxs(i.Fragment,{children:[i.jsx(SD,{}),i.jsxs("div",{className:"min-h-screen transition-colors duration-500",children:[i.jsx(yD,{}),i.jsx(d1,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(99, 102, 241, 0.9)",backdropFilter:"blur(10px)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)"}}})]})]})})})})}function SD(){const{settings:e}=sr();return k.useEffect(()=>{if(!e)return;const t=document.documentElement,r=e.theme||"default";t.classList.remove("theme-dark","theme-light","theme-default"),t.classList.add(`theme-${r}`),r==="light"?(t.style.setProperty("--bg-primary","#f3f4f6"),t.style.setProperty("--text-primary","#1f2937")):r==="dark"?(t.style.setProperty("--bg-primary","#0f172a"),t.style.setProperty("--text-primary","#f8fafc")):(t.style.removeProperty("--bg-primary"),t.style.removeProperty("--text-primary"))},[e==null?void 0:e.theme]),null}Fc.createRoot(document.getElementById("root")).render(i.jsx(T.StrictMode,{children:i.jsx(ND,{})}));
