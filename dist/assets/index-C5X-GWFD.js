(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function th(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ju={exports:{}},mo={},Zu={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),rh=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),oh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),uh=Symbol.for("react.memo"),ch=Symbol.for("react.lazy"),yd=Symbol.iterator;function fh(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var ec={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tc=Object.assign,rc={};function Dn(e,t,r){this.props=e,this.context=t,this.refs=rc,this.updater=r||ec}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function nc(){}nc.prototype=Dn.prototype;function gl(e,t,r){this.props=e,this.context=t,this.refs=rc,this.updater=r||ec}var xl=gl.prototype=new nc;xl.constructor=gl;tc(xl,Dn.prototype);xl.isPureReactComponent=!0;var wd=Array.isArray,sc=Object.prototype.hasOwnProperty,vl={current:null},ic={key:!0,ref:!0,__self:!0,__source:!0};function oc(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)sc.call(t,n)&&!ic.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];i.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Us,type:e,key:o,ref:a,props:i,_owner:vl.current}}function mh(e,t){return{$$typeof:Us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Us}function hh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bd=/\/+/g;function Io(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hh(""+e.key):t.toString(36)}function vi(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Us:case rh:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Io(a,0):n,wd(i)?(r="",e!=null&&(r=e.replace(bd,"$&/")+"/"),vi(i,t,r,"",function(u){return u})):i!=null&&(yl(i)&&(i=mh(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(bd,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",wd(e))for(var l=0;l<e.length;l++){o=e[l];var d=n+Io(o,l);a+=vi(o,t,r,d,i)}else if(d=fh(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=n+Io(o,l++),a+=vi(o,t,r,d,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Xs(e,t,r){if(e==null)return e;var n=[],i=0;return vi(e,n,"","",function(o){return t.call(r,o,i++)}),n}function ph(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ke={current:null},yi={transition:null},gh={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:yi,ReactCurrentOwner:vl};function ac(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Xs,forEach:function(e,t,r){Xs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xs(e,function(){t++}),t},toArray:function(e){return Xs(e,function(t){return t})||[]},only:function(e){if(!yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=Dn;Y.Fragment=nh;Y.Profiler=ih;Y.PureComponent=gl;Y.StrictMode=sh;Y.Suspense=dh;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gh;Y.act=ac;Y.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tc({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=vl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)sc.call(t,d)&&!ic.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Us,type:e.type,key:i,ref:o,props:n,_owner:a}};Y.createContext=function(e){return e={$$typeof:ah,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oh,_context:e},e.Consumer=e};Y.createElement=oc;Y.createFactory=function(e){var t=oc.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:lh,render:e}};Y.isValidElement=yl;Y.lazy=function(e){return{$$typeof:ch,_payload:{_status:-1,_result:e},_init:ph}};Y.memo=function(e,t){return{$$typeof:uh,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=yi.transition;yi.transition={};try{e()}finally{yi.transition=t}};Y.unstable_act=ac;Y.useCallback=function(e,t){return Ke.current.useCallback(e,t)};Y.useContext=function(e){return Ke.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return Ke.current.useDeferredValue(e)};Y.useEffect=function(e,t){return Ke.current.useEffect(e,t)};Y.useId=function(){return Ke.current.useId()};Y.useImperativeHandle=function(e,t,r){return Ke.current.useImperativeHandle(e,t,r)};Y.useInsertionEffect=function(e,t){return Ke.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return Ke.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return Ke.current.useMemo(e,t)};Y.useReducer=function(e,t,r){return Ke.current.useReducer(e,t,r)};Y.useRef=function(e){return Ke.current.useRef(e)};Y.useState=function(e){return Ke.current.useState(e)};Y.useSyncExternalStore=function(e,t,r){return Ke.current.useSyncExternalStore(e,t,r)};Y.useTransition=function(){return Ke.current.useTransition()};Y.version="18.3.1";Zu.exports=Y;var N=Zu.exports;const ho=th(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=N,vh=Symbol.for("react.element"),yh=Symbol.for("react.fragment"),wh=Object.prototype.hasOwnProperty,bh=xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nh={key:!0,ref:!0,__self:!0,__source:!0};function lc(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)wh.call(t,n)&&!Nh.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:vh,type:e,key:o,ref:a,props:i,_owner:bh.current}}mo.Fragment=yh;mo.jsx=lc;mo.jsxs=lc;Ju.exports=mo;var s=Ju.exports,pa={},dc={exports:{}},dt={},uc={exports:{}},cc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,A){var L=P.length;P.push(A);e:for(;0<L;){var W=L-1>>>1,H=P[W];if(0<i(H,A))P[W]=A,P[L]=H,L=W;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var A=P[0],L=P.pop();if(L!==A){P[0]=L;e:for(var W=0,H=P.length,le=H>>>1;W<le;){var k=2*(W+1)-1,U=P[k],ne=k+1,Ae=P[ne];if(0>i(U,L))ne<H&&0>i(Ae,U)?(P[W]=Ae,P[ne]=L,W=ne):(P[W]=U,P[k]=L,W=k);else if(ne<H&&0>i(Ae,L))P[W]=Ae,P[ne]=L,W=ne;else break e}}return A}function i(P,A){var L=P.sortIndex-A.sortIndex;return L!==0?L:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var d=[],u=[],h=1,g=null,p=3,v=!1,c=!1,w=!1,m=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=P)n(u),A.sortIndex=A.expirationTime,t(d,A);else break;A=r(u)}}function b(P){if(w=!1,y(P),!c)if(r(d)!==null)c=!0,G(E);else{var A=r(u);A!==null&&Z(b,A.startTime-P)}}function E(P,A){c=!1,w&&(w=!1,x(C),C=-1),v=!0;var L=p;try{for(y(A),g=r(d);g!==null&&(!(g.expirationTime>A)||P&&!j());){var W=g.callback;if(typeof W=="function"){g.callback=null,p=g.priorityLevel;var H=W(g.expirationTime<=A);A=e.unstable_now(),typeof H=="function"?g.callback=H:g===r(d)&&n(d),y(A)}else n(d);g=r(d)}if(g!==null)var le=!0;else{var k=r(u);k!==null&&Z(b,k.startTime-A),le=!1}return le}finally{g=null,p=L,v=!1}}var _=!1,T=null,C=-1,F=5,S=-1;function j(){return!(e.unstable_now()-S<F)}function $(){if(T!==null){var P=e.unstable_now();S=P;var A=!0;try{A=T(!0,P)}finally{A?M():(_=!1,T=null)}}else _=!1}var M;if(typeof f=="function")M=function(){f($)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=$,M=function(){Q.postMessage(null)}}else M=function(){m($,0)};function G(P){T=P,_||(_=!0,M())}function Z(P,A){C=m(function(){P(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){c||v||(c=!0,G(E))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var L=p;p=A;try{return P()}finally{p=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=p;p=P;try{return A()}finally{p=L}},e.unstable_scheduleCallback=function(P,A,L){var W=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?W+L:W):L=W,P){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,P={id:h++,callback:A,priorityLevel:P,startTime:L,expirationTime:H,sortIndex:-1},L>W?(P.sortIndex=L,t(u,P),r(d)===null&&P===r(u)&&(w?(x(C),C=-1):w=!0,Z(b,L-W))):(P.sortIndex=H,t(d,P),c||v||(c=!0,G(E))),P},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(P){var A=p;return function(){var L=p;p=A;try{return P.apply(this,arguments)}finally{p=L}}}})(cc);uc.exports=cc;var jh=uc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=N,lt=jh;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fc=new Set,ys={};function Xr(e,t){Tn(e,t),Tn(e+"Capture",t)}function Tn(e,t){for(ys[e]=t,e=0;e<t.length;e++)fc.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=Object.prototype.hasOwnProperty,Sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},jd={};function Ph(e){return ga.call(jd,e)?!0:ga.call(Nd,e)?!1:Sh.test(e)?jd[e]=!0:(Nd[e]=!0,!1)}function Ch(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Th(e,t,r,n){if(t===null||typeof t>"u"||Ch(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ge(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var wl=/[\-:]([a-z])/g;function bl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wl,bl);Le[t]=new Ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wl,bl);Le[t]=new Ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wl,bl);Le[t]=new Ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ge(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function Nl(e,t,r,n){var i=Le.hasOwnProperty(t)?Le[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Th(t,r,i,n)&&(r=null),n||i===null?Ph(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Zt=kh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Js=Symbol.for("react.element"),sn=Symbol.for("react.portal"),on=Symbol.for("react.fragment"),jl=Symbol.for("react.strict_mode"),xa=Symbol.for("react.profiler"),mc=Symbol.for("react.provider"),hc=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),va=Symbol.for("react.suspense"),ya=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),pc=Symbol.for("react.offscreen"),kd=Symbol.iterator;function Bn(e){return e===null||typeof e!="object"?null:(e=kd&&e[kd]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Oo;function ts(e){if(Oo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Oo=t&&t[1]||""}return`
`+Oo+e}var Lo=!1;function Ao(e,t){if(!e||Lo)return"";Lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var d=`
`+i[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=l);break}}}finally{Lo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ts(e):""}function Eh(e){switch(e.tag){case 5:return ts(e.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return e=Ao(e.type,!1),e;case 11:return e=Ao(e.type.render,!1),e;case 1:return e=Ao(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case on:return"Fragment";case sn:return"Portal";case xa:return"Profiler";case jl:return"StrictMode";case va:return"Suspense";case ya:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hc:return(e.displayName||"Context")+".Consumer";case mc:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sl:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function _h(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===jl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mh(e){var t=gc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zs(e){e._valueTracker||(e._valueTracker=Mh(e))}function xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ba(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Sd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vc(e,t){t=t.checked,t!=null&&Nl(e,"checked",t,!1)}function Na(e,t){vc(e,t);var r=kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ja(e,t.type,r):t.hasOwnProperty("defaultValue")&&ja(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Pd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ja(e,t,r){(t!=="number"||Ii(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var rs=Array.isArray;function yn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+kr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ka(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(rs(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kr(r)}}function yc(e,t){var r=kr(t.value),n=kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Td(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ei,bc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ei=ei||document.createElement("div"),ei.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ei.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ws(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var os={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rh=["Webkit","ms","Moz","O"];Object.keys(os).forEach(function(e){Rh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),os[t]=os[e]})});function Nc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||os.hasOwnProperty(e)&&os[e]?(""+t).trim():t+"px"}function jc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Nc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var $h=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(e,t){if(t){if($h[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Ca(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ta=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,wn=null,bn=null;function Ed(e){if(e=Bs(e)){if(typeof Ea!="function")throw Error(R(280));var t=e.stateNode;t&&(t=yo(t),Ea(e.stateNode,e.type,t))}}function kc(e){wn?bn?bn.push(e):bn=[e]:wn=e}function Sc(){if(wn){var e=wn,t=bn;if(bn=wn=null,Ed(e),t)for(e=0;e<t.length;e++)Ed(t[e])}}function Pc(e,t){return e(t)}function Cc(){}var Do=!1;function Tc(e,t,r){if(Do)return e(t,r);Do=!0;try{return Pc(e,t,r)}finally{Do=!1,(wn!==null||bn!==null)&&(Cc(),Sc())}}function bs(e,t){var r=e.stateNode;if(r===null)return null;var n=yo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var _a=!1;if(Yt)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{_a=!1}function Ih(e,t,r,n,i,o,a,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var as=!1,Oi=null,Li=!1,Ma=null,Oh={onError:function(e){as=!0,Oi=e}};function Lh(e,t,r,n,i,o,a,l,d){as=!1,Oi=null,Ih.apply(Oh,arguments)}function Ah(e,t,r,n,i,o,a,l,d){if(Lh.apply(this,arguments),as){if(as){var u=Oi;as=!1,Oi=null}else throw Error(R(198));Li||(Li=!0,Ma=u)}}function Jr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ec(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _d(e){if(Jr(e)!==e)throw Error(R(188))}function Dh(e){var t=e.alternate;if(!t){if(t=Jr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return _d(i),e;if(o===n)return _d(i),t;o=o.sibling}throw Error(R(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function _c(e){return e=Dh(e),e!==null?Mc(e):null}function Mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mc(e);if(t!==null)return t;e=e.sibling}return null}var Rc=lt.unstable_scheduleCallback,Md=lt.unstable_cancelCallback,Fh=lt.unstable_shouldYield,zh=lt.unstable_requestPaint,Ne=lt.unstable_now,Uh=lt.unstable_getCurrentPriorityLevel,Cl=lt.unstable_ImmediatePriority,$c=lt.unstable_UserBlockingPriority,Ai=lt.unstable_NormalPriority,qh=lt.unstable_LowPriority,Ic=lt.unstable_IdlePriority,po=null,At=null;function Vh(e){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(po,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Qh,Bh=Math.log,Wh=Math.LN2;function Qh(e){return e>>>=0,e===0?32:31-(Bh(e)/Wh|0)|0}var ti=64,ri=4194304;function ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Di(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=ns(l):(o&=a,o!==0&&(n=ns(o)))}else a=r&~i,a!==0?n=ns(a):o!==0&&(n=ns(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ct(t),i=1<<r,n|=e[r],t&=~i;return n}function Hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ct(o),l=1<<a,d=i[a];d===-1?(!(l&r)||l&n)&&(i[a]=Hh(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function Ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oc(){var e=ti;return ti<<=1,!(ti&4194240)&&(ti=64),e}function Fo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function qs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=r}function Kh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ct(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Tl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ct(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var re=0;function Lc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ac,El,Dc,Fc,zc,$a=!1,ni=[],hr=null,pr=null,gr=null,Ns=new Map,js=new Map,dr=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(t.pointerId)}}function Qn(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Bs(t),t!==null&&El(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Xh(e,t,r,n,i){switch(t){case"focusin":return hr=Qn(hr,e,t,r,n,i),!0;case"dragenter":return pr=Qn(pr,e,t,r,n,i),!0;case"mouseover":return gr=Qn(gr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ns.set(o,Qn(Ns.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,js.set(o,Qn(js.get(o)||null,e,t,r,n,i)),!0}return!1}function Uc(e){var t=Ar(e.target);if(t!==null){var r=Jr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ec(r),t!==null){e.blockedOn=t,zc(e.priority,function(){Dc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ta=n,r.target.dispatchEvent(n),Ta=null}else return t=Bs(r),t!==null&&El(t),e.blockedOn=r,!1;t.shift()}return!0}function $d(e,t,r){wi(e)&&r.delete(t)}function Jh(){$a=!1,hr!==null&&wi(hr)&&(hr=null),pr!==null&&wi(pr)&&(pr=null),gr!==null&&wi(gr)&&(gr=null),Ns.forEach($d),js.forEach($d)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,$a||($a=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Jh)))}function ks(e){function t(i){return Hn(i,e)}if(0<ni.length){Hn(ni[0],e);for(var r=1;r<ni.length;r++){var n=ni[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hr!==null&&Hn(hr,e),pr!==null&&Hn(pr,e),gr!==null&&Hn(gr,e),Ns.forEach(t),js.forEach(t),r=0;r<dr.length;r++)n=dr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<dr.length&&(r=dr[0],r.blockedOn===null);)Uc(r),r.blockedOn===null&&dr.shift()}var Nn=Zt.ReactCurrentBatchConfig,Fi=!0;function Zh(e,t,r,n){var i=re,o=Nn.transition;Nn.transition=null;try{re=1,_l(e,t,r,n)}finally{re=i,Nn.transition=o}}function ep(e,t,r,n){var i=re,o=Nn.transition;Nn.transition=null;try{re=4,_l(e,t,r,n)}finally{re=i,Nn.transition=o}}function _l(e,t,r,n){if(Fi){var i=Ia(e,t,r,n);if(i===null)Ko(e,t,n,zi,r),Rd(e,n);else if(Xh(i,e,t,r,n))n.stopPropagation();else if(Rd(e,n),t&4&&-1<Gh.indexOf(e)){for(;i!==null;){var o=Bs(i);if(o!==null&&Ac(o),o=Ia(e,t,r,n),o===null&&Ko(e,t,n,zi,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Ko(e,t,n,null,r)}}var zi=null;function Ia(e,t,r,n){if(zi=null,e=Pl(n),e=Ar(e),e!==null)if(t=Jr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ec(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zi=e,null}function qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uh()){case Cl:return 1;case $c:return 4;case Ai:case qh:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var fr=null,Ml=null,bi=null;function Vc(){if(bi)return bi;var e,t=Ml,r=t.length,n,i="value"in fr?fr.value:fr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return bi=i.slice(e,1<n?1-n:void 0)}function Ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function Id(){return!1}function ut(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?si:Id,this.isPropagationStopped=Id,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),t}var Fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=ut(Fn),Vs=ye({},Fn,{view:0,detail:0}),tp=ut(Vs),zo,Uo,Yn,go=ye({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(zo=e.screenX-Yn.screenX,Uo=e.screenY-Yn.screenY):Uo=zo=0,Yn=e),zo)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),Od=ut(go),rp=ye({},go,{dataTransfer:0}),np=ut(rp),sp=ye({},Vs,{relatedTarget:0}),qo=ut(sp),ip=ye({},Fn,{animationName:0,elapsedTime:0,pseudoElement:0}),op=ut(ip),ap=ye({},Fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lp=ut(ap),dp=ye({},Fn,{data:0}),Ld=ut(dp),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fp[e])?!!t[e]:!1}function $l(){return mp}var hp=ye({},Vs,{key:function(e){if(e.key){var t=up[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(e){return e.type==="keypress"?Ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pp=ut(hp),gp=ye({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=ut(gp),xp=ye({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),vp=ut(xp),yp=ye({},Fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wp=ut(yp),bp=ye({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=ut(bp),jp=[9,13,27,32],Il=Yt&&"CompositionEvent"in window,ls=null;Yt&&"documentMode"in document&&(ls=document.documentMode);var kp=Yt&&"TextEvent"in window&&!ls,Bc=Yt&&(!Il||ls&&8<ls&&11>=ls),Dd=" ",Fd=!1;function Wc(e,t){switch(e){case"keyup":return jp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var an=!1;function Sp(e,t){switch(e){case"compositionend":return Qc(t);case"keypress":return t.which!==32?null:(Fd=!0,Dd);case"textInput":return e=t.data,e===Dd&&Fd?null:e;default:return null}}function Pp(e,t){if(an)return e==="compositionend"||!Il&&Wc(e,t)?(e=Vc(),bi=Ml=fr=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Bc&&t.locale!=="ko"?null:t.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cp[e.type]:t==="textarea"}function Hc(e,t,r,n){kc(n),t=Ui(t,"onChange"),0<t.length&&(r=new Rl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ds=null,Ss=null;function Tp(e){sf(e,0)}function xo(e){var t=un(e);if(xc(t))return e}function Ep(e,t){if(e==="change")return t}var Yc=!1;if(Yt){var Vo;if(Yt){var Bo="oninput"in document;if(!Bo){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Bo=typeof Ud.oninput=="function"}Vo=Bo}else Vo=!1;Yc=Vo&&(!document.documentMode||9<document.documentMode)}function qd(){ds&&(ds.detachEvent("onpropertychange",Kc),Ss=ds=null)}function Kc(e){if(e.propertyName==="value"&&xo(Ss)){var t=[];Hc(t,Ss,e,Pl(e)),Tc(Tp,t)}}function _p(e,t,r){e==="focusin"?(qd(),ds=t,Ss=r,ds.attachEvent("onpropertychange",Kc)):e==="focusout"&&qd()}function Mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xo(Ss)}function Rp(e,t){if(e==="click")return xo(t)}function $p(e,t){if(e==="input"||e==="change")return xo(t)}function Ip(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Ip;function Ps(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ga.call(t,i)||!Et(e[i],t[i]))return!1}return!0}function Vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var r=Vd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vd(r)}}function Gc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xc(){for(var e=window,t=Ii();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ii(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Op(e){var t=Xc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Gc(r.ownerDocument.documentElement,r)){if(n!==null&&Ol(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=Bd(r,o);var a=Bd(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lp=Yt&&"documentMode"in document&&11>=document.documentMode,ln=null,Oa=null,us=null,La=!1;function Wd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;La||ln==null||ln!==Ii(n)||(n=ln,"selectionStart"in n&&Ol(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),us&&Ps(us,n)||(us=n,n=Ui(Oa,"onSelect"),0<n.length&&(t=new Rl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ln)))}function ii(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dn={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionend:ii("Transition","TransitionEnd")},Wo={},Jc={};Yt&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function vo(e){if(Wo[e])return Wo[e];if(!dn[e])return e;var t=dn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jc)return Wo[e]=t[r];return e}var Zc=vo("animationend"),ef=vo("animationiteration"),tf=vo("animationstart"),rf=vo("transitionend"),nf=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){nf.set(e,t),Xr(t,[e])}for(var Qo=0;Qo<Qd.length;Qo++){var Ho=Qd[Qo],Ap=Ho.toLowerCase(),Dp=Ho[0].toUpperCase()+Ho.slice(1);Tr(Ap,"on"+Dp)}Tr(Zc,"onAnimationEnd");Tr(ef,"onAnimationIteration");Tr(tf,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(rf,"onTransitionEnd");Tn("onMouseEnter",["mouseout","mouseover"]);Tn("onMouseLeave",["mouseout","mouseover"]);Tn("onPointerEnter",["pointerout","pointerover"]);Tn("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Hd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ah(n,t,void 0,e),e.currentTarget=null}function sf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==o&&i.isPropagationStopped())break e;Hd(i,l,u),o=d}else for(a=0;a<n.length;a++){if(l=n[a],d=l.instance,u=l.currentTarget,l=l.listener,d!==o&&i.isPropagationStopped())break e;Hd(i,l,u),o=d}}}if(Li)throw e=Ma,Li=!1,Ma=null,e}function de(e,t){var r=t[Ua];r===void 0&&(r=t[Ua]=new Set);var n=e+"__bubble";r.has(n)||(of(t,e,2,!1),r.add(n))}function Yo(e,t,r){var n=0;t&&(n|=4),of(r,e,n,t)}var oi="_reactListening"+Math.random().toString(36).slice(2);function Cs(e){if(!e[oi]){e[oi]=!0,fc.forEach(function(r){r!=="selectionchange"&&(Fp.has(r)||Yo(r,!1,e),Yo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[oi]||(t[oi]=!0,Yo("selectionchange",!1,t))}}function of(e,t,r,n){switch(qc(t)){case 1:var i=Zh;break;case 4:i=ep;break;default:i=_l}r=i.bind(null,t,r,e),i=void 0,!_a||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ko(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Ar(l),a===null)return;if(d=a.tag,d===5||d===6){n=o=a;continue e}l=l.parentNode}}n=n.return}Tc(function(){var u=o,h=Pl(r),g=[];e:{var p=nf.get(e);if(p!==void 0){var v=Rl,c=e;switch(e){case"keypress":if(Ni(r)===0)break e;case"keydown":case"keyup":v=pp;break;case"focusin":c="focus",v=qo;break;case"focusout":c="blur",v=qo;break;case"beforeblur":case"afterblur":v=qo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=np;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=vp;break;case Zc:case ef:case tf:v=op;break;case rf:v=wp;break;case"scroll":v=tp;break;case"wheel":v=Np;break;case"copy":case"cut":case"paste":v=lp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ad}var w=(t&4)!==0,m=!w&&e==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var f=u,y;f!==null;){y=f;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,x!==null&&(b=bs(f,x),b!=null&&w.push(Ts(f,b,y)))),m)break;f=f.return}0<w.length&&(p=new v(p,c,null,r,h),g.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==Ta&&(c=r.relatedTarget||r.fromElement)&&(Ar(c)||c[Kt]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(c=r.relatedTarget||r.toElement,v=u,c=c?Ar(c):null,c!==null&&(m=Jr(c),c!==m||c.tag!==5&&c.tag!==6)&&(c=null)):(v=null,c=u),v!==c)){if(w=Od,b="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ad,b="onPointerLeave",x="onPointerEnter",f="pointer"),m=v==null?p:un(v),y=c==null?p:un(c),p=new w(b,f+"leave",v,r,h),p.target=m,p.relatedTarget=y,b=null,Ar(h)===u&&(w=new w(x,f+"enter",c,r,h),w.target=y,w.relatedTarget=m,b=w),m=b,v&&c)t:{for(w=v,x=c,f=0,y=w;y;y=tn(y))f++;for(y=0,b=x;b;b=tn(b))y++;for(;0<f-y;)w=tn(w),f--;for(;0<y-f;)x=tn(x),y--;for(;f--;){if(w===x||x!==null&&w===x.alternate)break t;w=tn(w),x=tn(x)}w=null}else w=null;v!==null&&Yd(g,p,v,w,!1),c!==null&&m!==null&&Yd(g,m,c,w,!0)}}e:{if(p=u?un(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var E=Ep;else if(zd(p))if(Yc)E=$p;else{E=Mp;var _=_p}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(E=Rp);if(E&&(E=E(e,u))){Hc(g,E,r,h);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&ja(p,"number",p.value)}switch(_=u?un(u):window,e){case"focusin":(zd(_)||_.contentEditable==="true")&&(ln=_,Oa=u,us=null);break;case"focusout":us=Oa=ln=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Wd(g,r,h);break;case"selectionchange":if(Lp)break;case"keydown":case"keyup":Wd(g,r,h)}var T;if(Il)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else an?Wc(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Bc&&r.locale!=="ko"&&(an||C!=="onCompositionStart"?C==="onCompositionEnd"&&an&&(T=Vc()):(fr=h,Ml="value"in fr?fr.value:fr.textContent,an=!0)),_=Ui(u,C),0<_.length&&(C=new Ld(C,e,null,r,h),g.push({event:C,listeners:_}),T?C.data=T:(T=Qc(r),T!==null&&(C.data=T)))),(T=kp?Sp(e,r):Pp(e,r))&&(u=Ui(u,"onBeforeInput"),0<u.length&&(h=new Ld("onBeforeInput","beforeinput",null,r,h),g.push({event:h,listeners:u}),h.data=T))}sf(g,t)})}function Ts(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ui(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bs(e,r),o!=null&&n.unshift(Ts(e,o,i)),o=bs(e,t),o!=null&&n.push(Ts(e,o,i))),e=e.return}return n}function tn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yd(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&u!==null&&(l=u,i?(d=bs(r,o),d!=null&&a.unshift(Ts(r,d,l))):i||(d=bs(r,o),d!=null&&a.push(Ts(r,d,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var zp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function Kd(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(Up,"")}function ai(e,t,r){if(t=Kd(t),Kd(e)!==t&&r)throw Error(R(425))}function qi(){}var Aa=null,Da=null;function Fa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var za=typeof setTimeout=="function"?setTimeout:void 0,qp=typeof clearTimeout=="function"?clearTimeout:void 0,Gd=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof Gd<"u"?function(e){return Gd.resolve(null).then(e).catch(Bp)}:za;function Bp(e){setTimeout(function(){throw e})}function Go(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ks(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ks(t)}function xr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),It="__reactFiber$"+zn,Es="__reactProps$"+zn,Kt="__reactContainer$"+zn,Ua="__reactEvents$"+zn,Wp="__reactListeners$"+zn,Qp="__reactHandles$"+zn;function Ar(e){var t=e[It];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Kt]||r[It]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xd(e);e!==null;){if(r=e[It])return r;e=Xd(e)}return t}e=r,r=e.parentNode}return null}function Bs(e){return e=e[It]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function yo(e){return e[Es]||null}var qa=[],cn=-1;function Er(e){return{current:e}}function ce(e){0>cn||(e.current=qa[cn],qa[cn]=null,cn--)}function oe(e,t){cn++,qa[cn]=e.current,e.current=t}var Sr={},We=Er(Sr),et=Er(!1),Wr=Sr;function En(e,t){var r=e.type.contextTypes;if(!r)return Sr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tt(e){return e=e.childContextTypes,e!=null}function Vi(){ce(et),ce(We)}function Jd(e,t,r){if(We.current!==Sr)throw Error(R(168));oe(We,t),oe(et,r)}function af(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(R(108,_h(e)||"Unknown",i));return ye({},r,n)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,Wr=We.current,oe(We,e),oe(et,et.current),!0}function Zd(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=af(e,t,Wr),n.__reactInternalMemoizedMergedChildContext=e,ce(et),ce(We),oe(We,e)):ce(et),oe(et,r)}var Vt=null,wo=!1,Xo=!1;function lf(e){Vt===null?Vt=[e]:Vt.push(e)}function Hp(e){wo=!0,lf(e)}function _r(){if(!Xo&&Vt!==null){Xo=!0;var e=0,t=re;try{var r=Vt;for(re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vt=null,wo=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),Rc(Cl,_r),i}finally{re=t,Xo=!1}}return null}var fn=[],mn=0,Wi=null,Qi=0,mt=[],ht=0,Qr=null,Wt=1,Qt="";function Ir(e,t){fn[mn++]=Qi,fn[mn++]=Wi,Wi=e,Qi=t}function df(e,t,r){mt[ht++]=Wt,mt[ht++]=Qt,mt[ht++]=Qr,Qr=e;var n=Wt;e=Qt;var i=32-Ct(n)-1;n&=~(1<<i),r+=1;var o=32-Ct(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Wt=1<<32-Ct(t)+i|r<<i|n,Qt=o+e}else Wt=1<<o|r<<i|n,Qt=e}function Ll(e){e.return!==null&&(Ir(e,1),df(e,1,0))}function Al(e){for(;e===Wi;)Wi=fn[--mn],fn[mn]=null,Qi=fn[--mn],fn[mn]=null;for(;e===Qr;)Qr=mt[--ht],mt[ht]=null,Qt=mt[--ht],mt[ht]=null,Wt=mt[--ht],mt[ht]=null}var at=null,it=null,he=!1,kt=null;function uf(e,t){var r=gt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function eu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,it=xr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qr!==null?{id:Wt,overflow:Qt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,at=e,it=null,!0):!1;default:return!1}}function Va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ba(e){if(he){var t=it;if(t){var r=t;if(!eu(e,t)){if(Va(e))throw Error(R(418));t=xr(r.nextSibling);var n=at;t&&eu(e,t)?uf(n,r):(e.flags=e.flags&-4097|2,he=!1,at=e)}}else{if(Va(e))throw Error(R(418));e.flags=e.flags&-4097|2,he=!1,at=e}}}function tu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function li(e){if(e!==at)return!1;if(!he)return tu(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fa(e.type,e.memoizedProps)),t&&(t=it)){if(Va(e))throw cf(),Error(R(418));for(;t;)uf(e,t),t=xr(t.nextSibling)}if(tu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){it=xr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}it=null}}else it=at?xr(e.stateNode.nextSibling):null;return!0}function cf(){for(var e=it;e;)e=xr(e.nextSibling)}function _n(){it=at=null,he=!1}function Dl(e){kt===null?kt=[e]:kt.push(e)}var Yp=Zt.ReactCurrentBatchConfig;function Kn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function di(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function ff(e){function t(x,f){if(e){var y=x.deletions;y===null?(x.deletions=[f],x.flags|=16):y.push(f)}}function r(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function n(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function i(x,f){return x=br(x,f),x.index=0,x.sibling=null,x}function o(x,f,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<f?(x.flags|=2,f):y):(x.flags|=2,f)):(x.flags|=1048576,f)}function a(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,y,b){return f===null||f.tag!==6?(f=sa(y,x.mode,b),f.return=x,f):(f=i(f,y),f.return=x,f)}function d(x,f,y,b){var E=y.type;return E===on?h(x,f,y.props.children,b,y.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ar&&ru(E)===f.type)?(b=i(f,y.props),b.ref=Kn(x,f,y),b.return=x,b):(b=Ei(y.type,y.key,y.props,null,x.mode,b),b.ref=Kn(x,f,y),b.return=x,b)}function u(x,f,y,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=ia(y,x.mode,b),f.return=x,f):(f=i(f,y.children||[]),f.return=x,f)}function h(x,f,y,b,E){return f===null||f.tag!==7?(f=Ur(y,x.mode,b,E),f.return=x,f):(f=i(f,y),f.return=x,f)}function g(x,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=sa(""+f,x.mode,y),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Js:return y=Ei(f.type,f.key,f.props,null,x.mode,y),y.ref=Kn(x,null,f),y.return=x,y;case sn:return f=ia(f,x.mode,y),f.return=x,f;case ar:var b=f._init;return g(x,b(f._payload),y)}if(rs(f)||Bn(f))return f=Ur(f,x.mode,y,null),f.return=x,f;di(x,f)}return null}function p(x,f,y,b){var E=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:l(x,f,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Js:return y.key===E?d(x,f,y,b):null;case sn:return y.key===E?u(x,f,y,b):null;case ar:return E=y._init,p(x,f,E(y._payload),b)}if(rs(y)||Bn(y))return E!==null?null:h(x,f,y,b,null);di(x,y)}return null}function v(x,f,y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(y)||null,l(f,x,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Js:return x=x.get(b.key===null?y:b.key)||null,d(f,x,b,E);case sn:return x=x.get(b.key===null?y:b.key)||null,u(f,x,b,E);case ar:var _=b._init;return v(x,f,y,_(b._payload),E)}if(rs(b)||Bn(b))return x=x.get(y)||null,h(f,x,b,E,null);di(f,b)}return null}function c(x,f,y,b){for(var E=null,_=null,T=f,C=f=0,F=null;T!==null&&C<y.length;C++){T.index>C?(F=T,T=null):F=T.sibling;var S=p(x,T,y[C],b);if(S===null){T===null&&(T=F);break}e&&T&&S.alternate===null&&t(x,T),f=o(S,f,C),_===null?E=S:_.sibling=S,_=S,T=F}if(C===y.length)return r(x,T),he&&Ir(x,C),E;if(T===null){for(;C<y.length;C++)T=g(x,y[C],b),T!==null&&(f=o(T,f,C),_===null?E=T:_.sibling=T,_=T);return he&&Ir(x,C),E}for(T=n(x,T);C<y.length;C++)F=v(T,x,C,y[C],b),F!==null&&(e&&F.alternate!==null&&T.delete(F.key===null?C:F.key),f=o(F,f,C),_===null?E=F:_.sibling=F,_=F);return e&&T.forEach(function(j){return t(x,j)}),he&&Ir(x,C),E}function w(x,f,y,b){var E=Bn(y);if(typeof E!="function")throw Error(R(150));if(y=E.call(y),y==null)throw Error(R(151));for(var _=E=null,T=f,C=f=0,F=null,S=y.next();T!==null&&!S.done;C++,S=y.next()){T.index>C?(F=T,T=null):F=T.sibling;var j=p(x,T,S.value,b);if(j===null){T===null&&(T=F);break}e&&T&&j.alternate===null&&t(x,T),f=o(j,f,C),_===null?E=j:_.sibling=j,_=j,T=F}if(S.done)return r(x,T),he&&Ir(x,C),E;if(T===null){for(;!S.done;C++,S=y.next())S=g(x,S.value,b),S!==null&&(f=o(S,f,C),_===null?E=S:_.sibling=S,_=S);return he&&Ir(x,C),E}for(T=n(x,T);!S.done;C++,S=y.next())S=v(T,x,C,S.value,b),S!==null&&(e&&S.alternate!==null&&T.delete(S.key===null?C:S.key),f=o(S,f,C),_===null?E=S:_.sibling=S,_=S);return e&&T.forEach(function($){return t(x,$)}),he&&Ir(x,C),E}function m(x,f,y,b){if(typeof y=="object"&&y!==null&&y.type===on&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Js:e:{for(var E=y.key,_=f;_!==null;){if(_.key===E){if(E=y.type,E===on){if(_.tag===7){r(x,_.sibling),f=i(_,y.props.children),f.return=x,x=f;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ar&&ru(E)===_.type){r(x,_.sibling),f=i(_,y.props),f.ref=Kn(x,_,y),f.return=x,x=f;break e}r(x,_);break}else t(x,_);_=_.sibling}y.type===on?(f=Ur(y.props.children,x.mode,b,y.key),f.return=x,x=f):(b=Ei(y.type,y.key,y.props,null,x.mode,b),b.ref=Kn(x,f,y),b.return=x,x=b)}return a(x);case sn:e:{for(_=y.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){r(x,f.sibling),f=i(f,y.children||[]),f.return=x,x=f;break e}else{r(x,f);break}else t(x,f);f=f.sibling}f=ia(y,x.mode,b),f.return=x,x=f}return a(x);case ar:return _=y._init,m(x,f,_(y._payload),b)}if(rs(y))return c(x,f,y,b);if(Bn(y))return w(x,f,y,b);di(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(r(x,f.sibling),f=i(f,y),f.return=x,x=f):(r(x,f),f=sa(y,x.mode,b),f.return=x,x=f),a(x)):r(x,f)}return m}var Mn=ff(!0),mf=ff(!1),Hi=Er(null),Yi=null,hn=null,Fl=null;function zl(){Fl=hn=Yi=null}function Ul(e){var t=Hi.current;ce(Hi),e._currentValue=t}function Wa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jn(e,t){Yi=e,Fl=hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(Fl!==e)if(e={context:e,memoizedValue:t,next:null},hn===null){if(Yi===null)throw Error(R(308));hn=e,Yi.dependencies={lanes:0,firstContext:e}}else hn=hn.next=e;return t}var Dr=null;function ql(e){Dr===null?Dr=[e]:Dr.push(e)}function hf(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,ql(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gt(e,n)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var lr=!1;function Vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ht(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gt(e,r)}return i=n.interleaved,i===null?(t.next=t,ql(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gt(e,r)}function ji(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tl(e,r)}}function nu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ki(e,t,r,n){var i=e.updateQueue;lr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var d=l,u=d.next;d.next=null,a===null?o=u:a.next=u,a=d;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=d))}if(o!==null){var g=i.baseState;a=0,h=u=d=null,l=o;do{var p=l.lane,v=l.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var c=e,w=l;switch(p=t,v=r,w.tag){case 1:if(c=w.payload,typeof c=="function"){g=c.call(v,g,p);break e}g=c;break e;case 3:c.flags=c.flags&-65537|128;case 0:if(c=w.payload,p=typeof c=="function"?c.call(v,g,p):c,p==null)break e;g=ye({},g,p);break e;case 2:lr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,d=g):h=h.next=v,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(d=g),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Yr|=a,e.lanes=a,e.memoizedState=g}}function su(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(R(191,i));i.call(n)}}}var Ws={},Dt=Er(Ws),_s=Er(Ws),Ms=Er(Ws);function Fr(e){if(e===Ws)throw Error(R(174));return e}function Bl(e,t){switch(oe(Ms,t),oe(_s,e),oe(Dt,Ws),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sa(t,e)}ce(Dt),oe(Dt,t)}function Rn(){ce(Dt),ce(_s),ce(Ms)}function gf(e){Fr(Ms.current);var t=Fr(Dt.current),r=Sa(t,e.type);t!==r&&(oe(_s,e),oe(Dt,r))}function Wl(e){_s.current===e&&(ce(Dt),ce(_s))}var xe=Er(0);function Gi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jo=[];function Ql(){for(var e=0;e<Jo.length;e++)Jo[e]._workInProgressVersionPrimary=null;Jo.length=0}var ki=Zt.ReactCurrentDispatcher,Zo=Zt.ReactCurrentBatchConfig,Hr=0,ve=null,Ce=null,Me=null,Xi=!1,cs=!1,Rs=0,Kp=0;function qe(){throw Error(R(321))}function Hl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Et(e[r],t[r]))return!1;return!0}function Yl(e,t,r,n,i,o){if(Hr=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ki.current=e===null||e.memoizedState===null?Zp:e0,e=r(n,i),cs){o=0;do{if(cs=!1,Rs=0,25<=o)throw Error(R(301));o+=1,Me=Ce=null,t.updateQueue=null,ki.current=t0,e=r(n,i)}while(cs)}if(ki.current=Ji,t=Ce!==null&&Ce.next!==null,Hr=0,Me=Ce=ve=null,Xi=!1,t)throw Error(R(300));return e}function Kl(){var e=Rs!==0;return Rs=0,e}function $t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ve.memoizedState=Me=e:Me=Me.next=e,Me}function wt(){if(Ce===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Me===null?ve.memoizedState:Me.next;if(t!==null)Me=t,Ce=e;else{if(e===null)throw Error(R(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Me===null?ve.memoizedState=Me=e:Me=Me.next=e}return Me}function $s(e,t){return typeof t=="function"?t(e):t}function ea(e){var t=wt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=Ce,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=a=null,d=null,u=o;do{var h=u.lane;if((Hr&h)===h)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var g={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=g,a=n):d=d.next=g,ve.lanes|=h,Yr|=h}u=u.next}while(u!==null&&u!==o);d===null?a=n:d.next=l,Et(n,t.memoizedState)||(Ze=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,ve.lanes|=o,Yr|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ta(e){var t=wt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Et(o,t.memoizedState)||(Ze=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function xf(){}function vf(e,t){var r=ve,n=wt(),i=t(),o=!Et(n.memoizedState,i);if(o&&(n.memoizedState=i,Ze=!0),n=n.queue,Gl(bf.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,Is(9,wf.bind(null,r,n,i,t),void 0,null),Re===null)throw Error(R(349));Hr&30||yf(r,t,i)}return i}function yf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wf(e,t,r,n){t.value=r,t.getSnapshot=n,Nf(t)&&jf(e)}function bf(e,t,r){return r(function(){Nf(t)&&jf(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Et(e,r)}catch{return!0}}function jf(e){var t=Gt(e,1);t!==null&&Tt(t,e,1,-1)}function iu(e){var t=$t();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:e},t.queue=e,e=e.dispatch=Jp.bind(null,ve,e),[t.memoizedState,e]}function Is(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kf(){return wt().memoizedState}function Si(e,t,r,n){var i=$t();ve.flags|=e,i.memoizedState=Is(1|t,r,void 0,n===void 0?null:n)}function bo(e,t,r,n){var i=wt();n=n===void 0?null:n;var o=void 0;if(Ce!==null){var a=Ce.memoizedState;if(o=a.destroy,n!==null&&Hl(n,a.deps)){i.memoizedState=Is(t,r,o,n);return}}ve.flags|=e,i.memoizedState=Is(1|t,r,o,n)}function ou(e,t){return Si(8390656,8,e,t)}function Gl(e,t){return bo(2048,8,e,t)}function Sf(e,t){return bo(4,2,e,t)}function Pf(e,t){return bo(4,4,e,t)}function Cf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Tf(e,t,r){return r=r!=null?r.concat([e]):null,bo(4,4,Cf.bind(null,t,e),r)}function Xl(){}function Ef(e,t){var r=wt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function _f(e,t){var r=wt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Hl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Mf(e,t,r){return Hr&21?(Et(r,t)||(r=Oc(),ve.lanes|=r,Yr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=r)}function Gp(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var n=Zo.transition;Zo.transition={};try{e(!1),t()}finally{re=r,Zo.transition=n}}function Rf(){return wt().memoizedState}function Xp(e,t,r){var n=wr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$f(e))If(t,r);else if(r=hf(e,t,r,n),r!==null){var i=Ye();Tt(r,e,n,i),Of(r,t,n)}}function Jp(e,t,r){var n=wr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($f(e))If(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(i.hasEagerState=!0,i.eagerState=l,Et(l,a)){var d=t.interleaved;d===null?(i.next=i,ql(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=hf(e,t,i,n),r!==null&&(i=Ye(),Tt(r,e,n,i),Of(r,t,n))}}function $f(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function If(e,t){cs=Xi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Of(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tl(e,r)}}var Ji={readContext:yt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},Zp={readContext:yt,useCallback:function(e,t){return $t().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:ou,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Si(4194308,4,Cf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Si(4194308,4,e,t)},useInsertionEffect:function(e,t){return Si(4,2,e,t)},useMemo:function(e,t){var r=$t();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$t();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xp.bind(null,ve,e),[n.memoizedState,e]},useRef:function(e){var t=$t();return e={current:e},t.memoizedState=e},useState:iu,useDebugValue:Xl,useDeferredValue:function(e){return $t().memoizedState=e},useTransition:function(){var e=iu(!1),t=e[0];return e=Gp.bind(null,e[1]),$t().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ve,i=$t();if(he){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),Re===null)throw Error(R(349));Hr&30||yf(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,ou(bf.bind(null,n,o,e),[e]),n.flags|=2048,Is(9,wf.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=$t(),t=Re.identifierPrefix;if(he){var r=Qt,n=Wt;r=(n&~(1<<32-Ct(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Rs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Kp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e0={readContext:yt,useCallback:Ef,useContext:yt,useEffect:Gl,useImperativeHandle:Tf,useInsertionEffect:Sf,useLayoutEffect:Pf,useMemo:_f,useReducer:ea,useRef:kf,useState:function(){return ea($s)},useDebugValue:Xl,useDeferredValue:function(e){var t=wt();return Mf(t,Ce.memoizedState,e)},useTransition:function(){var e=ea($s)[0],t=wt().memoizedState;return[e,t]},useMutableSource:xf,useSyncExternalStore:vf,useId:Rf,unstable_isNewReconciler:!1},t0={readContext:yt,useCallback:Ef,useContext:yt,useEffect:Gl,useImperativeHandle:Tf,useInsertionEffect:Sf,useLayoutEffect:Pf,useMemo:_f,useReducer:ta,useRef:kf,useState:function(){return ta($s)},useDebugValue:Xl,useDeferredValue:function(e){var t=wt();return Ce===null?t.memoizedState=e:Mf(t,Ce.memoizedState,e)},useTransition:function(){var e=ta($s)[0],t=wt().memoizedState;return[e,t]},useMutableSource:xf,useSyncExternalStore:vf,useId:Rf,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Qa(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var No={isMounted:function(e){return(e=e._reactInternals)?Jr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ye(),i=wr(e),o=Ht(n,i);o.payload=t,r!=null&&(o.callback=r),t=vr(e,o,i),t!==null&&(Tt(t,e,i,n),ji(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ye(),i=wr(e),o=Ht(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=vr(e,o,i),t!==null&&(Tt(t,e,i,n),ji(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ye(),n=wr(e),i=Ht(r,n);i.tag=2,t!=null&&(i.callback=t),t=vr(e,i,n),t!==null&&(Tt(t,e,n,r),ji(t,e,n))}};function au(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ps(r,n)||!Ps(i,o):!0}function Lf(e,t,r){var n=!1,i=Sr,o=t.contextType;return typeof o=="object"&&o!==null?o=yt(o):(i=tt(t)?Wr:We.current,n=t.contextTypes,o=(n=n!=null)?En(e,i):Sr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=No,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function lu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Ha(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Vl(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=yt(o):(o=tt(t)?Wr:We.current,i.context=En(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qa(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&No.enqueueReplaceState(i,i.state,null),Ki(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var r="",n=t;do r+=Eh(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ra(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ya(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function Af(e,t,r){r=Ht(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){eo||(eo=!0,sl=n),Ya(e,t)},r}function Df(e,t,r){r=Ht(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ya(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Ya(e,t),typeof n!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function du(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new r0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=g0.bind(null,e,t,r),t.then(e,e))}function uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cu(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ht(-1,1),t.tag=2,vr(r,t,1))),r.lanes|=1),e)}var n0=Zt.ReactCurrentOwner,Ze=!1;function He(e,t,r,n){t.child=e===null?mf(t,null,r,n):Mn(t,e.child,r,n)}function fu(e,t,r,n,i){r=r.render;var o=t.ref;return jn(t,i),n=Yl(e,t,r,n,o,i),r=Kl(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(he&&r&&Ll(t),t.flags|=1,He(e,t,n,i),t.child)}function mu(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!id(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Ff(e,t,o,n,i)):(e=Ei(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ps,r(a,n)&&e.ref===t.ref)return Xt(e,t,i)}return t.flags|=1,e=br(o,n),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Ps(o,n)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Xt(e,t,i)}return Ka(e,t,r,n,i)}function zf(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(gn,nt),nt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(gn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,oe(gn,nt),nt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,oe(gn,nt),nt|=n;return He(e,t,i,r),t.child}function Uf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ka(e,t,r,n,i){var o=tt(r)?Wr:We.current;return o=En(t,o),jn(t,i),r=Yl(e,t,r,n,o,i),n=Kl(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xt(e,t,i)):(he&&n&&Ll(t),t.flags|=1,He(e,t,r,i),t.child)}function hu(e,t,r,n,i){if(tt(r)){var o=!0;Bi(t)}else o=!1;if(jn(t,i),t.stateNode===null)Pi(e,t),Lf(t,r,n),Ha(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var d=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=yt(u):(u=tt(r)?Wr:We.current,u=En(t,u));var h=r.getDerivedStateFromProps,g=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||d!==u)&&lu(t,a,n,u),lr=!1;var p=t.memoizedState;a.state=p,Ki(t,n,a,i),d=t.memoizedState,l!==n||p!==d||et.current||lr?(typeof h=="function"&&(Qa(t,r,h,n),d=t.memoizedState),(l=lr||au(t,r,l,n,p,d,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,pf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),a.props=u,g=t.pendingProps,p=a.context,d=r.contextType,typeof d=="object"&&d!==null?d=yt(d):(d=tt(r)?Wr:We.current,d=En(t,d));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||p!==d)&&lu(t,a,n,d),lr=!1,p=t.memoizedState,a.state=p,Ki(t,n,a,i);var c=t.memoizedState;l!==g||p!==c||et.current||lr?(typeof v=="function"&&(Qa(t,r,v,n),c=t.memoizedState),(u=lr||au(t,r,u,n,p,c,d)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,c,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,c,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=d,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ga(e,t,r,n,o,i)}function Ga(e,t,r,n,i,o){Uf(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Zd(t,r,!1),Xt(e,t,o);n=t.stateNode,n0.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Mn(t,e.child,null,o),t.child=Mn(t,null,l,o)):He(e,t,l,o),t.memoizedState=n.state,i&&Zd(t,r,!0),t.child}function qf(e){var t=e.stateNode;t.pendingContext?Jd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jd(e,t.context,!1),Bl(e,t.containerInfo)}function pu(e,t,r,n,i){return _n(),Dl(i),t.flags|=256,He(e,t,r,n),t.child}var Xa={dehydrated:null,treeContext:null,retryLane:0};function Ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vf(e,t,r){var n=t.pendingProps,i=xe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),oe(xe,i&1),e===null)return Ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=So(a,n,0,null),e=Ur(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ja(r),t.memoizedState=Xa,e):Jl(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return s0(e,t,a,n,l,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,l=i.sibling;var d={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=br(i,d),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=br(l,o):(o=Ur(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Ja(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Xa,n}return o=e.child,e=o.sibling,n=br(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Jl(e,t){return t=So({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ui(e,t,r,n){return n!==null&&Dl(n),Mn(t,e.child,null,r),e=Jl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s0(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=ra(Error(R(422))),ui(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=So({mode:"visible",children:n.children},i,0,null),o=Ur(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Mn(t,e.child,null,a),t.child.memoizedState=Ja(a),t.memoizedState=Xa,o);if(!(t.mode&1))return ui(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(R(419)),n=ra(o,n,void 0),ui(e,t,a,n)}if(l=(a&e.childLanes)!==0,Ze||l){if(n=Re,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gt(e,i),Tt(n,e,i,-1))}return sd(),n=ra(Error(R(421))),ui(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=x0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,it=xr(i.nextSibling),at=t,he=!0,kt=null,e!==null&&(mt[ht++]=Wt,mt[ht++]=Qt,mt[ht++]=Qr,Wt=e.id,Qt=e.overflow,Qr=t),t=Jl(t,n.children),t.flags|=4096,t)}function gu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Wa(e.return,t,r)}function na(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Bf(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(He(e,t,n.children,r),n=xe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gu(e,r,t);else if(e.tag===19)gu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(oe(xe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Gi(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),na(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gi(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}na(t,!0,r,null,o);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Yr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i0(e,t,r){switch(t.tag){case 3:qf(t),_n();break;case 5:gf(t);break;case 1:tt(t.type)&&Bi(t);break;case 4:Bl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;oe(Hi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(oe(xe,xe.current&1),t.flags|=128,null):r&t.child.childLanes?Vf(e,t,r):(oe(xe,xe.current&1),e=Xt(e,t,r),e!==null?e.sibling:null);oe(xe,xe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Bf(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(xe,xe.current),n)break;return null;case 22:case 23:return t.lanes=0,zf(e,t,r)}return Xt(e,t,r)}var Wf,Za,Qf,Hf;Wf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Za=function(){};Qf=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Fr(Dt.current);var o=null;switch(r){case"input":i=ba(e,i),n=ba(e,n),o=[];break;case"select":i=ye({},i,{value:void 0}),n=ye({},n,{value:void 0}),o=[];break;case"textarea":i=ka(e,i),n=ka(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qi)}Pa(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ys.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var d=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in d)d.hasOwnProperty(a)&&l[a]!==d[a]&&(r||(r={}),r[a]=d[a])}else r||(o||(o=[]),o.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ys.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&de("scroll",e),o||l===d||(o=[])):(o=o||[]).push(u,d))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Hf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gn(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o0(e,t,r){var n=t.pendingProps;switch(Al(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return tt(t.type)&&Vi(),Ve(t),null;case 3:return n=t.stateNode,Rn(),ce(et),ce(We),Ql(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(li(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kt!==null&&(al(kt),kt=null))),Za(e,t),Ve(t),null;case 5:Wl(t);var i=Fr(Ms.current);if(r=t.type,e!==null&&t.stateNode!=null)Qf(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return Ve(t),null}if(e=Fr(Dt.current),li(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[It]=t,n[Es]=o,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(i=0;i<ss.length;i++)de(ss[i],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":Sd(n,o),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},de("invalid",n);break;case"textarea":Cd(n,o),de("invalid",n)}Pa(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ai(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ai(n.textContent,l,e),i=["children",""+l]):ys.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&de("scroll",n)}switch(r){case"input":Zs(n),Pd(n,o,!0);break;case"textarea":Zs(n),Td(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=qi)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[It]=t,e[Es]=n,Wf(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ca(r,n),r){case"dialog":de("cancel",e),de("close",e),i=n;break;case"iframe":case"object":case"embed":de("load",e),i=n;break;case"video":case"audio":for(i=0;i<ss.length;i++)de(ss[i],e);i=n;break;case"source":de("error",e),i=n;break;case"img":case"image":case"link":de("error",e),de("load",e),i=n;break;case"details":de("toggle",e),i=n;break;case"input":Sd(e,n),i=ba(e,n),de("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ye({},n,{value:void 0}),de("invalid",e);break;case"textarea":Cd(e,n),i=ka(e,n),de("invalid",e);break;default:i=n}Pa(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?jc(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&bc(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&ws(e,d):typeof d=="number"&&ws(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ys.hasOwnProperty(o)?d!=null&&o==="onScroll"&&de("scroll",e):d!=null&&Nl(e,o,d,a))}switch(r){case"input":Zs(e),Pd(e,n,!1);break;case"textarea":Zs(e),Td(e);break;case"option":n.value!=null&&e.setAttribute("value",""+kr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?yn(e,!!n.multiple,o,!1):n.defaultValue!=null&&yn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Hf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=Fr(Ms.current),Fr(Dt.current),li(t)){if(n=t.stateNode,r=t.memoizedProps,n[It]=t,(o=n.nodeValue!==r)&&(e=at,e!==null))switch(e.tag){case 3:ai(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ai(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[It]=t,t.stateNode=n}return Ve(t),null;case 13:if(ce(xe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&it!==null&&t.mode&1&&!(t.flags&128))cf(),_n(),t.flags|=98560,o=!1;else if(o=li(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[It]=t}else _n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),o=!1}else kt!==null&&(al(kt),kt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ee===0&&(Ee=3):sd())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Rn(),Za(e,t),e===null&&Cs(t.stateNode.containerInfo),Ve(t),null;case 10:return Ul(t.type._context),Ve(t),null;case 17:return tt(t.type)&&Vi(),Ve(t),null;case 19:if(ce(xe),o=t.memoizedState,o===null)return Ve(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Gn(o,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Gi(e),a!==null){for(t.flags|=128,Gn(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return oe(xe,xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ne()>In&&(t.flags|=128,n=!0,Gn(o,!1),t.lanes=4194304)}else{if(!n)if(e=Gi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!he)return Ve(t),null}else 2*Ne()-o.renderingStartTime>In&&r!==1073741824&&(t.flags|=128,n=!0,Gn(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ne(),t.sibling=null,r=xe.current,oe(xe,n?r&1|2:r&1),t):(Ve(t),null);case 22:case 23:return nd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function a0(e,t){switch(Al(t),t.tag){case 1:return tt(t.type)&&Vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(),ce(et),ce(We),Ql(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wl(t),null;case 13:if(ce(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(xe),null;case 4:return Rn(),null;case 10:return Ul(t.type._context),null;case 22:case 23:return nd(),null;case 24:return null;default:return null}}var ci=!1,Be=!1,l0=typeof WeakSet=="function"?WeakSet:Set,D=null;function pn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){we(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){we(e,t,n)}}var xu=!1;function d0(e,t){if(Aa=Fi,e=Xc(),Ol(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,d=-1,u=0,h=0,g=e,p=null;t:for(;;){for(var v;g!==r||i!==0&&g.nodeType!==3||(l=a+i),g!==o||n!==0&&g.nodeType!==3||(d=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(v=g.firstChild)!==null;)p=g,g=v;for(;;){if(g===e)break t;if(p===r&&++u===i&&(l=a),p===o&&++h===n&&(d=a),(v=g.nextSibling)!==null)break;g=p,p=g.parentNode}g=v}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Da={focusedElem:e,selectionRange:r},Fi=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var c=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(c!==null){var w=c.memoizedProps,m=c.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:Nt(t.type,w),m);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){we(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return c=xu,xu=!1,c}function fs(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&el(t,r,o)}i=i.next}while(i!==n)}}function jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[Es],delete t[Ua],delete t[Wp],delete t[Qp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Kf(e){return e.tag===5||e.tag===3||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Kf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qi));else if(n!==4&&(e=e.child,e!==null))for(rl(e,t,r),e=e.sibling;e!==null;)rl(e,t,r),e=e.sibling}function nl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nl(e,t,r),e=e.sibling;e!==null;)nl(e,t,r),e=e.sibling}var Ie=null,jt=!1;function sr(e,t,r){for(r=r.child;r!==null;)Gf(e,t,r),r=r.sibling}function Gf(e,t,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(po,r)}catch{}switch(r.tag){case 5:Be||pn(r,t);case 6:var n=Ie,i=jt;Ie=null,sr(e,t,r),Ie=n,jt=i,Ie!==null&&(jt?(e=Ie,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ie.removeChild(r.stateNode));break;case 18:Ie!==null&&(jt?(e=Ie,r=r.stateNode,e.nodeType===8?Go(e.parentNode,r):e.nodeType===1&&Go(e,r),ks(e)):Go(Ie,r.stateNode));break;case 4:n=Ie,i=jt,Ie=r.stateNode.containerInfo,jt=!0,sr(e,t,r),Ie=n,jt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&el(r,t,a),i=i.next}while(i!==n)}sr(e,t,r);break;case 1:if(!Be&&(pn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){we(r,t,l)}sr(e,t,r);break;case 21:sr(e,t,r);break;case 22:r.mode&1?(Be=(n=Be)||r.memoizedState!==null,sr(e,t,r),Be=n):sr(e,t,r);break;default:sr(e,t,r)}}function yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new l0),t.forEach(function(n){var i=v0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,jt=!1;break e;case 3:Ie=l.stateNode.containerInfo,jt=!0;break e;case 4:Ie=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Ie===null)throw Error(R(160));Gf(o,a,i),Ie=null,jt=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(u){we(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}function Xf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Mt(e),n&4){try{fs(3,e,e.return),jo(3,e)}catch(w){we(e,e.return,w)}try{fs(5,e,e.return)}catch(w){we(e,e.return,w)}}break;case 1:bt(t,e),Mt(e),n&512&&r!==null&&pn(r,r.return);break;case 5:if(bt(t,e),Mt(e),n&512&&r!==null&&pn(r,r.return),e.flags&32){var i=e.stateNode;try{ws(i,"")}catch(w){we(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&vc(i,o),Ca(l,a);var u=Ca(l,o);for(a=0;a<d.length;a+=2){var h=d[a],g=d[a+1];h==="style"?jc(i,g):h==="dangerouslySetInnerHTML"?bc(i,g):h==="children"?ws(i,g):Nl(i,h,g,u)}switch(l){case"input":Na(i,o);break;case"textarea":yc(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?yn(i,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?yn(i,!!o.multiple,o.defaultValue,!0):yn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Es]=o}catch(w){we(e,e.return,w)}}break;case 6:if(bt(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){we(e,e.return,w)}}break;case 3:if(bt(t,e),Mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(w){we(e,e.return,w)}break;case 4:bt(t,e),Mt(e);break;case 13:bt(t,e),Mt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(td=Ne())),n&4&&yu(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Be=(u=Be)||h,bt(t,e),Be=u):bt(t,e),Mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(D=e,h=e.child;h!==null;){for(g=D=h;D!==null;){switch(p=D,v=p.child,p.tag){case 0:case 11:case 14:case 15:fs(4,p,p.return);break;case 1:pn(p,p.return);var c=p.stateNode;if(typeof c.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,c.props=t.memoizedProps,c.state=t.memoizedState,c.componentWillUnmount()}catch(w){we(n,r,w)}}break;case 5:pn(p,p.return);break;case 22:if(p.memoizedState!==null){bu(g);continue}}v!==null?(v.return=p,D=v):bu(g)}h=h.sibling}e:for(h=null,g=e;;){if(g.tag===5){if(h===null){h=g;try{i=g.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,d=g.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=Nc("display",a))}catch(w){we(e,e.return,w)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(w){we(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:bt(t,e),Mt(e),n&4&&yu(e);break;case 21:break;default:bt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Kf(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ws(i,""),n.flags&=-33);var o=vu(e);nl(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=vu(e);rl(e,l,a);break;default:throw Error(R(161))}}catch(d){we(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u0(e,t,r){D=e,Jf(e)}function Jf(e,t,r){for(var n=(e.mode&1)!==0;D!==null;){var i=D,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ci;if(!a){var l=i.alternate,d=l!==null&&l.memoizedState!==null||Be;l=ci;var u=Be;if(ci=a,(Be=d)&&!u)for(D=i;D!==null;)a=D,d=a.child,a.tag===22&&a.memoizedState!==null?Nu(i):d!==null?(d.return=a,D=d):Nu(i);for(;o!==null;)D=o,Jf(o),o=o.sibling;D=i,ci=l,Be=u}wu(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,D=o):wu(e)}}function wu(e){for(;D!==null;){var t=D;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||jo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Be)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Nt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&su(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}su(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&ks(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Be||t.flags&512&&tl(t)}catch(p){we(t,t.return,p)}}if(t===e){D=null;break}if(r=t.sibling,r!==null){r.return=t.return,D=r;break}D=t.return}}function bu(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var r=t.sibling;if(r!==null){r.return=t.return,D=r;break}D=t.return}}function Nu(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{jo(4,t)}catch(d){we(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){we(t,i,d)}}var o=t.return;try{tl(t)}catch(d){we(t,o,d)}break;case 5:var a=t.return;try{tl(t)}catch(d){we(t,a,d)}}}catch(d){we(t,t.return,d)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var c0=Math.ceil,Zi=Zt.ReactCurrentDispatcher,Zl=Zt.ReactCurrentOwner,vt=Zt.ReactCurrentBatchConfig,J=0,Re=null,ke=null,Oe=0,nt=0,gn=Er(0),Ee=0,Os=null,Yr=0,ko=0,ed=0,ms=null,Je=null,td=0,In=1/0,qt=null,eo=!1,sl=null,yr=null,fi=!1,mr=null,to=0,hs=0,il=null,Ci=-1,Ti=0;function Ye(){return J&6?Ne():Ci!==-1?Ci:Ci=Ne()}function wr(e){return e.mode&1?J&2&&Oe!==0?Oe&-Oe:Yp.transition!==null?(Ti===0&&(Ti=Oc()),Ti):(e=re,e!==0||(e=window.event,e=e===void 0?16:qc(e.type)),e):1}function Tt(e,t,r,n){if(50<hs)throw hs=0,il=null,Error(R(185));qs(e,r,n),(!(J&2)||e!==Re)&&(e===Re&&(!(J&2)&&(ko|=r),Ee===4&&ur(e,Oe)),rt(e,n),r===1&&J===0&&!(t.mode&1)&&(In=Ne()+500,wo&&_r()))}function rt(e,t){var r=e.callbackNode;Yh(e,t);var n=Di(e,e===Re?Oe:0);if(n===0)r!==null&&Md(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Md(r),t===1)e.tag===0?Hp(ju.bind(null,e)):lf(ju.bind(null,e)),Vp(function(){!(J&6)&&_r()}),r=null;else{switch(Lc(n)){case 1:r=Cl;break;case 4:r=$c;break;case 16:r=Ai;break;case 536870912:r=Ic;break;default:r=Ai}r=om(r,Zf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zf(e,t){if(Ci=-1,Ti=0,J&6)throw Error(R(327));var r=e.callbackNode;if(kn()&&e.callbackNode!==r)return null;var n=Di(e,e===Re?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ro(e,n);else{t=n;var i=J;J|=2;var o=tm();(Re!==e||Oe!==t)&&(qt=null,In=Ne()+500,zr(e,t));do try{h0();break}catch(l){em(e,l)}while(!0);zl(),Zi.current=o,J=i,ke!==null?t=0:(Re=null,Oe=0,t=Ee)}if(t!==0){if(t===2&&(i=Ra(e),i!==0&&(n=i,t=ol(e,i))),t===1)throw r=Os,zr(e,0),ur(e,n),rt(e,Ne()),r;if(t===6)ur(e,n);else{if(i=e.current.alternate,!(n&30)&&!f0(i)&&(t=ro(e,n),t===2&&(o=Ra(e),o!==0&&(n=o,t=ol(e,o))),t===1))throw r=Os,zr(e,0),ur(e,n),rt(e,Ne()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:Or(e,Je,qt);break;case 3:if(ur(e,n),(n&130023424)===n&&(t=td+500-Ne(),10<t)){if(Di(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ye(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=za(Or.bind(null,e,Je,qt),t);break}Or(e,Je,qt);break;case 4:if(ur(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Ct(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*c0(n/1960))-n,10<n){e.timeoutHandle=za(Or.bind(null,e,Je,qt),n);break}Or(e,Je,qt);break;case 5:Or(e,Je,qt);break;default:throw Error(R(329))}}}return rt(e,Ne()),e.callbackNode===r?Zf.bind(null,e):null}function ol(e,t){var r=ms;return e.current.memoizedState.isDehydrated&&(zr(e,t).flags|=256),e=ro(e,t),e!==2&&(t=Je,Je=r,t!==null&&al(t)),e}function al(e){Je===null?Je=e:Je.push.apply(Je,e)}function f0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Et(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~ed,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ct(t),n=1<<r;e[r]=-1,t&=~n}}function ju(e){if(J&6)throw Error(R(327));kn();var t=Di(e,0);if(!(t&1))return rt(e,Ne()),null;var r=ro(e,t);if(e.tag!==0&&r===2){var n=Ra(e);n!==0&&(t=n,r=ol(e,n))}if(r===1)throw r=Os,zr(e,0),ur(e,t),rt(e,Ne()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,Je,qt),rt(e,Ne()),null}function rd(e,t){var r=J;J|=1;try{return e(t)}finally{J=r,J===0&&(In=Ne()+500,wo&&_r())}}function Kr(e){mr!==null&&mr.tag===0&&!(J&6)&&kn();var t=J;J|=1;var r=vt.transition,n=re;try{if(vt.transition=null,re=1,e)return e()}finally{re=n,vt.transition=r,J=t,!(J&6)&&_r()}}function nd(){nt=gn.current,ce(gn)}function zr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qp(r)),ke!==null)for(r=ke.return;r!==null;){var n=r;switch(Al(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vi();break;case 3:Rn(),ce(et),ce(We),Ql();break;case 5:Wl(n);break;case 4:Rn();break;case 13:ce(xe);break;case 19:ce(xe);break;case 10:Ul(n.type._context);break;case 22:case 23:nd()}r=r.return}if(Re=e,ke=e=br(e.current,null),Oe=nt=t,Ee=0,Os=null,ed=ko=Yr=0,Je=ms=null,Dr!==null){for(t=0;t<Dr.length;t++)if(r=Dr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Dr=null}return e}function em(e,t){do{var r=ke;try{if(zl(),ki.current=Ji,Xi){for(var n=ve.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Xi=!1}if(Hr=0,Me=Ce=ve=null,cs=!1,Rs=0,Zl.current=null,r===null||r.return===null){Ee=1,Os=t,ke=null;break}e:{var o=e,a=r.return,l=r,d=t;if(t=Oe,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,h=l,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=uu(a);if(v!==null){v.flags&=-257,cu(v,a,l,o,t),v.mode&1&&du(o,u,t),t=v,d=u;var c=t.updateQueue;if(c===null){var w=new Set;w.add(d),t.updateQueue=w}else c.add(d);break e}else{if(!(t&1)){du(o,u,t),sd();break e}d=Error(R(426))}}else if(he&&l.mode&1){var m=uu(a);if(m!==null){!(m.flags&65536)&&(m.flags|=256),cu(m,a,l,o,t),Dl($n(d,l));break e}}o=d=$n(d,l),Ee!==4&&(Ee=2),ms===null?ms=[o]:ms.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=Af(o,d,t);nu(o,x);break e;case 1:l=d;var f=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yr===null||!yr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=Df(o,l,t);nu(o,b);break e}}o=o.return}while(o!==null)}nm(r)}catch(E){t=E,ke===r&&r!==null&&(ke=r=r.return);continue}break}while(!0)}function tm(){var e=Zi.current;return Zi.current=Ji,e===null?Ji:e}function sd(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Re===null||!(Yr&268435455)&&!(ko&268435455)||ur(Re,Oe)}function ro(e,t){var r=J;J|=2;var n=tm();(Re!==e||Oe!==t)&&(qt=null,zr(e,t));do try{m0();break}catch(i){em(e,i)}while(!0);if(zl(),J=r,Zi.current=n,ke!==null)throw Error(R(261));return Re=null,Oe=0,Ee}function m0(){for(;ke!==null;)rm(ke)}function h0(){for(;ke!==null&&!Fh();)rm(ke)}function rm(e){var t=im(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?nm(e):ke=t,Zl.current=null}function nm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=a0(r,t),r!==null){r.flags&=32767,ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,ke=null;return}}else if(r=o0(r,t,nt),r!==null){ke=r;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ee===0&&(Ee=5)}function Or(e,t,r){var n=re,i=vt.transition;try{vt.transition=null,re=1,p0(e,t,r,n)}finally{vt.transition=i,re=n}return null}function p0(e,t,r,n){do kn();while(mr!==null);if(J&6)throw Error(R(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Kh(e,o),e===Re&&(ke=Re=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||fi||(fi=!0,om(Ai,function(){return kn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=vt.transition,vt.transition=null;var a=re;re=1;var l=J;J|=4,Zl.current=null,d0(e,r),Xf(r,e),Op(Da),Fi=!!Aa,Da=Aa=null,e.current=r,u0(r),zh(),J=l,re=a,vt.transition=o}else e.current=r;if(fi&&(fi=!1,mr=e,to=i),o=e.pendingLanes,o===0&&(yr=null),Vh(r.stateNode),rt(e,Ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(eo)throw eo=!1,e=sl,sl=null,e;return to&1&&e.tag!==0&&kn(),o=e.pendingLanes,o&1?e===il?hs++:(hs=0,il=e):hs=0,_r(),null}function kn(){if(mr!==null){var e=Lc(to),t=vt.transition,r=re;try{if(vt.transition=null,re=16>e?16:e,mr===null)var n=!1;else{if(e=mr,mr=null,to=0,J&6)throw Error(R(331));var i=J;for(J|=4,D=e.current;D!==null;){var o=D,a=o.child;if(D.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(D=u;D!==null;){var h=D;switch(h.tag){case 0:case 11:case 15:fs(8,h,o)}var g=h.child;if(g!==null)g.return=h,D=g;else for(;D!==null;){h=D;var p=h.sibling,v=h.return;if(Yf(h),h===u){D=null;break}if(p!==null){p.return=v,D=p;break}D=v}}}var c=o.alternate;if(c!==null){var w=c.child;if(w!==null){c.child=null;do{var m=w.sibling;w.sibling=null,w=m}while(w!==null)}}D=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,D=a;else e:for(;D!==null;){if(o=D,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fs(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,D=x;break e}D=o.return}}var f=e.current;for(D=f;D!==null;){a=D;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,D=y;else e:for(a=f;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:jo(9,l)}}catch(E){we(l,l.return,E)}if(l===a){D=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,D=b;break e}D=l.return}}if(J=i,_r(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(po,e)}catch{}n=!0}return n}finally{re=r,vt.transition=t}}return!1}function ku(e,t,r){t=$n(r,t),t=Af(e,t,1),e=vr(e,t,1),t=Ye(),e!==null&&(qs(e,1,t),rt(e,t))}function we(e,t,r){if(e.tag===3)ku(e,e,r);else for(;t!==null;){if(t.tag===3){ku(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yr===null||!yr.has(n))){e=$n(r,e),e=Df(t,e,1),t=vr(t,e,1),e=Ye(),t!==null&&(qs(t,1,e),rt(t,e));break}}t=t.return}}function g0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Oe&r)===r&&(Ee===4||Ee===3&&(Oe&130023424)===Oe&&500>Ne()-td?zr(e,0):ed|=r),rt(e,t)}function sm(e,t){t===0&&(e.mode&1?(t=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):t=1);var r=Ye();e=Gt(e,t),e!==null&&(qs(e,t,r),rt(e,r))}function x0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),sm(e,r)}function v0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),sm(e,r)}var im;im=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ze=!1,i0(e,t,r);Ze=!!(e.flags&131072)}else Ze=!1,he&&t.flags&1048576&&df(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Pi(e,t),e=t.pendingProps;var i=En(t,We.current);jn(t,r),i=Yl(null,t,n,e,i,r);var o=Kl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(n)?(o=!0,Bi(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vl(t),i.updater=No,t.stateNode=i,i._reactInternals=t,Ha(t,n,e,r),t=Ga(null,t,n,!0,o,r)):(t.tag=0,he&&o&&Ll(t),He(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Pi(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=w0(n),e=Nt(n,e),i){case 0:t=Ka(null,t,n,e,r);break e;case 1:t=hu(null,t,n,e,r);break e;case 11:t=fu(null,t,n,e,r);break e;case 14:t=mu(null,t,n,Nt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Ka(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),hu(e,t,n,i,r);case 3:e:{if(qf(t),e===null)throw Error(R(387));n=t.pendingProps,o=t.memoizedState,i=o.element,pf(e,t),Ki(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=$n(Error(R(423)),t),t=pu(e,t,n,r,i);break e}else if(n!==i){i=$n(Error(R(424)),t),t=pu(e,t,n,r,i);break e}else for(it=xr(t.stateNode.containerInfo.firstChild),at=t,he=!0,kt=null,r=mf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_n(),n===i){t=Xt(e,t,r);break e}He(e,t,n,r)}t=t.child}return t;case 5:return gf(t),e===null&&Ba(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Fa(n,i)?a=null:o!==null&&Fa(n,o)&&(t.flags|=32),Uf(e,t),He(e,t,a,r),t.child;case 6:return e===null&&Ba(t),null;case 13:return Vf(e,t,r);case 4:return Bl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Mn(t,null,n,r):He(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),fu(e,t,n,i,r);case 7:return He(e,t,t.pendingProps,r),t.child;case 8:return He(e,t,t.pendingProps.children,r),t.child;case 12:return He(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,oe(Hi,n._currentValue),n._currentValue=a,o!==null)if(Et(o.value,a)){if(o.children===i.children&&!et.current){t=Xt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(o.tag===1){d=Ht(-1,r&-r),d.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?d.next=d:(d.next=h.next,h.next=d),u.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),Wa(o.return,r,t),l.lanes|=r;break}d=d.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(R(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Wa(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}He(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jn(t,r),i=yt(i),n=n(i),t.flags|=1,He(e,t,n,r),t.child;case 14:return n=t.type,i=Nt(n,t.pendingProps),i=Nt(n.type,i),mu(e,t,n,i,r);case 15:return Ff(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Nt(n,i),Pi(e,t),t.tag=1,tt(n)?(e=!0,Bi(t)):e=!1,jn(t,r),Lf(t,n,i),Ha(t,n,i,r),Ga(null,t,n,!0,e,r);case 19:return Bf(e,t,r);case 22:return zf(e,t,r)}throw Error(R(156,t.tag))};function om(e,t){return Rc(e,t)}function y0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,r,n){return new y0(e,t,r,n)}function id(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w0(e){if(typeof e=="function")return id(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===Sl)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ei(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")id(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case on:return Ur(r.children,i,o,t);case jl:a=8,i|=8;break;case xa:return e=gt(12,r,t,i|2),e.elementType=xa,e.lanes=o,e;case va:return e=gt(13,r,t,i),e.elementType=va,e.lanes=o,e;case ya:return e=gt(19,r,t,i),e.elementType=ya,e.lanes=o,e;case pc:return So(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mc:a=10;break e;case hc:a=9;break e;case kl:a=11;break e;case Sl:a=14;break e;case ar:a=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=gt(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Ur(e,t,r,n){return e=gt(7,e,n,t),e.lanes=r,e}function So(e,t,r,n){return e=gt(22,e,n,t),e.elementType=pc,e.lanes=r,e.stateNode={isHidden:!1},e}function sa(e,t,r){return e=gt(6,e,null,t),e.lanes=r,e}function ia(e,t,r){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function od(e,t,r,n,i,o,a,l,d){return e=new b0(e,t,r,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vl(o),e}function N0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function am(e){if(!e)return Sr;e=e._reactInternals;e:{if(Jr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(tt(r))return af(e,r,t)}return t}function lm(e,t,r,n,i,o,a,l,d){return e=od(r,n,!0,e,i,o,a,l,d),e.context=am(null),r=e.current,n=Ye(),i=wr(r),o=Ht(n,i),o.callback=t??null,vr(r,o,i),e.current.lanes=i,qs(e,i,n),rt(e,n),e}function Po(e,t,r,n){var i=t.current,o=Ye(),a=wr(i);return r=am(r),t.context===null?t.context=r:t.pendingContext=r,t=Ht(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vr(i,t,a),e!==null&&(Tt(e,i,a,o),ji(e,i,a)),a}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ad(e,t){Su(e,t),(e=e.alternate)&&Su(e,t)}function j0(){return null}var dm=typeof reportError=="function"?reportError:function(e){console.error(e)};function ld(e){this._internalRoot=e}Co.prototype.render=ld.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Po(e,t,null,null)};Co.prototype.unmount=ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kr(function(){Po(null,e,null,null)}),t[Kt]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<dr.length&&t!==0&&t<dr[r].priority;r++);dr.splice(r,0,e),r===0&&Uc(e)}};function dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function To(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Pu(){}function k0(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=no(a);o.call(u)}}var a=lm(t,n,e,0,null,!1,!1,"",Pu);return e._reactRootContainer=a,e[Kt]=a.current,Cs(e.nodeType===8?e.parentNode:e),Kr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=no(d);l.call(u)}}var d=od(e,0,!1,null,null,!1,!1,"",Pu);return e._reactRootContainer=d,e[Kt]=d.current,Cs(e.nodeType===8?e.parentNode:e),Kr(function(){Po(t,d,r,n)}),d}function Eo(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var d=no(a);l.call(d)}}Po(t,a,e,i)}else a=k0(r,t,e,i,n);return no(a)}Ac=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ns(t.pendingLanes);r!==0&&(Tl(t,r|1),rt(t,Ne()),!(J&6)&&(In=Ne()+500,_r()))}break;case 13:Kr(function(){var n=Gt(e,1);if(n!==null){var i=Ye();Tt(n,e,1,i)}}),ad(e,1)}};El=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=Ye();Tt(t,e,134217728,r)}ad(e,134217728)}};Dc=function(e){if(e.tag===13){var t=wr(e),r=Gt(e,t);if(r!==null){var n=Ye();Tt(r,e,t,n)}ad(e,t)}};Fc=function(){return re};zc=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};Ea=function(e,t,r){switch(t){case"input":if(Na(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=yo(n);if(!i)throw Error(R(90));xc(n),Na(n,i)}}}break;case"textarea":yc(e,r);break;case"select":t=r.value,t!=null&&yn(e,!!r.multiple,t,!1)}};Pc=rd;Cc=Kr;var S0={usingClientEntryPoint:!1,Events:[Bs,un,yo,kc,Sc,rd]},Xn={findFiberByHostInstance:Ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P0={bundleType:Xn.bundleType,version:Xn.version,rendererPackageName:Xn.rendererPackageName,rendererConfig:Xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_c(e),e===null?null:e.stateNode},findFiberByHostInstance:Xn.findFiberByHostInstance||j0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{po=mi.inject(P0),At=mi}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S0;dt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(t))throw Error(R(200));return N0(e,t,null,r)};dt.createRoot=function(e,t){if(!dd(e))throw Error(R(299));var r=!1,n="",i=dm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=od(e,1,!1,null,null,r,!1,n,i),e[Kt]=t.current,Cs(e.nodeType===8?e.parentNode:e),new ld(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=_c(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return Kr(e)};dt.hydrate=function(e,t,r){if(!To(t))throw Error(R(200));return Eo(null,e,t,!0,r)};dt.hydrateRoot=function(e,t,r){if(!dd(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=dm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=lm(t,null,e,1,r??null,i,!1,o,a),e[Kt]=t.current,Cs(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Co(t)};dt.render=function(e,t,r){if(!To(t))throw Error(R(200));return Eo(null,e,t,!1,r)};dt.unmountComponentAtNode=function(e){if(!To(e))throw Error(R(40));return e._reactRootContainer?(Kr(function(){Eo(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};dt.unstable_batchedUpdates=rd;dt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!To(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Eo(e,t,r,!1,n)};dt.version="18.3.1-next-f1338f8080-20240426";function um(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(um)}catch(e){console.error(e)}}um(),dc.exports=dt;var C0=dc.exports,Cu=C0;pa.createRoot=Cu.createRoot,pa.hydrateRoot=Cu.hydrateRoot;var Ot=[],ft=[],T0=Uint8Array,oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var rn=0,E0=oa.length;rn<E0;++rn)Ot[rn]=oa[rn],ft[oa.charCodeAt(rn)]=rn;ft[45]=62;ft[95]=63;function _0(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function M0(e,t,r){return(t+r)*3/4-r}function Ls(e){var t,r=_0(e),n=r[0],i=r[1],o=new T0(M0(e,n,i)),a=0,l=i>0?n-4:n,d;for(d=0;d<l;d+=4)t=ft[e.charCodeAt(d)]<<18|ft[e.charCodeAt(d+1)]<<12|ft[e.charCodeAt(d+2)]<<6|ft[e.charCodeAt(d+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=ft[e.charCodeAt(d)]<<2|ft[e.charCodeAt(d+1)]>>4,o[a++]=t&255),i===1&&(t=ft[e.charCodeAt(d)]<<10|ft[e.charCodeAt(d+1)]<<4|ft[e.charCodeAt(d+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function R0(e){return Ot[e>>18&63]+Ot[e>>12&63]+Ot[e>>6&63]+Ot[e&63]}function $0(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(R0(n));return i.join("")}function As(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,l=r-n;a<l;a+=o)i.push($0(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i.push(Ot[t>>2]+Ot[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ot[t>>10]+Ot[t>>4&63]+Ot[t<<2&63]+"=")),i.join("")}function Bt(e){if(e===void 0)return{};if(!cm(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function I0(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function cm(e){var i;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((i=r==null?void 0:r.constructor)==null?void 0:i.name)==="Object";return t&&n}const fm=!0,On=BigInt("-9223372036854775808"),ud=BigInt("9223372036854775807"),ll=BigInt("0"),O0=BigInt("8"),L0=BigInt("256");function mm(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function A0(e){e<ll&&(e-=On+On);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const i of t.match(/.{2}/g).reverse())r.set([parseInt(i,16)],n++),e>>=O0;return As(r)}function D0(e){const t=Ls(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=ll,n=ll;for(const i of t)r+=BigInt(i)*L0**n,n++;return r>ud&&(r+=On+On),r}function F0(e){if(e<On||ud<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),As(new Uint8Array(t))}function z0(e){const t=Ls(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const U0=DataView.prototype.setBigInt64?F0:A0,q0=DataView.prototype.getBigInt64?z0:D0,Tu=1024;function hm(e){if(e.length>Tu)throw new Error(`Field name ${e} exceeds maximum field name length ${Tu}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function Ln(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>Ln(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Ls(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return q0(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Ls(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,fm);if(!mm(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,i]of Object.entries(e))hm(n),r[n]=Ln(i);return r}const Eu=16384;function ps(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>Eu){const r="[...truncated]";let n=Eu-r.length;const i=t.codePointAt(n-1);return i!==void 0&&i>65535&&(n-=1),t.substring(0,n)+r}return t}function dl(e,t,r,n){var a;if(e===void 0){const l=r&&` (present at path ${r} in original object ${ps(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<On||ud<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:U0(e)}}if(typeof e=="number")if(mm(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,fm),{$float:As(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:As(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,d)=>dl(l,t,r+`[${d}]`));if(e instanceof Set)throw new Error(aa(r,"Set",[...e],t));if(e instanceof Map)throw new Error(aa(r,"Map",[...e],t));if(!cm(e)){const l=(a=e==null?void 0:e.constructor)==null?void 0:a.name,d=l?`${l} `:"";throw new Error(aa(r,d,e,t))}const i={},o=Object.entries(e);o.sort(([l,d],[u,h])=>l===u?0:l<u?-1:1);for(const[l,d]of o)d!==void 0&&(hm(l),i[l]=dl(d,t,r+`.${l}`));return i}function aa(e,t,r,n){return e?`${t}${ps(r)} is not a supported Convex type (present at path ${e} in original object ${ps(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ps(r)} is not a supported Convex type.`}function Pr(e){return dl(e,e,"")}var V0=Object.defineProperty,B0=(e,t,r)=>t in e?V0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,la=(e,t,r)=>B0(e,typeof t!="symbol"?t+"":t,r),_u,Mu;const W0=Symbol.for("ConvexError");class ul extends(Mu=Error,_u=W0,Mu){constructor(t){super(typeof t=="string"?t:ps(t)),la(this,"name","ConvexError"),la(this,"data"),la(this,_u,!0),this.data=t}}const pm=()=>Array.from({length:4},()=>0);pm();pm();const Ru="1.28.2";var Q0=Object.defineProperty,H0=(e,t,r)=>t in e?Q0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$u=(e,t,r)=>H0(e,typeof t!="symbol"?t+"":t,r);const Y0="color:rgb(0, 145, 255)";function gm(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class xm{constructor(t){$u(this,"_onLogLineFuncs"),$u(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function vm(e){const t=new xm(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function ym(e){return new xm(e)}function so(e,t,r,n,i){const o=gm(r);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const a=i.match(/^\[.*?\] /);if(a===null){e.error(`[CONVEX ${o}(${n})] Could not parse console.log`);return}const l=i.slice(1,a[0].length-2),d=i.slice(a[0].length);e.log(`%c[CONVEX ${o}(${n})] [${l}]`,Y0,d)}else e.error(`[CONVEX ${o}(${n})] ${i}`)}function K0(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function xn(e,t,r){return`[CONVEX ${gm(e)}(${t})] ${r.errorMessage}
  Called by client`}function cl(e,t){return t.data=e.errorData,t}function io(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function qr(e,t){return JSON.stringify({udfPath:io(e),args:Pr(t)})}var G0=Object.defineProperty,X0=(e,t,r)=>t in e?G0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rt=(e,t,r)=>X0(e,typeof t!="symbol"?t+"":t,r);class J0{constructor(){Rt(this,"nextQueryId"),Rt(this,"querySetVersion"),Rt(this,"querySet"),Rt(this,"queryIdToToken"),Rt(this,"identityVersion"),Rt(this,"auth"),Rt(this,"outstandingQueriesOlderThanRestart"),Rt(this,"outstandingAuthOlderThanRestart"),Rt(this,"paused"),Rt(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,i){const o=io(t),a=qr(o,r),l=this.querySet.get(a);if(l!==void 0)return l.numSubscribers+=1,{queryToken:a,modification:null,unsubscribe:()=>this.removeSubscriber(a)};{const d=this.nextQueryId++,u={id:d,canonicalizedUdfPath:o,args:r,numSubscribers:1,journal:n,componentPath:i};this.querySet.set(a,u),this.queryIdToToken.set(d,a);const h=this.querySetVersion,g=this.querySetVersion+1,p={type:"Add",queryId:d,udfPath:o,args:[Pr(r)],journal:n,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(d,p):this.querySetVersion=g,{queryToken:a,modification:{type:"ModifyQuerySet",baseVersion:h,newVersion:g,modifications:[p]},unsubscribe:()=>this.removeSubscriber(a)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const i=this.queryIdToToken.get(r.queryId);i!==void 0&&(this.querySet.get(i).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=io(t),i=qr(n,r),o=this.querySet.get(i);return o!==void 0?o.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const o of this.querySet.values()){const a={type:"Add",queryId:o.id,udfPath:o.canonicalizedUdfPath,args:[Pr(o.args)],journal:o.journal,componentPath:o.componentPath};r.push(a),t.has(o.id)||this.outstandingQueriesOlderThanRestart.add(o.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,i=this.querySetVersion+1,o={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,o):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:n,newVersion:i,modifications:[o]}}}}var Z0=Object.defineProperty,eg=(e,t,r)=>t in e?Z0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hi=(e,t,r)=>eg(e,typeof t!="symbol"?t+"":t,r);class tg{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,hi(this,"inflightRequests"),hi(this,"requestsOlderThanRestart"),hi(this,"inflightMutationsCount",0),hi(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(i=>{const o=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:o,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",i=r.message.udfPath;for(const d of t.logLines)so(this.logger,"info",n,i,d);const o=r.status;let a,l;if(t.success)a={success:!0,logLines:t.logLines,value:Ln(t.result)},l=()=>o.onResult(a);else{const d=t.result,{errorData:u}=t;so(this.logger,"error",n,i,d),a={success:!1,errorMessage:d,errorData:u!==void 0?Ln(u):void 0,logLines:t.logLines},l=()=>o.onResult(a)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:a}):(r.status={status:"Completed",result:a,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,i]of this.inflightRequests.entries()){const o=i.status;o.status==="Completed"&&o.ts.lessThanOrEqual(t)&&(o.onResolve(),r.set(n,o.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Ds=Symbol.for("functionName"),wm=Symbol.for("toReferencePath");function rg(e){return e[wm]??null}function ng(e){return e.startsWith("function://")}function sg(e){let t;if(typeof e=="string")ng(e)?t={functionHandle:e}:t={name:e};else if(e[Ds])t={name:e[Ds]};else{const r=rg(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function ot(e){const t=sg(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[Ds];if(!r)throw new Error(`${e} is not a functionReference`);return r}function bm(e){return{[Ds]:e}}function Nm(e=[]){const t={get(r,n){if(typeof n=="string"){const i=[...e,n];return Nm(i)}else if(n===Ds){if(e.length<2){const a=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}const i=e.slice(0,-1).join("/"),o=e[e.length-1];return o==="default"?i:i+":"+o}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const ig=Nm();var og=Object.defineProperty,ag=(e,t,r)=>t in e?og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oo=(e,t,r)=>ag(e,typeof t!="symbol"?t+"":t,r);class Fs{constructor(t){oo(this,"queryResults"),oo(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=Bt(r[0]),i=ot(t),o=this.queryResults.get(qr(i,n));if(o!==void 0)return Fs.queryValue(o.result)}getAllQueries(t){const r=[],n=ot(t);for(const i of this.queryResults.values())i.udfPath===io(n)&&r.push({args:i.args,value:Fs.queryValue(i.result)});return r}setQuery(t,r,n){const i=Bt(r),o=ot(t),a=qr(o,i);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const d={udfPath:o,args:i,result:l};this.queryResults.set(a,d),this.modifiedQueries.push(a)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class lg{constructor(){oo(this,"queryResults"),oo(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!r.has(a.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const i=new Fs(this.queryResults);for(const a of this.optimisticUpdates)a.update(i);const o=[];for(const[a,l]of this.queryResults){const d=n.get(a);(d===void 0||d.result!==l.result)&&o.push(a)}return o}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new Fs(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?cl(n,new ul(xn("query",r.udfPath,n))):new Error(xn("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var dg=Object.defineProperty,ug=(e,t,r)=>t in e?dg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,da=(e,t,r)=>ug(e,typeof t!="symbol"?t+"":t,r);class st{constructor(t,r){da(this,"low"),da(this,"high"),da(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new st(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?Iu:t>=cg?fg:new st(t%gs|0,t/gs|0)}toString(){return(BigInt(this.high)*BigInt(gs)+BigInt(this.low)).toString()}equals(t){return st.isLong(t)||(t=st.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return st.isLong(t)||(t=st.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?st.fromNumber(t):new st(t.low,t.high)}}const Iu=new st(0,0),Ou=65536,gs=Ou*Ou,cg=gs*gs,fg=new st(-1,-1);var mg=Object.defineProperty,hg=(e,t,r)=>t in e?mg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pi=(e,t,r)=>hg(e,typeof t!="symbol"?t+"":t,r);class Lu{constructor(t,r){pi(this,"version"),pi(this,"remoteQuerySet"),pi(this,"queryPath"),pi(this,"logger"),this.version={querySet:0,ts:st.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const i=this.queryPath(n.queryId);if(i)for(const a of n.logLines)so(this.logger,"info","query",i,a);const o=Ln(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:o,logLines:n.logLines});break}case"QueryFailed":{const i=this.queryPath(n.queryId);if(i)for(const a of n.logLines)so(this.logger,"info","query",i,a);const{errorData:o}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:o!==void 0?Ln(o):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function ua(e){const t=Ls(e);return st.fromBytesLE(Array.from(t))}function pg(e){const t=new Uint8Array(e.toBytesLE());return As(t)}function Au(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:ua(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:ua(e.startVersion.ts)},endVersion:{...e.endVersion,ts:ua(e.endVersion.ts)}}}}function gg(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:pg(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var xg=Object.defineProperty,vg=(e,t,r)=>t in e?xg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$e=(e,t,r)=>vg(e,typeof t!="symbol"?t+"":t,r);const yg=1e3,wg=1001,bg=1005,Ng=4040;let _i;function Mi(){return _i===void 0&&(_i=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(_i+performance.now())}function Du(){return`t=${Math.round((Mi()-_i)/100)/10}s`}const jm={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function jg(e){if(e===void 0)return"Unknown";for(const t of Object.keys(jm))if(e.startsWith(t))return t;return"Unknown"}class kg{constructor(t,r,n,i,o,a){this.markConnectionStateDirty=o,this.debug=a,$e(this,"socket"),$e(this,"connectionCount"),$e(this,"_hasEverConnected",!1),$e(this,"lastCloseReason"),$e(this,"transitionChunkBuffer",null),$e(this,"defaultInitialBackoff"),$e(this,"maxBackoff"),$e(this,"retries"),$e(this,"serverInactivityThreshold"),$e(this,"reconnectDueToServerInactivityTimeout"),$e(this,"uri"),$e(this,"onOpen"),$e(this,"onResume"),$e(this,"onMessage"),$e(this,"webSocketConstructor"),$e(this,"logger"),$e(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=Au(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Mi()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Du(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Du())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let i=Au(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const a=this.assembleTransition(i);if(!a)return;i=a,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==yg&&r.code!==wg&&r.code!==bg&&r.code!==Ng){let i=`WebSocket closed with code ${r.code}`;r.reason&&(i+=`: ${r.reason}`),this.logger.log(i),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(i)}const n=jg(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=gg(t),i=JSON.stringify(n);let o=!1;try{this.socket.ws.send(i),o=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${o?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Mi()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:jm[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(n,this.maxBackoff),o=i*(Math.random()-.5);return i+o}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=Mi()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(n)}ms`,o=`${Math.round(r/1e4)/100}MB`,a=r/(n/1e3),l=`${Math.round(a/1e4)/100}MB per second`;this._logVerbose(`received ${o} transition in ${i} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${o}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${o} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function Sg(){return Pg()}function Pg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class is extends Error{}is.prototype.name="InvalidTokenError";function Cg(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Tg(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return Cg(t)}catch{return atob(t)}}function km(e,t){if(typeof e!="string")throw new is("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new is(`Invalid token specified: missing part #${r+1}`);let i;try{i=Tg(n)}catch(o){throw new is(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new is(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}var Eg=Object.defineProperty,_g=(e,t,r)=>t in e?Eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ct=(e,t,r)=>_g(e,typeof t!="symbol"?t+"":t,r);const Mg=20*24*60*60*1e3,Fu=2;class Rg{constructor(t,r,n){ct(this,"authState",{state:"noAuth"}),ct(this,"configVersion",0),ct(this,"syncState"),ct(this,"authenticate"),ct(this,"stopSocket"),ct(this,"tryRestartSocket"),ct(this,"pauseSocket"),ct(this,"resumeSocket"),ct(this,"clearAuth"),ct(this,"logger"),ct(this,"refreshTokenLeewaySeconds"),ct(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Fu){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Fu-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:i}=r;if(!n||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const o=i-n;if(o<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let a=Math.min(Mg,(o-this.refreshTokenLeewaySeconds)*1e3);a<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${o}s`),a=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},a);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${a}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const i=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return km(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const $g=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Ig(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function Og(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function Lg(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of $g){const n=performance.getEntriesByName(r).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...n)}return t.map(Og)}var Ag=Object.defineProperty,Dg=(e,t,r)=>t in e?Ag(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,je=(e,t,r)=>Dg(e,typeof t!="symbol"?t+"":t,r);class Fg{constructor(t,r,n){if(je(this,"address"),je(this,"state"),je(this,"requestManager"),je(this,"webSocketManager"),je(this,"authenticationManager"),je(this,"remoteQuerySet"),je(this,"optimisticQueryResults"),je(this,"_transitionHandlerCounter",0),je(this,"_nextRequestId"),je(this,"_onTransitionFns",new Map),je(this,"_sessionId"),je(this,"firstMessageReceived",!1),je(this,"debug"),je(this,"logger"),je(this,"maxObservedTimestamp"),je(this,"connectionStateSubscribers",new Map),je(this,"nextConnectionStateSubscriberId",0),je(this,"_lastPublishedConnectionState"),je(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const v=this.connectionState();if(JSON.stringify(v)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=v;for(const c of this.connectionStateSubscribers.values())c(v)}})}),je(this,"mark",v=>{this.debug&&Ig(v,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&I0(t),n={...n};const i=n.authRefreshTokenLeewaySeconds??2;let o=n.webSocketConstructor;if(!o&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");o=o||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?ym({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:vm({verbose:n.verbose??!1});const a=t.search("://");if(a===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(a+3),d=t.substring(0,a);let u;if(d==="http")u="ws";else if(d==="https")u="wss";else throw new Error(`Unknown parent protocol ${d}`);const h=`${u}://${l}/api/${Ru}/sync`;this.state=new J0,this.remoteQuerySet=new Lu(v=>this.state.queryPath(v),this.logger),this.requestManager=new tg(this.logger,this.markConnectionStateDirty);const g=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new Rg(this.state,{authenticate:v=>{const c=this.state.setAuth(v);return this.webSocketManager.sendMessage(c),c.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:g,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new lg,this.addOnTransitionHandler(v=>{r(v.queries.map(c=>c.token))}),this._nextRequestId=0,this._sessionId=Sg();const{unsavedChangesWarning:p}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(p===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else p!==!1&&window.addEventListener("beforeunload",v=>{if(this.requestManager.hasIncompleteRequests()){v.preventDefault();const c="Are you sure you want to leave? Your changes may not be saved.";return(v||window.event).returnValue=c,c}});this.webSocketManager=new kg(h,{onOpen:v=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...v,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const c=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new Lu(x=>this.state.queryPath(x),this.logger);const[w,m]=this.state.restart(c);m&&this.webSocketManager.sendMessage(m),this.webSocketManager.sendMessage(w);for(const x of this.requestManager.restart())this.webSocketManager.sendMessage(x)},onResume:()=>{const[v,c]=this.state.resume();c&&this.webSocketManager.sendMessage(c),v&&this.webSocketManager.sendMessage(v);for(const w of this.requestManager.resume())this.webSocketManager.sendMessage(w)},onMessage:v=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),v.type){case"Transition":{this.observedTimestamp(v.endVersion.ts),this.authenticationManager.onTransition(v),this.remoteQuerySet.transition(v),this.state.transition(v);const c=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(c);break}case"MutationResponse":{v.success&&this.observedTimestamp(v.ts);const c=this.requestManager.onResponse(v);c!==null&&this.notifyOnQueryResultChanges(new Map([[c.requestId,c.result]]));break}case"ActionResponse":{this.requestManager.onResponse(v);break}case"AuthError":{this.authenticationManager.onAuthError(v);break}case"FatalError":{const c=K0(this.logger,v.error);throw this.webSocketManager.terminate(),c}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},o,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&g()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[o,a]of r){const l=this.state.queryToken(o);if(l!==null){const d={result:a,udfPath:this.state.queryPath(o),args:this.state.queryArgs(o)};n.set(l,d)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:i.map(o=>{const a=this.optimisticQueryResults.rawQueryResult(o);return{token:o,modification:{kind:"Updated",result:a.result}}}),reflectedMutations:Array.from(t).map(([o,a])=>({requestId:o,result:a})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?km(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const i=Bt(r),{modification:o,queryToken:a,unsubscribe:l}=this.state.subscribe(t,i,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return o!==null&&this.webSocketManager.sendMessage(o),{queryToken:a,unsubscribe:()=>{const d=l();d&&this.webSocketManager.sendMessage(d)}}}localQueryResult(t,r){const n=Bt(r),i=qr(t,n);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=Bt(r),i=qr(t,n);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,r){const n=Bt(r),i=qr(t,n);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const i=await this.mutationInternal(t,r,n);if(!i.success)throw i.errorData!==void 0?cl(i,new ul(xn("mutation",t,i))):new Error(xn("mutation",t,i));return i.value}async mutationInternal(t,r,n,i){const{mutationPromise:o}=this.enqueueMutation(t,r,n,i);return o}enqueueMutation(t,r,n,i){const o=Bt(r);this.tryReportLongDisconnect();const a=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const h=n.optimisticUpdate;if(h!==void 0){const g=c=>{h(c,o)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},v=this.optimisticQueryResults.applyOptimisticUpdate(g,a).map(c=>{const w=this.localQueryResultByToken(c);return{token:c,modification:{kind:"Updated",result:w===void 0?void 0:{success:!0,value:w,logLines:[]}}}});this.handleTransition({queries:v,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:a,udfPath:t,componentPath:i,args:[Pr(o)]},d=this.webSocketManager.sendMessage(l),u=this.requestManager.request(l,d);return{requestId:a,mutationPromise:u}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?cl(n,new ul(xn("action",t,n))):new Error(xn("action",t,n));return n.value}async actionInternal(t,r,n){const i=Bt(r),o=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const a={type:"Action",requestId:o,udfPath:t,componentPath:n,args:[Pr(i)]},l=this.webSocketManager.sendMessage(a);return this.requestManager.request(a,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=Lg(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Ru}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function zg({getCurrentValue:e,subscribe:t}){const[r,n]=N.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(i=e(),n({getCurrentValue:e,subscribe:t,value:i})),N.useEffect(()=>{let o=!1;const a=()=>{o||n(d=>{if(d.getCurrentValue!==e||d.subscribe!==t)return d;const u=e();return d.value===u?d:{...d,value:u}})},l=t(a);return a(),()=>{o=!0,l()}},[e,t]),i}var Ug=Object.defineProperty,qg=(e,t,r)=>t in e?Ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ir=(e,t,r)=>qg(e,typeof t!="symbol"?t+"":t,r);const Vg=5e3;if(typeof ho>"u")throw new Error("Required dependency 'react' not found");function Sm(e,t,r){function n(i){return Qg(i),t.mutation(e,i,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(o){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${ot(e)}`);return Sm(e,t,o)},n}class Bg{constructor(t,r){if(ir(this,"address"),ir(this,"cachedSync"),ir(this,"listeners"),ir(this,"options"),ir(this,"closed",!1),ir(this,"_logger"),ir(this,"adminAuth"),ir(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?ym({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:vm({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new Fg(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,i]=r,o=ot(t);return{onUpdate:a=>{const{queryToken:l,unsubscribe:d}=this.sync.subscribe(o,n,i),u=this.listeners.get(l);return u!==void 0?u.add(a):this.listeners.set(l,new Set([a])),()=>{if(this.closed)return;const h=this.listeners.get(l);h.delete(a),h.size===0&&this.listeners.delete(l),d()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(o,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(o,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(o,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??Vg,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,r)}mutation(t,...r){const[n,i]=r,o=ot(t);return this.sync.mutation(o,n,i)}action(t,...r){const n=ot(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),i=n.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((o,a)=>{const l=n.onUpdate(()=>{l();try{o(n.localQueryResult())}catch(d){a(d)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const i of n)i()}}}const cd=ho.createContext(void 0);function fd(){return N.useContext(cd)}const Wg=({client:e,children:t})=>ho.createElement(cd.Provider,{value:e},t);function St(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:Bt(t[0]),i=typeof e=="string"?bm(e):e,o=ot(i),a=N.useMemo(()=>r?{}:{query:{query:i,args:n}},[JSON.stringify(Pr(n)),o,r]),d=Gg(a).query;if(d instanceof Error)throw d;return d}function Xe(e){const t=typeof e=="string"?bm(e):e,r=N.useContext(cd);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return N.useMemo(()=>Sm(t,r),[r,ot(t)])}function Qg(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var Hg=Object.defineProperty,Yg=(e,t,r)=>t in e?Hg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ca=(e,t,r)=>Yg(e,typeof t!="symbol"?t+"":t,r);class Kg{constructor(t){ca(this,"createWatch"),ca(this,"queries"),ca(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:i}=t[r];if(ot(n),this.queries[r]===void 0)this.addQuery(r,n,i);else{const o=this.queries[r];(ot(n)!==ot(o.query)||JSON.stringify(Pr(i))!==JSON.stringify(Pr(o.args)))&&(this.removeQuery(r),this.addQuery(r,n,i))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:i,args:o}=t[n];ot(i);const a=this.createWatch(i,o);let l;try{l=a.localQueryResult()}catch(d){if(d instanceof Error)l=d;else throw d}r[n]=l}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:i,watch:o}=this.queries[r],a=o.journal();this.removeQuery(r),this.addQuery(r,n,i,a)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(r,n,i),a=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:o,unsubscribe:a}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function Gg(e){const t=fd();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=N.useMemo(()=>(n,i,o)=>t.watchQuery(n,i,o?{journal:o}:{}),[t]);return Xg(e,r)}function Xg(e,t){const[r]=N.useState(()=>new Kg(t));r.createWatch!==t&&r.setCreateWatch(t),N.useEffect(()=>()=>r.destroy(),[r]);const n=N.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:i=>(r.setQueries(e),r.subscribe(i))}),[r,e]);return zg(n)}function Pm(e,t){const r={get(n,i){if(typeof i=="string"){const o=[...t,i];return Pm(e,o)}else if(i===wm){if(t.length<1){const o=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${o}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const Jg=()=>Pm("components",[]),ie=ig;Jg();let Zg={data:""},ex=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Zg},tx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rx=/\/\*[^]*?\*\/|  +/g,zu=/\n+/g,cr=(e,t)=>{let r="",n="",i="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+a+";":n+=o[1]=="f"?cr(a,o):o+"{"+cr(a,o[1]=="k"?"":t)+"}":typeof a=="object"?n+=cr(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=cr.p?cr.p(o,a):o+":"+a+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Ut={},Cm=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Cm(e[r]);return t}return e},nx=(e,t,r,n,i)=>{let o=Cm(e),a=Ut[o]||(Ut[o]=(d=>{let u=0,h=11;for(;u<d.length;)h=101*h+d.charCodeAt(u++)>>>0;return"go"+h})(o));if(!Ut[a]){let d=o!==e?e:(u=>{let h,g,p=[{}];for(;h=tx.exec(u.replace(rx,""));)h[4]?p.shift():h[3]?(g=h[3].replace(zu," ").trim(),p.unshift(p[0][g]=p[0][g]||{})):p[0][h[1]]=h[2].replace(zu," ").trim();return p[0]})(e);Ut[a]=cr(i?{["@keyframes "+a]:d}:d,r?"":"."+a)}let l=r&&Ut.g?Ut.g:null;return r&&(Ut.g=Ut[a]),((d,u,h,g)=>{g?u.data=u.data.replace(g,d):u.data.indexOf(d)===-1&&(u.data=h?d+u.data:u.data+d)})(Ut[a],t,n,l),a},sx=(e,t,r)=>e.reduce((n,i,o)=>{let a=t[o];if(a&&a.call){let l=a(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=d?"."+d:l&&typeof l=="object"?l.props?"":cr(l,""):l===!1?"":l}return n+i+(a??"")},"");function _o(e){let t=this||{},r=e.call?e(t.p):e;return nx(r.unshift?r.raw?sx(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,ex(t.target),t.g,t.o,t.k)}let Tm,fl,ml;_o.bind({g:1});let Jt=_o.bind({k:1});function ix(e,t,r,n){cr.p=t,Tm=e,fl=r,ml=n}function Mr(e,t){let r=this||{};return function(){let n=arguments;function i(o,a){let l=Object.assign({},o),d=l.className||i.className;r.p=Object.assign({theme:fl&&fl()},l),r.o=/ *go\d+/.test(d),l.className=_o.apply(r,n)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),ml&&u[0]&&ml(l),Tm(u,l)}return i}}var ox=e=>typeof e=="function",ao=(e,t)=>ox(e)?e(t):e,ax=(()=>{let e=0;return()=>(++e).toString()})(),Em=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lx=20,md="default",_m=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return _m(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},Ri=[],Mm={toasts:[],pausedAt:void 0,settings:{toastLimit:lx}},Lt={},Rm=(e,t=md)=>{Lt[t]=_m(Lt[t]||Mm,e),Ri.forEach(([r,n])=>{r===t&&n(Lt[t])})},$m=e=>Object.keys(Lt).forEach(t=>Rm(e,t)),dx=e=>Object.keys(Lt).find(t=>Lt[t].toasts.some(r=>r.id===e)),Mo=(e=md)=>t=>{Rm(t,e)},ux={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cx=(e={},t=md)=>{let[r,n]=N.useState(Lt[t]||Mm),i=N.useRef(Lt[t]);N.useEffect(()=>(i.current!==Lt[t]&&n(Lt[t]),Ri.push([t,n]),()=>{let a=Ri.findIndex(([l])=>l===t);a>-1&&Ri.splice(a,1)}),[t]);let o=r.toasts.map(a=>{var l,d,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((d=e[a.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||ux[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:o}},fx=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||ax()}),Qs=e=>(t,r)=>{let n=fx(t,e,r);return Mo(n.toasterId||dx(n.id))({type:2,toast:n}),n.id},Te=(e,t)=>Qs("blank")(e,t);Te.error=Qs("error");Te.success=Qs("success");Te.loading=Qs("loading");Te.custom=Qs("custom");Te.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Mo(t)(r):$m(r)};Te.dismissAll=e=>Te.dismiss(void 0,e);Te.remove=(e,t)=>{let r={type:4,toastId:e};t?Mo(t)(r):$m(r)};Te.removeAll=e=>Te.remove(void 0,e);Te.promise=(e,t,r)=>{let n=Te.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?ao(t.success,i):void 0;return o?Te.success(o,{id:n,...r,...r==null?void 0:r.success}):Te.dismiss(n),i}).catch(i=>{let o=t.error?ao(t.error,i):void 0;o?Te.error(o,{id:n,...r,...r==null?void 0:r.error}):Te.dismiss(n)}),e};var mx=1e3,hx=(e,t="default")=>{let{toasts:r,pausedAt:n}=cx(e,t),i=N.useRef(new Map).current,o=N.useCallback((g,p=mx)=>{if(i.has(g))return;let v=setTimeout(()=>{i.delete(g),a({type:4,toastId:g})},p);i.set(g,v)},[]);N.useEffect(()=>{if(n)return;let g=Date.now(),p=r.map(v=>{if(v.duration===1/0)return;let c=(v.duration||0)+v.pauseDuration-(g-v.createdAt);if(c<0){v.visible&&Te.dismiss(v.id);return}return setTimeout(()=>Te.dismiss(v.id,t),c)});return()=>{p.forEach(v=>v&&clearTimeout(v))}},[r,n,t]);let a=N.useCallback(Mo(t),[t]),l=N.useCallback(()=>{a({type:5,time:Date.now()})},[a]),d=N.useCallback((g,p)=>{a({type:1,toast:{id:g,height:p}})},[a]),u=N.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),h=N.useCallback((g,p)=>{let{reverseOrder:v=!1,gutter:c=8,defaultPosition:w}=p||{},m=r.filter(y=>(y.position||w)===(g.position||w)&&y.height),x=m.findIndex(y=>y.id===g.id),f=m.filter((y,b)=>b<x&&y.visible).length;return m.filter(y=>y.visible).slice(...v?[f+1]:[0,f]).reduce((y,b)=>y+(b.height||0)+c,0)},[r]);return N.useEffect(()=>{r.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let p=i.get(g.id);p&&(clearTimeout(p),i.delete(g.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:u,calculateOffset:h}}},px=Jt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gx=Jt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xx=Jt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,vx=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${px} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yx=Jt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wx=Mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${yx} 1s linear infinite;
`,bx=Jt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Nx=Jt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jx=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${bx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Nx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kx=Mr("div")`
  position: absolute;
`,Sx=Mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Px=Jt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Cx=Mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Px} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Tx=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(Cx,null,t):t:r==="blank"?null:N.createElement(Sx,null,N.createElement(wx,{...n}),r!=="loading"&&N.createElement(kx,null,r==="error"?N.createElement(vx,{...n}):N.createElement(jx,{...n})))},Ex=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_x=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Mx="0%{opacity:0;} 100%{opacity:1;}",Rx="0%{opacity:1;} 100%{opacity:0;}",$x=Mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ix=Mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ox=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=Em()?[Mx,Rx]:[Ex(r),_x(r)];return{animation:t?`${Jt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Lx=N.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?Ox(e.position||t||"top-center",e.visible):{opacity:0},o=N.createElement(Tx,{toast:e}),a=N.createElement(Ix,{...e.ariaProps},ao(e.message,e));return N.createElement($x,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:o,message:a}):N.createElement(N.Fragment,null,o,a))});ix(N.createElement);var Ax=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let o=N.useCallback(a=>{if(a){let l=()=>{let d=a.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:o,className:t,style:r},i)},Dx=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Em()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},Fx=_o`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,gi=16,zx=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:o,containerStyle:a,containerClassName:l})=>{let{toasts:d,handlers:u}=hx(r,o);return N.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:gi,left:gi,right:gi,bottom:gi,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(h=>{let g=h.position||t,p=u.calculateOffset(h,{reverseOrder:e,gutter:n,defaultPosition:t}),v=Dx(g,p);return N.createElement(Ax,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?Fx:"",style:v},h.type==="custom"?ao(h.message,h):i?i(h):N.createElement(Lx,{toast:h,position:g}))}))},O=Te;const Im=N.createContext();function Ux({children:e,userId:t}){const[r,n]=N.useState(null),[i,o]=N.useState(0),[a,l]=N.useState(!1),[d,u]=N.useState(!1),h=St(ie.prayerSchedules.getByUser,t?{userId:t}:"skip"),g=St(ie.prayerSchedules.getUpcoming,t?{userId:t}:"skip"),p=St(ie.prayerStreaks.getByUser,t?{userId:t}:"skip"),v=St(ie.prayerHistory.getByUser,t?{userId:t}:"skip"),c=St(ie.userSettings.getByUser,t?{userId:t}:"skip"),w=h===void 0||g===void 0||p===void 0||v===void 0||c===void 0,m=Xe(ie.prayerSchedules.create),x=Xe(ie.prayerSchedules.update),f=Xe(ie.prayerSchedules.remove),y=Xe(ie.prayerStreaks.updateStreak),b=Xe(ie.prayerHistory.create),E=Xe(ie.prayerHistory.remove),_=Xe(ie.userSettings.update),T=async($,M=15)=>{const B=h.find(Q=>Q._id===$);B&&(n(B),l(!0),u(!1),o(M*60))},C=()=>{u(!0)},F=()=>{u(!1)},S=async()=>{if(r){const $=Math.floor((900-i)/60);await y({userId:t}),await b({userId:t,prayerScheduleId:r._id,duration:$,prayerPoints:[],notes:""}),r.recurring||await x({id:r._id,isCompleted:!0}),O.success("Prayer session completed!")}n(null),l(!1),u(!1),o(0)};N.useEffect(()=>{let $=null;return a&&!d&&i>0?$=setInterval(()=>{o(M=>M<=1?(S(),0):M-1)},1e3):i===0&&a&&S(),()=>clearInterval($)},[a,d,i]);const j=$=>{const M=Math.floor($/60),B=$%60;return`${M.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`};return s.jsx(Im.Provider,{value:{userId:t,schedules:h||[],upcomingSchedules:g||[],streak:p,history:v||[],settings:c,isLoading:w,activePrayer:r,countdown:i,isPraying:a,isPaused:d,formatTime:j,startPrayer:T,stopPrayer:S,pausePrayer:C,resumePrayer:F,createSchedule:m,updateSchedule:x,deleteSchedule:f,deleteHistory:E,updateSettings:_},children:e})}function _t(){const e=N.useContext(Im);if(!e)throw new Error("usePrayer must be used within PrayerProvider");return e}let Ft=null,qx=null;async function hd(){var t,r;if(!("serviceWorker"in navigator))return console.warn("Service Workers are not supported in this browser"),null;if(!(location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="0.0.0.0"))return console.warn(" Service Workers require HTTPS in production (or localhost for development)"),console.warn("Current context:",location.protocol,location.hostname),null;console.log(" Secure context detected - Service Worker will work!");try{let n=await navigator.serviceWorker.getRegistration();if(n)console.log(" Service Worker already registered"),(((t=n.active)==null?void 0:t.scriptURL)||((r=n.waiting)==null?void 0:r.scriptURL)||"").includes("sw.js")?console.log(" Using custom service worker for notifications"):console.log(" Different service worker found - notifications may still work"),console.log(" Environment:",location.hostname==="localhost"?"Development":"Production");else{const i="/sw.js";try{n=await navigator.serviceWorker.register(i,{scope:"/"}),console.log(" Service Worker registered successfully:",i),console.log(" Environment:",location.hostname==="localhost"?"Development (localhost)":"Production (HTTPS)")}catch(o){return console.error(" Failed to register service worker:",o),(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log(" Service worker file may not be available in dev mode"),console.log(" It will work automatically when you deploy to production (HTTPS)")),null}}return Ft=n,n.installing?(console.log("Service Worker installing..."),await new Promise(i=>{const o=n.installing;o.addEventListener("statechange",()=>{o.state==="activated"&&(console.log(" Service Worker activated"),i())})})):n.waiting&&n.waiting.postMessage({type:"SKIP_WAITING"}),n.active&&console.log(" Service Worker is active and ready for notifications"),n.addEventListener("updatefound",()=>{const i=n.installing;i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New service worker available")})}),n}catch(n){console.error(" Service Worker registration failed:",n),n.message.includes("Failed to register")&&console.error("Make sure the service worker file (sw.js) is accessible at the root of your domain");try{const i=await navigator.serviceWorker.getRegistration();if(i)return Ft=i,console.log(" Using existing service worker registration"),i}catch(i){console.error("Could not get existing service worker:",i)}return null}}async function Om(e,t){if(!Ft)return console.warn("Service Worker not registered"),null;try{if(!("PushManager"in window))return console.warn("Push messaging is not supported"),null;if(await Notification.requestPermission()!=="granted")return console.warn("Notification permission not granted"),null;const n="BKkJoFms6e3nG-P7oe09z3a5N6LQtU15NpAnmT4cogJmkZ4qphvwnLWcW6veQJerqeTmHhl1s9q03SB5ca6ynQ8";console.log(" VAPID public key found - push subscriptions enabled!");try{const i=await Ft.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Wx(n)});if(qx=i,console.log(" Push subscription successful!"),e&&t){const o=i.toJSON();await e({userId:t,subscription:{endpoint:o.endpoint,keys:{p256dh:o.keys.p256dh,auth:o.keys.auth}}}),console.log(" Subscription saved to backend!")}return i}catch(i){return console.warn("Push subscription failed:",i),null}}catch(r){return console.error("Push subscription failed:",r),null}}async function Vx({title:e,body:t,icon:r,tag:n,data:i}){if(!("Notification"in window)||Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;if(!Ft)try{Ft=await navigator.serviceWorker.getRegistration()}catch(o){console.warn("Could not get service worker registration:",o)}try{const o=await navigator.serviceWorker.ready;return o&&o.active?new Promise(a=>{const l=new MessageChannel;l.port1.onmessage=d=>{d.data&&d.data.success?(console.log(" Notification shown via service worker"),a(!0)):a(!1)};try{o.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:e,body:t,icon:r||"/vite.svg",tag:n||"prayer-notification",data:i||{url:"/",timestamp:Date.now()}}},[l.port2]),setTimeout(()=>{a(!0)},500)}catch(d){console.warn("Failed to post message to service worker:",d),a(!1)}}).then(a=>{if(a)return!0;throw new Error("Service worker notification failed")}).catch(()=>new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i})):(console.log("Service worker not ready, using fallback notification"),new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i}))}catch(o){console.error("Error showing background notification via service worker:",o);try{return new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i})}catch(a){return console.error("Fallback notification also failed:",a),null}}}async function Bx(){if(!Ft)return!1;try{return"sync"in Ft?(await Ft.sync.register("check-notifications"),console.log("Background sync registered"),!0):(console.warn("Background sync not supported"),!1)}catch(e){return console.error("Background sync registration failed:",e),!1}}function Wx(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}function Qx(){return Ft}function Lm(){const{userId:e,settings:t,schedules:r,upcomingSchedules:n,streak:i}=_t(),o=Xe(ie.pushData.saveSubscription),a=N.useRef(null),l=N.useRef({}),d=N.useRef(null);return N.useEffect(()=>{hd().then(u=>{u&&(console.log("Service Worker registered for background notifications"),Bx(),t!=null&&t.notificationsEnabled&&e&&Om(o,e))}),"Notification"in window&&(d.current=Notification.permission)},[e,t==null?void 0:t.notificationsEnabled]),N.useEffect(()=>{if(!(t!=null&&t.notificationsEnabled)){a.current&&(clearInterval(a.current),a.current=null);return}if(Notification.permission==="default"||Notification.permission!=="granted")return;const u=()=>{const h=new Date;h.toTimeString().slice(0,5);const g=h.toDateString();if(t!=null&&t.notificationTime){const[p,v]=t.notificationTime.split(":").map(Number),c=p*60+v,w=h.getHours()*60+h.getMinutes(),m=h.getSeconds(),x=`daily-${g}`;!l.current[x]&&w===c&&m<50&&(Jn({title:"Prayer Reminder",body:"Time for your daily prayer session!",icon:"/vite.svg",tag:x}),l.current[x]=Date.now(),O("Daily prayer reminder!",{icon:"",duration:5e3}))}if(t!=null&&t.showPrayerReminders&&n&&n.length>0&&n.forEach(p=>{const c=new Date(p.scheduledTime)-h,w=Math.floor(c/(1e3*60)),m=Math.floor(c/1e3);if(w===5&&m<=300&&m>=250){const x=`schedule-${p._id}-5min`;l.current[x]||(Jn({title:"Prayer Schedule Reminder",body:`"${p.title}" starts in 5 minutes`,icon:"/vite.svg",tag:x}),l.current[x]=Date.now(),O(`Prayer "${p.title}" in 5 minutes!`,{icon:"",duration:5e3}))}if(w===1&&m<=60&&m>=50){const x=`schedule-${p._id}-1min`;l.current[x]||(Jn({title:"Prayer Starting Soon",body:`"${p.title}" starts in 1 minute`,icon:"/vite.svg",tag:x}),l.current[x]=Date.now(),O(`Prayer "${p.title}" starting in 1 minute!`,{icon:"",duration:5e3}))}if(c<=1e4&&c>=0){const x=`schedule-${p._id}-start`;l.current[x]||(Jn({title:"Prayer Time!",body:`"${p.title}" is starting now`,icon:"/vite.svg",tag:x}),l.current[x]=Date.now(),O(`Prayer "${p.title}" is starting now!`,{icon:"",duration:5e3}))}}),t!=null&&t.showStreakNotifications&&i){const p=`streak-${i.currentStreak}-${g}`,v=l.current[p];[7,14,30,50,100].includes(i.currentStreak)&&!v&&(Jn({title:" Streak Milestone!",body:`Amazing! You've reached ${i.currentStreak} days of prayer!`,icon:"/vite.svg",tag:p}),l.current[p]=Date.now(),O.success(` ${i.currentStreak}-day streak milestone!`,{duration:5e3}))}};return a.current=setInterval(u,1e4),u(),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[t==null?void 0:t.notificationsEnabled,t==null?void 0:t.notificationTime,t==null?void 0:t.showPrayerReminders,t==null?void 0:t.showStreakNotifications,n,i]),N.useEffect(()=>{const h=setInterval(()=>{const g=Date.now()-864e5;Object.keys(l.current).forEach(p=>{l.current[p]<g&&delete l.current[p]})},36e5);return()=>clearInterval(h)},[]),{requestPermission:async()=>{if("Notification"in window){const u=await Notification.requestPermission();return d.current=u,u}return"denied"},permission:d.current}}async function Jn({title:e,body:t,icon:r,tag:n}){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{if(await Vx({title:e,body:t,icon:r,tag:n}))return;const o=new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n||"prayer-notification",requireInteraction:!1,silent:!1});setTimeout(()=>{o.close()},5e3),o.onclick=()=>{window.focus(),o.close()}}catch(i){console.error("Error showing notification:",i)}}const Am=N.createContext(),Uu=[{id:"default-chant-1",name:"Deep Soaking Worship (Default)",url:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/Theophilus_Sunday_-_Aya_o_Aya_Adullam_CeeNaija.com_.mp3",duration:0}],qu=[{id:"default-tongue-1",name:"Spirit Lead Me (Default)",url:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/Bishop%20David%20Oyedepo%20-%201%20HOUR%20OF%20TONGUES%20OF%20FIRE%20-%20No%20devil%20can%20withstand%20this%20I%20Gospel%20Afrik%20Tv-_AudioTrimmer.com_.mp3",duration:0}];function Hx({children:e}){const{settings:t}=_t(),[r,n]=N.useState(null),[i,o]=N.useState(!1),[a,l]=N.useState((t==null?void 0:t.defaultVolume)??.7),[d,u]=N.useState([]),[h,g]=N.useState([]),[p,v]=N.useState(0),[c,w]=N.useState(0),m=N.useRef(null);N.useEffect(()=>{(t==null?void 0:t.defaultVolume)!==void 0&&l(t.defaultVolume)},[t==null?void 0:t.defaultVolume]),N.useEffect(()=>{if(!m.current){m.current=new Audio,m.current.loop=!0,m.current.volume=a;const S=()=>o(!1),j=G=>{o(!1),console.error("Audio playback error:",G)},$=()=>{m.current&&r&&(console.log(`Audio loaded successfully: ${(r==null?void 0:r.name)||"Unknown"}`),w(m.current.duration||0))},M=()=>{m.current&&w(m.current.duration||0)},B=()=>{m.current&&v(m.current.currentTime||0)},Q=()=>{m.current&&w(m.current.duration||0)};return m.current.addEventListener("ended",S),m.current.addEventListener("error",j),m.current.addEventListener("canplay",$),m.current.addEventListener("loadedmetadata",M),m.current.addEventListener("timeupdate",B),m.current.addEventListener("durationchange",Q),()=>{m.current&&(m.current.removeEventListener("ended",S),m.current.removeEventListener("error",j),m.current.removeEventListener("canplay",$),m.current.removeEventListener("loadedmetadata",M),m.current.removeEventListener("timeupdate",B),m.current.removeEventListener("durationchange",Q),m.current.pause(),m.current.src="")}}},[]),N.useEffect(()=>{m.current&&(m.current.volume=a)},[a]),N.useEffect(()=>{if(!m.current)return;const S=m.current,j=()=>{S.duration&&!isNaN(S.duration)&&isFinite(S.duration)&&w(S.duration)},$=()=>{S.duration&&!isNaN(S.duration)&&isFinite(S.duration)&&w(S.duration)},M=()=>{S.currentTime!==void 0&&!isNaN(S.currentTime)&&v(S.currentTime)};S.addEventListener("loadedmetadata",j),S.addEventListener("durationchange",$),S.addEventListener("timeupdate",M);let B;const Q=()=>{S&&S.currentTime!==void 0&&!isNaN(S.currentTime)&&v(S.currentTime),S.duration&&!isNaN(S.duration)&&isFinite(S.duration)&&w(S.duration),i&&(B=requestAnimationFrame(Q))};return i&&(B=requestAnimationFrame(Q)),()=>{B&&cancelAnimationFrame(B),S.removeEventListener("loadedmetadata",j),S.removeEventListener("durationchange",$),S.removeEventListener("timeupdate",M)}},[i]);const x=S=>{u(j=>[...j.filter($=>$.id!==S.id),S])},f=S=>{g(j=>[...j.filter($=>$.id!==S.id),S])},y=(S,j=null,$=null)=>{let M=h.find(P=>P.id===S);if(M||(M=qu.find(P=>P.id===S)),j&&(M?M={...M,url:j,name:$||M.name||"Custom Tongue Song"}:M={id:S,url:j,name:$||"Custom Tongue Song"}),!M||!M.url){console.warn("No tongue song found or no URL provided:",S,j);return}if(console.log("Playing tongue song:",M.name,"URL:",M.url),m.current&&(r==null?void 0:r.id)===M.id&&!i){_();return}if(m.current&&i&&(r==null?void 0:r.id)!==M.id&&(m.current.pause(),m.current.currentTime=0),!m.current){console.error("Audio element not initialized");return}n(M),m.current.volume=a;const B=P=>{if(!P)return"";try{return new URL(P).href}catch{return P}},Q=B(m.current.src),G=B(M.url);if(Q===G&&Q!==""&&m.current.readyState>=2){o(!0),m.current.play().catch(P=>{console.error("Audio play error:",P),o(!1)});return}const Z=new Promise((P,A)=>{const L=()=>{m.current.removeEventListener("canplay",L),m.current.removeEventListener("error",le),m.current.removeEventListener("loadstart",H),m.current.removeEventListener("loadedmetadata",W),m.current.duration&&!isNaN(m.current.duration)&&isFinite(m.current.duration)&&w(m.current.duration),console.log("Tongue song loaded, ready to play:",M.name),o(!0),P()},W=()=>{m.current.duration&&!isNaN(m.current.duration)&&isFinite(m.current.duration)&&w(m.current.duration)},H=()=>{console.log("Loading tongue song:",M.url)},le=k=>{var U;m.current.removeEventListener("canplay",L),m.current.removeEventListener("error",le),m.current.removeEventListener("loadstart",H),console.error("Audio load error:",k),console.error("Failed URL:",M.url),console.error("Audio element error:",(U=m.current)==null?void 0:U.error),o(!1),A(k)};m.current.addEventListener("canplay",L,{once:!0}),m.current.addEventListener("loadstart",H,{once:!0}),m.current.addEventListener("loadedmetadata",W),m.current.addEventListener("error",le,{once:!0})});console.log("Setting audio source to:",M.url),m.current.src=M.url,m.current.load(),v(0),w(0),Z.then(()=>{if(m.current)return console.log("Playing tongue song:",M.name),m.current.play()}).catch(P=>{console.error("Audio play error:",P),console.error("Failed to play URL:",M.url),o(!1)})},b=(S,j=null,$=null)=>{let M=d.find(P=>P.id===S);if(M||(M=Uu.find(P=>P.id===S)),j&&(M?M={...M,url:j,name:$||M.name||"Custom Chant"}:M={id:S,url:j,name:$||"Custom Chant"}),!M||!M.url){console.warn("No chant found or no URL provided:",S,j);return}if(console.log("Playing chant:",M.name,"URL:",M.url),m.current&&(r==null?void 0:r.id)===M.id&&!i){_();return}if(m.current&&i&&(r==null?void 0:r.id)!==M.id&&(m.current.pause(),m.current.currentTime=0),!m.current){console.error("Audio element not initialized");return}n(M),m.current.volume=a;const B=P=>{if(!P)return"";try{return new URL(P).href}catch{return P}},Q=B(m.current.src),G=B(M.url);if(Q===G&&Q!==""&&m.current.readyState>=2){o(!0),m.current.play().catch(P=>{console.error("Audio play error:",P),o(!1)});return}const Z=new Promise((P,A)=>{const L=()=>{m.current.removeEventListener("canplay",L),m.current.removeEventListener("error",le),m.current.removeEventListener("loadstart",H),m.current.removeEventListener("loadedmetadata",W),m.current.duration&&!isNaN(m.current.duration)&&isFinite(m.current.duration)&&w(m.current.duration),console.log("Chant loaded, ready to play:",M.name),o(!0),P()},W=()=>{m.current.duration&&!isNaN(m.current.duration)&&isFinite(m.current.duration)&&w(m.current.duration)},H=()=>{console.log("Loading chant:",M.url)},le=k=>{var U;m.current.removeEventListener("canplay",L),m.current.removeEventListener("error",le),m.current.removeEventListener("loadstart",H),console.error("Audio load error:",k),console.error("Failed URL:",M.url),console.error("Audio element error:",(U=m.current)==null?void 0:U.error),o(!1),A(k)};m.current.addEventListener("canplay",L,{once:!0}),m.current.addEventListener("loadstart",H,{once:!0}),m.current.addEventListener("loadedmetadata",W),m.current.addEventListener("error",le,{once:!0})});console.log("Setting audio source to:",M.url),m.current.src=M.url,m.current.load(),v(0),w(0),Z.then(()=>{if(m.current)return console.log("Playing chant:",M.name),m.current.play()}).catch(P=>{console.error("Audio play error:",P),console.error("Failed to play URL:",M.url),o(!1)})},E=()=>{m.current&&i&&(m.current.pause(),o(!1))},_=()=>{m.current&&r&&!i&&(m.current.play().catch(S=>{console.error("Audio resume error:",S),o(!1)}),o(!0))},T=()=>{m.current&&(m.current.pause(),m.current.currentTime=0,o(!1)),n(null),v(0),w(0)},C=()=>{i?E():r&&_()},F=S=>{if(!S||isNaN(S))return"0:00";const j=Math.floor(S/60),$=Math.floor(S%60);return`${j}:${String($).padStart(2,"0")}`};return s.jsx(Am.Provider,{value:{chants:Uu,tongueSongs:qu,customChants:d,customTongueSongs:h,currentChant:r,isPlaying:i,volume:a,currentTime:p,duration:c,formatTime:F,setVolume:l,playChant:b,playTongueSong:y,pauseChant:E,resumeChant:_,stopChant:T,toggleChant:C,addCustomChant:x,addCustomTongueSong:f,audioRef:m,soundEffectsEnabled:(t==null?void 0:t.soundEffectsEnabled)??!0},children:e})}function Ro(){const e=N.useContext(Am);if(!e)throw new Error("useAudio must be used within AudioProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:d,...u},h)=>N.createElement("svg",{ref:h,...Yx,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Kx(e)}`,l].join(" "),...u},[...t.map(([g,p])=>N.createElement(g,p)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=q("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=q("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=q("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=q("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=q("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=q("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=q("FileAudio",[["path",{d:"M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"1013sb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z",key:"gqt63y"}],["path",{d:"M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z",key:"cf7lqx"}],["path",{d:"M2 19v-3a6 6 0 0 1 12 0v3",key:"1acxgf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=q("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=q("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=q("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=q("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=q("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=q("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=q("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=q("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=q("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=q("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=q("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=q("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=q("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=q("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=q("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mv({onEnter:e}){const[t,r]=N.useState(!1),n=()=>{r(!0),setTimeout(()=>{e()},800)};return s.jsxs("div",{className:"relative w-full h-full  min-h-[60vh] flex items-center justify-center overflow-hidden rounded-3xl border border-white/10 shadow-2xl",children:[s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1a103c] via-[#2d1b4e] to-[#1a103c]",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-to-b from-[#ffd700]/10 to-transparent blur-3xl opacity-30"}),[...Array(8)].map((i,o)=>s.jsx("div",{className:"absolute rounded-full bg-gradient-to-r from-[#ffd700]/20 to-amber-500/20 blur-xl animate-float",style:{width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`}},o))]}),s.jsxs("div",{className:`relative z-10 max-w-lg w-full -mt-10 mx-auto px-6 text-center transition-all duration-1000 transform ${t?"opacity-0 scale-95 translate-y-4":"opacity-100 scale-100 translate-y-0"}`,children:[s.jsxs("div",{className:"mb-8 relative inline-block",children:[s.jsx("div",{className:"absolute inset-0 bg-[#ffd700] blur-3xl opacity-20 animate-pulse"}),s.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md overflow-hidden flex items-center justify-center shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border border-[#ffd700]/20 scale-110"}),s.jsx("img",{src:"/logo.png",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover relative z-10"})]})]}),s.jsxs("div",{className:"space-y-2 mb-10",children:[s.jsx("p",{className:"text-[#ffd700]/60 text-xs md:text-sm uppercase tracking-[0.3em] font-medium",children:"Enter the Sanctuary"}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-serif text-white leading-tight",children:["Prayer ",s.jsx("span",{className:"text-[#ffd700]",children:"Room"})]}),s.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-[#ffd700]/50 to-transparent mx-auto mt-6"})]}),s.jsxs("p",{className:"text-white/70 text-base md:text-lg mb-12 font-light leading-relaxed max-w-sm mx-auto",children:['"Draw near to God, and He will draw near to you."',s.jsx("span",{className:"block text-[#ffd700]/50 text-xs mt-2 font-serif italic",children:" James 4:8"})]}),s.jsxs("button",{onClick:n,className:"group relative inline-flex items-center gap-4 px-8 py-4 bg-gradient-to-r from-[#ffd700] to-[#fdb931] rounded-full text-[#1a103c] font-serif font-bold text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-500 hover:scale-105 active:scale-95",children:[s.jsx("span",{className:"relative z-10",children:"Begin Prayer"}),s.jsx(Pn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-white/20 text-xs",children:[s.jsx(ue,{className:"w-3 h-3"}),s.jsx("span",{children:"Sacred Space"}),s.jsx(ue,{className:"w-3 h-3"})]})]})]})}function hv({isFullscreen:e,toggleFullscreen:t,schedules:r,selectedSchedule:n,setSelectedSchedule:i,selectedScheduleData:o,chants:a,chantUploads:l,selectedDuration:d,setSelectedDuration:u,customHours:h,setCustomHours:g,customMinutes:p,setCustomMinutes:v,useCustomTime:c,setUseCustomTime:w,durations:m,adjustDuration:x,handleStart:f}){var B,Q,G,Z;const[y,b]=N.useState(1),[E,_]=N.useState(!1),[T,C]=N.useState([]),F=3,S=n&&(o==null?void 0:o.prayerPoints)&&o.prayerPoints.length>0,j=c?h>0||p>0:d>0,$=()=>{y===1&&S?b(2):y===2&&j&&b(3)},M=()=>{y>1&&b(y-1)};return s.jsxs("div",{className:`w-full mx-auto px-3 md:px-4 ${e?"h-full overflow-y-auto pt-4":"max-w-2xl"}`,children:[s.jsx("div",{className:"md:hidden flex justify-end mb-4",children:s.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/20",title:e?"Exit fullscreen":"Enter fullscreen",children:e?s.jsx(Fm,{className:"w-5 h-5 text-white"}):s.jsx(Dm,{className:"w-5 h-5 text-white"})})}),s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(P=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-300 border ${P<y?"bg-gradient-to-r from-[#ffd700] to-amber-500 text-[#1a103c] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":P===y?"bg-[#1a103c] text-[#ffd700] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.2)] ring-2 ring-[#ffd700]/20":"bg-white/5 text-white/30 border-white/10"}`,children:P<y?s.jsx(Vr,{className:"w-4 h-4 md:w-5 md:h-5"}):P}),s.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium tracking-wide ${P<=y?"text-[#ffd700]":"text-white/30"}`,children:P===1?"Schedule":P===2?"Duration":"Start"})]}),P<F&&s.jsx("div",{className:`flex-1 h-px mx-2 transition-all duration-300 ${P<y?"bg-gradient-to-r from-[#ffd700] to-amber-500 opacity-50":"bg-white/10"}`})]},P))})}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 lg:p-8 rounded-2xl min-h-[400px] md:min-h-[500px]",children:[y===1&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(Pt,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Select Prayer Schedule"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Choose a schedule to begin your prayer session"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-white/80 text-xs md:text-sm font-medium mb-3",children:"Select Schedule"}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("button",{onClick:()=>_(!E),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-300 ${E?"bg-[#1a103c] border-[#ffd700] shadow-[0_0_20px_rgba(255,215,0,0.2)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${n?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":"bg-white/10 text-white/50"}`,children:s.jsx(Pt,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:`font-semibold ${n?"text-white":"text-white/50"}`,children:o?o.title:"Choose a schedule..."}),o&&s.jsxs("p",{className:"text-xs text-white/50",children:[new Date(o.scheduledTime).toLocaleDateString(),"  ",((B=o.prayerPoints)==null?void 0:B.length)||0," points"]})]})]}),s.jsx(gd,{className:`w-5 h-5 text-white/50 transition-transform duration-300 ${E?"rotate-180":""}`})]}),E&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1a103c] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-fade-in max-h-[300px] overflow-y-auto custom-scrollbar",children:r.filter(P=>!P.isCompleted&&!T.includes(P._id)).length===0?s.jsx("div",{className:"p-4 text-center text-white/40 text-sm",children:"No schedules available"}):r.filter(P=>!P.isCompleted&&!T.includes(P._id)).map(P=>s.jsxs("div",{className:`flex items-center justify-between p-3 hover:bg-white/5 transition-colors border-b border-white/5 last:border-0 ${n===P._id?"bg-white/5":""}`,children:[s.jsxs("button",{onClick:()=>{i(P._id),_(!1)},className:"flex-1 flex items-center gap-3 text-left",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${n===P._id?"bg-[#ffd700]":"bg-white/20"}`}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${n===P._id?"text-[#ffd700]":"text-white/90"}`,children:P.title}),s.jsx("p",{className:"text-xs text-white/50 line-clamp-1",children:P.description||"No description"})]})]}),s.jsx("button",{onClick:A=>{A.stopPropagation(),C(L=>[...L,P._id]),n===P._id&&i(null)},className:"p-2 text-white/30 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Hide from list",children:s.jsx(Zx,{className:"w-4 h-4"})})]},P._id))})]}),o&&s.jsxs("div",{className:"mt-6 glass-card p-6 rounded-2xl border border-[#ffd700]/30 bg-gradient-to-br from-[#ffd700]/5 to-purple-500/5 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ffd700]/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-[#ffd700]/20 transition-all duration-700"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:o.title}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/60",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Pt,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(o.scheduledTime).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Nr,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(o.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-[#ffd700]/10 flex items-center justify-center border border-[#ffd700]/20",children:s.jsx(ue,{className:"w-5 h-5 text-[#ffd700]"})})]}),o.description&&s.jsxs("p",{className:"text-white/70 text-sm mb-4 leading-relaxed border-l-2 border-[#ffd700]/30 pl-3 italic",children:['"',o.description,'"']}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-[#ffd700] uppercase tracking-wider",children:[s.jsx(xt,{className:"w-3 h-3"}),"Prayer Focus Points"]}),s.jsxs("div",{className:"grid gap-2",children:[(Q=o.prayerPoints)==null?void 0:Q.slice(0,3).map((P,A)=>s.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[s.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700]/10 text-[#ffd700] text-xs font-bold flex-shrink-0 mt-0.5",children:A+1}),s.jsx("p",{className:"text-sm text-white/80 leading-snug",children:P})]},A)),(((G=o.prayerPoints)==null?void 0:G.length)||0)>3&&s.jsxs("button",{className:"text-xs text-white/40 hover:text-[#ffd700] transition-colors text-center w-full py-1",children:["+",o.prayerPoints.length-3," more points"]})]})]})]})]})]}),s.jsxs("button",{onClick:$,disabled:!S,className:"w-full group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Continue"}),s.jsx(Pn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),y===2&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-purple-500/20 to-indigo-500/20 mb-4",children:s.jsx(Nr,{className:"w-6 h-6 md:w-8 md:h-8 text-purple-400"})}),s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Set Duration"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Choose how long you want to pray"})]}),s.jsxs("div",{className:"flex gap-2 glass-card p-1.5 rounded-lg",children:[s.jsx("button",{onClick:()=>w(!1),className:`flex-1 px-3 py-2 md:px-4 md:py-2.5 rounded-md text-xs md:text-sm font-medium transition-all ${c?"text-white/70 hover:text-white/90":"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold"}`,children:"Preset"}),s.jsx("button",{onClick:()=>w(!0),className:`flex-1 px-3 py-2 md:px-4 md:py-2.5 rounded-md text-xs md:text-sm font-medium transition-all ${c?"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold":"text-white/70 hover:text-white/90"}`,children:"Custom"})]}),c?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"glass-card p-6 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Hours"}),s.jsx("input",{type:"number",min:"0",max:"23",value:h,onChange:P=>g(Math.max(0,Math.min(23,parseInt(P.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]}),s.jsx("span",{className:"text-white/40 text-3xl md:text-4xl font-bold mt-8",children:":"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Minutes"}),s.jsx("input",{type:"number",min:"0",max:"59",value:p,onChange:P=>v(Math.max(0,Math.min(59,parseInt(P.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]})]}),s.jsxs("div",{className:"text-center mt-6 pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Total Duration: "}),s.jsxs("span",{className:"text-[#ffd700] font-bold text-xl",children:[h*60+p," minutes"]})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2 md:gap-3",children:m.map(P=>s.jsxs("button",{onClick:()=>u(P),className:`py-3 md:py-5 rounded-xl font-bold text-sm md:text-lg transition-all duration-300 ${d===P?"bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] shadow-[0_0_20px_rgba(255,215,0,0.3)] scale-105":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border border-white/5 hover:border-[#ffd700]/30"}`,children:[P,"m"]},P))}),s.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Selected: "}),s.jsxs("span",{className:"text-[#ffd700] font-bold text-base md:text-lg",children:[d," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:M,className:"flex-1 py-3 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(xs,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:$,disabled:!j,className:"flex-1 group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Continue"}),s.jsx(Pn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]}),y===3&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-16 md:h-16 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(Cr,{className:"w-6 h-6 md:w-8 md:h-8 text-indigo-400"})}),s.jsx("h2",{className:"text-xl md:text-3xl font-bold text-white mb-2",children:"Ready to Pray"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base",children:"Review your settings and begin"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-card p-3 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:[s.jsx(Pt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"Prayer Schedule"})]}),s.jsx("p",{className:"text-white text-base md:text-lg font-bold mb-2",children:o==null?void 0:o.title}),s.jsx("div",{className:"flex items-center gap-4 text-xs md:text-sm text-white/60",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ue,{className:"w-3 h-3 text-[#ffd700]"}),((Z=o==null?void 0:o.prayerPoints)==null?void 0:Z.length)||0," prayer points"]})})]}),s.jsxs("div",{className:"glass-card p-3 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2 md:mb-3",children:[s.jsx(Nr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("h3",{className:"text-white font-semibold text-sm md:text-base",children:"Duration"})]}),s.jsx("p",{className:"text-white text-xl md:text-2xl font-bold",children:c?`${h}h ${p}m`:`${d} minutes`}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mt-1",children:["Total: ",c?h*60+p:d," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-4",children:[s.jsxs("button",{onClick:M,className:"flex-1 py-2.5 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-sm md:text-lg flex items-center justify-center gap-2",children:[s.jsx(xs,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{children:"Back"})]}),s.jsxs("button",{onClick:f,className:"flex-[2] group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-2.5 md:py-4 text-[#1a103c] font-bold text-sm md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Start Prayer"}),s.jsx(Cr,{className:"w-5 h-5 relative z-10 fill-current"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})]})]})}function Bu({isOpen:e,onClose:t,onConfirm:r}){return e?s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-[#1a103c]/80 backdrop-blur-md animate-fade-in",children:s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-3xl max-w-md w-full border border-white/10 shadow-2xl animate-fade-in bg-[#2d1b4e]",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(pd,{className:"w-6 h-6 text-red-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 font-serif",children:"End Prayer Session?"}),s.jsx("p",{className:"text-white/70 text-sm md:text-base leading-relaxed",children:"Are you sure you want to end this prayer session? Your progress will be saved."})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors flex-shrink-0 text-white/50 hover:text-white",children:s.jsx(Rr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),s.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-500 text-white font-bold shadow-lg hover:shadow-red-500/20 transition-all text-base",children:"End Session"})]})]})}):null}function pv({isFullscreen:e,toggleFullscreen:t,countdown:r,formatTime:n,isPaused:i,activePrayerPointIndex:o,prayerPoints:a,currentScripture:l,activeScriptureIndex:d,nextSwitchTime:u,timePerPoint:h,showSwitchNotification:g,isTonguesMode:p,activePrayer:v,isPlaying:c,pauseChant:w,resumeChant:m,playChant:x,playTongueSong:f,currentChant:y,chants:b,tongueSongs:E,chantUploads:_,tongueUploads:T,playChantForSchedule:C,playTongueSongForSchedule:F,handlePause:S,handleResume:j,handleStop:$,backgroundEffects:M=!0}){const[B,Q]=N.useState(!1),[G,Z]=N.useState(!1),P=N.useRef(null);N.useEffect(()=>{const W=H=>{P.current&&!P.current.contains(H.target)&&Z(!1)};return G&&document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[G]);const A=()=>{Q(!0)},L=()=>{Q(!1),$()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`relative z-10 w-full mx-auto px-3 md:px-4 ${e?"h-full flex flex-col justify-center":"max-w-5xl"}`,children:[s.jsxs("div",{className:"md:hidden absolute top-4 right-4 z-20 flex gap-2",children:[s.jsx("button",{onClick:t,className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all",title:e?"Exit fullscreen":"Enter fullscreen",children:e?s.jsx(Fm,{className:"w-5 h-5 text-white"}):s.jsx(Dm,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{ref:P,children:[s.jsx("button",{onClick:()=>Z(!G),className:"p-2.5 rounded-lg bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 backdrop-blur-md border border-white/30 transition-all shadow-lg",children:s.jsx(ov,{className:"w-5 h-5 text-white"})}),G&&s.jsx("div",{className:"absolute top-12 right-0 glass-strong rounded-xl border border-white/30 shadow-2xl min-w-[200px] overflow-hidden animate-fade-in z-30",children:s.jsx("div",{className:"bg-gradient-to-br from-[#2d1b4e] to-[#1a103c] p-1",children:s.jsxs("button",{onClick:()=>{Z(!1),A()},className:"w-full px-4 py-3 text-left rounded-lg text-red-400 hover:bg-gradient-to-r hover:from-red-500/20 hover:to-red-600/10 transition-all flex items-center gap-3 group",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-red-500/10 group-hover:bg-red-500/20 transition-colors",children:s.jsx(Vu,{className:"w-4 h-4"})}),s.jsx("span",{className:"font-semibold text-sm",children:"End Session"})]})})})]})]}),s.jsxs("div",{className:`p-4 md:p-10 lg:p-14 rounded-3xl text-center backdrop-blur-md border border-white/10 shadow-2xl transition-all duration-1000 relative overflow-hidden ${e?"w-full":""} ${M?"prayer-room-glow":""}`,children:[M&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-[#ffd700]/10 to-transparent rounded-br-full blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-[#ffd700]/10 to-transparent rounded-tl-full blur-2xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ffd700]/5 via-transparent to-[#ffd700]/5 pointer-events-none"})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:`text-4xl md:text-7xl lg:text-8xl font-bold font-serif mb-3 transition-all ${i?"text-[#ffd700]/50":"text-white"}`,style:{textShadow:"0 0 40px rgba(255, 215, 0, 0.3), 0 0 80px rgba(255, 215, 0, 0.1)",letterSpacing:"0.05em"},children:n(r)}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#ffd700]/70 text-[10px] md:text-sm mb-2 uppercase tracking-widest font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#ffd700] animate-pulse"}),s.jsxs("span",{children:["Prayer Point ",o+1," of ",a.length]})]}),i&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/30 text-[#ffd700] text-xs font-medium mt-2",children:[s.jsx(jr,{className:"w-3 h-3"}),"Timer Paused"]})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 md:w-20 md:h-20 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md mb-4 md:mb-7 shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:s.jsx("span",{className:"text-[#ffd700] text-xl md:text-3xl font-serif font-bold",children:o+1})}),s.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-6 md:mb-8 leading-tight px-3 md:px-6 font-serif",style:{textShadow:"0 2px 20px rgba(0, 0, 0, 0.5)"},children:a[o]})]}),!p&&l&&s.jsxs("div",{className:"mt-6 md:mt-10 transition-all duration-1000 ease-in-out relative z-10",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 mb-4 md:mb-6",children:[s.jsx(xt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("span",{className:"text-[#ffd700] text-xs md:text-sm font-semibold uppercase tracking-wider",children:"Scripture"})]}),s.jsxs("div",{className:"glass-card p-5 md:p-7 rounded-2xl border border-[#ffd700]/20 max-w-3xl mx-auto bg-[#1a103c]/30",children:[s.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-white/90 italic leading-relaxed animate-fade-in font-serif",style:{textShadow:"0 1px 10px rgba(0, 0, 0, 0.5)"},children:['"',l,'"']}),s.jsxs("div",{className:"mt-4 text-[#ffd700]/60 text-xs font-medium uppercase tracking-widest",children:[d+1," of 5"]})]})]}),s.jsxs("div",{className:"mt-6 md:mt-8 relative z-10 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Progress"}),s.jsxs("span",{className:"text-[#ffd700] text-xs font-mono",children:[Math.floor(u/60),":",(u%60).toString().padStart(2,"0")," remaining"]})]}),s.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)] transition-all duration-1000 ease-linear",style:{width:`${Math.max(0,Math.min(100,(h-u)/h*100))}%`}})})]}),s.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:a.map((W,H)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${H===o?"w-8 bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)]":H<o?"w-1.5 bg-[#ffd700]/50":"w-1.5 bg-white/10"}`},H))})]}),g&&o<a.length-1&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-yellow-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-300",children:[s.jsx(ue,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold text-sm md:text-base",children:["Switching to Prayer Point ",o+2," in ",Math.ceil(u)," seconds..."]})]})}),p&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-purple-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[s.jsx(ue,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Speaking in Tongues"})]})}),i&&s.jsxs("div",{className:"mt-4 text-yellow-400 text-sm font-medium flex items-center justify-center gap-2 relative z-10",children:[s.jsx(jr,{className:"w-4 h-4"}),"Prayer Paused"]}),s.jsxs("div",{className:"mt-8 md:mt-12 flex items-center justify-center gap-3 md:gap-6 flex-wrap relative z-10 pb-8",children:[((v==null?void 0:v.selectedMusicId)&&!p||(v==null?void 0:v.selectedTongueSongId)&&p)&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm",children:[s.jsx(Se,{className:"w-4 h-4 text-[#ffd700]"}),c?s.jsx("button",{onClick:()=>w(),className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Pause Music"}):s.jsx("button",{onClick:async()=>{p&&(v!=null&&v.selectedTongueSongId)?(y==null?void 0:y.id)===v.selectedTongueSongId?m():await F(v):v!=null&&v.selectedMusicId&&((y==null?void 0:y.id)===v.selectedMusicId?m():await C(v))},className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Play Music"})]}),i?s.jsxs("button",{onClick:j,className:"group relative overflow-hidden px-8 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-sm md:text-base shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s.jsx(lv,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Continue Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Continue"})]}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):s.jsxs("button",{onClick:S,className:"px-6 py-3 rounded-full border border-white/20 bg-white/5 text-white hover:bg-white/10 transition-all text-sm md:text-base font-medium flex items-center gap-2",children:[s.jsx(jr,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Pause Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Pause"})]}),s.jsxs("button",{onClick:A,className:"hidden md:flex px-6 py-3 rounded-full border border-red-500/30 bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all text-sm md:text-base font-medium items-center gap-2",children:[s.jsx(Vu,{className:"w-4 h-4"}),"End Session"]})]})]})]}),s.jsx(Bu,{isOpen:B,onClose:()=>Q(!1),onConfirm:L}),s.jsx(Bu,{isOpen:B,onClose:()=>Q(!1),onConfirm:L})]})}function gv({isTonguesMode:e,timeRemaining:t,prayerPoint:r}){const[n,i]=N.useState([]),[o,a]=N.useState([]),l=N.useRef([]),d=N.useRef(0);N.useEffect(()=>{if(!e||l.current.length>0)return;(async()=>{var v,c,w,m,x;try{const b=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Generate 10 powerful, motivational messages for someone speaking in tongues during prayer. Make them urgent, inspiring, and destiny-focused. Examples: "Your life depends on this!", "Don't stop now - your destiny is being shaped!", "Keep going - breakthrough is coming!", "Speak more - your future is in your mouth!", "Your breakthrough is in your tongue!". Return them as a simple list, one per line, each message should be 5-15 words. Make them passionate and encouraging.`}]}]})});if(!b.ok)throw new Error("Failed to generate messages");let T=(((x=(m=(w=(c=(v=(await b.json()).candidates)==null?void 0:v[0])==null?void 0:c.content)==null?void 0:w.parts)==null?void 0:m[0])==null?void 0:x.text)||"").split(`
`).map(C=>C.trim()).filter(C=>C.length>5&&C.length<100).slice(0,10);T.length===0&&(T=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"]),l.current=T,i(T)}catch(f){console.error("Error generating motivational messages:",f);const y=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"];l.current=y,i(y)}})()},[e]),N.useEffect(()=>{if(!e||n.length===0){a([]);return}const p=setInterval(()=>{if(Math.random()>.3){const v=n[Math.floor(Math.random()*n.length)],c={id:d.current++,message:v,x:Math.random()*70+15,y:Math.random()*60+20,delay:Math.random()*.5};a(w=>[...w,c]),setTimeout(()=>{a(w=>w.filter(m=>m.id!==c.id))},4e3)}},3e3);return()=>clearInterval(p)},[e,n]);const[u,h]=N.useState(t);if(N.useEffect(()=>{if(!e){h(0);return}h(t);const p=setInterval(()=>{h(v=>Math.max(0,v-1))},1e3);return()=>clearInterval(p)},[e,t]),!e)return null;const g=p=>{if(!p||p<=0)return"0:00";const v=Math.floor(p/60),c=Math.floor(p%60);return`${v}:${String(c).padStart(2,"0")}`};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",style:{padding:"80px 20px 100px 20px"},children:o.map(p=>{const v=Math.max(5,Math.min(85,p.x)),c=Math.max(10,Math.min(80,p.y));return s.jsx("div",{className:"absolute floating-popup",style:{left:`${v}%`,top:`${c}%`,animationDelay:`${p.delay}s`,transform:"translate(-50%, -50%)",maxWidth:"calc(100vw - 40px)"},children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-6 md:py-4 rounded-xl md:rounded-2xl border border-[#ffd700]/30 shadow-[0_0_20px_rgba(255,215,0,0.2)] backdrop-blur-xl max-w-[90vw] md:max-w-none bg-[#1a103c]/60",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(vs,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700] animate-pulse flex-shrink-0"}),s.jsx("p",{className:"text-white font-bold text-sm md:text-lg lg:text-xl break-words font-serif",children:p.message})]})})},p.id)})}),s.jsx("div",{className:"fixed top-16 md:top-20 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none px-4",children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-8 md:py-4 rounded-xl md:rounded-2xl border border-[#ffd700]/50 shadow-[0_0_30px_rgba(255,215,0,0.3)] animate-pulse bg-[#1a103c]/80",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(ue,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700] flex-shrink-0"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#ffd700] font-bold text-xl md:text-2xl mb-1 font-serif",children:g(u)}),s.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium uppercase tracking-wider",children:"Keep Speaking in Tongues!"})]})]})})})]})}function xv(){const[e,t]=N.useState(!0),[r,n]=N.useState(!1),{userId:i,schedules:o,activePrayer:a,countdown:l,isPraying:d,isPaused:u,formatTime:h,startPrayer:g,stopPrayer:p,pausePrayer:v,resumePrayer:c,settings:w}=_t(),{playChant:m,playTongueSong:x,pauseChant:f,resumeChant:y,stopChant:b,currentChant:E,isPlaying:_,chants:T,tongueSongs:C}=Ro();fd();const F=St(ie.uploads.getByUser,i?{userId:i}:"skip"),S=(F||[]).filter(X=>!X.uploadType||X.uploadType==="chant"),j=(F||[]).filter(X=>X.uploadType==="tongue"),$=(w==null?void 0:w.defaultPrayerDuration)??15,[M,B]=N.useState($);N.useEffect(()=>{w!=null&&w.defaultPrayerDuration&&B(w.defaultPrayerDuration)},[w==null?void 0:w.defaultPrayerDuration]);const[Q,G]=N.useState(null),[Z,P]=N.useState(0),[A,L]=N.useState(15),[W,H]=N.useState(!1),[le,k]=N.useState(0),[U,ne]=N.useState(0),[Ae,z]=N.useState({}),[I,se]=N.useState(!1),[_e,$r]=N.useState(0),[De,Fe]=N.useState(!1),[er,ze]=N.useState(0),pe=N.useRef(null),tr=120,be=(a==null?void 0:a.prayerPoints)||[],Zr=W?Z*60+A:M,Qe=be.length>0?Zr*60/be.length:0,Ue=Qe>0?Qe/5:60,ee=30,$o=[5,10,15,20,30,45,60],xd=()=>{n(!r)},ge=o.find(X=>X._id===Q),Ys=N.useRef({}),vd=async(X,V)=>{var Pe,K,me,qn,en;if(Ae[V]||Ys.current[V])return Ae[V]||Ys.current[V];try{const rr="AIzaSyC3IxLVaP6VAYF_RCZT4HKNUox7F35tBd0",nr=`Generate exactly 5 motivational Bible verses or spiritual encouragements related to this prayer point: "${X}". Return them as a simple list, one per line, with format: "Book Chapter:Verse - Quote". Make them encouraging and relevant to the prayer theme.`,Gs=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${rr}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:nr}]}]})});if(!Gs.ok)throw new Error("Failed to generate scriptures");let zt=(((en=(qn=(me=(K=(Pe=(await Gs.json()).candidates)==null?void 0:Pe[0])==null?void 0:K.content)==null?void 0:me.parts)==null?void 0:qn[0])==null?void 0:en.text)||"").split(`
`).map(Vn=>Vn.trim()).filter(Vn=>Vn.length>10).slice(0,5);for(zt.length===0&&(zt=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"]);zt.length<5;)zt.push("Psalm 23:1 - The Lord is my shepherd, I shall not want");return zt=zt.slice(0,5),Ys.current[V]=zt,z(Vn=>({...Vn,[V]:zt})),zt}catch(rr){console.error("Error generating scriptures:",rr);const nr=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"];return Ys.current[V]=nr,z(Gs=>({...Gs,[V]:nr})),nr}};N.useEffect(()=>{pe.current||(pe.current=()=>{if((w==null?void 0:w.soundEffectsEnabled)!==!1)try{const X=new(window.AudioContext||window.webkitAudioContext),V=X.createOscillator(),Pe=X.createGain();V.connect(Pe),Pe.connect(X.destination),V.frequency.value=800,V.type="sine",Pe.gain.setValueAtTime(.3,X.currentTime),Pe.gain.exponentialRampToValueAtTime(.01,X.currentTime+.5),V.start(X.currentTime),V.stop(X.currentTime+.5)}catch(X){console.error("Error playing notification sound:",X)}})},[w]),N.useEffect(()=>{if(!d||u||be.length===0||Qe===0)return;const X=Zr*60,V=(a==null?void 0:a.tonguesMode)||"none",Pe=setInterval(()=>{const K=X-l;if(V==="start"&&K<tr&&!De)De||(Fe(!0),ze(Date.now()/1e3),Un(a));else if(V==="start"&&K>=tr&&De)Fe(!1),ze(0),Ks(a);else if(V==="perPoint"){Math.min(Math.floor(K/Qe),be.length-1);const nr=K%Qe;nr<tr?(!De||er===0)&&(Fe(!0),ze(Date.now()/1e3-nr),Un(a)):De&&(Fe(!1),ze(0),Ks(a))}const me=Math.min(Math.floor(K/Qe),be.length-1),qn=K%Qe,en=Qe-qn;$r(en),en<=ee&&en>0&&me<be.length-1?I||(se(!0),pe.current&&pe.current()):se(!1),me!==le&&me<be.length&&(pe.current&&pe.current(),k(me),ne(0),se(!1),vd(be[me],me),O.success(`Now praying: Prayer Point ${me+1}`,{duration:3e3,icon:""}));const rr=Math.min(Math.floor(qn/Ue),4);rr!==U&&rr<5&&ne(rr)},1e3);return()=>clearInterval(Pe)},[d,u,be,Qe,Ue,l,Zr,le,U,I,De,er,a]),N.useEffect(()=>{d&&be.length>0&&!Ae[0]&&vd(be[0],0)},[d,be]);const Ks=async(X=null)=>{const V=X||a;if(!(V!=null&&V.selectedMusicId))return;const Pe=T.find(K=>K.id===V.selectedMusicId);if(Pe)m(Pe.id);else{const K=S.find(me=>me._id===V.selectedMusicId);if(K){const me=K.imageKitUrl;me?m(K._id,me,K.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for chant")}}},Un=async(X=null)=>{const V=X||a;if(!(V!=null&&V.selectedTongueSongId)){console.log("No tongue song selected in schedule:",V);return}console.log("Playing tongue song for schedule:",V.selectedTongueSongId);const Pe=C.find(K=>K.id===V.selectedTongueSongId);if(Pe)x(Pe.id);else{const K=j.find(me=>me._id===V.selectedTongueSongId);if(K){const me=K.imageKitUrl;me?x(K._id,me,K.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for tongue song")}else console.error("Tongue song not found:",V.selectedTongueSongId)}},Gm=async()=>{var X;if(Q){const V=W?Z*60+A:M;if(V<=0){O.error("Please set a valid prayer duration");return}if(!(ge!=null&&ge.prayerPoints)||ge.prayerPoints.length===0){O.error("Please select a schedule with prayer points");return}k(0),ne(0),z({}),Fe(!1),ze(0),g(Q,V);const Pe=(ge==null?void 0:ge.tonguesMode)||"none";if(console.log("Starting prayer with tongues mode:",Pe,"selectedTongueSongId:",ge==null?void 0:ge.selectedTongueSongId),(w==null?void 0:w.autoPlayMusic)!==!1){if(Pe==="start"&&(ge!=null&&ge.selectedTongueSongId))Fe(!0),ze(Date.now()/1e3),await Un(ge);else if(Pe==="perPoint"&&(ge!=null&&ge.selectedTongueSongId))Fe(!0),ze(Date.now()/1e3),await Un(ge);else if(ge!=null&&ge.selectedMusicId)await Ks(ge);else if(w!=null&&w.preferredChant){const K=T.find(me=>me.id===w.preferredChant)||S.find(me=>me._id===w.preferredChant);K&&(K.url?m(K.id,K.url,K.name):K.imageKitUrl&&m(K._id||K.id,K.imageKitUrl,((X=K.fileName)==null?void 0:X.replace(/\.[^/.]+$/,""))||K.name))}}O.success("Entering Prayer Room...")}else O.error("Please select a prayer schedule")},Xm=()=>{v(),O.success("Prayer paused")},Jm=()=>{c(),O.success("Prayer resumed")},Zm=()=>{p(),b(),k(0),ne(0),z({}),Fe(!1),ze(0),t(!0),O.success("Prayer session ended")},eh=X=>{d||B(Math.max(5,Math.min(60,X)))};return(Ae[le]||[])[U],s.jsxs("div",{className:`${r?"fixed inset-0 z-[300] rounded-none":"w-full h-full min-h-[calc(100vh-140px)] md:min-h-[calc(100vh-120px)] relative rounded-3xl"} overflow-hidden border border-amber-400/20 shadow-2xl shadow-purple-900/50 transition-all duration-500 ease-in-out`,children:[s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0728] via-[#1a0b3d] via-[#2d1b4e] to-[#0f0728] z-0",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3/4 h-1/2 bg-gradient-radial from-amber-400/10 via-yellow-500/5 to-transparent blur-3xl opacity-40 animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-radial from-purple-500/10 via-indigo-600/5 to-transparent blur-3xl opacity-30"}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-amber-300/40 via-amber-400/20 to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-white/30 via-purple-300/20 to-transparent animate-pulse",style:{animationDelay:"0.5s"}}),s.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-indigo-300/40 via-indigo-400/20 to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(30)].map((X,V)=>s.jsx("div",{className:"absolute rounded-full bg-amber-200/20 blur-sm animate-float",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*4+4}s`,boxShadow:"0 0 10px rgba(251, 191, 36, 0.3)"}},V)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-950/30 via-transparent to-indigo-950/30"})]}),e&&s.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center",children:s.jsx(mv,{onEnter:()=>t(!1)})}),s.jsx("div",{className:"relative z-10 h-full overflow-y-auto overflow-x-hidden custom-scrollbar",children:d?s.jsxs("div",{className:"min-h-full flex items-center justify-center p-3 md:p-4 relative",children:[(w==null?void 0:w.prayerRoomBackgroundEffects)!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-1 h-full bg-gradient-to-b from-purple-400/20 via-transparent to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 right-1/4 w-1 h-full bg-gradient-to-b from-indigo-400/20 via-transparent to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(20)].map((X,V)=>s.jsx("div",{className:"absolute rounded-full bg-white/10 blur-sm animate-float",style:{width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+3}s`}},V))]}),be.length>0&&s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 p-8 pointer-events-none",children:be.map((X,V)=>V!==le&&s.jsx("div",{className:"glass-card p-4 w-full max-w-2xl opacity-20 blur-sm transition-all duration-1000",style:{transform:`translateY(${(V-le)*20}px)`},children:s.jsx("p",{className:"text-white/30 text-sm text-center",children:X})},V))}),s.jsxs("div",{className:"flex-1 relative z-0",children:[s.jsx(pv,{isFullscreen:r,toggleFullscreen:xd,countdown:l,formatTime:h,isPaused:u,activePrayerPointIndex:le,prayerPoints:be,currentScripture:Ae[le],activeScriptureIndex:U,nextSwitchTime:_e,timePerPoint:Qe,showSwitchNotification:I,isTonguesMode:De,activePrayer:a,isPlaying:_,pauseChant:f,resumeChant:y,playChant:m,playTongueSong:x,currentChant:E,chants:T,tongueSongs:C,chantUploads:S,tongueUploads:j,playChantForSchedule:Ks,playTongueSongForSchedule:Un,handlePause:Xm,handleResume:Jm,handleStop:Zm,backgroundEffects:(w==null?void 0:w.prayerRoomBackgroundEffects)??!0}),De&&!u&&((w==null?void 0:w.showMotivationalPopups)??!0)&&s.jsx(gv,{})]})]}):s.jsx("div",{className:"p-4 md:p-8",children:s.jsx(hv,{isFullscreen:r,toggleFullscreen:xd,schedules:o,selectedSchedule:Q,setSelectedSchedule:G,selectedScheduleData:ge,chants:T,chantUploads:S,selectedDuration:M,setSelectedDuration:B,customHours:Z,setCustomHours:P,customMinutes:A,setCustomMinutes:L,useCustomTime:W,setUseCustomTime:H,durations:$o,adjustDuration:eh,handleStart:Gm})})})]})}function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Gr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function fe(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ae(e){fe(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||uo(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function vv(e,t){fe(2,arguments);var r=ae(e).getTime(),n=Gr(t);return new Date(r+n)}var yv={};function Hs(){return yv}function pl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function $i(e,t){fe(2,arguments);var r=ae(e),n=ae(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function wv(e){return fe(1,arguments),e instanceof Date||uo(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bv(e){if(fe(1,arguments),!wv(e)&&typeof e!="number")return!1;var t=ae(e);return!isNaN(Number(t))}function Nv(e,t){fe(2,arguments);var r=ae(e),n=ae(t),i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return i*12+o}function jv(e,t){return fe(2,arguments),ae(e).getTime()-ae(t).getTime()}var kv={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Sv="trunc";function Pv(e){return kv[Sv]}function Cv(e){fe(1,arguments);var t=ae(e);return t.setHours(23,59,59,999),t}function Tv(e){fe(1,arguments);var t=ae(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ev(e){fe(1,arguments);var t=ae(e);return Cv(t).getTime()===Tv(t).getTime()}function _v(e,t){fe(2,arguments);var r=ae(e),n=ae(t),i=$i(r,n),o=Math.abs(Nv(r,n)),a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);var l=$i(r,n)===-i;Ev(ae(e))&&o===1&&$i(e,n)===1&&(l=!1),a=i*(o-Number(l))}return a===0?0:a}function Mv(e,t,r){fe(2,arguments);var n=jv(e,t)/1e3;return Pv()(n)}function Rv(e,t){fe(2,arguments);var r=Gr(t);return vv(e,-r)}var $v=864e5;function Iv(e){fe(1,arguments);var t=ae(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/$v)+1}function co(e){fe(1,arguments);var t=1,r=ae(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Vm(e){fe(1,arguments);var t=ae(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=co(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=co(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Ov(e){fe(1,arguments);var t=Vm(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=co(r);return n}var Lv=6048e5;function Av(e){fe(1,arguments);var t=ae(e),r=co(t).getTime()-Ov(t).getTime();return Math.round(r/Lv)+1}function fo(e,t){var r,n,i,o,a,l,d,u;fe(1,arguments);var h=Hs(),g=Gr((r=(n=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:h.weekStartsOn)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ae(e),v=p.getUTCDay(),c=(v<g?7:0)+v-g;return p.setUTCDate(p.getUTCDate()-c),p.setUTCHours(0,0,0,0),p}function Bm(e,t){var r,n,i,o,a,l,d,u;fe(1,arguments);var h=ae(e),g=h.getUTCFullYear(),p=Hs(),v=Gr((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&n!==void 0?n:(d=p.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(v>=1&&v<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var c=new Date(0);c.setUTCFullYear(g+1,0,v),c.setUTCHours(0,0,0,0);var w=fo(c,t),m=new Date(0);m.setUTCFullYear(g,0,v),m.setUTCHours(0,0,0,0);var x=fo(m,t);return h.getTime()>=w.getTime()?g+1:h.getTime()>=x.getTime()?g:g-1}function Dv(e,t){var r,n,i,o,a,l,d,u;fe(1,arguments);var h=Hs(),g=Gr((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:h.firstWeekContainsDate)!==null&&n!==void 0?n:(d=h.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=Bm(e,t),v=new Date(0);v.setUTCFullYear(p,0,g),v.setUTCHours(0,0,0,0);var c=fo(v,t);return c}var Fv=6048e5;function zv(e,t){fe(1,arguments);var r=ae(e),n=fo(r,t).getTime()-Dv(r,t).getTime();return Math.round(n/Fv)+1}function te(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var or={y:function(t,r){var n=t.getUTCFullYear(),i=n>0?n:1-n;return te(r==="yy"?i%100:i,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):te(n+1,2)},d:function(t,r){return te(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return te(t.getUTCHours()%12||12,r.length)},H:function(t,r){return te(t.getUTCHours(),r.length)},m:function(t,r){return te(t.getUTCMinutes(),r.length)},s:function(t,r){return te(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return te(o,r.length)}},nn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uv={G:function(t,r,n){var i=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return or.y(t,r)},Y:function(t,r,n,i){var o=Bm(t,i),a=o>0?o:1-o;if(r==="YY"){var l=a%100;return te(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):te(a,r.length)},R:function(t,r){var n=Vm(t);return te(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return te(n,r.length)},Q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return te(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return te(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,r,n){var i=t.getUTCMonth();switch(r){case"M":case"MM":return or.M(t,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,r,n){var i=t.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return te(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,r,n,i){var o=zv(t,i);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):te(o,r.length)},I:function(t,r,n){var i=Av(t);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):te(i,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):or.d(t,r)},D:function(t,r,n){var i=Iv(t);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):te(i,r.length)},E:function(t,r,n){var i=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,r,n,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return te(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return te(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var i=t.getUTCDay(),o=i===0?7:i;switch(r){case"i":return String(o);case"ii":return te(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,r,n){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var i=t.getUTCHours(),o;switch(i===12?o=nn.noon:i===0?o=nn.midnight:o=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var i=t.getUTCHours(),o;switch(i>=17?o=nn.evening:i>=12?o=nn.afternoon:i>=4?o=nn.morning:o=nn.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return or.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):or.H(t,r)},K:function(t,r,n){var i=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):te(i,r.length)},k:function(t,r,n){var i=t.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):te(i,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):or.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):or.s(t,r)},S:function(t,r){return or.S(t,r)},X:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Qu(a);case"XXXX":case"XX":return Lr(a);case"XXXXX":case"XXX":default:return Lr(a,":")}},x:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"x":return Qu(a);case"xxxx":case"xx":return Lr(a);case"xxxxx":case"xxx":default:return Lr(a,":")}},O:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Wu(a,":");case"OOOO":default:return"GMT"+Lr(a,":")}},z:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Wu(a,":");case"zzzz":default:return"GMT"+Lr(a,":")}},t:function(t,r,n,i){var o=i._originalDate||t,a=Math.floor(o.getTime()/1e3);return te(a,r.length)},T:function(t,r,n,i){var o=i._originalDate||t,a=o.getTime();return te(a,r.length)}};function Wu(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),o=n%60;if(o===0)return r+String(i);var a=t;return r+String(i)+a+te(o,2)}function Qu(e,t){if(e%60===0){var r=e>0?"-":"+";return r+te(Math.abs(e)/60,2)}return Lr(e,t)}function Lr(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),o=te(Math.floor(i/60),2),a=te(i%60,2);return n+o+r+a}var Hu=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Wm=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},qv=function(t,r){var n=t.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return Hu(t,r);var a;switch(i){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Hu(i,r)).replace("{{time}}",Wm(o,r))},Vv={p:Wm,P:qv},Bv=["D","DD"],Wv=["YY","YYYY"];function Qv(e){return Bv.indexOf(e)!==-1}function Hv(e){return Wv.indexOf(e)!==-1}function Yu(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Yv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kv=function(t,r,n){var i,o=Yv[t];return typeof o=="string"?i=o:r===1?i=o.one:i=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ma(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Gv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zv={date:ma({formats:Gv,defaultWidth:"full"}),time:ma({formats:Xv,defaultWidth:"full"}),dateTime:ma({formats:Jv,defaultWidth:"full"})},ey={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ty=function(t,r,n,i){return ey[t]};function Zn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var ry={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ny={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ay={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ly=function(t,r){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dy={ordinalNumber:ly,era:Zn({values:ry,defaultWidth:"wide"}),quarter:Zn({values:ny,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Zn({values:sy,defaultWidth:"wide"}),day:Zn({values:iy,defaultWidth:"wide"}),dayPeriod:Zn({values:oy,defaultWidth:"wide",formattingValues:ay,defaultFormattingWidth:"wide"})};function es(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?cy(l,function(g){return g.test(a)}):uy(l,function(g){return g.test(a)}),u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var h=t.slice(a.length);return{value:u,rest:h}}}function uy(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function cy(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function fy(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var l=t.slice(i.length);return{value:a,rest:l}}}var my=/^(\d+)(th|st|nd|rd)?/i,hy=/\d+/i,py={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gy={any:[/^b/i,/^(a|c)/i]},xy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vy={any:[/1/i,/2/i,/3/i,/4/i]},yy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},by={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ny={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ky={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sy={ordinalNumber:fy({matchPattern:my,parsePattern:hy,valueCallback:function(t){return parseInt(t,10)}}),era:es({matchPatterns:py,defaultMatchWidth:"wide",parsePatterns:gy,defaultParseWidth:"any"}),quarter:es({matchPatterns:xy,defaultMatchWidth:"wide",parsePatterns:vy,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:es({matchPatterns:yy,defaultMatchWidth:"wide",parsePatterns:wy,defaultParseWidth:"any"}),day:es({matchPatterns:by,defaultMatchWidth:"wide",parsePatterns:Ny,defaultParseWidth:"any"}),dayPeriod:es({matchPatterns:jy,defaultMatchWidth:"any",parsePatterns:ky,defaultParseWidth:"any"})},Qm={code:"en-US",formatDistance:Kv,formatLong:Zv,formatRelative:ty,localize:dy,match:Sy,options:{weekStartsOn:0,firstWeekContainsDate:1}},Py=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Cy=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ty=/^'([^]*?)'?$/,Ey=/''/g,_y=/[a-zA-Z]/;function vn(e,t,r){var n,i,o,a,l,d,u,h,g,p,v,c,w,m;fe(2,arguments);var x=String(t),f=Hs(),y=(n=(i=void 0)!==null&&i!==void 0?i:f.locale)!==null&&n!==void 0?n:Qm,b=Gr((o=(a=(l=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&l!==void 0?l:f.firstWeekContainsDate)!==null&&a!==void 0?a:(u=f.locale)===null||u===void 0||(h=u.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Gr((g=(p=(v=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&v!==void 0?v:f.weekStartsOn)!==null&&p!==void 0?p:(w=f.locale)===null||w===void 0||(m=w.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&g!==void 0?g:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var _=ae(e);if(!bv(_))throw new RangeError("Invalid time value");var T=pl(_),C=Rv(_,T),F={firstWeekContainsDate:b,weekStartsOn:E,locale:y,_originalDate:_},S=x.match(Cy).map(function(j){var $=j[0];if($==="p"||$==="P"){var M=Vv[$];return M(j,y.formatLong)}return j}).join("").match(Py).map(function(j){if(j==="''")return"'";var $=j[0];if($==="'")return My(j);var M=Uv[$];if(M)return Hv(j)&&Yu(j,t,String(e)),Qv(j)&&Yu(j,t,String(e)),M(C,j,y.localize,F);if($.match(_y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return j}).join("");return S}function My(e){var t=e.match(Ty);return t?t[1].replace(Ey,"'"):e}function Hm(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Ry(e){return Hm({},e)}var Ku=1440,$y=2520,ha=43200,Iy=86400;function Oy(e,t,r){var n,i;fe(2,arguments);var o=Hs(),a=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:o.locale)!==null&&n!==void 0?n:Qm;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=$i(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Hm(Ry(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,h;l>0?(u=ae(t),h=ae(e)):(u=ae(e),h=ae(t));var g=Mv(h,u),p=(pl(h)-pl(u))/1e3,v=Math.round((g-p)/60),c;if(v<2)return r!=null&&r.includeSeconds?g<5?a.formatDistance("lessThanXSeconds",5,d):g<10?a.formatDistance("lessThanXSeconds",10,d):g<20?a.formatDistance("lessThanXSeconds",20,d):g<40?a.formatDistance("halfAMinute",0,d):g<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):v===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",v,d);if(v<45)return a.formatDistance("xMinutes",v,d);if(v<90)return a.formatDistance("aboutXHours",1,d);if(v<Ku){var w=Math.round(v/60);return a.formatDistance("aboutXHours",w,d)}else{if(v<$y)return a.formatDistance("xDays",1,d);if(v<ha){var m=Math.round(v/Ku);return a.formatDistance("xDays",m,d)}else if(v<Iy)return c=Math.round(v/ha),a.formatDistance("aboutXMonths",c,d)}if(c=_v(h,u),c<12){var x=Math.round(v/ha);return a.formatDistance("xMonths",x,d)}else{var f=c%12,y=Math.floor(c/12);return f<3?a.formatDistance("aboutXYears",y,d):f<9?a.formatDistance("overXYears",y,d):a.formatDistance("almostXYears",y+1,d)}}function Ly(e,t){return fe(1,arguments),Oy(e,Date.now(),t)}function Gu({scheduleId:e,userId:t,currentPoints:r=[],onPointsChange:n}){const[i,o]=N.useState(!1),[a,l]=N.useState(!1),[d,u]=N.useState(!1),[h,g]=N.useState(!1),[p,v]=N.useState(""),[c,w]=N.useState(""),[m,x]=N.useState(r||[]),f=St(ie.aiPrayerPoints.getByUser,t?{userId:t}:"skip")||[],y=Xe(ie.savedPrayerPoints.save);Xe(ie.savedPrayerPoints.remove);const b=async()=>{var C,F,S,j,$;if(!p.trim()){O.error("Please enter a prompt");return}o(!0);try{const M="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",B=`Generate 5-7 specific, meaningful prayer points based on: ${p}. Format the response as a numbered list (1. 2. 3. etc.) with each point on a new line. Make each point specific, actionable, and spiritually meaningful.`,Q=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${M}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:B}]}]})});if(!Q.ok)throw new Error("API error");const Z=(($=(j=(S=(F=(C=(await Q.json()).candidates)==null?void 0:C[0])==null?void 0:F.content)==null?void 0:S.parts)==null?void 0:j[0])==null?void 0:$.text)||"";let P=Z.split(`
`).map(L=>L.trim()).filter(L=>L&&(L.startsWith("-")||L.startsWith("")||L.match(/^\d+\./))).map(L=>L.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(L=>L.length>10).slice(0,7);P.length===0&&(P=Z.split(/\n+/).map(L=>L.trim()).filter(L=>L.length>20).slice(0,7));const A=[...m,...P];x(A),n(A),await y({userId:t,title:`Generated: ${p.substring(0,30)}...`,points:P,prayerScheduleId:e}),O.success(`${P.length} prayer points generated and added!`),l(!1),v("")}catch(M){console.error("Error generating prayer points:",M),O.error("Failed to generate prayer points")}finally{o(!1)}},E=()=>{if(c.trim()){const C=[...m,c.trim()];x(C),n(C),w(""),g(!1),O.success("Prayer point added!")}},_=C=>{const F=m.filter((S,j)=>j!==C);x(F),n(F),O.success("Prayer point removed")},T=C=>{const F=[...m,...C.points];x(F),n(F),u(!1),O.success(`${C.points.length} prayer points added!`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ue,{className:"w-5 h-5 text-indigo-400"}),"Prayer Points"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(ue,{className:"w-3 h-3 inline mr-1"}),"Generate"]}),s.jsx("button",{onClick:()=>u(!0),className:"btn-secondary text-xs px-3 py-1",children:"Select"}),s.jsxs("button",{onClick:()=>g(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(zs,{className:"w-3 h-3 inline mr-1"}),"Add"]})]})]}),m.length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.map((C,F)=>s.jsxs("div",{className:"flex items-start gap-2 glass-card p-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:F+1})}),s.jsx("p",{className:"text-white/90 flex-1 text-sm",children:C}),s.jsx("button",{onClick:()=>_(F),className:"p-1 rounded hover:bg-red-600/20 text-red-400 transition-colors",children:s.jsx(Rr,{className:"w-4 h-4"})})]},F))}):s.jsx("div",{className:"glass-card p-4 text-center",children:s.jsx("p",{className:"text-white/60 text-sm",children:"No prayer points added yet"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Generate Prayer Points"}),s.jsx("textarea",{value:p,onChange:C=>v(C.target.value),placeholder:"Describe what you want to pray about...",className:"input-glass w-full mb-4",rows:"4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:b,disabled:i,className:"btn-primary flex-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(lo,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"w-4 h-4 inline mr-2"}),"Generate"]})}),s.jsx("button",{onClick:()=>{l(!1),v("")},className:"btn-secondary",children:"Cancel"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Select Saved Prayer Points"}),f.length===0?s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"No saved prayer points yet"}):s.jsx("div",{className:"space-y-2 mb-4",children:f.map(C=>s.jsxs("div",{className:"glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold text-sm",children:C.title||"Saved Prayer Points"}),s.jsxs("button",{onClick:()=>T(C),className:"btn-secondary text-xs px-2 py-1",children:[s.jsx(Vr,{className:"w-3 h-3 inline mr-1"}),"Select"]})]}),s.jsxs("p",{className:"text-white/60 text-xs",children:[C.points.length," points"]})]},C._id))}),s.jsx("button",{onClick:()=>u(!1),className:"btn-secondary w-full",children:"Close"})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Prayer Point"}),s.jsx("textarea",{value:c,onChange:C=>w(C.target.value),placeholder:"Enter your prayer point...",className:"input-glass w-full mb-4",rows:"3"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:E,className:"btn-primary flex-1",children:[s.jsx(zs,{className:"w-4 h-4 inline mr-2"}),"Add Point"]}),s.jsx("button",{onClick:()=>{g(!1),w("")},className:"btn-secondary",children:"Cancel"})]})]})})]})}function pt({value:e,onChange:t,options:r,placeholder:n="Select an option...",className:i="",disabled:o=!1}){const[a,l]=N.useState(!1),d=N.useRef(null);N.useEffect(()=>{const h=g=>{d.current&&!d.current.contains(g.target)&&l(!1)};return a&&document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[a]);const u=r.find(h=>h.value===e);return s.jsxs("div",{className:`relative ${i}`,ref:d,children:[s.jsxs("button",{type:"button",onClick:()=>!o&&l(!a),disabled:o,className:`w-full input-glass text-left flex items-center justify-between ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("span",{className:`${u?"text-white":"text-white/50"}`,children:u?u.label:n}),s.jsx(gd,{className:`w-4 h-4 text-white/70 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-50 w-full mt-2 rounded-xl border border-white/30 shadow-2xl max-h-60 overflow-y-auto bg-gradient-to-br from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-xl",children:s.jsx("div",{className:"py-2",children:r.map(h=>s.jsxs("button",{type:"button",onClick:()=>{t(h.value),l(!1)},className:`w-full text-left px-4 py-3 text-sm md:text-base transition-colors flex items-center justify-between ${e===h.value?"bg-indigo-600/50 text-white":"text-white/90 hover:bg-white/20 hover:text-white"}`,children:[s.jsx("span",{children:h.label}),e===h.value&&s.jsx(Vr,{className:"w-4 h-4 text-indigo-300"})]},h.value))})})]})}function Ay(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-6 md:h-7 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-2/3"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-24"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-16"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-20"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-24"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg flex-1 md:flex-none w-20"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-28"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-10"})]})]})}function Dy({count:e=4}){return s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Array.from({length:e}).map((t,r)=>s.jsx(Ay,{},r))})}function Fy(){var H,le;const{userId:e,schedules:t,isLoading:r,createSchedule:n,updateSchedule:i,deleteSchedule:o}=_t(),{chants:a,tongueSongs:l}=Ro(),d=St(ie.uploads.getByUser,e?{userId:e}:"skip"),u=d===void 0,h=(d||[]).filter(k=>!k.uploadType||k.uploadType==="chant"),g=(d||[]).filter(k=>k.uploadType==="tongue"),[p,v]=N.useState(!1),[c,w]=N.useState(null),[m,x]=N.useState(null),[f,y]=N.useState(1),[b,E]=N.useState({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),[_,T]=N.useState(!1),C=async k=>{k.preventDefault();try{c?(await i({id:c._id,...b}),O.success("Schedule updated!")):(await n({userId:e,...b}),O.success("Schedule created!")),v(!1),w(null),y(1),E({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""})}catch(U){O.error("Failed to save schedule"),console.error(U)}},F=async()=>{var k,U,ne,Ae,z;if(!b.title){O.error("Please enter a title first");return}T(!0);try{const I="AIzaSyC3IxLVaP6VAYF_RCZT4HKNUox7F35tBd0",se=`Suggest a relevant Bible scripture (Book Chapter:Verse - Quote) for a prayer schedule titled "${b.title}"${b.description?` with description: "${b.description}"`:""}. Return ONLY the scripture reference and quote in this format: "Book Chapter:Verse - Quote". Example: "Jeremiah 29:11 - For I know the plans I have for you..."`,_e=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${I}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:se}]}]})});if(!_e.ok)throw new Error("API error");const De=((z=(Ae=(ne=(U=(k=(await _e.json()).candidates)==null?void 0:k[0])==null?void 0:U.content)==null?void 0:ne.parts)==null?void 0:Ae[0])==null?void 0:z.text)||"";De?(E(Fe=>({...Fe,scripture:De.trim()})),O.success("Scripture suggested!")):O.error("Could not generate scripture")}catch(I){console.error("Error generating scripture:",I),O.error("Failed to generate scripture")}finally{T(!1)}},S=k=>{w(k),y(1),E({title:k.title,description:k.description||"",scripture:k.scripture||"",scheduledTime:k.scheduledTime,recurring:k.recurring,frequency:k.frequency||"daily",prayerPoints:k.prayerPoints||[],selectedMusicId:k.selectedMusicId||"",tonguesMode:k.tonguesMode||"none",selectedTongueSongId:k.selectedTongueSongId||""}),v(!0)},j=4,$=b.title&&b.scheduledTime,M=()=>{f===1&&$?y(2):f===2?y(3):f===3&&y(4)},B=()=>{f>1&&y(f-1)},Q=async(k,U)=>{try{await i({id:k,prayerPoints:U})}catch(ne){console.error("Error updating prayer points:",ne)}},G=async(k,U)=>{try{await i({id:k,tonguesMode:U,...U==="none"&&{selectedTongueSongId:""}}),O.success("Tongues mode updated!")}catch(ne){O.error("Failed to update tongues mode"),console.error(ne)}},Z=async(k,U)=>{try{await i({id:k,selectedTongueSongId:U}),O.success("Tongue song updated!")}catch(ne){O.error("Failed to update tongue song"),console.error(ne)}},P=async(k,U)=>{try{await i({id:k,selectedMusicId:U}),O.success("Music updated!")}catch(ne){console.error("Error updating music:",ne),O.error("Failed to update music")}},A=async k=>{if(confirm("Are you sure you want to delete this schedule?"))try{await o({id:k}),O.success("Schedule deleted!")}catch{O.error("Failed to delete schedule")}},L=t.filter(k=>!k.isCompleted&&new Date(k.scheduledTime)>new Date),W=t.filter(k=>k.isCompleted||new Date(k.scheduledTime)<=new Date);return s.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-white font-serif tracking-tight",children:"Prayer Schedules"}),s.jsx("p",{className:"text-white/60 text-xs md:text-base mt-1 font-light",children:"Manage your prayer sessions and divine appointments"})]}),s.jsxs("button",{onClick:()=>{w(null),E({title:"",description:"",scripture:"",scheduledTime:new Date().toISOString().slice(0,16),recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),y(1),v(!0)},className:"group relative overflow-hidden px-6 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s.jsx(zs,{className:"w-5 h-5"}),"New Schedule"]}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[s.jsx(Pt,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700]"}),"Upcoming Schedules"]}),r||u?s.jsx(Dy,{count:4}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:L.length===0?s.jsxs("div",{className:"glass-card col-span-full text-center py-16 md:py-20 border border-white/10 bg-[#1a103c]/30 rounded-3xl",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-[#ffd700]/5 flex items-center justify-center mx-auto mb-6 border border-[#ffd700]/10",children:s.jsx(Pt,{className:"w-10 h-10 text-[#ffd700]/40"})}),s.jsx("p",{className:"text-white/80 text-lg md:text-xl font-medium mb-2",children:"No upcoming schedules"}),s.jsx("p",{className:"text-white/50 text-sm",children:"Create your first schedule to get started"})]}):L.map(k=>s.jsxs("div",{className:"group relative overflow-hidden p-6 rounded-3xl bg-[#1a103c]/40 backdrop-blur-md border border-white/10 hover:border-[#ffd700]/30 transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[s.jsxs("div",{className:"mb-6 relative z-10",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight font-serif group-hover:text-[#ffd700] transition-colors",children:k.title}),k.description&&s.jsx("p",{className:"text-white/60 text-sm md:text-base mb-4 line-clamp-2 font-light",children:k.description})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[s.jsx(Pt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),s.jsx("span",{className:"truncate font-medium",children:vn(new Date(k.scheduledTime),"MMM d, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[s.jsx(Nr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:vn(new Date(k.scheduledTime),"h:mm a")})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[k.recurring&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs md:text-sm font-medium",children:k.frequency}),k.scripture&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs md:text-sm",children:[s.jsx(xt,{className:"w-3 h-3"}),"Scripture"]}),k.prayerPoints&&k.prayerPoints.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs md:text-sm",children:[s.jsx(ue,{className:"w-3 h-3"}),k.prayerPoints.length," Point",k.prayerPoints.length!==1?"s":""]}),k.selectedMusicId&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-xs md:text-sm",children:[s.jsx(Se,{className:"w-3 h-3"}),"Music"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 relative z-10",children:[s.jsxs("button",{onClick:()=>S(k),className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(av,{className:"w-4 h-4"}),"Edit"]}),s.jsx("button",{onClick:()=>{m===k._id?x(null):x(k._id)},className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium",children:m===k._id?"Hide Details":"View Details"}),s.jsx("button",{onClick:()=>A(k._id),className:"px-4 py-2.5 rounded-xl border border-red-500/20 bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:border-red-500/40 transition-all text-sm font-medium flex items-center justify-center",title:"Delete Schedule",children:s.jsx(Br,{className:"w-4 h-4"})})]}),m===k._id&&s.jsxs("div",{className:"border-t border-white/10 pt-5 mt-5 space-y-6 relative z-10 animate-fade-in",children:[k.scripture&&s.jsxs("div",{className:"p-4 rounded-xl border border-[#ffd700]/20 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(xt,{className:"w-4 h-4 text-[#ffd700]"}),s.jsx("h5",{className:"text-[#ffd700] font-semibold text-sm uppercase tracking-wider",children:"Scripture Passage"})]}),s.jsxs("p",{className:"text-white/90 text-sm italic font-serif leading-relaxed",children:['"',k.scripture,'"']})]}),s.jsx(Gu,{scheduleId:k._id,userId:e,currentPoints:k.prayerPoints||[],onPointsChange:U=>Q(k._id,U)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx(Se,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:a.map(U=>s.jsx("button",{onClick:()=>P(k._id,U.id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedMusicId===U.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedMusicId===U.id?"text-[#ffd700]":"text-white"}`,children:U.name})},U.id))}),h.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:h.map(U=>s.jsx("button",{onClick:()=>P(k._id,U._id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedMusicId===U._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedMusicId===U._id?"text-[#ffd700]":"text-white"}`,children:U.fileName.replace(/\.[^/.]+$/,"")})},U._id))})]}),s.jsx("button",{onClick:()=>P(k._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Music"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx(ue,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongues Mode"}),s.jsx(pt,{value:k.tonguesMode||"none",onChange:U=>G(k._id,U),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(k.tonguesMode==="start"||k.tonguesMode==="perPoint")&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongue Song"}),l.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:l.map(U=>s.jsx("button",{onClick:()=>Z(k._id,U.id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedTongueSongId===U.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedTongueSongId===U.id?"text-[#ffd700]":"text-white"}`,children:U.name})},U.id))}),g.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:g.map(U=>s.jsx("button",{onClick:()=>Z(k._id,U._id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedTongueSongId===U._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedTongueSongId===U._id?"text-[#ffd700]":"text-white"}`,children:U.fileName.replace(/\.[^/.]+$/,"")})},U._id))})]}),s.jsx("button",{onClick:()=>Z(k._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Tongue Song"})]})]})]})]},k._id))})]}),W.length>0&&s.jsxs("div",{className:"w-full pt-8 border-t border-white/10",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white/60 mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[s.jsx(xt,{className:"w-5 h-5 md:w-6 md:h-6"}),"Past Schedules"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:W.map(k=>s.jsxs("div",{className:"p-5 md:p-6 rounded-2xl bg-white/5 border border-white/5 opacity-60 hover:opacity-100 transition-all duration-300",children:[s.jsx("h4",{className:"text-lg md:text-xl font-semibold text-white mb-3 font-serif",children:k.title}),s.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm md:text-base mb-3",children:[s.jsx(Nr,{className:"w-4 h-4"}),s.jsx("span",{children:vn(new Date(k.scheduledTime),"MMM d, yyyy h:mm a")})]}),k.isCompleted&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-500/20 border border-green-500/30 text-green-300 text-xs md:text-sm font-medium",children:"Completed"})]},k._id))})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-[#1a103c]/95 md:bg-[#1a103c]/80 backdrop-blur-md z-[200] flex items-stretch md:items-center justify-center p-0 md:p-4 overflow-y-auto animate-fade-in",children:s.jsx("div",{className:"glass-card w-full md:max-w-2xl rounded-none md:rounded-3xl h-full md:h-auto md:max-h-[85vh] overflow-y-auto border-0 md:border border-white/10 shadow-2xl bg-[#2d1b4e] flex flex-col",children:s.jsxs("div",{className:"p-5 md:p-8 pb-20 md:pb-8",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-3 px-2 md:px-0",children:[1,2,3,4].map(k=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-500 ${k<f?"bg-[#ffd700] text-[#1a103c] shadow-[0_0_10px_rgba(255,215,0,0.5)]":k===f?"bg-[#ffd700]/20 text-[#ffd700] border-2 border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":"bg-white/5 text-white/30 border border-white/10"}`,children:k<f?s.jsx(Vr,{className:"w-4 h-4 md:w-5 md:h-5"}):k}),s.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium uppercase tracking-wider transition-colors duration-300 ${k<=f?"text-[#ffd700]":"text-white/30"}`,children:k===1?"Basic":k===2?"Time":k===3?"Music":"Review"})]}),k<j&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-500 ${k<f?"bg-[#ffd700]":"bg-white/10"}`})]},k))})}),s.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white font-serif",children:c?"Edit Schedule":"New Schedule"}),s.jsx("button",{onClick:()=>{v(!1),w(null),y(1)},className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white/50 hover:text-white",children:s.jsx("span",{className:"text-2xl leading-none",children:""})})]}),s.jsxs("form",{onSubmit:C,children:[f===1&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Title *"}),s.jsx("input",{type:"text",value:b.title,onChange:k=>E({...b,title:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",placeholder:"Enter schedule title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Description"}),s.jsx("textarea",{value:b.description,onChange:k=>E({...b,description:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none",rows:"3",placeholder:"Add a description for this prayer schedule"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{className:"w-4 h-4 text-[#ffd700]"}),"Scripture Passage"]}),s.jsxs("button",{type:"button",onClick:F,disabled:_||!b.title,className:"text-xs flex items-center gap-1 text-[#ffd700] hover:text-[#ffd700]/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[_?s.jsx(lo,{className:"w-3 h-3 animate-spin"}):s.jsx(ue,{className:"w-3 h-3"}),_?"Suggesting...":"Suggest Scripture"]})]}),s.jsx("textarea",{value:b.scripture,onChange:k=>E({...b,scripture:k.target.value}),placeholder:"E.g., John 3:16 - For God so loved the world...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none font-serif italic",rows:"3"}),s.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Add a scripture passage that will be used when generating prayer points"})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{v(!1),w(null),y(1)},className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:M,disabled:!b.title,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(Pn,{className:"w-5 h-5"})]})]})]}),f===2&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Scheduled Time *"}),s.jsx("input",{type:"datetime-local",value:b.scheduledTime,onChange:k=>E({...b,scheduledTime:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>E({...b,recurring:!b.recurring}),children:[s.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center transition-all ${b.recurring?"bg-[#ffd700] border-[#ffd700]":"border-white/30"}`,children:b.recurring&&s.jsx(Vr,{className:"w-4 h-4 text-[#1a103c]"})}),s.jsx("label",{className:"text-white/90 text-base cursor-pointer select-none",children:"Make this schedule recurring"})]}),b.recurring&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Frequency"}),s.jsx(pt,{value:b.frequency,onChange:k=>E({...b,frequency:k}),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],placeholder:"Select frequency"})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:B,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(xs,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:M,disabled:!b.scheduledTime,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(Pn,{className:"w-5 h-5"})]})]})]}),f===3&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(Se,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),s.jsx(pt,{value:b.selectedMusicId||"",onChange:k=>E({...b,selectedMusicId:k}),options:[{value:"",label:"None"},...a.map(k=>({value:k.id,label:k.name})),...h.map(k=>({value:k._id,label:k.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select background music"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(ue,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),s.jsx(pt,{value:b.tonguesMode||"none",onChange:k=>E({...b,tonguesMode:k,selectedTongueSongId:k==="none"?"":b.selectedTongueSongId}),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(b.tonguesMode==="start"||b.tonguesMode==="perPoint")&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Tongue Song"}),s.jsx(pt,{value:b.selectedTongueSongId||"",onChange:k=>E({...b,selectedTongueSongId:k}),options:[{value:"",label:"None"},...l.map(k=>({value:k.id,label:k.name})),...g.map(k=>({value:k._id,label:k.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select tongue song"})]}),c&&s.jsx("div",{className:"border-t border-white/10 pt-5 mt-5",children:s.jsx(Gu,{scheduleId:c._id,userId:e,currentPoints:b.prayerPoints||[],onPointsChange:k=>E({...b,prayerPoints:k})})}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:B,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(xs,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:M,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:["Next",s.jsx(Pn,{className:"w-5 h-5"})]})]})]}),f===4&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[s.jsx("h4",{className:"text-lg font-bold text-white mb-4 font-serif",children:"Review Your Schedule"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Title"}),s.jsx("p",{className:"text-white font-medium text-lg",children:b.title})]}),b.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Description"}),s.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:b.description})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scheduled Time"}),s.jsxs("p",{className:"text-white font-medium text-base flex items-center gap-2",children:[s.jsx(Pt,{className:"w-4 h-4 text-[#ffd700]"}),b.scheduledTime&&vn(new Date(b.scheduledTime),"MMM d, yyyy h:mm a")]})]}),b.recurring&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Frequency"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs font-bold uppercase tracking-wider",children:b.frequency})]}),b.scripture&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scripture"}),s.jsxs("p",{className:"text-white/90 text-sm italic font-serif border-l-2 border-[#ffd700]/50 pl-3 py-1",children:['"',b.scripture,'"']})]}),b.selectedMusicId&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Music"}),s.jsx("p",{className:"text-white font-medium text-base",children:((H=a.find(k=>k.id===b.selectedMusicId))==null?void 0:H.name)||((le=h.find(k=>k._id===b.selectedMusicId))==null?void 0:le.fileName.replace(/\.[^/.]+$/,""))||"Selected"})]}),b.tonguesMode!=="none"&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Tongues Mode:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:b.tonguesMode==="start"?"Start with Tongues":"Per Prayer Point"})]})]})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:B,className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(xs,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"submit",className:"w-full md:flex-1 py-3.5 md:py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:[s.jsx(Vr,{className:"w-5 h-5"}),c?"Update Schedule":"Create Schedule"]})]})]})]})]})})})]})}function zy(){return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0 animate-pulse",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 md:h-9 bg-white/10 rounded-lg w-48"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-64"})]})}),s.jsx("div",{className:"glass-strong p-6 md:p-8 lg:p-10 rounded-2xl md:rounded-3xl border border-white/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-40"})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 md:mb-8",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-white/10"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 md:h-16 lg:h-20 bg-white/10 rounded-lg w-24 md:w-32"}),s.jsx("div",{className:"h-5 bg-white/5 rounded-lg w-32"})]})]}),s.jsxs("div",{className:"max-w-md mx-auto space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-32"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-16"})]}),s.jsx("div",{className:"h-3 bg-white/10 rounded-full"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Array.from({length:3}).map((e,t)=>s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-white/10"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-24"}),s.jsx("div",{className:"h-8 bg-white/10 rounded w-16"})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("div",{className:"h-3 bg-white/5 rounded w-32"})})]},t))}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded w-32"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-4/6"})]})]})]})}function Uy(){const{streak:e,isLoading:t}=_t();if(t||!e)return s.jsx(zy,{});const r=e.longestStreak>0?Math.round(e.currentStreak/e.longestStreak*100):0,i=(a=>a===0?{level:"Beginner",color:"from-indigo-400 to-indigo-600",icon:dv}:a<7?{level:"Rising",color:"from-indigo-500 to-purple-500",icon:Um}:a<30?{level:"Dedicated",color:"from-purple-500 to-pink-500",icon:Gx}:a<100?{level:"Devoted",color:"from-amber-500 to-orange-600",icon:xi}:{level:"Master",color:"from-amber-400 to-amber-600",icon:vs})(e.currentStreak),o=e.currentStreak===e.longestStreak&&e.currentStreak>0;return s.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(vs,{className:"w-8 h-8 text-amber-400"}),"Prayer Streak"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your consistent prayer journey"})]})}),s.jsxs("div",{className:"glass-card p-8 md:p-10 rounded-3xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/10 via-purple-400/10 to-indigo-400/10 animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-6 py-2 rounded-full bg-gradient-to-r ${i.color} border border-white/20 shadow-lg shadow-amber-500/10`,children:[s.jsx(i.icon,{className:"w-5 h-5 text-white"}),s.jsxs("span",{className:"text-white font-bold text-sm tracking-wide uppercase",children:[i.level," Prayer Warrior"]})]})}),s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-br ${i.color} flex items-center justify-center shadow-2xl shadow-amber-500/20 relative overflow-hidden ring-4 ring-white/10`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),s.jsx(vs,{className:`w-12 h-12 md:w-16 md:h-16 text-white relative z-10 ${e.currentStreak>0?"animate-pulse":""}`}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/50 to-yellow-400/50 animate-pulse"})]}),e.currentStreak>0&&s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full animate-ping opacity-75"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:`text-6xl md:text-7xl lg:text-8xl font-bold bg-gradient-to-r ${i.color} bg-clip-text text-transparent mb-1 drop-shadow-lg font-serif`,children:e.currentStreak}),s.jsx("p",{className:"text-indigo-200 text-lg md:text-xl font-medium uppercase tracking-widest",children:"Day Streak"})]})]}),o&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-amber-500/10 border border-amber-400/30 mb-4 animate-pulse",children:[s.jsx(xi,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{className:"text-amber-300 text-sm font-bold tracking-wide",children:"NEW PERSONAL BEST! "})]})]}),e.longestStreak>0&&s.jsxs("div",{className:"max-w-lg mx-auto bg-indigo-950/30 p-6 rounded-2xl border border-white/5 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-indigo-200/70 text-sm font-medium uppercase tracking-wider",children:"Progress to Record"}),s.jsxs("span",{className:"text-white font-bold text-sm",children:[r,"%  ",e.currentStreak," / ",e.longestStreak]})]}),s.jsx("div",{className:"relative w-full h-3 bg-indigo-950/50 rounded-full overflow-hidden border border-white/5",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${i.color} rounded-full transition-all duration-1000 ease-out relative`,style:{width:`${r}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(xi,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Longest Streak"}),s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.longestStreak})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:"Your all-time record"})})]}),s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-purple-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(cv,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Total Prayers"}),s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.totalPrayers})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:"All-time sessions completed"})})]}),s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition-all duration-300 hover:-translate-y-1 group sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(Pt,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Last Prayer"}),s.jsx("div",{className:"text-xl md:text-2xl font-bold text-white font-serif truncate",children:e.lastPrayerDate?new Date(e.lastPrayerDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never"})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:e.lastPrayerDate?"Last session completed":"Start your journey today"})})]})]}),s.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s.jsx(ue,{className:"w-6 h-6 text-amber-400"}),s.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Keep Going!"})]}),e.currentStreak===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:"Start your prayer journey today! Complete your first prayer session to begin your streak and build a powerful habit of consistent prayer."}),s.jsxs("div",{className:"p-4 rounded-xl bg-indigo-500/10 border border-indigo-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-indigo-200 text-sm font-medium pt-0.5",children:"Tip: Set a daily reminder to help maintain your streak!"})]})]}),e.currentStreak>0&&e.currentStreak<7&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Great start! You're on a ",s.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak,"-day streak"]}),". Keep it up to build a strong habit! Every day counts."]}),s.jsxs("div",{className:"p-4 rounded-xl bg-purple-500/10 border border-purple-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-purple-200 text-sm font-medium pt-0.5",children:"You're building momentum! Consistency is key to spiritual growth."})]})]}),e.currentStreak>=7&&e.currentStreak<30&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Excellent! You've maintained your prayer habit for ",s.jsxs("span",{className:"font-bold text-purple-300",children:[e.currentStreak," days"]}),". You're building a strong foundation for your spiritual journey!"]}),s.jsxs("div",{className:"p-4 rounded-xl bg-pink-500/10 border border-pink-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-pink-200 text-sm font-medium pt-0.5",children:"You're developing a powerful prayer discipline. Keep going!"})]})]}),e.currentStreak>=30&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Amazing dedication! ",s.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak," days"]})," of consistent prayer is truly inspiring. You're demonstrating incredible commitment to your spiritual growth!"]}),s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-amber-200 text-sm font-medium pt-0.5",children:"You're a prayer warrior! Your consistency is transforming your spiritual life."})]})]}),o&&s.jsx("div",{className:"mt-6 p-5 rounded-xl bg-gradient-to-r from-amber-500/10 via-orange-500/10 to-red-500/10 border border-amber-400/30 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xi,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),s.jsx("p",{className:"text-amber-200 font-bold text-base",children:"You're at your personal best! Keep pushing forward and break new records!"})]})})]})]})]})}function qy(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-lg w-32"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-40"})]}),s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"})]})]})}function Vy({count:e=5}){return s.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,r)=>s.jsx(qy,{},r))})}function By({isOpen:e,onClose:t,onConfirm:r,entryDate:n}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-red-600 to-orange-600 flex items-center justify-center",children:s.jsx(pd,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Delete History Entry"})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:s.jsx(Rr,{className:"w-5 h-5 text-white/70"})})]}),s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("p",{className:"text-white/80 text-sm md:text-base leading-relaxed mb-3",children:"Are you sure you want to delete this prayer history entry?"}),n&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-indigo-500/10 border border-indigo-400/20",children:s.jsx("p",{className:"text-indigo-300 text-sm md:text-base font-medium",children:n})}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-3",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsx("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:"Delete Entry"})]})]})}):null}function Wy(){const{history:e,deleteHistory:t,isLoading:r}=_t(),[n,i]=N.useState(null),[o,a]=N.useState(!1),[l,d]=N.useState(null),u=m=>{d(m),a(!0)},h=async()=>{if(l){i(l._id);try{await t({id:l._id}),O.success("History entry deleted"),a(!1),d(null)}catch(m){console.error("Error deleting history:",m),O.error("Failed to delete history entry")}finally{i(null)}}},g=()=>{n||(a(!1),d(null))};if(r)return s.jsxs("div",{className:"space-y-6 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-48 animate-pulse"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]})}),s.jsx(Vy,{count:5})]});if(!e||e.length===0)return s.jsxs("div",{className:"space-y-6 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(xt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-card p-16 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(xt,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-lg font-medium mb-2",children:"No prayer history yet"}),s.jsx("p",{className:"text-indigo-200/40 text-base",children:"Complete your first prayer session to see it here"})]})]});const p=e.length,v=Math.round(e.reduce((m,x)=>m+x.duration,0)/e.length),c=e.reduce((m,x)=>m+x.duration,0),w=e.filter(m=>m.prayerPoints&&m.prayerPoints.length>0).length;return s.jsxs("div",{className:"space-y-8 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(xt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Um,{className:"w-6 h-6 text-amber-400"}),s.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Your Prayer Journey"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 to-amber-600 bg-clip-text text-transparent mb-2 font-serif",children:p}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Sessions"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2 font-serif",children:v}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Avg Duration (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent mb-2 font-serif",children:c}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Time (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent mb-2 font-serif",children:w}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"With Prayer Points"})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:e.map(m=>s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-5",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(Pt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1 font-serif",children:vn(new Date(m.completedAt),"MMM d, yyyy")}),s.jsx("p",{className:"text-indigo-200/60 text-sm",children:Ly(new Date(m.completedAt),{addSuffix:!0})})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-500/10 border border-indigo-400/20",children:[s.jsx(Nr,{className:"w-4 h-4 text-indigo-300"}),s.jsxs("span",{className:"text-indigo-200 font-bold text-sm",children:[m.duration," min"]})]}),s.jsx("button",{onClick:()=>u(m),disabled:n===m._id,className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed opacity-0 group-hover:opacity-100",title:"Delete entry",children:n===m._id?s.jsx("div",{className:"w-5 h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):s.jsx(Br,{className:"w-5 h-5"})})]})]}),m.prayerPoints&&m.prayerPoints.length>0&&s.jsxs("div",{className:"mb-5 p-5 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-400/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(ue,{className:"w-5 h-5 text-purple-400"}),s.jsxs("h4",{className:"text-white font-bold text-base",children:["Prayer Points (",m.prayerPoints.length,")"]})]}),s.jsx("ul",{className:"space-y-3",children:m.prayerPoints.map((x,f)=>s.jsxs("li",{className:"text-indigo-100 text-base flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:s.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:f+1})}),s.jsx("span",{className:"flex-1 leading-relaxed",children:x})]},f))})]}),m.notes&&s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(tv,{className:"w-4 h-4 text-indigo-400"}),s.jsx("h4",{className:"text-indigo-200 font-bold text-sm uppercase tracking-wider",children:"Notes"})]}),s.jsx("p",{className:"text-indigo-100 text-base whitespace-pre-wrap leading-relaxed",children:m.notes})]}),m.prayerScheduleId&&s.jsx("div",{className:"mt-4 pt-4 border-t border-white/5",children:s.jsxs("p",{className:"text-indigo-200/40 text-sm",children:[s.jsx("span",{className:"text-indigo-200/60",children:"From schedule:"})," ",m.prayerScheduleId]})})]})]},m._id))}),s.jsx(By,{isOpen:o,onClose:g,onConfirm:h,entryDate:l?vn(new Date(l.completedAt),"MMM d, yyyy"):null})]})}function Qy(){return s.jsxs("li",{className:"flex items-start gap-3 md:gap-4 animate-pulse",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500/30 to-purple-500/30 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-4/6"})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"})]})]})}function Hy({count:e=5}){return s.jsx("ul",{className:"space-y-3 md:space-y-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Qy,{},r))})}function Yy(){return s.jsxs("div",{className:"glass p-3 md:p-4 rounded-xl animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"h-5 bg-white/10 rounded-lg w-32"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20 mb-3"}),s.jsx("div",{className:"h-9 bg-white/10 rounded-lg w-24"})]})}function Ky({count:e=3}){return s.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,r)=>s.jsx(Yy,{},r))})}function Gy({text:e}){const[t,r]=N.useState(!1),n=e.length>150;return s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-indigo-100/90 text-sm md:text-base leading-relaxed break-words text-justify ${t?"":"line-clamp-2"}`,children:e}),n&&s.jsx("button",{onClick:i=>{i.stopPropagation(),r(!t)},className:"text-amber-400 hover:text-amber-300 text-xs font-medium mt-1 focus:outline-none",children:t?"Read Less":"Read More"})]})}function Xy(){const{userId:e,schedules:t,updateSchedule:r,settings:n}=_t(),[i,o]=N.useState("ai"),[a,l]=N.useState(!1),[d,u]=N.useState([]),[h,g]=N.useState(null),[p,v]=N.useState(!1),[c,w]=N.useState(""),[m,x]=N.useState(""),[f,y]=N.useState(""),[b,E]=N.useState(5),[_,T]=N.useState([""]),[C,F]=N.useState({isValid:!0,message:"",parsed:null}),S=t.find(z=>z._id===m),j=Xe(ie.savedPrayerPoints.save),$=St(ie.savedPrayerPoints.getByUser,e?{userId:e}:"skip"),M=$===void 0,B=Xe(ie.savedPrayerPoints.remove),Q=z=>{if(!z||!z.trim())return{isValid:!0,message:"",parsed:null};const I=z.trim(),se=/^([1-3]?\s?[A-Za-z]+)\s+(\d+):(\d+)(?:-(\d+))?(?:\s*[-]\s*(.+))?$/i,_e=I.match(se);if(_e){const[,$r,De,Fe,er,ze]=_e,pe={book:$r.trim(),chapter:parseInt(De),startVerse:parseInt(Fe),endVerse:parseInt(er||Fe),quote:ze?ze.trim():null,full:I};return pe.endVerse<pe.startVerse?{isValid:!1,message:"End verse cannot be less than start verse",parsed:null}:{isValid:!0,message:` ${pe.book} ${pe.chapter}:${pe.startVerse}${pe.endVerse>pe.startVerse?`-${pe.endVerse}`:""}`,parsed:pe}}return I.length>20&&!I.match(/\d+:\d+/)?{isValid:!0,message:" Scripture quote (no reference)",parsed:{quote:I,full:I}}:I.match(/[A-Za-z]+\s+\d+:/)?{isValid:!0,message:" Scripture reference detected",parsed:{full:I}}:{isValid:!0,message:" Custom scripture passage",parsed:{full:I}}};Lm(),N.useEffect(()=>{S!=null&&S.scripture?(y(S.scripture),F(Q(S.scripture))):(y(""),F({isValid:!0,message:"",parsed:null}))},[m,S]);const G=z=>{y(z),F(Q(z))};N.useEffect(()=>{S!=null&&S.prayerPoints&&S.prayerPoints.length>0&&(u(S.prayerPoints),T(S.prayerPoints))},[m,S]);const Z=async()=>{var se,_e,$r,De,Fe,er;if(!m){O.error("Please select a prayer schedule");return}if(!S){O.error("Selected schedule not found");return}const z=typeof b=="number"?b:parseInt(b)||5,I=Math.max(1,Math.min(20,z));if(I<1||I>20){O.error("Number of points must be between 1 and 20");return}l(!0),u([]);try{const ze="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ";let pe=`Generate exactly ${I} specific, meaningful prayer points for the prayer schedule: "${S.title}".`;S.description&&(pe+=`
Description: ${S.description}`);const tr=f.trim()||S.scripture||"";tr&&(pe+=`
Scripture Passage: ${tr}`),pe+=`

Format the response as a numbered list (1. 2. 3. etc.) with exactly ${I} prayer points, each on a new line. Make each point specific, actionable, and spiritually meaningful. Use the scripture passage as the foundation for the prayer points if provided.`;const be=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ze}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:pe}]}]})});if(!be.ok){const ee=await be.json().catch(()=>({}));throw new Error(((se=ee.error)==null?void 0:se.message)||`API error: ${be.status}`)}const Qe=((er=(Fe=(De=($r=(_e=(await be.json()).candidates)==null?void 0:_e[0])==null?void 0:$r.content)==null?void 0:De.parts)==null?void 0:Fe[0])==null?void 0:er.text)||"";if(!Qe)throw new Error("No response from AI");let Ue=Qe.split(`
`).map(ee=>ee.trim()).filter(ee=>ee&&(ee.startsWith("-")||ee.startsWith("")||ee.match(/^\d+\./)||ee.match(/^[1-9]\./))).map(ee=>ee.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(ee=>ee.length>10&&ee.length<300).slice(0,I);if(Ue.length===0&&(Ue=Qe.split(/\n+/).map(ee=>ee.trim()).filter(ee=>ee.length>20&&ee.length<300).slice(0,I)),Ue.length===0&&(Ue=Qe.split(/[.!?]+/).map(ee=>ee.trim()).filter(ee=>ee.length>20&&ee.length<300).slice(0,I)),Ue.length===0)Ue=Array.from({length:I},(ee,$o)=>`Prayer point ${$o+1}: Pray for guidance and wisdom in this situation`);else{for(;Ue.length<I;)Ue.push("Pray for God's will to be done");Ue=Ue.slice(0,I)}if(u(Ue),(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{await r({id:m,prayerPoints:Ue,scripture:f.trim()||void 0}),O.success(`${I} Prayer points generated and saved!`)}catch(ee){console.error("Error saving to schedule:",ee),O.error("Prayer points generated but failed to save to schedule")}else O.success(`${I} Prayer points generated! (Auto-save disabled)`);try{await j({userId:e,title:`Generated: ${S.title}`,points:Ue})}catch(ee){console.error("Error saving points to library:",ee)}}catch(ze){console.error("Error generating prayer points:",ze),O.error(`Failed to generate prayer points: ${ze.message||"Please try again"}`);const pe=typeof b=="number"?b:parseInt(b)||5,tr=Math.max(1,Math.min(20,pe));u(Array.from({length:tr},(be,Zr)=>`Prayer point ${Zr+1}: Pray for guidance and wisdom`))}finally{l(!1)}},P=async()=>{const z=i==="ai"?d:_.filter(I=>I.trim());if(z.length===0){O.error("No prayer points to save");return}if(!m){O.error("Please select a prayer schedule");return}try{await r({id:m,prayerPoints:z,scripture:f.trim()||void 0}),O.success("Prayer points saved to schedule!")}catch(I){console.error("Error saving to schedule:",I),O.error("Failed to save prayer points")}},A=z=>{const I=i==="ai"?d:_;g(z),w(I[z]||"")},L=async z=>{if(!c.trim()){O.error("Prayer point cannot be empty");return}let I;if(i==="ai"?(I=[...d],I[z]=c.trim(),u(I)):(I=[..._],I[z]=c.trim(),T(I)),g(null),w(""),O.success("Prayer point updated!"),m&&I.length>0&&(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{const se=i==="ai"?I:I.filter(_e=>_e.trim());await r({id:m,prayerPoints:se,scripture:f.trim()||void 0})}catch(se){console.error("Error auto-saving to schedule:",se)}},W=()=>{g(null),w("")},H=z=>{if(i==="ai"){const I=d.filter((se,_e)=>_e!==z);u(I)}else{const I=_.filter((se,_e)=>_e!==z);T(I)}O.success("Prayer point deleted!")},le=()=>{T([..._,""])},k=(z,I)=>{const se=[..._];se[z]=I,T(se)},U=z=>{if(_.length>1){const I=_.filter((se,_e)=>_e!==z);T(I)}else O.error("At least one prayer point is required")},ne=i==="ai"?d:_.filter(z=>z.trim()),Ae=ne.length>0;return s.jsxs("div",{className:"space-y-6 md:space-y-8 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight",children:"Prayer Points"}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Generate spiritual prayer points for your schedules"})]})}),s.jsxs("div",{className:"flex p-1 bg-indigo-950/40 backdrop-blur-md rounded-xl border border-white/5 w-full md:w-auto self-start",children:[s.jsxs("button",{onClick:()=>o("ai"),className:`flex-1 md:flex-none px-3 md:px-6 py-2 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 ${i==="ai"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[s.jsx(ue,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${i==="ai"?"text-amber-300":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"AI Generate"}),s.jsx("span",{className:"sm:hidden",children:"AI"})]}),s.jsxs("button",{onClick:()=>o("manual"),className:`flex-1 md:flex-none px-3 md:px-6 py-2 md:py-2.5 rounded-lg text-xs md:text-sm font-medium transition-all duration-300 flex items-center justify-center gap-1.5 md:gap-2 ${i==="manual"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[s.jsx(fa,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${i==="manual"?"text-amber-300":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"Manual Create"}),s.jsx("span",{className:"sm:hidden",children:"Manual"})]})]}),s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),s.jsxs("div",{className:"space-y-6 relative z-10",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-2 uppercase tracking-wider",children:["Select Prayer Schedule ",s.jsx("span",{className:"text-amber-400",children:"*"})]}),s.jsx(pt,{value:m,onChange:x,options:[{value:"",label:"Choose a schedule..."},...t.filter(z=>!z.isCompleted).map(z=>({value:z._id,label:`${z.title} - ${new Date(z.scheduledTime).toLocaleDateString()}`}))],placeholder:"Choose a schedule..."}),S&&s.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-indigo-950/50 border border-indigo-500/20 flex items-start gap-3",children:[s.jsx("div",{className:"w-1 h-full min-h-[2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base",children:S.title}),S.description&&s.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-1",children:S.description})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-3 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(xt,{className:"w-4 h-4 text-amber-400"}),"Scripture Passage"]}),s.jsxs("div",{className:"relative group",children:[s.jsx("textarea",{value:f,onChange:z=>G(z.target.value),placeholder:`E.g., John 3:16 - For God so loved the world...
Or: John 3:4-16
Or: Psalm 23:1-6`,className:`w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none ${C.isValid&&C.message?"border-emerald-500/30 focus:border-emerald-500/50":""}`,rows:"3"}),f&&s.jsx("div",{className:"absolute top-3 right-3",children:C.isValid?s.jsx(Cn,{className:"w-5 h-5 text-emerald-400"}):s.jsx(Sn,{className:"w-5 h-5 text-amber-400"})})]}),f&&s.jsx("div",{className:`mt-3 p-3 rounded-lg border transition-all ${C.isValid?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[C.isValid?s.jsx(Cn,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}):s.jsx(Sn,{className:"w-4 h-4 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${C.isValid?"text-emerald-300":"text-amber-300"}`,children:C.message||"Enter a scripture reference or passage"}),C.parsed&&C.parsed.book&&s.jsxs("div",{className:"mt-2 space-y-1 pl-1 border-l-2 border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Book:"}),s.jsx("span",{children:C.parsed.book})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Chapter:"}),s.jsx("span",{children:C.parsed.chapter})]}),C.parsed.startVerse&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Verse:"}),s.jsxs("span",{children:[C.parsed.startVerse,C.parsed.endVerse>C.parsed.startVerse?` - ${C.parsed.endVerse}`:""]})]}),C.parsed.quote&&s.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:s.jsxs("p",{className:"text-xs text-indigo-200/80 italic font-serif",children:['"',C.parsed.quote,'"']})})]})]})]})}),s.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-500/5 border border-indigo-500/10",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(nv,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-indigo-200 text-[10px] md:text-xs font-medium mb-2",children:"Supported Formats:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:16"})," - Single verse"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:4-16"})," - Verse range"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"With Quote"}),' - "For God so loved..."']})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Custom"})," - Any text"]})]})]})]})]})})]}),i==="ai"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-indigo-200 text-sm font-medium mb-3 uppercase tracking-wider",children:"Number of Prayer Points"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{const z=typeof b=="number"?b:parseInt(b)||5;E(Math.max(1,z-1))},disabled:(typeof b=="number"?b:parseInt(b)||5)<=1,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Decrease",children:s.jsx(iv,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"number",min:"1",max:"20",value:b,onChange:z=>{const I=z.target.value;if(I===""){E("");return}const se=parseInt(I);isNaN(se)||E(Math.max(1,Math.min(20,se)))},onBlur:z=>{const I=z.target.value;(I===""||isNaN(parseInt(I))||parseInt(I)<1)&&E(5)},className:"w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl py-3 text-center text-xl font-bold text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"5"})}),s.jsx("button",{type:"button",onClick:()=>{const z=typeof b=="number"?b:parseInt(b)||5;E(Math.min(20,z+1))},disabled:(typeof b=="number"?b:parseInt(b)||5)>=20,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Increase",children:s.jsx(zs,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})})]}),s.jsx("p",{className:"text-indigo-300/50 text-[10px] md:text-xs mt-2 text-center",children:"Enter a number between 1 and 20"})]}),i==="ai"&&s.jsx("button",{onClick:Z,disabled:a||!m,className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-indigo-950 font-bold shadow-lg shadow-amber-500/20 hover:shadow-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-300 transform hover:-translate-y-0.5 border border-amber-400/20 flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(lo,{className:"w-5 h-5 animate-spin"}),"Generating ",typeof b=="number"?b:parseInt(b)||5," Prayer Points..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ue,{className:"w-5 h-5"}),"Generate ",typeof b=="number"?b:parseInt(b)||5," Prayer Points"]})}),i==="ai"&&!m&&s.jsxs("p",{className:"text-amber-400/80 text-xs md:text-sm text-center flex items-center justify-center gap-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Please select a prayer schedule to generate prayer points"]})]})]}),i==="manual"&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5 text-amber-400"}),"Create Prayer Points"]}),s.jsxs("button",{onClick:le,className:"px-4 py-2 rounded-lg bg-indigo-600/50 hover:bg-indigo-600/70 text-white text-sm font-medium transition-all border border-indigo-500/30 flex items-center gap-2",children:[s.jsx(zs,{className:"w-4 h-4"}),"Add Point"]})]}),s.jsx("div",{className:"space-y-4",children:_.map((z,I)=>s.jsxs("div",{className:"flex items-start gap-3 group",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-950/50 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-indigo-300 text-sm font-bold font-serif",children:I+1})}),s.jsx("textarea",{value:z,onChange:se=>k(I,se.target.value),placeholder:`Prayer point ${I+1}...`,className:"flex-1 bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"2"}),_.length>1&&s.jsx("button",{onClick:()=>U(I),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 opacity-50 group-hover:opacity-100 transition-all flex-shrink-0",title:"Remove point",children:s.jsx(Rr,{className:"w-5 h-5"})})]},I))})]}),a?s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ue,{className:"w-5 h-5 text-amber-400"}),"Generating Prayer Points"]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20",children:[s.jsx(lo,{className:"w-4 h-4 animate-spin text-amber-400"}),s.jsx("span",{className:"text-indigo-200 text-xs font-medium",children:"AI Processing..."})]})]}),s.jsx(Hy,{count:typeof b=="number"?b:parseInt(b)||5})]}):Ae&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ue,{className:"w-5 h-5 text-amber-400"}),i==="ai"?"Generated":"Manual"," Prayer Points"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:P,disabled:!m,className:"px-5 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-medium shadow-lg shadow-emerald-500/20 border border-emerald-400/20 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[s.jsx(hl,{className:"w-4 h-4"}),"Save to Schedule"]}),s.jsx("button",{onClick:()=>{i==="ai"?u([]):T([""])},className:"px-3 py-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all",title:"Clear all",children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),s.jsx("ul",{className:"space-y-4",children:ne.map((z,I)=>s.jsxs("li",{className:`group relative ${I>=3&&!p?"hidden md:block":""}`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative flex items-start gap-4 p-4 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:s.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:I+1})}),h===I?s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("textarea",{value:c,onChange:se=>w(se.target.value),className:"w-full bg-indigo-950/50 border border-indigo-500/50 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"3",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{onClick:W,className:"px-3 py-1.5 rounded-lg text-indigo-200 hover:text-white hover:bg-white/5 text-sm transition-all",children:"Cancel"}),s.jsxs("button",{onClick:()=>L(I),className:"px-4 py-1.5 rounded-lg bg-amber-500 hover:bg-amber-400 text-indigo-950 text-sm font-bold flex items-center gap-1 transition-all",children:[s.jsx(Vr,{className:"w-3 h-3"}),"Save"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Gy,{text:z}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>A(I),className:"p-2 rounded-lg hover:bg-indigo-500/20 text-indigo-300 hover:text-white transition-colors",title:"Edit point",children:s.jsx(fa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>H(I),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",title:"Delete point",children:s.jsx(Br,{className:"w-4 h-4"})})]})]})]})]},I))}),ne.length>3&&s.jsx("button",{onClick:()=>v(!p),className:"w-full mt-4 py-3 flex items-center justify-center gap-2 text-indigo-200/80 hover:text-white bg-white/5 hover:bg-white/10 rounded-xl transition-all md:hidden text-sm font-medium",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Jx,{className:"w-4 h-4"}),"Show Less"]}):s.jsxs(s.Fragment,{children:[s.jsx(gd,{className:"w-4 h-4"}),"Show ",ne.length-3," More"]})})]}),M?s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Saved Prayer Points Library"}),s.jsx(Ky,{count:3})]}):$&&$.length>0&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(xt,{className:"w-5 h-5 text-amber-400"}),"Saved Prayer Points Library"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(z=>s.jsxs("div",{className:"glass p-5 rounded-xl border border-white/5 hover:border-white/10 transition-all group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate pr-2",children:z.title||"Saved Prayer Points"}),s.jsx("button",{onClick:async()=>{if(confirm("Delete this saved prayer point set?"))try{await B({id:z._id}),O.success("Deleted")}catch{O.error("Failed to delete")}},className:"p-1.5 rounded hover:bg-red-500/20 text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-indigo-200/60 text-sm mb-4",children:[z.points.length," points"]}),s.jsx("button",{onClick:()=>{i==="ai"?u(z.points||[]):T(z.points&&z.points.length>0?z.points:[""]),O.success("Prayer points loaded! You can edit and save them to your schedule.")},className:"w-full py-2 rounded-lg bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-200 hover:text-white text-sm font-medium border border-indigo-500/20 transition-all",children:"Load Points"})]},z._id))})]}),!a&&!Ae&&!m&&s.jsxs("div",{className:"glass-card text-center py-16 md:py-20 rounded-2xl border border-white/5",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(ue,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsxs("p",{className:"text-indigo-200/60 text-base font-medium",children:["No prayer points ",i==="ai"?"generated":"created"," yet"]}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2 max-w-md mx-auto",children:i==="ai"?'Select a prayer schedule above and click "Generate Prayer Points" to get started with AI-powered spiritual guidance.':"Select a prayer schedule and start creating your personalized prayer points manually."})]})]})}function Jy({currentChant:e,isPlaying:t,volume:r,currentTime:n,duration:i,formatTime:o,setVolume:a,toggleChant:l,stopChant:d,audioRef:u,setCurrentTime:h}){if(!e)return null;const[g,p]=N.useState(null),v=g!==null?g:n,c=i>0?v/i*100:0;return s.jsx("div",{className:"glass-strong rounded-xl md:rounded-2xl border border-white/20 overflow-hidden shadow-2xl",children:s.jsxs("div",{className:"p-2 md:p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[s.jsxs("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),s.jsx(Se,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/30 to-purple-400/30 animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("h3",{className:"text-xs md:text-sm font-bold text-white truncate",children:e.name||"Custom Chant"}),s.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-red-600/20 text-red-400 hover:text-red-300 transition-colors flex-shrink-0",title:"Stop and Close",children:s.jsx(Rr,{className:"w-3 h-3 md:w-3.5 md:h-3.5"})})]}),s.jsxs("p",{className:"text-white/60 text-[10px] md:text-xs",children:[o(n)," / ",o(i)]})]})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-1 md:h-1.5 bg-white/10 rounded-full overflow-visible",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-300",style:{width:`${c}%`}})}),s.jsx("input",{type:"range",min:"0",max:i||0,step:"0.1",value:v||0,onChange:w=>{const m=parseFloat(w.target.value);p(m),u.current&&(u.current.currentTime=m),typeof h=="function"&&h(m)},onMouseUp:()=>p(null),onTouchEnd:()=>p(null),className:"absolute inset-0 w-full h-1 md:h-1.5 opacity-0 cursor-pointer z-10",style:{background:"transparent",WebkitAppearance:"none",appearance:"none"}}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-3 h-3 md:w-3.5 md:h-3.5 bg-white rounded-full shadow-lg border-2 border-indigo-500 cursor-grab active:cursor-grabbing hover:scale-125 transition-transform z-20 pointer-events-none",style:{left:`calc(${Math.max(0,Math.min(100,c))}% - ${c>0&&c<100?"6px":c>=100?"7px":"0px"})`,transform:"translateY(-50%)"}})]})}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("button",{onClick:l,className:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center hover:scale-110 transition-transform shadow-lg relative overflow-hidden group flex-shrink-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),t?s.jsx(jr,{className:"w-4 h-4 md:w-5 md:h-5 text-white relative z-10"}):s.jsx(Cr,{className:"w-4 h-4 md:w-5 md:h-5 text-white ml-0.5 relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/50 to-purple-400/50 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>a(r===0?.7:0),className:"p-1 rounded-lg bg-white/10 hover:bg-white/20 transition-colors flex-shrink-0",children:r===0?s.jsx(fv,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-white"}):s.jsx(qm,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0 relative",children:[s.jsx("div",{className:"h-1 bg-white/10 rounded-full",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all",style:{width:`${r*100}%`}})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r,onChange:w=>a(parseFloat(w.target.value)),className:"absolute inset-0 w-full h-1 opacity-0 cursor-pointer"})]}),s.jsxs("span",{className:"text-white/80 text-[10px] md:text-xs w-7 md:w-8 text-right flex-shrink-0",children:[Math.round(r*100),"%"]})]})]})]})})}function Zy(){return s.jsxs("div",{className:"glass-strong p-4 md:p-5 rounded-xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-indigo-600/30 to-purple-600/30 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsx("div",{className:"h-4 md:h-5 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-1/2"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-20"}),s.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-16"})]})]})}function Ym({count:e=6}){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Zy,{},r))})}function Km({isOpen:e,onClose:t,onConfirm:r,musicName:n,musicType:i}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(pd,{className:"w-5 h-5 md:w-6 md:h-6 text-red-400"})}),s.jsx("div",{children:s.jsxs("h3",{className:"text-base md:text-lg font-bold text-white font-serif",children:["Delete ",i,"?"]})})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-1",children:s.jsx(Rr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-5 md:mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsx(Se,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white/90 text-sm md:text-base font-medium break-words",children:n}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm mt-1",children:"This action cannot be undone"})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsxs("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:["Delete ",i]})]})]})}):null}function ew({chants:e,chantUploads:t,currentChant:r,isPlaying:n,playChant:i,stopChant:o,toggleChant:a,deleteUpload:l,isLoading:d}){const[u,h]=N.useState(!1),[g,p]=N.useState(null),v=[...e.map(c=>({...c,isDefault:!0})),...(t||[]).map(c=>({id:c._id,name:c.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:c.imageKitUrl,fileSize:c.fileSize,fileType:c.fileType,isDefault:!1,upload:c}))];return d?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),s.jsx(Ym,{count:6})]})}):v.length===0?s.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(Se,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No chants available"}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first chant to get started"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-amber-400"}),"Default Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===c.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===c.id?a():i(c.id)},children:[(r==null?void 0:r.id)===c.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===c.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(Se,{className:`w-6 h-6 ${(r==null?void 0:r.id)===c.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===c.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:c.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(c.duration/60),":",String(c.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===c.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===c.id?s.jsxs("button",{onClick:w=>{w.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(jr,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:w=>{w.stopPropagation(),i(c.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Cr,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},c.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(An,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>{const w={id:c._id,name:c.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:c.imageKitUrl,size:c.fileSize,type:c.fileType};return s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===w.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===w.id)a();else{const m=c.imageKitUrl;if(!m){O.error("File URL not available. Please check your upload.");return}i(w.id,m,w.name)}},children:[(r==null?void 0:r.id)===w.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===w.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(An,{className:`w-6 h-6 ${(r==null?void 0:r.id)===w.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===w.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:w.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(c.fileSize/1024/1024).toFixed(2)," MB  ",c.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===w.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===w.id?s.jsxs("button",{onClick:m=>{m.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(jr,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:async m=>{m.stopPropagation();const x=c.imageKitUrl;if(!x){O.error("File URL not available. Please check your upload.");return}i(w.id,x,w.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Cr,{className:"w-3 h-3 fill-current"}),"Play"]}),s.jsx("button",{onClick:m=>{m.stopPropagation(),p({name:w.name,id:c._id}),h(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:s.jsx(Br,{className:"w-4 h-4"})})]})]})]},c._id)})})]})]}),s.jsx(Km,{isOpen:u,onClose:()=>{h(!1),p(null)},onConfirm:async()=>{if(g)try{await l({id:g.id}),O.success("Chant deleted"),h(!1),p(null)}catch(c){O.error("Failed to delete chant"),console.error(c)}},musicName:(g==null?void 0:g.name)||"",musicType:"Chant"})]})}function tw({tongueSongs:e,tongueUploads:t,currentChant:r,isPlaying:n,playTongueSong:i,stopChant:o,toggleChant:a,deleteUpload:l,isLoading:d}){const[u,h]=N.useState(!1),[g,p]=N.useState(null),v=[...e.map(c=>({...c,isDefault:!0})),...(t||[]).map(c=>({id:c._id,name:c.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:c.imageKitUrl,fileSize:c.fileSize,fileType:c.fileType,isDefault:!1,upload:c}))];return d?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),s.jsx(Ym,{count:6})]})}):v.length===0?s.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(Se,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No tongue songs available"}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first tongue song to get started"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(Se,{className:"w-5 h-5 text-amber-400"}),"Default Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(c=>s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===c.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===c.id?a():i(c.id)},children:[(r==null?void 0:r.id)===c.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===c.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(Se,{className:`w-6 h-6 ${(r==null?void 0:r.id)===c.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===c.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:c.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(c.duration/60),":",String(c.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===c.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===c.id?s.jsxs("button",{onClick:w=>{w.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(jr,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:w=>{w.stopPropagation(),i(c.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Cr,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},c.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(An,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(c=>{const w={id:c._id,name:c.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:c.imageKitUrl,size:c.fileSize,type:c.fileType};return s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===w.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===w.id)a();else{const m=c.imageKitUrl;if(!m){O.error("File URL not available. Please check your upload.");return}i(w.id,m,w.name)}},children:[(r==null?void 0:r.id)===w.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===w.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(An,{className:`w-6 h-6 ${(r==null?void 0:r.id)===w.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===w.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:w.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(c.fileSize/1024/1024).toFixed(2)," MB  ",c.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===w.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===w.id?s.jsxs("button",{onClick:m=>{m.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(jr,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:async m=>{m.stopPropagation();const x=c.imageKitUrl;if(!x){O.error("File URL not available. Please check your upload.");return}i(w.id,x,w.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Cr,{className:"w-3 h-3 fill-current"}),"Play"]}),s.jsx("button",{onClick:m=>{m.stopPropagation(),p({name:w.name,id:c._id}),h(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:s.jsx(Br,{className:"w-4 h-4"})})]})]})]},c._id)})})]})]}),s.jsx(Km,{isOpen:u,onClose:()=>{h(!1),p(null)},onConfirm:async()=>{if(g)try{await l({id:g.id}),O.success("Tongue song deleted"),h(!1),p(null)}catch(c){O.error("Failed to delete tongue song"),console.error(c)}},musicName:(g==null?void 0:g.name)||"",musicType:"Tongue Song"})]})}function Xu({uploadType:e,userId:t,convex:r,createUpload:n,addCustomChant:i,addCustomTongueSong:o,api:a}){const[l,d]=N.useState(!1),[u,h]=N.useState(null),g=e==="chant",p=g?"Chant":"Tongue Song",v=g?"/audio/chant/":"/audio/tongue/",c=N.useRef(null),[w,m]=N.useState(null),[x,f]=N.useState(0),y=_=>{var S;const T=(S=_.target.files)==null?void 0:S[0];if(!T)return;const C=["audio/mpeg","audio/wav","audio/ogg","audio/mp3"],F=/\.(mp3|wav|ogg)$/i;if(!C.includes(T.type)&&!F.test(T.name)){O.error("Invalid file type. Please upload MP3, WAV, or OGG files.");return}if(T.size>500*1024*1024){O.error("File size too large. Maximum size is 500MB.");return}m(T)},b=async()=>{if(!w)return;const _=w;d(!0),f(10);try{const T=await r.query(a.imagekit.getUploadToken,{fileName:_.name,uploadType:e});if(!T)throw new Error("Failed to get upload token");const C=new FormData;C.append("file",_),C.append("fileName",_.name),C.append("folder",v),C.append("publicKey",T.publicKey),C.append("signature",T.signature),C.append("expire",T.expire.toString()),C.append("token",T.token);const S=await(M=>new Promise((B,Q)=>{const G=new XMLHttpRequest;G.open("POST","https://upload.imagekit.io/api/v1/files/upload"),G.upload.onprogress=Z=>{if(Z.lengthComputable){const P=Z.loaded/Z.total*100;f(Math.round(P))}},G.onload=()=>{G.status>=200&&G.status<300?B(JSON.parse(G.responseText)):Q(new Error(`ImageKit upload failed: ${G.responseText}`))},G.onerror=()=>{Q(new Error("ImageKit upload failed due to network error"))},G.send(M)}))(C),j=await n({userId:t,fileName:_.name,fileType:_.type,fileSize:_.size,imageKitUrl:S.url,imageKitFileId:S.fileId,uploadType:e}),$={_id:j,id:j,name:_.name.replace(/\.[^/.]+$/,""),storageId:null,url:S.url,size:_.size,type:_.type,uploadedAt:new Date().toISOString()};g?i($):o($),f(100),h($),m(null),c.current&&(c.current.value=""),O.success(`"${$.name}" uploaded successfully!`),setTimeout(()=>{f(0)},1e3)}catch(T){console.error("Upload error:",T),O.error(`Failed to upload file: ${T.message||"Please try again"}`),f(0)}finally{d(!1)}},E=()=>{m(null),c.current&&(c.current.value="")};return s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(An,{className:`w-5 h-5 ${g?"text-indigo-400":"text-purple-400"}`}),"Upload Custom ",p]}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mb-4",children:["Upload your own ",p.toLowerCase()," audio files (MP3, WAV, OGG - Max 500MB)"]}),s.jsxs("div",{className:"space-y-4",children:[!w&&!l&&s.jsx("label",{className:"block",children:s.jsxs("div",{className:"glass-card p-8 md:p-12 rounded-xl border-2 border-dashed border-white/20 hover:border-indigo-400/50 transition-all cursor-pointer group",children:[s.jsx("input",{ref:c,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/*",className:"hidden",onChange:y}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-600/20 to-purple-600/20 flex items-center justify-center group-hover:from-indigo-600/30 group-hover:to-purple-600/30 transition-all",children:s.jsx(ev,{className:`w-8 h-8 md:w-10 md:h-10 ${g?"text-indigo-400":"text-purple-400"}`})}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base mb-2",children:"Click to select audio file"}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm",children:"MP3, WAV, or OGG  Max 500MB"})]})]})}),w&&!l&&s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-lg bg-gradient-to-br ${g?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} flex items-center justify-center flex-shrink-0`,children:s.jsx(Se,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate mb-1",children:w.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(w.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx("button",{onClick:E,className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400 flex-shrink-0",children:s.jsx(Rr,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),s.jsxs("button",{onClick:b,className:`w-full mt-4 py-3 rounded-xl bg-gradient-to-r ${g?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} hover:opacity-90 transition-opacity text-white font-semibold text-sm md:text-base shadow-lg`,children:[s.jsx(An,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"Upload ",p]})]}),l&&s.jsxs("div",{className:`p-4 md:p-5 rounded-xl ${g?"bg-indigo-500/10 border-indigo-400/20":"bg-purple-500/10 border-purple-400/20"} border`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`w-5 h-5 border-2 ${g?"border-indigo-400":"border-purple-400"} border-t-transparent rounded-full animate-spin`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:"Uploading..."}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.round(x),"%"]})]})]}),s.jsx("div",{className:"w-full h-2.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${g?"from-indigo-500 to-purple-500":"from-purple-500 to-pink-500"} rounded-full transition-all duration-300 relative`,style:{width:`${x}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),u&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-green-500/10 border border-green-400/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Cn,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-green-300 text-sm font-medium",children:[" Uploaded: ",u.name]}),s.jsx("p",{className:"text-green-400/60 text-xs mt-1",children:"File is stored and ready to use"})]})]})})]})]})}function rw(){const{userId:e}=_t(),{chants:t,tongueSongs:r,currentChant:n,isPlaying:i,volume:o,currentTime:a,duration:l,formatTime:d,setVolume:u,setCurrentTime:h,playChant:g,playTongueSong:p,stopChant:v,toggleChant:c,addCustomChant:w,addCustomTongueSong:m,audioRef:x}=Ro(),f=fd(),y=Xe(ie.uploads.create),b=Xe(ie.uploads.remove),E=St(ie.uploads.getByUser,e?{userId:e}:"skip"),_=E===void 0,T=(E||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),C=(E||[]).filter(j=>j.uploadType==="tongue"),[F,S]=N.useState("chants");return N.useEffect(()=>{T&&T.length>0&&T.forEach(j=>{const $={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};w($)}),C&&C.length>0&&C.forEach(j=>{const $={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};m($)})},[T.length,C.length]),s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-20 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(Se,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Music Library"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Manage your chants and tongue songs"})]})}),n&&s.jsx("div",{className:"sticky top-[60px] md:top-[72px] z-[40] mb-4",children:s.jsx(Jy,{currentChant:n,isPlaying:i,volume:o,currentTime:a,duration:l,formatTime:d,setVolume:u,toggleChant:c,stopChant:v,audioRef:x,setCurrentTime:h})}),s.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>S("chants"),className:`px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm font-medium transition-all relative ${F==="chants"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx(Se,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),"Chants",t.length+T.length>0&&s.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-indigo-600/30 text-indigo-300 text-[10px] md:text-xs",children:t.length+T.length})]}),F==="chants"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]}),s.jsxs("button",{onClick:()=>S("tongue"),className:`px-3 md:px-6 py-2 md:py-3 text-xs md:text-sm font-medium transition-all relative ${F==="tongue"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx(ue,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),"Tongue Songs",r.length+C.length>0&&s.jsx("span",{className:"px-1.5 py-0.5 rounded-full bg-purple-600/30 text-purple-300 text-[10px] md:text-xs",children:r.length+C.length})]}),F==="tongue"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),F==="chants"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(ew,{chants:t,chantUploads:T,currentChant:n,isPlaying:i,playChant:g,stopChant:v,toggleChant:c,deleteUpload:b,isLoading:_}),s.jsx(Xu,{uploadType:"chant",userId:e,convex:f,createUpload:y,addCustomChant:w,api:ie})]}),F==="tongue"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(tw,{tongueSongs:r,tongueUploads:C,currentChant:n,isPlaying:i,playTongueSong:p,stopChant:v,toggleChant:c,deleteUpload:b,isLoading:_}),s.jsx(Xu,{uploadType:"tongue",userId:e,convex:f,createUpload:y,addCustomTongueSong:m,api:ie})]})]})}function nw(){const{userId:e,settings:t,updateSettings:r}=_t(),{chants:n,tongueSongs:i,setVolume:o}=Ro(),a=St(ie.uploads.getByUser,e?{userId:e}:"skip"),l=(a||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),d=(a||[]).filter(j=>j.uploadType==="tongue"),[u,h]=N.useState({notificationsEnabled:!0,notificationTime:"08:00",theme:"default",preferredChant:"",preferredTongueSong:"",autoPlayMusic:!0,showMotivationalPopups:!0,defaultPrayerDuration:15,prayerRoomBackgroundEffects:!0,defaultVolume:.7,soundEffectsEnabled:!0,autoSavePrayerPoints:!0,showStreakNotifications:!0,showPrayerReminders:!0,notificationSoundId:""}),[g,p]=N.useState(!1),[v,c]=N.useState(!1),[w,m]=N.useState("checking"),[x,f]=N.useState(!1);N.useEffect(()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(j=>{m(j?"registered":"not-registered")}):m("not-supported"),"PushManager"in window&&"serviceWorker"in navigator&&(f(!0),console.log(" VAPID key is configured - push subscriptions are available!"))},[]),N.useEffect(()=>{if(t){const j={notificationsEnabled:t.notificationsEnabled??!0,notificationTime:t.notificationTime??"08:00",theme:t.theme??"default",preferredChant:t.preferredChant??"",preferredTongueSong:t.preferredTongueSong??"",autoPlayMusic:t.autoPlayMusic??!0,showMotivationalPopups:t.showMotivationalPopups??!0,defaultPrayerDuration:t.defaultPrayerDuration??15,prayerRoomBackgroundEffects:t.prayerRoomBackgroundEffects??!0,defaultVolume:t.defaultVolume??.7,soundEffectsEnabled:t.soundEffectsEnabled??!0,autoSavePrayerPoints:t.autoSavePrayerPoints??!0,showStreakNotifications:t.showStreakNotifications??!0,showPrayerReminders:t.showPrayerReminders??!0,notificationSoundId:t.notificationSoundId??""};h(j),t.defaultVolume!==void 0&&o(t.defaultVolume)}},[t,o]),N.useEffect(()=>{if(t){const j=u.notificationsEnabled!==(t.notificationsEnabled??!0)||u.notificationTime!==(t.notificationTime??"08:00")||u.theme!==(t.theme??"default")||u.preferredChant!==(t.preferredChant??"")||u.preferredTongueSong!==(t.preferredTongueSong??"")||u.autoPlayMusic!==(t.autoPlayMusic??!0)||u.showMotivationalPopups!==(t.showMotivationalPopups??!0)||u.defaultPrayerDuration!==(t.defaultPrayerDuration??15)||u.prayerRoomBackgroundEffects!==(t.prayerRoomBackgroundEffects??!0)||u.defaultVolume!==(t.defaultVolume??.7)||u.soundEffectsEnabled!==(t.soundEffectsEnabled??!0)||u.autoSavePrayerPoints!==(t.autoSavePrayerPoints??!0)||u.showStreakNotifications!==(t.showStreakNotifications??!0)||u.showPrayerReminders!==(t.showPrayerReminders??!0)||u.notificationSoundId!==(t.notificationSoundId??"");p(j)}},[u,t]);const y=async()=>{c(!0);try{await r({userId:e,...u}),u.defaultVolume!==void 0&&o(u.defaultVolume),p(!1),O.success("Settings saved successfully!")}catch(j){O.error("Failed to save settings"),console.error(j)}finally{c(!1)}},b=async()=>{if("Notification"in window)try{w==="not-registered"&&await hd()&&(m("registered"),O.success("Service Worker registered for background notifications!"));const j=await Notification.requestPermission();if(j==="granted"){if(O.success("Notifications enabled! You will receive real-time reminders."),h({...u,notificationsEnabled:!0}),x)try{await Om(),O.success("Push notifications enabled! You will receive notifications even when the app is closed.")}catch(M){console.warn("Push subscription failed, but regular notifications will work:",M)}const $=Qx();$&&$.active?$.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Notifications Enabled!",body:"You will now receive prayer reminders and notifications, even when the app is closed.",icon:"/vite.svg",tag:"permission-granted"}}):new Notification("Notifications Enabled!",{body:"You will now receive prayer reminders and notifications.",icon:"/vite.svg",tag:"permission-granted"})}else j==="denied"?(O.error("Notification permission denied. Please enable in browser settings."),h({...u,notificationsEnabled:!1})):h({...u,notificationsEnabled:!1})}catch(j){console.error("Error requesting notification permission:",j),O.error("Failed to request notification permission")}else O.error("Notifications not supported in this browser")},E=[...n.map(j=>({value:j.id,label:j.name})),...l.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],_=[...i.map(j=>({value:j.id,label:j.name})),...d.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],T=[{value:"default",label:"Default (Indigo/Purple/Gold)"},{value:"dark",label:"Dark Mode"},{value:"light",label:"Light Mode"}],C=Array.from({length:20},(j,$)=>({value:($+1)*5,label:`${($+1)*5} minutes`})),F=Array.from({length:11},(j,$)=>({value:$/10,label:`${$*10}%`})),S=({checked:j,onChange:$,disabled:M=!1})=>s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:$,disabled:M,className:"sr-only peer"}),s.jsx("div",{className:`w-12 h-6 md:w-14 md:h-7 bg-white/20 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 md:after:h-6 md:after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600 ${M?"opacity-50 cursor-not-allowed":""}`})]});return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-20 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(zm,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Settings"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Customize your prayer experience"})]}),g&&s.jsxs("button",{onClick:y,disabled:v,className:"btn-primary px-4 md:px-6 py-2.5 md:py-3 text-sm md:text-base flex items-center gap-2 disabled:opacity-50",children:[s.jsx(hl,{className:"w-4 h-4 md:w-5 md:h-5"}),v?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center",children:s.jsx(Xx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer reminders and alerts"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Enable Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Receive prayer reminders and updates"})]}),s.jsx(S,{checked:u.notificationsEnabled,onChange:j=>{j.target.checked&&Notification.permission!=="granted"?b():h({...u,notificationsEnabled:j.target.checked})}})]}),u.notificationsEnabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Notification Time"}),s.jsx("input",{type:"time",value:u.notificationTime,onChange:j=>h({...u,notificationTime:j.target.value}),className:"input-glass w-full text-base"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Se,{className:"w-4 h-4 md:w-5 md:h-5 text-pink-400"}),"Notification Sound"]}),s.jsx(pt,{value:u.notificationSoundId,onChange:j=>h({...u,notificationSoundId:j}),options:[{value:"",label:"Default System Sound"},...E.map(j=>({...j,label:` ${j.label}`})),..._.map(j=>({...j,label:` ${j.label}`}))],placeholder:"Select notification sound"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Note: Custom sounds work best on Android and Desktop. iOS may use default sound."})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Prayer Reminders"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Get reminded about upcoming prayer schedules"})]}),s.jsx(S,{checked:u.showPrayerReminders,onChange:j=>h({...u,showPrayerReminders:j.target.checked}),disabled:!u.notificationsEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Streak Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Celebrate your prayer streak milestones"})]}),s.jsx(S,{checked:u.showStreakNotifications,onChange:j=>h({...u,showStreakNotifications:j.target.checked}),disabled:!u.notificationsEnabled})]}),s.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/80 text-sm md:text-base font-medium",children:"Permission Status"}),Notification.permission==="granted"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3 h-3"}),"Granted"]}):Notification.permission==="denied"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),"Denied"]}):s.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),"Not Requested"]})]}),Notification.permission==="default"&&s.jsx("button",{onClick:b,className:"btn-secondary w-full text-sm md:text-base py-2.5 md:py-3 mt-2",children:"Request Notification Permission"}),Notification.permission==="denied"&&s.jsx("p",{className:"text-white/60 text-xs mt-2",children:"Notifications are blocked. Please enable them in your browser settings to receive prayer reminders."}),Notification.permission==="granted"&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("p",{className:"text-green-300 text-xs",children:" You will receive real-time notifications for prayer reminders, schedule alerts, and streak milestones."}),w==="registered"&&s.jsxs("p",{className:"text-indigo-300 text-xs flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3 h-3"}),"Background notifications enabled (works when app is closed)"]}),x&&w==="registered"&&s.jsxs("p",{className:"text-purple-300 text-xs flex items-center gap-1",children:[s.jsx(Cn,{className:"w-3 h-3"}),"Push notifications supported"]}),w==="not-supported"&&s.jsx("p",{className:"text-yellow-300 text-xs",children:" Service Workers not supported - notifications work only when app is open"})]})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:s.jsx(rv,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Room"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize your prayer session experience"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-play Music"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically start background music when entering prayer room"})]}),s.jsx(S,{checked:u.autoPlayMusic,onChange:j=>h({...u,autoPlayMusic:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Motivational Popups"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Show encouraging messages during tongues mode"})]}),s.jsx(S,{checked:u.showMotivationalPopups,onChange:j=>h({...u,showMotivationalPopups:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Background Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable animated background effects in prayer room"})]}),s.jsx(S,{checked:u.prayerRoomBackgroundEffects,onChange:j=>h({...u,prayerRoomBackgroundEffects:j.target.checked})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Default Prayer Duration"]}),s.jsx(pt,{value:u.defaultPrayerDuration,onChange:j=>h({...u,defaultPrayerDuration:parseInt(j)}),options:C,placeholder:"Select default duration"})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-pink-600 to-orange-600 flex items-center justify-center",children:s.jsx(Se,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Audio Preferences"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Configure music and sound settings"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(qm,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Default Volume"]}),s.jsx(pt,{value:u.defaultVolume,onChange:j=>{const $=parseFloat(j);h({...u,defaultVolume:$}),o($)},options:F,placeholder:"Select default volume"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Volume is applied immediately"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Cr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Preferred Chant"]}),s.jsx(pt,{value:u.preferredChant,onChange:j=>h({...u,preferredChant:j}),options:[{value:"",label:"None (Manual Selection)"},...E],placeholder:"Select preferred chant"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(ue,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Preferred Tongue Song"]}),s.jsx(pt,{value:u.preferredTongueSong,onChange:j=>h({...u,preferredTongueSong:j}),options:[{value:"",label:"None (Manual Selection)"},..._],placeholder:"Select preferred tongue song"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Sound Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable sound effects for interactions"})]}),s.jsx(S,{checked:u.soundEffectsEnabled,onChange:j=>h({...u,soundEffectsEnabled:j.target.checked})})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-orange-600 to-yellow-600 flex items-center justify-center",children:s.jsx(ue,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer points generation and saving"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-save Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically save generated prayer points to schedule"})]}),s.jsx(S,{checked:u.autoSavePrayerPoints,onChange:j=>h({...u,autoSavePrayerPoints:j.target.checked})})]})})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:s.jsx(uv,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Appearance"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize the look and feel"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Color Theme"}),s.jsx(pt,{value:u.theme,onChange:j=>h({...u,theme:j}),options:T,placeholder:"Select theme"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Theme changes will take effect after reload"})]})})]}),g&&s.jsx("div",{className:"sticky bottom-4 md:bottom-6 z-[60] glass-strong p-3 md:p-4 rounded-xl border border-indigo-400/50 shadow-2xl",children:s.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2",children:[s.jsx(Sn,{className:"w-4 h-4 md:w-5 md:h-5 text-yellow-400 flex-shrink-0"}),s.jsx("p",{className:"text-white text-xs md:text-base",children:"You have unsaved changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-xs md:text-base px-3 py-1.5 md:px-4 md:py-2",children:"Discard"}),s.jsx("button",{onClick:y,disabled:v,className:"btn-primary text-xs md:text-base px-3 py-1.5 md:px-4 md:py-3 flex items-center gap-1.5 md:gap-2 disabled:opacity-50",children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"hidden sm:inline",children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(hl,{className:"w-3.5 h-3.5 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Save Changes"}),s.jsx("span",{className:"sm:hidden",children:"Save"})]})})]})]})})]})}function sw(){const[e,t]=N.useState("timer"),[r,n]=N.useState(!1),{isPraying:i,activePrayer:o}=_t();Lm();const a=[{id:"timer",label:"Prayer Room",icon:Nr},{id:"schedule",label:"Schedule",icon:Pt},{id:"points",label:"Prayer Points",icon:ue},{id:"music",label:"Music",icon:Se},{id:"streak",label:"Streak",icon:vs},{id:"history",label:"History",icon:xt},{id:"settings",label:"Settings",icon:zm}],l=a.slice(0,5),d=a.slice(5);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900 pb-16 md:pb-0",children:[s.jsxs("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-2xl border-b border-white/20 shadow-[0_4px_24px_rgba(0,0,0,0.4)]",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-amber-400/50 to-transparent"}),s.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"hidden md:flex items-center justify-between py-3.5",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 px-2",children:[s.jsx("div",{className:"relative w-11 h-11 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20 animate-pulse-glow",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),s.jsx("p",{className:"text-xs text-amber-400/60 leading-tight font-medium tracking-wide",children:"Prayer Chain"})]})]}),s.jsx("div",{className:"flex items-center gap-1 ml-2 bg-white/5 rounded-xl p-1.5 border border-white/10 shadow-inner",children:a.map(u=>{const h=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg whitespace-nowrap transition-all duration-300 text-sm font-semibold relative ${e===u.id?"bg-gradient-to-r from-amber-500 to-purple-600 text-white shadow-lg shadow-purple-500/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e===u.id&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/20 to-purple-500/20 rounded-lg blur-sm"}),s.jsx(h,{className:`w-4 h-4 relative z-10 ${e===u.id?"drop-shadow-[0_0_4px_rgba(255,255,255,0.5)]":""}`}),s.jsx("span",{className:"relative z-10",children:u.label})]},u.id)})})]}),i&&o&&s.jsxs("div",{className:"flex items-center gap-2.5 px-5 py-2.5 rounded-xl bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/40 shadow-lg shadow-green-500/20",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"}),s.jsxs("span",{className:"text-white text-sm font-semibold",children:["Praying: ",o.title]})]})]}),s.jsxs("div",{className:"flex md:hidden items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),s.jsx("p",{className:"text-[10px] text-amber-400/60 leading-tight font-medium",children:"Prayer Chain"})]})]}),s.jsx("button",{onClick:()=>n(!r),className:"p-2.5 rounded-xl bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 transition-all duration-300 border border-white/20 shadow-lg",children:r?s.jsx(Rr,{className:"w-5 h-5 text-white"}):s.jsx(sv,{className:"w-5 h-5 text-white"})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-white/10 py-3",children:s.jsx("div",{className:"flex flex-col gap-2",children:d.map(u=>{const h=u.icon;return s.jsxs("button",{onClick:()=>{t(u.id),n(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300 text-xs ${e===u.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[s.jsx(h,{className:"w-3.5 h-3.5"}),s.jsx("span",{className:"font-medium",children:u.label})]},u.id)})})})]})]}),s.jsxs("main",{className:"container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-7xl pt-20 md:pt-24 pb-28 md:pb-8",children:[e==="timer"&&s.jsx(xv,{}),e==="schedule"&&s.jsx(Fy,{}),e==="points"&&s.jsx(Xy,{}),e==="music"&&s.jsx(rw,{}),e==="streak"&&s.jsx(Uy,{}),e==="history"&&s.jsx(Wy,{}),e==="settings"&&s.jsx(nw,{})]}),s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-gradient-to-t from-indigo-950/99 via-purple-950/99 to-indigo-950/99 backdrop-blur-2xl border-t border-white/20 z-50 shadow-[0_-4px_20px_rgba(0,0,0,0.3)] safe-area-bottom",children:s.jsx("div",{className:"flex items-center justify-around px-2 py-2 pb-safe",children:l.map(u=>{const h=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`flex flex-col items-center gap-1 px-1.5 py-1.5 rounded-xl transition-all duration-300 flex-1 max-w-[70px] relative ${e===u.id?"text-white":"text-white/50 hover:text-white/70"}`,children:[e===u.id&&s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-10 h-0.5 bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 rounded-b-full shadow-lg shadow-purple-500/50"}),s.jsx("div",{className:`p-2 rounded-xl transition-all duration-300 ${e===u.id?"bg-gradient-to-br from-amber-500/20 to-purple-500/20 border border-amber-400/30 shadow-lg shadow-purple-500/20":"bg-white/5 border border-transparent"}`,children:s.jsx(h,{className:`w-4.5 h-4.5 transition-all ${e===u.id?"drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]":""}`})}),s.jsx("span",{className:`text-[9px] font-bold leading-tight text-center transition-all ${e===u.id?"text-white":"text-white/50"}`,children:u.label})]},u.id)})})})]})}function iw(){return s.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-amber-500/20 rounded-full blur-3xl animate-pulse delay-700"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 px-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-transparent border-t-amber-400 border-r-purple-400 animate-spin"}),s.jsx("div",{className:"absolute inset-2 w-20 h-20 md:w-28 md:h-28 rounded-full border-4 border-transparent border-b-amber-500 border-l-purple-500 animate-spin-reverse"}),s.jsx("div",{className:"relative w-24 h-24 md:w-32 md:h-32 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl overflow-hidden shadow-2xl shadow-purple-500/50 animate-pulse",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 bg-clip-text text-transparent font-serif animate-pulse bg-[length:200%_auto] animate-shimmer",children:"Adullam"}),s.jsx("p",{className:"text-sm md:text-base text-white/60 font-medium tracking-wider",children:"Prayer Chain"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400 animate-bounce"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-400 animate-bounce delay-150"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 animate-bounce delay-300"})]}),s.jsx("p",{className:"text-white/40 text-xs md:text-sm font-medium tracking-widest uppercase animate-pulse",children:"Loading your prayer space..."})]})]})}const ow="https://majestic-armadillo-966.convex.cloud",aw=new Bg(ow);function lw(){const[e,t]=N.useState(()=>{let i=localStorage.getItem("adullam_user_id");return i||(i=`user_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("adullam_user_id",i)),i}),[r,n]=N.useState(!0);return N.useEffect(()=>{"serviceWorker"in navigator&&hd().then(i=>{i&&console.log("Service Worker registered for push notifications")}).catch(i=>{console.error("Service Worker registration failed:",i)})},[]),N.useEffect(()=>{const o=Date.now(),a=setTimeout(()=>{const l=Date.now()-o,d=Math.max(0,1500-l);setTimeout(()=>{n(!1)},d)},500);return()=>clearTimeout(a)},[]),s.jsx(Wg,{client:aw,children:s.jsx(Ux,{userId:e,children:s.jsx(Hx,{children:r?s.jsx(iw,{}):s.jsxs(s.Fragment,{children:[s.jsx(dw,{}),s.jsxs("div",{className:"min-h-screen transition-colors duration-500",children:[s.jsx(sw,{}),s.jsx(zx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(99, 102, 241, 0.9)",backdropFilter:"blur(10px)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)"}}})]})]})})})})}function dw(){const{settings:e}=_t();return N.useEffect(()=>{if(!e)return;const t=document.documentElement,r=e.theme||"default";t.classList.remove("theme-dark","theme-light","theme-default"),t.classList.add(`theme-${r}`),r==="light"?(t.style.setProperty("--bg-primary","#f3f4f6"),t.style.setProperty("--text-primary","#1f2937")):r==="dark"?(t.style.setProperty("--bg-primary","#0f172a"),t.style.setProperty("--text-primary","#f8fafc")):(t.style.removeProperty("--bg-primary"),t.style.removeProperty("--text-primary"))},[e==null?void 0:e.theme]),null}pa.createRoot(document.getElementById("root")).render(s.jsx(ho.StrictMode,{children:s.jsx(lw,{})}));
