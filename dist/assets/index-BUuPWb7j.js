(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function Km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hu={exports:{}},co={},Yu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),Gm=Symbol.for("react.portal"),Xm=Symbol.for("react.fragment"),Jm=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),rh=Symbol.for("react.forward_ref"),nh=Symbol.for("react.suspense"),sh=Symbol.for("react.memo"),ih=Symbol.for("react.lazy"),hd=Symbol.iterator;function oh(e){return e===null||typeof e!="object"?null:(e=hd&&e[hd]||e["@@iterator"],typeof e=="function"?e:null)}var Ku={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gu=Object.assign,Xu={};function Ln(e,t,r){this.props=e,this.context=t,this.refs=Xu,this.updater=r||Ku}Ln.prototype.isReactComponent={};Ln.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ln.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ju(){}Ju.prototype=Ln.prototype;function ml(e,t,r){this.props=e,this.context=t,this.refs=Xu,this.updater=r||Ku}var hl=ml.prototype=new Ju;hl.constructor=ml;Gu(hl,Ln.prototype);hl.isPureReactComponent=!0;var pd=Array.isArray,Zu=Object.prototype.hasOwnProperty,pl={current:null},ec={key:!0,ref:!0,__self:!0,__source:!0};function tc(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Zu.call(t,n)&&!ec.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];i.children=d}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Fs,type:e,key:o,ref:a,props:i,_owner:pl.current}}function ah(e,t){return{$$typeof:Fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fs}function lh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gd=/\/+/g;function Ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lh(""+e.key):t.toString(36)}function gi(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Fs:case Gm:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Ro(a,0):n,pd(i)?(r="",e!=null&&(r=e.replace(gd,"$&/")+"/"),gi(i,t,r,"",function(u){return u})):i!=null&&(gl(i)&&(i=ah(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(gd,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",pd(e))for(var l=0;l<e.length;l++){o=e[l];var d=n+Ro(o,l);a+=gi(o,t,r,d,i)}else if(d=oh(e),typeof d=="function")for(e=d.call(e),l=0;!(o=e.next()).done;)o=o.value,d=n+Ro(o,l++),a+=gi(o,t,r,d,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ks(e,t,r){if(e==null)return e;var n=[],i=0;return gi(e,n,"","",function(o){return t.call(r,o,i++)}),n}function dh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var He={current:null},xi={transition:null},uh={ReactCurrentDispatcher:He,ReactCurrentBatchConfig:xi,ReactCurrentOwner:pl};function rc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Ks,forEach:function(e,t,r){Ks(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Ln;H.Fragment=Xm;H.Profiler=Zm;H.PureComponent=ml;H.StrictMode=Jm;H.Suspense=nh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uh;H.act=rc;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Gu({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=pl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)Zu.call(t,d)&&!ec.hasOwnProperty(d)&&(n[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)n.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Fs,type:e.type,key:i,ref:o,props:n,_owner:a}};H.createContext=function(e){return e={$$typeof:th,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eh,_context:e},e.Consumer=e};H.createElement=tc;H.createFactory=function(e){var t=tc.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:rh,render:e}};H.isValidElement=gl;H.lazy=function(e){return{$$typeof:ih,_payload:{_status:-1,_result:e},_init:dh}};H.memo=function(e,t){return{$$typeof:sh,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};H.unstable_act=rc;H.useCallback=function(e,t){return He.current.useCallback(e,t)};H.useContext=function(e){return He.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return He.current.useDeferredValue(e)};H.useEffect=function(e,t){return He.current.useEffect(e,t)};H.useId=function(){return He.current.useId()};H.useImperativeHandle=function(e,t,r){return He.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return He.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return He.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return He.current.useMemo(e,t)};H.useReducer=function(e,t,r){return He.current.useReducer(e,t,r)};H.useRef=function(e){return He.current.useRef(e)};H.useState=function(e){return He.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return He.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return He.current.useTransition()};H.version="18.3.1";Yu.exports=H;var N=Yu.exports;const fo=Km(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch=N,fh=Symbol.for("react.element"),mh=Symbol.for("react.fragment"),hh=Object.prototype.hasOwnProperty,ph=ch.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gh={key:!0,ref:!0,__self:!0,__source:!0};function nc(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)hh.call(t,n)&&!gh.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:fh,type:e,key:o,ref:a,props:i,_owner:ph.current}}co.Fragment=mh;co.jsx=nc;co.jsxs=nc;Hu.exports=co;var s=Hu.exports,ma={},sc={exports:{}},at={},ic={exports:{}},oc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,U){var A=E.length;E.push(U);e:for(;0<A;){var Q=A-1>>>1,K=E[Q];if(0<i(K,U))E[Q]=U,E[A]=K,A=Q;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var U=E[0],A=E.pop();if(A!==U){E[0]=A;e:for(var Q=0,K=E.length,ve=K>>>1;Q<ve;){var k=2*(Q+1)-1,q=E[k],I=k+1,O=E[I];if(0>i(q,A))I<K&&0>i(O,q)?(E[Q]=O,E[I]=A,Q=I):(E[Q]=q,E[k]=A,Q=k);else if(I<K&&0>i(O,A))E[Q]=O,E[I]=A,Q=I;else break e}}return U}function i(E,U){var A=E.sortIndex-U.sortIndex;return A!==0?A:E.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var d=[],u=[],m=1,g=null,x=3,h=!1,f=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=E)n(u),U.sortIndex=U.expirationTime,t(d,U);else break;U=r(u)}}function b(E){if(w=!1,y(E),!f)if(r(d)!==null)f=!0,D(T);else{var U=r(u);U!==null&&Z(b,U.startTime-E)}}function T(E,U){f=!1,w&&(w=!1,p(S),S=-1),h=!0;var A=x;try{for(y(U),g=r(d);g!==null&&(!(g.expirationTime>U)||E&&!j());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,x=g.priorityLevel;var K=Q(g.expirationTime<=U);U=e.unstable_now(),typeof K=="function"?g.callback=K:g===r(d)&&n(d),y(U)}else n(d);g=r(d)}if(g!==null)var ve=!0;else{var k=r(u);k!==null&&Z(b,k.startTime-U),ve=!1}return ve}finally{g=null,x=A,h=!1}}var C=!1,M=null,S=-1,z=5,P=-1;function j(){return!(e.unstable_now()-P<z)}function $(){if(M!==null){var E=e.unstable_now();P=E;var U=!0;try{U=M(!0,E)}finally{U?_():(C=!1,M=null)}}else C=!1}var _;if(typeof c=="function")_=function(){c($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=$,_=function(){Y.postMessage(null)}}else _=function(){v($,0)};function D(E){M=E,C||(C=!0,_())}function Z(E,U){S=v(function(){E(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){f||h||(f=!0,D(T))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(E){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var A=x;x=U;try{return E()}finally{x=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,U){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var A=x;x=E;try{return U()}finally{x=A}},e.unstable_scheduleCallback=function(E,U,A){var Q=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,E){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=A+K,E={id:m++,callback:U,priorityLevel:E,startTime:A,expirationTime:K,sortIndex:-1},A>Q?(E.sortIndex=A,t(u,E),r(d)===null&&E===r(u)&&(w?(p(S),S=-1):w=!0,Z(b,A-Q))):(E.sortIndex=K,t(d,E),f||h||(f=!0,D(T))),E},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(E){var U=x;return function(){var A=x;x=U;try{return E.apply(this,arguments)}finally{x=A}}}})(oc);ic.exports=oc;var xh=ic.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=N,ot=xh;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ac=new Set,xs={};function Yr(e,t){Sn(e,t),Sn(e+"Capture",t)}function Sn(e,t){for(xs[e]=t,e=0;e<t.length;e++)ac.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=Object.prototype.hasOwnProperty,yh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xd={},vd={};function wh(e){return ha.call(vd,e)?!0:ha.call(xd,e)?!1:yh.test(e)?vd[e]=!0:(xd[e]=!0,!1)}function bh(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nh(e,t,r,n){if(t===null||typeof t>"u"||bh(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ye(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Le[e]=new Ye(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Le[t]=new Ye(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Le[e]=new Ye(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Le[e]=new Ye(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Le[e]=new Ye(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Le[e]=new Ye(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Le[e]=new Ye(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Le[e]=new Ye(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Le[e]=new Ye(e,5,!1,e.toLowerCase(),null,!1,!1)});var xl=/[\-:]([a-z])/g;function vl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xl,vl);Le[t]=new Ye(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xl,vl);Le[t]=new Ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xl,vl);Le[t]=new Ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Le[e]=new Ye(e,1,!1,e.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Le[e]=new Ye(e,1,!1,e.toLowerCase(),null,!0,!0)});function yl(e,t,r,n){var i=Le.hasOwnProperty(t)?Le[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nh(t,r,i,n)&&(r=null),n||i===null?wh(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Jt=vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),tn=Symbol.for("react.portal"),rn=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),lc=Symbol.for("react.provider"),dc=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),ga=Symbol.for("react.suspense"),xa=Symbol.for("react.suspense_list"),Nl=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),uc=Symbol.for("react.offscreen"),yd=Symbol.iterator;function qn(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,$o;function Zn(e){if($o===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Io=!1;function Oo(e,t){if(!e||Io)return"";Io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var d=`
`+i[a].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=a&&0<=l);break}}}finally{Io=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zn(e):""}function jh(e){switch(e.tag){case 5:return Zn(e.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return e=Oo(e.type,!1),e;case 11:return e=Oo(e.type.render,!1),e;case 1:return e=Oo(e.type,!0),e;default:return""}}function va(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rn:return"Fragment";case tn:return"Portal";case pa:return"Profiler";case wl:return"StrictMode";case ga:return"Suspense";case xa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dc:return(e.displayName||"Context")+".Consumer";case lc:return(e._context.displayName||"Context")+".Provider";case bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nl:return t=e.displayName||null,t!==null?t:va(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return va(e(t))}catch{}}return null}function kh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(t);case 8:return t===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sh(e){var t=cc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){e._valueTracker||(e._valueTracker=Sh(e))}function fc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=cc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ri(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ya(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mc(e,t){t=t.checked,t!=null&&yl(e,"checked",t,!1)}function wa(e,t){mc(e,t);var r=Nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ba(e,t.type,r):t.hasOwnProperty("defaultValue")&&ba(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ba(e,t,r){(t!=="number"||Ri(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var es=Array.isArray;function gn(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(es(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nr(r)}}function hc(e,t){var r=Nr(t.value),n=Nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ja(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Js,gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Js=Js||document.createElement("div"),Js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ph=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(e){Ph.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ss[t]=ss[e]})});function xc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ss.hasOwnProperty(e)&&ss[e]?(""+t).trim():t+"px"}function vc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=xc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Ch=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(e,t){if(t){if(Ch[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pa=null;function jl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ca=null,xn=null,vn=null;function kd(e){if(e=qs(e)){if(typeof Ca!="function")throw Error(R(280));var t=e.stateNode;t&&(t=xo(t),Ca(e.stateNode,e.type,t))}}function yc(e){xn?vn?vn.push(e):vn=[e]:xn=e}function wc(){if(xn){var e=xn,t=vn;if(vn=xn=null,kd(e),t)for(e=0;e<t.length;e++)kd(t[e])}}function bc(e,t){return e(t)}function Nc(){}var Lo=!1;function jc(e,t,r){if(Lo)return e(t,r);Lo=!0;try{return bc(e,t,r)}finally{Lo=!1,(xn!==null||vn!==null)&&(Nc(),wc())}}function ys(e,t){var r=e.stateNode;if(r===null)return null;var n=xo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Ta=!1;if(Ht)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Ta=!1}function Th(e,t,r,n,i,o,a,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var is=!1,$i=null,Ii=!1,Ea=null,Eh={onError:function(e){is=!0,$i=e}};function Mh(e,t,r,n,i,o,a,l,d){is=!1,$i=null,Th.apply(Eh,arguments)}function _h(e,t,r,n,i,o,a,l,d){if(Mh.apply(this,arguments),is){if(is){var u=$i;is=!1,$i=null}else throw Error(R(198));Ii||(Ii=!0,Ea=u)}}function Kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function kc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sd(e){if(Kr(e)!==e)throw Error(R(188))}function Rh(e){var t=e.alternate;if(!t){if(t=Kr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Sd(i),e;if(o===n)return Sd(i),t;o=o.sibling}throw Error(R(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function Sc(e){return e=Rh(e),e!==null?Pc(e):null}function Pc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pc(e);if(t!==null)return t;e=e.sibling}return null}var Cc=ot.unstable_scheduleCallback,Pd=ot.unstable_cancelCallback,$h=ot.unstable_shouldYield,Ih=ot.unstable_requestPaint,be=ot.unstable_now,Oh=ot.unstable_getCurrentPriorityLevel,kl=ot.unstable_ImmediatePriority,Tc=ot.unstable_UserBlockingPriority,Oi=ot.unstable_NormalPriority,Lh=ot.unstable_LowPriority,Ec=ot.unstable_IdlePriority,mo=null,Lt=null;function Ah(e){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:zh,Dh=Math.log,Fh=Math.LN2;function zh(e){return e>>>=0,e===0?32:31-(Dh(e)/Fh|0)|0}var Zs=64,ei=4194304;function ts(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Li(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=ts(l):(o&=a,o!==0&&(n=ts(o)))}else a=r&~i,a!==0?n=ts(a):o!==0&&(n=ts(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pt(t),i=1<<r,n|=e[r],t&=~i;return n}function Uh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Pt(o),l=1<<a,d=i[a];d===-1?(!(l&r)||l&n)&&(i[a]=Uh(l,t)):d<=t&&(e.expiredLanes|=l),o&=~l}}function Ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mc(){var e=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),e}function Ao(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function Vh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pt(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Sl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var re=0;function _c(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rc,Pl,$c,Ic,Oc,_a=!1,ti=[],fr=null,mr=null,hr=null,ws=new Map,bs=new Map,ar=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(e,t){switch(e){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Bn(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=qs(t),t!==null&&Pl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Wh(e,t,r,n,i){switch(t){case"focusin":return fr=Bn(fr,e,t,r,n,i),!0;case"dragenter":return mr=Bn(mr,e,t,r,n,i),!0;case"mouseover":return hr=Bn(hr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return ws.set(o,Bn(ws.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,bs.set(o,Bn(bs.get(o)||null,e,t,r,n,i)),!0}return!1}function Lc(e){var t=Or(e.target);if(t!==null){var r=Kr(t);if(r!==null){if(t=r.tag,t===13){if(t=kc(r),t!==null){e.blockedOn=t,Oc(e.priority,function(){$c(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ra(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Pa=n,r.target.dispatchEvent(n),Pa=null}else return t=qs(r),t!==null&&Pl(t),e.blockedOn=r,!1;t.shift()}return!0}function Td(e,t,r){vi(e)&&r.delete(t)}function Qh(){_a=!1,fr!==null&&vi(fr)&&(fr=null),mr!==null&&vi(mr)&&(mr=null),hr!==null&&vi(hr)&&(hr=null),ws.forEach(Td),bs.forEach(Td)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,_a||(_a=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Qh)))}function Ns(e){function t(i){return Wn(i,e)}if(0<ti.length){Wn(ti[0],e);for(var r=1;r<ti.length;r++){var n=ti[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fr!==null&&Wn(fr,e),mr!==null&&Wn(mr,e),hr!==null&&Wn(hr,e),ws.forEach(t),bs.forEach(t),r=0;r<ar.length;r++)n=ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)Lc(r),r.blockedOn===null&&ar.shift()}var yn=Jt.ReactCurrentBatchConfig,Ai=!0;function Hh(e,t,r,n){var i=re,o=yn.transition;yn.transition=null;try{re=1,Cl(e,t,r,n)}finally{re=i,yn.transition=o}}function Yh(e,t,r,n){var i=re,o=yn.transition;yn.transition=null;try{re=4,Cl(e,t,r,n)}finally{re=i,yn.transition=o}}function Cl(e,t,r,n){if(Ai){var i=Ra(e,t,r,n);if(i===null)Ho(e,t,n,Di,r),Cd(e,n);else if(Wh(i,e,t,r,n))n.stopPropagation();else if(Cd(e,n),t&4&&-1<Bh.indexOf(e)){for(;i!==null;){var o=qs(i);if(o!==null&&Rc(o),o=Ra(e,t,r,n),o===null&&Ho(e,t,n,Di,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Ho(e,t,n,null,r)}}var Di=null;function Ra(e,t,r,n){if(Di=null,e=jl(n),e=Or(e),e!==null)if(t=Kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=kc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Di=e,null}function Ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oh()){case kl:return 1;case Tc:return 4;case Oi:case Lh:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var ur=null,Tl=null,yi=null;function Dc(){if(yi)return yi;var e,t=Tl,r=t.length,n,i="value"in ur?ur.value:ur.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return yi=i.slice(e,1<n?1-n:void 0)}function wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Ed(){return!1}function lt(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ri:Ed,this.isPropagationStopped=Ed,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=lt(An),Us=xe({},An,{view:0,detail:0}),Kh=lt(Us),Do,Fo,Qn,ho=xe({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(Do=e.screenX-Qn.screenX,Fo=e.screenY-Qn.screenY):Fo=Do=0,Qn=e),Do)},movementY:function(e){return"movementY"in e?e.movementY:Fo}}),Md=lt(ho),Gh=xe({},ho,{dataTransfer:0}),Xh=lt(Gh),Jh=xe({},Us,{relatedTarget:0}),zo=lt(Jh),Zh=xe({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=lt(Zh),tp=xe({},An,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rp=lt(tp),np=xe({},An,{data:0}),_d=lt(np),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},op={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ap(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=op[e])?!!t[e]:!1}function Ml(){return ap}var lp=xe({},Us,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dp=lt(lp),up=xe({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=lt(up),cp=xe({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),fp=lt(cp),mp=xe({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=lt(mp),pp=xe({},ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=lt(pp),xp=[9,13,27,32],_l=Ht&&"CompositionEvent"in window,os=null;Ht&&"documentMode"in document&&(os=document.documentMode);var vp=Ht&&"TextEvent"in window&&!os,Fc=Ht&&(!_l||os&&8<os&&11>=os),$d=" ",Id=!1;function zc(e,t){switch(e){case"keyup":return xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function yp(e,t){switch(e){case"compositionend":return Uc(t);case"keypress":return t.which!==32?null:(Id=!0,$d);case"textInput":return e=t.data,e===$d&&Id?null:e;default:return null}}function wp(e,t){if(nn)return e==="compositionend"||!_l&&zc(e,t)?(e=Dc(),yi=Tl=ur=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fc&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function qc(e,t,r,n){yc(n),t=Fi(t,"onChange"),0<t.length&&(r=new El("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var as=null,js=null;function Np(e){Zc(e,0)}function po(e){var t=an(e);if(fc(t))return e}function jp(e,t){if(e==="change")return t}var Vc=!1;if(Ht){var Uo;if(Ht){var qo="oninput"in document;if(!qo){var Ld=document.createElement("div");Ld.setAttribute("oninput","return;"),qo=typeof Ld.oninput=="function"}Uo=qo}else Uo=!1;Vc=Uo&&(!document.documentMode||9<document.documentMode)}function Ad(){as&&(as.detachEvent("onpropertychange",Bc),js=as=null)}function Bc(e){if(e.propertyName==="value"&&po(js)){var t=[];qc(t,js,e,jl(e)),jc(Np,t)}}function kp(e,t,r){e==="focusin"?(Ad(),as=t,js=r,as.attachEvent("onpropertychange",Bc)):e==="focusout"&&Ad()}function Sp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(js)}function Pp(e,t){if(e==="click")return po(t)}function Cp(e,t){if(e==="input"||e==="change")return po(t)}function Tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Tp;function ks(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ha.call(t,i)||!Tt(e[i],t[i]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var r=Dd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dd(r)}}function Wc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qc(){for(var e=window,t=Ri();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ri(e.document)}return t}function Rl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ep(e){var t=Qc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Wc(r.ownerDocument.documentElement,r)){if(n!==null&&Rl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=Fd(r,o);var a=Fd(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=Ht&&"documentMode"in document&&11>=document.documentMode,sn=null,$a=null,ls=null,Ia=!1;function zd(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ia||sn==null||sn!==Ri(n)||(n=sn,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ls&&ks(ls,n)||(ls=n,n=Fi($a,"onSelect"),0<n.length&&(t=new El("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sn)))}function ni(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var on={animationend:ni("Animation","AnimationEnd"),animationiteration:ni("Animation","AnimationIteration"),animationstart:ni("Animation","AnimationStart"),transitionend:ni("Transition","TransitionEnd")},Vo={},Hc={};Ht&&(Hc=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);function go(e){if(Vo[e])return Vo[e];if(!on[e])return e;var t=on[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hc)return Vo[e]=t[r];return e}var Yc=go("animationend"),Kc=go("animationiteration"),Gc=go("animationstart"),Xc=go("transitionend"),Jc=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Jc.set(e,t),Yr(t,[e])}for(var Bo=0;Bo<Ud.length;Bo++){var Wo=Ud[Bo],_p=Wo.toLowerCase(),Rp=Wo[0].toUpperCase()+Wo.slice(1);Pr(_p,"on"+Rp)}Pr(Yc,"onAnimationEnd");Pr(Kc,"onAnimationIteration");Pr(Gc,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Xc,"onTransitionEnd");Sn("onMouseEnter",["mouseout","mouseover"]);Sn("onMouseLeave",["mouseout","mouseover"]);Sn("onPointerEnter",["pointerout","pointerover"]);Sn("onPointerLeave",["pointerout","pointerover"]);Yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$p=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function qd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_h(n,t,void 0,e),e.currentTarget=null}function Zc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==o&&i.isPropagationStopped())break e;qd(i,l,u),o=d}else for(a=0;a<n.length;a++){if(l=n[a],d=l.instance,u=l.currentTarget,l=l.listener,d!==o&&i.isPropagationStopped())break e;qd(i,l,u),o=d}}}if(Ii)throw e=Ea,Ii=!1,Ea=null,e}function ae(e,t){var r=t[Fa];r===void 0&&(r=t[Fa]=new Set);var n=e+"__bubble";r.has(n)||(ef(t,e,2,!1),r.add(n))}function Qo(e,t,r){var n=0;t&&(n|=4),ef(r,e,n,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[si]){e[si]=!0,ac.forEach(function(r){r!=="selectionchange"&&($p.has(r)||Qo(r,!1,e),Qo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,Qo("selectionchange",!1,t))}}function ef(e,t,r,n){switch(Ac(t)){case 1:var i=Hh;break;case 4:i=Yh;break;default:i=Cl}r=i.bind(null,t,r,e),i=void 0,!Ta||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Ho(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Or(l),a===null)return;if(d=a.tag,d===5||d===6){n=o=a;continue e}l=l.parentNode}}n=n.return}jc(function(){var u=o,m=jl(r),g=[];e:{var x=Jc.get(e);if(x!==void 0){var h=El,f=e;switch(e){case"keypress":if(wi(r)===0)break e;case"keydown":case"keyup":h=dp;break;case"focusin":f="focus",h=zo;break;case"focusout":f="blur",h=zo;break;case"beforeblur":case"afterblur":h=zo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=fp;break;case Yc:case Kc:case Gc:h=ep;break;case Xc:h=hp;break;case"scroll":h=Kh;break;case"wheel":h=gp;break;case"copy":case"cut":case"paste":h=rp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Rd}var w=(t&4)!==0,v=!w&&e==="scroll",p=w?x!==null?x+"Capture":null:x;w=[];for(var c=u,y;c!==null;){y=c;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,p!==null&&(b=ys(c,p),b!=null&&w.push(Ps(c,b,y)))),v)break;c=c.return}0<w.length&&(x=new h(x,f,null,r,m),g.push({event:x,listeners:w}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",x&&r!==Pa&&(f=r.relatedTarget||r.fromElement)&&(Or(f)||f[Yt]))break e;if((h||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,h?(f=r.relatedTarget||r.toElement,h=u,f=f?Or(f):null,f!==null&&(v=Kr(f),f!==v||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=u),h!==f)){if(w=Md,b="onMouseLeave",p="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(w=Rd,b="onPointerLeave",p="onPointerEnter",c="pointer"),v=h==null?x:an(h),y=f==null?x:an(f),x=new w(b,c+"leave",h,r,m),x.target=v,x.relatedTarget=y,b=null,Or(m)===u&&(w=new w(p,c+"enter",f,r,m),w.target=y,w.relatedTarget=v,b=w),v=b,h&&f)t:{for(w=h,p=f,c=0,y=w;y;y=Jr(y))c++;for(y=0,b=p;b;b=Jr(b))y++;for(;0<c-y;)w=Jr(w),c--;for(;0<y-c;)p=Jr(p),y--;for(;c--;){if(w===p||p!==null&&w===p.alternate)break t;w=Jr(w),p=Jr(p)}w=null}else w=null;h!==null&&Vd(g,x,h,w,!1),f!==null&&v!==null&&Vd(g,v,f,w,!0)}}e:{if(x=u?an(u):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var T=jp;else if(Od(x))if(Vc)T=Cp;else{T=Sp;var C=kp}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(T=Pp);if(T&&(T=T(e,u))){qc(g,T,r,m);break e}C&&C(e,x,u),e==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&ba(x,"number",x.value)}switch(C=u?an(u):window,e){case"focusin":(Od(C)||C.contentEditable==="true")&&(sn=C,$a=u,ls=null);break;case"focusout":ls=$a=sn=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,zd(g,r,m);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":zd(g,r,m)}var M;if(_l)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else nn?zc(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Fc&&r.locale!=="ko"&&(nn||S!=="onCompositionStart"?S==="onCompositionEnd"&&nn&&(M=Dc()):(ur=m,Tl="value"in ur?ur.value:ur.textContent,nn=!0)),C=Fi(u,S),0<C.length&&(S=new _d(S,e,null,r,m),g.push({event:S,listeners:C}),M?S.data=M:(M=Uc(r),M!==null&&(S.data=M)))),(M=vp?yp(e,r):wp(e,r))&&(u=Fi(u,"onBeforeInput"),0<u.length&&(m=new _d("onBeforeInput","beforeinput",null,r,m),g.push({event:m,listeners:u}),m.data=M))}Zc(g,t)})}function Ps(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fi(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ys(e,r),o!=null&&n.unshift(Ps(e,o,i)),o=ys(e,t),o!=null&&n.push(Ps(e,o,i))),e=e.return}return n}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vd(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===n)break;l.tag===5&&u!==null&&(l=u,i?(d=ys(r,o),d!=null&&a.unshift(Ps(r,d,l))):i||(d=ys(r,o),d!=null&&a.push(Ps(r,d,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Ip=/\r\n?/g,Op=/\u0000|\uFFFD/g;function Bd(e){return(typeof e=="string"?e:""+e).replace(Ip,`
`).replace(Op,"")}function ii(e,t,r){if(t=Bd(t),Bd(e)!==t&&r)throw Error(R(425))}function zi(){}var Oa=null,La=null;function Aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Da=typeof setTimeout=="function"?setTimeout:void 0,Lp=typeof clearTimeout=="function"?clearTimeout:void 0,Wd=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Wd<"u"?function(e){return Wd.resolve(null).then(e).catch(Dp)}:Da;function Dp(e){setTimeout(function(){throw e})}function Yo(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ns(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ns(t)}function pr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dn=Math.random().toString(36).slice(2),$t="__reactFiber$"+Dn,Cs="__reactProps$"+Dn,Yt="__reactContainer$"+Dn,Fa="__reactEvents$"+Dn,Fp="__reactListeners$"+Dn,zp="__reactHandles$"+Dn;function Or(e){var t=e[$t];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yt]||r[$t]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Qd(e);e!==null;){if(r=e[$t])return r;e=Qd(e)}return t}e=r,r=e.parentNode}return null}function qs(e){return e=e[$t]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function an(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function xo(e){return e[Cs]||null}var za=[],ln=-1;function Cr(e){return{current:e}}function de(e){0>ln||(e.current=za[ln],za[ln]=null,ln--)}function ie(e,t){ln++,za[ln]=e.current,e.current=t}var jr={},qe=Cr(jr),Je=Cr(!1),qr=jr;function Pn(e,t){var r=e.type.contextTypes;if(!r)return jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(e){return e=e.childContextTypes,e!=null}function Ui(){de(Je),de(qe)}function Hd(e,t,r){if(qe.current!==jr)throw Error(R(168));ie(qe,t),ie(Je,r)}function tf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(R(108,kh(e)||"Unknown",i));return xe({},r,n)}function qi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,qr=qe.current,ie(qe,e),ie(Je,Je.current),!0}function Yd(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=tf(e,t,qr),n.__reactInternalMemoizedMergedChildContext=e,de(Je),de(qe),ie(qe,e)):de(Je),ie(Je,r)}var qt=null,vo=!1,Ko=!1;function rf(e){qt===null?qt=[e]:qt.push(e)}function Up(e){vo=!0,rf(e)}function Tr(){if(!Ko&&qt!==null){Ko=!0;var e=0,t=re;try{var r=qt;for(re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}qt=null,vo=!1}catch(i){throw qt!==null&&(qt=qt.slice(e+1)),Cc(kl,Tr),i}finally{re=t,Ko=!1}}return null}var dn=[],un=0,Vi=null,Bi=0,ct=[],ft=0,Vr=null,Bt=1,Wt="";function Rr(e,t){dn[un++]=Bi,dn[un++]=Vi,Vi=e,Bi=t}function nf(e,t,r){ct[ft++]=Bt,ct[ft++]=Wt,ct[ft++]=Vr,Vr=e;var n=Bt;e=Wt;var i=32-Pt(n)-1;n&=~(1<<i),r+=1;var o=32-Pt(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Bt=1<<32-Pt(t)+i|r<<i|n,Wt=o+e}else Bt=1<<o|r<<i|n,Wt=e}function $l(e){e.return!==null&&(Rr(e,1),nf(e,1,0))}function Il(e){for(;e===Vi;)Vi=dn[--un],dn[un]=null,Bi=dn[--un],dn[un]=null;for(;e===Vr;)Vr=ct[--ft],ct[ft]=null,Wt=ct[--ft],ct[ft]=null,Bt=ct[--ft],ct[ft]=null}var it=null,nt=null,fe=!1,jt=null;function sf(e,t){var r=ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,it=e,nt=pr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,it=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vr!==null?{id:Bt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,it=e,nt=null,!0):!1;default:return!1}}function Ua(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qa(e){if(fe){var t=nt;if(t){var r=t;if(!Kd(e,t)){if(Ua(e))throw Error(R(418));t=pr(r.nextSibling);var n=it;t&&Kd(e,t)?sf(n,r):(e.flags=e.flags&-4097|2,fe=!1,it=e)}}else{if(Ua(e))throw Error(R(418));e.flags=e.flags&-4097|2,fe=!1,it=e}}}function Gd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;it=e}function oi(e){if(e!==it)return!1;if(!fe)return Gd(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Aa(e.type,e.memoizedProps)),t&&(t=nt)){if(Ua(e))throw of(),Error(R(418));for(;t;)sf(e,t),t=pr(t.nextSibling)}if(Gd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nt=pr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=it?pr(e.stateNode.nextSibling):null;return!0}function of(){for(var e=nt;e;)e=pr(e.nextSibling)}function Cn(){nt=it=null,fe=!1}function Ol(e){jt===null?jt=[e]:jt.push(e)}var qp=Jt.ReactCurrentBatchConfig;function Hn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function ai(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xd(e){var t=e._init;return t(e._payload)}function af(e){function t(p,c){if(e){var y=p.deletions;y===null?(p.deletions=[c],p.flags|=16):y.push(c)}}function r(p,c){if(!e)return null;for(;c!==null;)t(p,c),c=c.sibling;return null}function n(p,c){for(p=new Map;c!==null;)c.key!==null?p.set(c.key,c):p.set(c.index,c),c=c.sibling;return p}function i(p,c){return p=yr(p,c),p.index=0,p.sibling=null,p}function o(p,c,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<c?(p.flags|=2,c):y):(p.flags|=2,c)):(p.flags|=1048576,c)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,c,y,b){return c===null||c.tag!==6?(c=ra(y,p.mode,b),c.return=p,c):(c=i(c,y),c.return=p,c)}function d(p,c,y,b){var T=y.type;return T===rn?m(p,c,y.props.children,b,y.key):c!==null&&(c.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ir&&Xd(T)===c.type)?(b=i(c,y.props),b.ref=Hn(p,c,y),b.return=p,b):(b=Ci(y.type,y.key,y.props,null,p.mode,b),b.ref=Hn(p,c,y),b.return=p,b)}function u(p,c,y,b){return c===null||c.tag!==4||c.stateNode.containerInfo!==y.containerInfo||c.stateNode.implementation!==y.implementation?(c=na(y,p.mode,b),c.return=p,c):(c=i(c,y.children||[]),c.return=p,c)}function m(p,c,y,b,T){return c===null||c.tag!==7?(c=Fr(y,p.mode,b,T),c.return=p,c):(c=i(c,y),c.return=p,c)}function g(p,c,y){if(typeof c=="string"&&c!==""||typeof c=="number")return c=ra(""+c,p.mode,y),c.return=p,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Gs:return y=Ci(c.type,c.key,c.props,null,p.mode,y),y.ref=Hn(p,null,c),y.return=p,y;case tn:return c=na(c,p.mode,y),c.return=p,c;case ir:var b=c._init;return g(p,b(c._payload),y)}if(es(c)||qn(c))return c=Fr(c,p.mode,y,null),c.return=p,c;ai(p,c)}return null}function x(p,c,y,b){var T=c!==null?c.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:l(p,c,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:return y.key===T?d(p,c,y,b):null;case tn:return y.key===T?u(p,c,y,b):null;case ir:return T=y._init,x(p,c,T(y._payload),b)}if(es(y)||qn(y))return T!==null?null:m(p,c,y,b,null);ai(p,y)}return null}function h(p,c,y,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(y)||null,l(c,p,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Gs:return p=p.get(b.key===null?y:b.key)||null,d(c,p,b,T);case tn:return p=p.get(b.key===null?y:b.key)||null,u(c,p,b,T);case ir:var C=b._init;return h(p,c,y,C(b._payload),T)}if(es(b)||qn(b))return p=p.get(y)||null,m(c,p,b,T,null);ai(c,b)}return null}function f(p,c,y,b){for(var T=null,C=null,M=c,S=c=0,z=null;M!==null&&S<y.length;S++){M.index>S?(z=M,M=null):z=M.sibling;var P=x(p,M,y[S],b);if(P===null){M===null&&(M=z);break}e&&M&&P.alternate===null&&t(p,M),c=o(P,c,S),C===null?T=P:C.sibling=P,C=P,M=z}if(S===y.length)return r(p,M),fe&&Rr(p,S),T;if(M===null){for(;S<y.length;S++)M=g(p,y[S],b),M!==null&&(c=o(M,c,S),C===null?T=M:C.sibling=M,C=M);return fe&&Rr(p,S),T}for(M=n(p,M);S<y.length;S++)z=h(M,p,S,y[S],b),z!==null&&(e&&z.alternate!==null&&M.delete(z.key===null?S:z.key),c=o(z,c,S),C===null?T=z:C.sibling=z,C=z);return e&&M.forEach(function(j){return t(p,j)}),fe&&Rr(p,S),T}function w(p,c,y,b){var T=qn(y);if(typeof T!="function")throw Error(R(150));if(y=T.call(y),y==null)throw Error(R(151));for(var C=T=null,M=c,S=c=0,z=null,P=y.next();M!==null&&!P.done;S++,P=y.next()){M.index>S?(z=M,M=null):z=M.sibling;var j=x(p,M,P.value,b);if(j===null){M===null&&(M=z);break}e&&M&&j.alternate===null&&t(p,M),c=o(j,c,S),C===null?T=j:C.sibling=j,C=j,M=z}if(P.done)return r(p,M),fe&&Rr(p,S),T;if(M===null){for(;!P.done;S++,P=y.next())P=g(p,P.value,b),P!==null&&(c=o(P,c,S),C===null?T=P:C.sibling=P,C=P);return fe&&Rr(p,S),T}for(M=n(p,M);!P.done;S++,P=y.next())P=h(M,p,S,P.value,b),P!==null&&(e&&P.alternate!==null&&M.delete(P.key===null?S:P.key),c=o(P,c,S),C===null?T=P:C.sibling=P,C=P);return e&&M.forEach(function($){return t(p,$)}),fe&&Rr(p,S),T}function v(p,c,y,b){if(typeof y=="object"&&y!==null&&y.type===rn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:e:{for(var T=y.key,C=c;C!==null;){if(C.key===T){if(T=y.type,T===rn){if(C.tag===7){r(p,C.sibling),c=i(C,y.props.children),c.return=p,p=c;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ir&&Xd(T)===C.type){r(p,C.sibling),c=i(C,y.props),c.ref=Hn(p,C,y),c.return=p,p=c;break e}r(p,C);break}else t(p,C);C=C.sibling}y.type===rn?(c=Fr(y.props.children,p.mode,b,y.key),c.return=p,p=c):(b=Ci(y.type,y.key,y.props,null,p.mode,b),b.ref=Hn(p,c,y),b.return=p,p=b)}return a(p);case tn:e:{for(C=y.key;c!==null;){if(c.key===C)if(c.tag===4&&c.stateNode.containerInfo===y.containerInfo&&c.stateNode.implementation===y.implementation){r(p,c.sibling),c=i(c,y.children||[]),c.return=p,p=c;break e}else{r(p,c);break}else t(p,c);c=c.sibling}c=na(y,p.mode,b),c.return=p,p=c}return a(p);case ir:return C=y._init,v(p,c,C(y._payload),b)}if(es(y))return f(p,c,y,b);if(qn(y))return w(p,c,y,b);ai(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,c!==null&&c.tag===6?(r(p,c.sibling),c=i(c,y),c.return=p,p=c):(r(p,c),c=ra(y,p.mode,b),c.return=p,p=c),a(p)):r(p,c)}return v}var Tn=af(!0),lf=af(!1),Wi=Cr(null),Qi=null,cn=null,Ll=null;function Al(){Ll=cn=Qi=null}function Dl(e){var t=Wi.current;de(Wi),e._currentValue=t}function Va(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wn(e,t){Qi=e,Ll=cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Ll!==e)if(e={context:e,memoizedValue:t,next:null},cn===null){if(Qi===null)throw Error(R(308));cn=e,Qi.dependencies={lanes:0,firstContext:e}}else cn=cn.next=e;return t}var Lr=null;function Fl(e){Lr===null?Lr=[e]:Lr.push(e)}function df(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Fl(t)):(r.next=i.next,i.next=r),t.interleaved=r,Kt(e,n)}function Kt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var or=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,J&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Kt(e,r)}return i=n.interleaved,i===null?(t.next=t,Fl(n)):(t.next=i.next,i.next=t),n.interleaved=t,Kt(e,r)}function bi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sl(e,r)}}function Jd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hi(e,t,r,n){var i=e.updateQueue;or=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var d=l,u=d.next;d.next=null,a===null?o=u:a.next=u,a=d;var m=e.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==a&&(l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=d))}if(o!==null){var g=i.baseState;a=0,m=u=d=null,l=o;do{var x=l.lane,h=l.eventTime;if((n&x)===x){m!==null&&(m=m.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,w=l;switch(x=t,h=r,w.tag){case 1:if(f=w.payload,typeof f=="function"){g=f.call(h,g,x);break e}g=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=w.payload,x=typeof f=="function"?f.call(h,g,x):f,x==null)break e;g=xe({},g,x);break e;case 2:or=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[l]:x.push(l))}else h={eventTime:h,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(u=m=h,d=g):m=m.next=h,a|=x;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;x=l,l=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(m===null&&(d=g),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Wr|=a,e.lanes=a,e.memoizedState=g}}function Zd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(R(191,i));i.call(n)}}}var Vs={},At=Cr(Vs),Ts=Cr(Vs),Es=Cr(Vs);function Ar(e){if(e===Vs)throw Error(R(174));return e}function Ul(e,t){switch(ie(Es,t),ie(Ts,e),ie(At,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ja(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ja(t,e)}de(At),ie(At,t)}function En(){de(At),de(Ts),de(Es)}function cf(e){Ar(Es.current);var t=Ar(At.current),r=ja(t,e.type);t!==r&&(ie(Ts,e),ie(At,r))}function ql(e){Ts.current===e&&(de(At),de(Ts))}var pe=Cr(0);function Yi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Go=[];function Vl(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Ni=Jt.ReactCurrentDispatcher,Xo=Jt.ReactCurrentBatchConfig,Br=0,ge=null,Ce=null,_e=null,Ki=!1,ds=!1,Ms=0,Vp=0;function Fe(){throw Error(R(321))}function Bl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Tt(e[r],t[r]))return!1;return!0}function Wl(e,t,r,n,i,o){if(Br=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ni.current=e===null||e.memoizedState===null?Hp:Yp,e=r(n,i),ds){o=0;do{if(ds=!1,Ms=0,25<=o)throw Error(R(301));o+=1,_e=Ce=null,t.updateQueue=null,Ni.current=Kp,e=r(n,i)}while(ds)}if(Ni.current=Gi,t=Ce!==null&&Ce.next!==null,Br=0,_e=Ce=ge=null,Ki=!1,t)throw Error(R(300));return e}function Ql(){var e=Ms!==0;return Ms=0,e}function Rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ge.memoizedState=_e=e:_e=_e.next=e,_e}function vt(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=_e===null?ge.memoizedState:_e.next;if(t!==null)_e=t,Ce=e;else{if(e===null)throw Error(R(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},_e===null?ge.memoizedState=_e=e:_e=_e.next=e}return _e}function _s(e,t){return typeof t=="function"?t(e):t}function Jo(e){var t=vt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=Ce,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var l=a=null,d=null,u=o;do{var m=u.lane;if((Br&m)===m)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var g={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=g,a=n):d=d.next=g,ge.lanes|=m,Wr|=m}u=u.next}while(u!==null&&u!==o);d===null?a=n:d.next=l,Tt(n,t.memoizedState)||(Xe=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=d,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,ge.lanes|=o,Wr|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Zo(e){var t=vt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Tt(o,t.memoizedState)||(Xe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ff(){}function mf(e,t){var r=ge,n=vt(),i=t(),o=!Tt(n.memoizedState,i);if(o&&(n.memoizedState=i,Xe=!0),n=n.queue,Hl(gf.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,Rs(9,pf.bind(null,r,n,i,t),void 0,null),Re===null)throw Error(R(349));Br&30||hf(r,t,i)}return i}function hf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function pf(e,t,r,n){t.value=r,t.getSnapshot=n,xf(t)&&vf(e)}function gf(e,t,r){return r(function(){xf(t)&&vf(e)})}function xf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Tt(e,r)}catch{return!0}}function vf(e){var t=Kt(e,1);t!==null&&Ct(t,e,1,-1)}function eu(e){var t=Rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Qp.bind(null,ge,e),[t.memoizedState,e]}function Rs(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yf(){return vt().memoizedState}function ji(e,t,r,n){var i=Rt();ge.flags|=e,i.memoizedState=Rs(1|t,r,void 0,n===void 0?null:n)}function yo(e,t,r,n){var i=vt();n=n===void 0?null:n;var o=void 0;if(Ce!==null){var a=Ce.memoizedState;if(o=a.destroy,n!==null&&Bl(n,a.deps)){i.memoizedState=Rs(t,r,o,n);return}}ge.flags|=e,i.memoizedState=Rs(1|t,r,o,n)}function tu(e,t){return ji(8390656,8,e,t)}function Hl(e,t){return yo(2048,8,e,t)}function wf(e,t){return yo(4,2,e,t)}function bf(e,t){return yo(4,4,e,t)}function Nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jf(e,t,r){return r=r!=null?r.concat([e]):null,yo(4,4,Nf.bind(null,t,e),r)}function Yl(){}function kf(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Sf(e,t){var r=vt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Pf(e,t,r){return Br&21?(Tt(r,t)||(r=Mc(),ge.lanes|=r,Wr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=r)}function Bp(e,t){var r=re;re=r!==0&&4>r?r:4,e(!0);var n=Xo.transition;Xo.transition={};try{e(!1),t()}finally{re=r,Xo.transition=n}}function Cf(){return vt().memoizedState}function Wp(e,t,r){var n=vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Tf(e))Ef(t,r);else if(r=df(e,t,r,n),r!==null){var i=Qe();Ct(r,e,n,i),Mf(r,t,n)}}function Qp(e,t,r){var n=vr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Tf(e))Ef(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(i.hasEagerState=!0,i.eagerState=l,Tt(l,a)){var d=t.interleaved;d===null?(i.next=i,Fl(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}r=df(e,t,i,n),r!==null&&(i=Qe(),Ct(r,e,n,i),Mf(r,t,n))}}function Tf(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Ef(e,t){ds=Ki=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Mf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sl(e,r)}}var Gi={readContext:xt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Hp={readContext:xt,useCallback:function(e,t){return Rt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:tu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ji(4194308,4,Nf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var r=Rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Wp.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=Rt();return e={current:e},t.memoizedState=e},useState:eu,useDebugValue:Yl,useDeferredValue:function(e){return Rt().memoizedState=e},useTransition:function(){var e=eu(!1),t=e[0];return e=Bp.bind(null,e[1]),Rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ge,i=Rt();if(fe){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),Re===null)throw Error(R(349));Br&30||hf(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,tu(gf.bind(null,n,o,e),[e]),n.flags|=2048,Rs(9,pf.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Rt(),t=Re.identifierPrefix;if(fe){var r=Wt,n=Bt;r=(n&~(1<<32-Pt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yp={readContext:xt,useCallback:kf,useContext:xt,useEffect:Hl,useImperativeHandle:jf,useInsertionEffect:wf,useLayoutEffect:bf,useMemo:Sf,useReducer:Jo,useRef:yf,useState:function(){return Jo(_s)},useDebugValue:Yl,useDeferredValue:function(e){var t=vt();return Pf(t,Ce.memoizedState,e)},useTransition:function(){var e=Jo(_s)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:mf,useId:Cf,unstable_isNewReconciler:!1},Kp={readContext:xt,useCallback:kf,useContext:xt,useEffect:Hl,useImperativeHandle:jf,useInsertionEffect:wf,useLayoutEffect:bf,useMemo:Sf,useReducer:Zo,useRef:yf,useState:function(){return Zo(_s)},useDebugValue:Yl,useDeferredValue:function(e){var t=vt();return Ce===null?t.memoizedState=e:Pf(t,Ce.memoizedState,e)},useTransition:function(){var e=Zo(_s)[0],t=vt().memoizedState;return[e,t]},useMutableSource:ff,useSyncExternalStore:mf,useId:Cf,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ba(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wo={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qe(),i=vr(e),o=Qt(n,i);o.payload=t,r!=null&&(o.callback=r),t=gr(e,o,i),t!==null&&(Ct(t,e,i,n),bi(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qe(),i=vr(e),o=Qt(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=gr(e,o,i),t!==null&&(Ct(t,e,i,n),bi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qe(),n=vr(e),i=Qt(r,n);i.tag=2,t!=null&&(i.callback=t),t=gr(e,i,n),t!==null&&(Ct(t,e,n,r),bi(t,e,n))}};function ru(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!ks(r,n)||!ks(i,o):!0}function _f(e,t,r){var n=!1,i=jr,o=t.contextType;return typeof o=="object"&&o!==null?o=xt(o):(i=Ze(t)?qr:qe.current,n=t.contextTypes,o=(n=n!=null)?Pn(e,i):jr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function nu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function Wa(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},zl(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=xt(o):(o=Ze(t)?qr:qe.current,i.context=Pn(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ba(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wo.enqueueReplaceState(i,i.state,null),Hi(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,t){try{var r="",n=t;do r+=jh(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ea(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Gp=typeof WeakMap=="function"?WeakMap:Map;function Rf(e,t,r){r=Qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ji||(Ji=!0,rl=n),Qa(e,t)},r}function $f(e,t,r){r=Qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Qa(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Qa(e,t),typeof n!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function su(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Gp;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=u0.bind(null,e,t,r),t.then(e,e))}function iu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ou(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qt(-1,1),t.tag=2,gr(r,t,1))),r.lanes|=1),e)}var Xp=Jt.ReactCurrentOwner,Xe=!1;function We(e,t,r,n){t.child=e===null?lf(t,null,r,n):Tn(t,e.child,r,n)}function au(e,t,r,n,i){r=r.render;var o=t.ref;return wn(t,i),n=Wl(e,t,r,n,o,i),r=Ql(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(fe&&r&&$l(t),t.flags|=1,We(e,t,n,i),t.child)}function lu(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!rd(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,If(e,t,o,n,i)):(e=Ci(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:ks,r(a,n)&&e.ref===t.ref)return Gt(e,t,i)}return t.flags|=1,e=yr(o,n),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(ks(o,n)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Gt(e,t,i)}return Ha(e,t,r,n,i)}function Of(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(mn,tt),tt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(mn,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ie(mn,tt),tt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ie(mn,tt),tt|=n;return We(e,t,i,r),t.child}function Lf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ha(e,t,r,n,i){var o=Ze(r)?qr:qe.current;return o=Pn(t,o),wn(t,i),r=Wl(e,t,r,n,o,i),n=Ql(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gt(e,t,i)):(fe&&n&&$l(t),t.flags|=1,We(e,t,r,i),t.child)}function du(e,t,r,n,i){if(Ze(r)){var o=!0;qi(t)}else o=!1;if(wn(t,i),t.stateNode===null)ki(e,t),_f(t,r,n),Wa(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var d=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=Ze(r)?qr:qe.current,u=Pn(t,u));var m=r.getDerivedStateFromProps,g=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";g||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||d!==u)&&nu(t,a,n,u),or=!1;var x=t.memoizedState;a.state=x,Hi(t,n,a,i),d=t.memoizedState,l!==n||x!==d||Je.current||or?(typeof m=="function"&&(Ba(t,r,m,n),d=t.memoizedState),(l=or||ru(t,r,l,n,x,d,u))?(g||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,uf(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:bt(t.type,l),a.props=u,g=t.pendingProps,x=a.context,d=r.contextType,typeof d=="object"&&d!==null?d=xt(d):(d=Ze(r)?qr:qe.current,d=Pn(t,d));var h=r.getDerivedStateFromProps;(m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==g||x!==d)&&nu(t,a,n,d),or=!1,x=t.memoizedState,a.state=x,Hi(t,n,a,i);var f=t.memoizedState;l!==g||x!==f||Je.current||or?(typeof h=="function"&&(Ba(t,r,h,n),f=t.memoizedState),(u=or||ru(t,r,u,n,x,f,d)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,f,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,f,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=d,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return Ya(e,t,r,n,o,i)}function Ya(e,t,r,n,i,o){Lf(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Yd(t,r,!1),Gt(e,t,o);n=t.stateNode,Xp.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Tn(t,e.child,null,o),t.child=Tn(t,null,l,o)):We(e,t,l,o),t.memoizedState=n.state,i&&Yd(t,r,!0),t.child}function Af(e){var t=e.stateNode;t.pendingContext?Hd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hd(e,t.context,!1),Ul(e,t.containerInfo)}function uu(e,t,r,n,i){return Cn(),Ol(i),t.flags|=256,We(e,t,r,n),t.child}var Ka={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Df(e,t,r){var n=t.pendingProps,i=pe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ie(pe,i&1),e===null)return qa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=jo(a,n,0,null),e=Fr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ga(r),t.memoizedState=Ka,e):Kl(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Jp(e,t,a,n,l,i,r);if(o){o=n.fallback,a=t.mode,i=e.child,l=i.sibling;var d={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=d,t.deletions=null):(n=yr(i,d),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=yr(l,o):(o=Fr(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Ga(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Ka,n}return o=e.child,e=o.sibling,n=yr(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Kl(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,r,n){return n!==null&&Ol(n),Tn(t,e.child,null,r),e=Kl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jp(e,t,r,n,i,o,a){if(r)return t.flags&256?(t.flags&=-257,n=ea(Error(R(422))),li(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=jo({mode:"visible",children:n.children},i,0,null),o=Fr(o,i,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Tn(t,e.child,null,a),t.child.memoizedState=Ga(a),t.memoizedState=Ka,o);if(!(t.mode&1))return li(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(R(419)),n=ea(o,n,void 0),li(e,t,a,n)}if(l=(a&e.childLanes)!==0,Xe||l){if(n=Re,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Kt(e,i),Ct(n,e,i,-1))}return td(),n=ea(Error(R(421))),li(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=c0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,nt=pr(i.nextSibling),it=t,fe=!0,jt=null,e!==null&&(ct[ft++]=Bt,ct[ft++]=Wt,ct[ft++]=Vr,Bt=e.id,Wt=e.overflow,Vr=t),t=Kl(t,n.children),t.flags|=4096,t)}function cu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Va(e.return,t,r)}function ta(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Ff(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(We(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cu(e,r,t);else if(e.tag===19)cu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(pe,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Yi(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ta(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Yi(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ta(t,!0,r,null,o);break;case"together":ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ki(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Zp(e,t,r){switch(t.tag){case 3:Af(t),Cn();break;case 5:cf(t);break;case 1:Ze(t.type)&&qi(t);break;case 4:Ul(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ie(Wi,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?Df(e,t,r):(ie(pe,pe.current&1),e=Gt(e,t,r),e!==null?e.sibling:null);ie(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ff(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ie(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,Of(e,t,r)}return Gt(e,t,r)}var zf,Xa,Uf,qf;zf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xa=function(){};Uf=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ar(At.current);var o=null;switch(r){case"input":i=ya(e,i),n=ya(e,n),o=[];break;case"select":i=xe({},i,{value:void 0}),n=xe({},n,{value:void 0}),o=[];break;case"textarea":i=Na(e,i),n=Na(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zi)}ka(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xs.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var d=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in d)d.hasOwnProperty(a)&&l[a]!==d[a]&&(r||(r={}),r[a]=d[a])}else r||(o||(o=[]),o.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(o=o||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xs.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&ae("scroll",e),o||l===d||(o=[])):(o=o||[]).push(u,d))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};qf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yn(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function e0(e,t,r){var n=t.pendingProps;switch(Il(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ze(t.type)&&Ui(),ze(t),null;case 3:return n=t.stateNode,En(),de(Je),de(qe),Vl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(oi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(il(jt),jt=null))),Xa(e,t),ze(t),null;case 5:ql(t);var i=Ar(Es.current);if(r=t.type,e!==null&&t.stateNode!=null)Uf(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return ze(t),null}if(e=Ar(At.current),oi(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[$t]=t,n[Cs]=o,e=(t.mode&1)!==0,r){case"dialog":ae("cancel",n),ae("close",n);break;case"iframe":case"object":case"embed":ae("load",n);break;case"video":case"audio":for(i=0;i<rs.length;i++)ae(rs[i],n);break;case"source":ae("error",n);break;case"img":case"image":case"link":ae("error",n),ae("load",n);break;case"details":ae("toggle",n);break;case"input":wd(n,o),ae("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},ae("invalid",n);break;case"textarea":Nd(n,o),ae("invalid",n)}ka(r,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ii(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ii(n.textContent,l,e),i=["children",""+l]):xs.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ae("scroll",n)}switch(r){case"input":Xs(n),bd(n,o,!0);break;case"textarea":Xs(n),jd(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=zi)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[$t]=t,e[Cs]=n,zf(e,t,!1,!1),t.stateNode=e;e:{switch(a=Sa(r,n),r){case"dialog":ae("cancel",e),ae("close",e),i=n;break;case"iframe":case"object":case"embed":ae("load",e),i=n;break;case"video":case"audio":for(i=0;i<rs.length;i++)ae(rs[i],e);i=n;break;case"source":ae("error",e),i=n;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=n;break;case"details":ae("toggle",e),i=n;break;case"input":wd(e,n),i=ya(e,n),ae("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=xe({},n,{value:void 0}),ae("invalid",e);break;case"textarea":Nd(e,n),i=Na(e,n),ae("invalid",e);break;default:i=n}ka(r,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="style"?vc(e,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&gc(e,d)):o==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&vs(e,d):typeof d=="number"&&vs(e,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(xs.hasOwnProperty(o)?d!=null&&o==="onScroll"&&ae("scroll",e):d!=null&&yl(e,o,d,a))}switch(r){case"input":Xs(e),bd(e,n,!1);break;case"textarea":Xs(e),jd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nr(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?gn(e,!!n.multiple,o,!1):n.defaultValue!=null&&gn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)qf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=Ar(Es.current),Ar(At.current),oi(t)){if(n=t.stateNode,r=t.memoizedProps,n[$t]=t,(o=n.nodeValue!==r)&&(e=it,e!==null))switch(e.tag){case 3:ii(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$t]=t,t.stateNode=n}return ze(t),null;case 13:if(de(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&nt!==null&&t.mode&1&&!(t.flags&128))of(),Cn(),t.flags|=98560,o=!1;else if(o=oi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[$t]=t}else Cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),o=!1}else jt!==null&&(il(jt),jt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):td())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return En(),Xa(e,t),e===null&&Ss(t.stateNode.containerInfo),ze(t),null;case 10:return Dl(t.type._context),ze(t),null;case 17:return Ze(t.type)&&Ui(),ze(t),null;case 19:if(de(pe),o=t.memoizedState,o===null)return ze(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Yn(o,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Yi(e),a!==null){for(t.flags|=128,Yn(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ie(pe,pe.current&1|2),t.child}e=e.sibling}o.tail!==null&&be()>_n&&(t.flags|=128,n=!0,Yn(o,!1),t.lanes=4194304)}else{if(!n)if(e=Yi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!fe)return ze(t),null}else 2*be()-o.renderingStartTime>_n&&r!==1073741824&&(t.flags|=128,n=!0,Yn(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=be(),t.sibling=null,r=pe.current,ie(pe,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return ed(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function t0(e,t){switch(Il(t),t.tag){case 1:return Ze(t.type)&&Ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(),de(Je),de(qe),Vl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ql(t),null;case 13:if(de(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return de(pe),null;case 4:return En(),null;case 10:return Dl(t.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var di=!1,Ue=!1,r0=typeof WeakSet=="function"?WeakSet:Set,F=null;function fn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ye(e,t,n)}else r.current=null}function Ja(e,t,r){try{r()}catch(n){ye(e,t,n)}}var fu=!1;function n0(e,t){if(Oa=Ai,e=Qc(),Rl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,d=-1,u=0,m=0,g=e,x=null;t:for(;;){for(var h;g!==r||i!==0&&g.nodeType!==3||(l=a+i),g!==o||n!==0&&g.nodeType!==3||(d=a+n),g.nodeType===3&&(a+=g.nodeValue.length),(h=g.firstChild)!==null;)x=g,g=h;for(;;){if(g===e)break t;if(x===r&&++u===i&&(l=a),x===o&&++m===n&&(d=a),(h=g.nextSibling)!==null)break;g=x,x=g.parentNode}g=h}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(La={focusedElem:e,selectionRange:r},Ai=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var f=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var w=f.memoizedProps,v=f.memoizedState,p=t.stateNode,c=p.getSnapshotBeforeUpdate(t.elementType===t.type?w:bt(t.type,w),v);p.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){ye(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return f=fu,fu=!1,f}function us(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ja(t,r,o)}i=i.next}while(i!==n)}}function bo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Za(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Vf(e){var t=e.alternate;t!==null&&(e.alternate=null,Vf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[Cs],delete t[Fa],delete t[Fp],delete t[zp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bf(e){return e.tag===5||e.tag===3||e.tag===4}function mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zi));else if(n!==4&&(e=e.child,e!==null))for(el(e,t,r),e=e.sibling;e!==null;)el(e,t,r),e=e.sibling}function tl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(tl(e,t,r),e=e.sibling;e!==null;)tl(e,t,r),e=e.sibling}var Ie=null,Nt=!1;function rr(e,t,r){for(r=r.child;r!==null;)Wf(e,t,r),r=r.sibling}function Wf(e,t,r){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(mo,r)}catch{}switch(r.tag){case 5:Ue||fn(r,t);case 6:var n=Ie,i=Nt;Ie=null,rr(e,t,r),Ie=n,Nt=i,Ie!==null&&(Nt?(e=Ie,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ie.removeChild(r.stateNode));break;case 18:Ie!==null&&(Nt?(e=Ie,r=r.stateNode,e.nodeType===8?Yo(e.parentNode,r):e.nodeType===1&&Yo(e,r),Ns(e)):Yo(Ie,r.stateNode));break;case 4:n=Ie,i=Nt,Ie=r.stateNode.containerInfo,Nt=!0,rr(e,t,r),Ie=n,Nt=i;break;case 0:case 11:case 14:case 15:if(!Ue&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Ja(r,t,a),i=i.next}while(i!==n)}rr(e,t,r);break;case 1:if(!Ue&&(fn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ye(r,t,l)}rr(e,t,r);break;case 21:rr(e,t,r);break;case 22:r.mode&1?(Ue=(n=Ue)||r.memoizedState!==null,rr(e,t,r),Ue=n):rr(e,t,r);break;default:rr(e,t,r)}}function hu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new r0),t.forEach(function(n){var i=f0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Nt=!1;break e;case 3:Ie=l.stateNode.containerInfo,Nt=!0;break e;case 4:Ie=l.stateNode.containerInfo,Nt=!0;break e}l=l.return}if(Ie===null)throw Error(R(160));Wf(o,a,i),Ie=null,Nt=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(u){ye(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qf(t,e),t=t.sibling}function Qf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Mt(e),n&4){try{us(3,e,e.return),bo(3,e)}catch(w){ye(e,e.return,w)}try{us(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:wt(t,e),Mt(e),n&512&&r!==null&&fn(r,r.return);break;case 5:if(wt(t,e),Mt(e),n&512&&r!==null&&fn(r,r.return),e.flags&32){var i=e.stateNode;try{vs(i,"")}catch(w){ye(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&mc(i,o),Sa(l,a);var u=Sa(l,o);for(a=0;a<d.length;a+=2){var m=d[a],g=d[a+1];m==="style"?vc(i,g):m==="dangerouslySetInnerHTML"?gc(i,g):m==="children"?vs(i,g):yl(i,m,g,u)}switch(l){case"input":wa(i,o);break;case"textarea":hc(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?gn(i,!!o.multiple,h,!1):x!==!!o.multiple&&(o.defaultValue!=null?gn(i,!!o.multiple,o.defaultValue,!0):gn(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cs]=o}catch(w){ye(e,e.return,w)}}break;case 6:if(wt(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){ye(e,e.return,w)}}break;case 3:if(wt(t,e),Mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:wt(t,e),Mt(e);break;case 13:wt(t,e),Mt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Jl=be())),n&4&&hu(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(Ue=(u=Ue)||m,wt(t,e),Ue=u):wt(t,e),Mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(F=e,m=e.child;m!==null;){for(g=F=m;F!==null;){switch(x=F,h=x.child,x.tag){case 0:case 11:case 14:case 15:us(4,x,x.return);break;case 1:fn(x,x.return);var f=x.stateNode;if(typeof f.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(w){ye(n,r,w)}}break;case 5:fn(x,x.return);break;case 22:if(x.memoizedState!==null){gu(g);continue}}h!==null?(h.return=x,F=h):gu(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=g.stateNode,d=g.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=xc("display",a))}catch(w){ye(e,e.return,w)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=u?"":g.memoizedProps}catch(w){ye(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:wt(t,e),Mt(e),n&4&&hu(e);break;case 21:break;default:wt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Bf(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(vs(i,""),n.flags&=-33);var o=mu(e);tl(e,o,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=mu(e);el(e,l,a);break;default:throw Error(R(161))}}catch(d){ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function s0(e,t,r){F=e,Hf(e)}function Hf(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||di;if(!a){var l=i.alternate,d=l!==null&&l.memoizedState!==null||Ue;l=di;var u=Ue;if(di=a,(Ue=d)&&!u)for(F=i;F!==null;)a=F,d=a.child,a.tag===22&&a.memoizedState!==null?xu(i):d!==null?(d.return=a,F=d):xu(i);for(;o!==null;)F=o,Hf(o),o=o.sibling;F=i,di=l,Ue=u}pu(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):pu(e)}}function pu(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||bo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ue)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Zd(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zd(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&Ns(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ue||t.flags&512&&Za(t)}catch(x){ye(t,t.return,x)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function gu(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function xu(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{bo(4,t)}catch(d){ye(t,r,d)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(d){ye(t,i,d)}}var o=t.return;try{Za(t)}catch(d){ye(t,o,d)}break;case 5:var a=t.return;try{Za(t)}catch(d){ye(t,a,d)}}}catch(d){ye(t,t.return,d)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var i0=Math.ceil,Xi=Jt.ReactCurrentDispatcher,Gl=Jt.ReactCurrentOwner,gt=Jt.ReactCurrentBatchConfig,J=0,Re=null,je=null,Oe=0,tt=0,mn=Cr(0),Ee=0,$s=null,Wr=0,No=0,Xl=0,cs=null,Ge=null,Jl=0,_n=1/0,Ut=null,Ji=!1,rl=null,xr=null,ui=!1,cr=null,Zi=0,fs=0,nl=null,Si=-1,Pi=0;function Qe(){return J&6?be():Si!==-1?Si:Si=be()}function vr(e){return e.mode&1?J&2&&Oe!==0?Oe&-Oe:qp.transition!==null?(Pi===0&&(Pi=Mc()),Pi):(e=re,e!==0||(e=window.event,e=e===void 0?16:Ac(e.type)),e):1}function Ct(e,t,r,n){if(50<fs)throw fs=0,nl=null,Error(R(185));zs(e,r,n),(!(J&2)||e!==Re)&&(e===Re&&(!(J&2)&&(No|=r),Ee===4&&lr(e,Oe)),et(e,n),r===1&&J===0&&!(t.mode&1)&&(_n=be()+500,vo&&Tr()))}function et(e,t){var r=e.callbackNode;qh(e,t);var n=Li(e,e===Re?Oe:0);if(n===0)r!==null&&Pd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Pd(r),t===1)e.tag===0?Up(vu.bind(null,e)):rf(vu.bind(null,e)),Ap(function(){!(J&6)&&Tr()}),r=null;else{switch(_c(n)){case 1:r=kl;break;case 4:r=Tc;break;case 16:r=Oi;break;case 536870912:r=Ec;break;default:r=Oi}r=tm(r,Yf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Yf(e,t){if(Si=-1,Pi=0,J&6)throw Error(R(327));var r=e.callbackNode;if(bn()&&e.callbackNode!==r)return null;var n=Li(e,e===Re?Oe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=eo(e,n);else{t=n;var i=J;J|=2;var o=Gf();(Re!==e||Oe!==t)&&(Ut=null,_n=be()+500,Dr(e,t));do try{l0();break}catch(l){Kf(e,l)}while(!0);Al(),Xi.current=o,J=i,je!==null?t=0:(Re=null,Oe=0,t=Ee)}if(t!==0){if(t===2&&(i=Ma(e),i!==0&&(n=i,t=sl(e,i))),t===1)throw r=$s,Dr(e,0),lr(e,n),et(e,be()),r;if(t===6)lr(e,n);else{if(i=e.current.alternate,!(n&30)&&!o0(i)&&(t=eo(e,n),t===2&&(o=Ma(e),o!==0&&(n=o,t=sl(e,o))),t===1))throw r=$s,Dr(e,0),lr(e,n),et(e,be()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:$r(e,Ge,Ut);break;case 3:if(lr(e,n),(n&130023424)===n&&(t=Jl+500-be(),10<t)){if(Li(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Qe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Da($r.bind(null,e,Ge,Ut),t);break}$r(e,Ge,Ut);break;case 4:if(lr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Pt(n);o=1<<a,a=t[a],a>i&&(i=a),n&=~o}if(n=i,n=be()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*i0(n/1960))-n,10<n){e.timeoutHandle=Da($r.bind(null,e,Ge,Ut),n);break}$r(e,Ge,Ut);break;case 5:$r(e,Ge,Ut);break;default:throw Error(R(329))}}}return et(e,be()),e.callbackNode===r?Yf.bind(null,e):null}function sl(e,t){var r=cs;return e.current.memoizedState.isDehydrated&&(Dr(e,t).flags|=256),e=eo(e,t),e!==2&&(t=Ge,Ge=r,t!==null&&il(t)),e}function il(e){Ge===null?Ge=e:Ge.push.apply(Ge,e)}function o0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Tt(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Xl,t&=~No,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),n=1<<r;e[r]=-1,t&=~n}}function vu(e){if(J&6)throw Error(R(327));bn();var t=Li(e,0);if(!(t&1))return et(e,be()),null;var r=eo(e,t);if(e.tag!==0&&r===2){var n=Ma(e);n!==0&&(t=n,r=sl(e,n))}if(r===1)throw r=$s,Dr(e,0),lr(e,t),et(e,be()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,Ge,Ut),et(e,be()),null}function Zl(e,t){var r=J;J|=1;try{return e(t)}finally{J=r,J===0&&(_n=be()+500,vo&&Tr())}}function Qr(e){cr!==null&&cr.tag===0&&!(J&6)&&bn();var t=J;J|=1;var r=gt.transition,n=re;try{if(gt.transition=null,re=1,e)return e()}finally{re=n,gt.transition=r,J=t,!(J&6)&&Tr()}}function ed(){tt=mn.current,de(mn)}function Dr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Lp(r)),je!==null)for(r=je.return;r!==null;){var n=r;switch(Il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ui();break;case 3:En(),de(Je),de(qe),Vl();break;case 5:ql(n);break;case 4:En();break;case 13:de(pe);break;case 19:de(pe);break;case 10:Dl(n.type._context);break;case 22:case 23:ed()}r=r.return}if(Re=e,je=e=yr(e.current,null),Oe=tt=t,Ee=0,$s=null,Xl=No=Wr=0,Ge=cs=null,Lr!==null){for(t=0;t<Lr.length;t++)if(r=Lr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=i,n.next=a}r.pending=n}Lr=null}return e}function Kf(e,t){do{var r=je;try{if(Al(),Ni.current=Gi,Ki){for(var n=ge.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ki=!1}if(Br=0,_e=Ce=ge=null,ds=!1,Ms=0,Gl.current=null,r===null||r.return===null){Ee=1,$s=t,je=null;break}e:{var o=e,a=r.return,l=r,d=t;if(t=Oe,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,m=l,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=iu(a);if(h!==null){h.flags&=-257,ou(h,a,l,o,t),h.mode&1&&su(o,u,t),t=h,d=u;var f=t.updateQueue;if(f===null){var w=new Set;w.add(d),t.updateQueue=w}else f.add(d);break e}else{if(!(t&1)){su(o,u,t),td();break e}d=Error(R(426))}}else if(fe&&l.mode&1){var v=iu(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ou(v,a,l,o,t),Ol(Mn(d,l));break e}}o=d=Mn(d,l),Ee!==4&&(Ee=2),cs===null?cs=[o]:cs.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Rf(o,d,t);Jd(o,p);break e;case 1:l=d;var c=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=$f(o,l,t);Jd(o,b);break e}}o=o.return}while(o!==null)}Jf(r)}catch(T){t=T,je===r&&r!==null&&(je=r=r.return);continue}break}while(!0)}function Gf(){var e=Xi.current;return Xi.current=Gi,e===null?Gi:e}function td(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Re===null||!(Wr&268435455)&&!(No&268435455)||lr(Re,Oe)}function eo(e,t){var r=J;J|=2;var n=Gf();(Re!==e||Oe!==t)&&(Ut=null,Dr(e,t));do try{a0();break}catch(i){Kf(e,i)}while(!0);if(Al(),J=r,Xi.current=n,je!==null)throw Error(R(261));return Re=null,Oe=0,Ee}function a0(){for(;je!==null;)Xf(je)}function l0(){for(;je!==null&&!$h();)Xf(je)}function Xf(e){var t=em(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?Jf(e):je=t,Gl.current=null}function Jf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=t0(r,t),r!==null){r.flags&=32767,je=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,je=null;return}}else if(r=e0(r,t,tt),r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ee===0&&(Ee=5)}function $r(e,t,r){var n=re,i=gt.transition;try{gt.transition=null,re=1,d0(e,t,r,n)}finally{gt.transition=i,re=n}return null}function d0(e,t,r,n){do bn();while(cr!==null);if(J&6)throw Error(R(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Vh(e,o),e===Re&&(je=Re=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ui||(ui=!0,tm(Oi,function(){return bn(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=gt.transition,gt.transition=null;var a=re;re=1;var l=J;J|=4,Gl.current=null,n0(e,r),Qf(r,e),Ep(La),Ai=!!Oa,La=Oa=null,e.current=r,s0(r),Ih(),J=l,re=a,gt.transition=o}else e.current=r;if(ui&&(ui=!1,cr=e,Zi=i),o=e.pendingLanes,o===0&&(xr=null),Ah(r.stateNode),et(e,be()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ji)throw Ji=!1,e=rl,rl=null,e;return Zi&1&&e.tag!==0&&bn(),o=e.pendingLanes,o&1?e===nl?fs++:(fs=0,nl=e):fs=0,Tr(),null}function bn(){if(cr!==null){var e=_c(Zi),t=gt.transition,r=re;try{if(gt.transition=null,re=16>e?16:e,cr===null)var n=!1;else{if(e=cr,cr=null,Zi=0,J&6)throw Error(R(331));var i=J;for(J|=4,F=e.current;F!==null;){var o=F,a=o.child;if(F.flags&16){var l=o.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(F=u;F!==null;){var m=F;switch(m.tag){case 0:case 11:case 15:us(8,m,o)}var g=m.child;if(g!==null)g.return=m,F=g;else for(;F!==null;){m=F;var x=m.sibling,h=m.return;if(Vf(m),m===u){F=null;break}if(x!==null){x.return=h,F=x;break}F=h}}}var f=o.alternate;if(f!==null){var w=f.child;if(w!==null){f.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}F=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,F=a;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:us(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,F=p;break e}F=o.return}}var c=e.current;for(F=c;F!==null;){a=F;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,F=y;else e:for(a=c;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:bo(9,l)}}catch(T){ye(l,l.return,T)}if(l===a){F=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,F=b;break e}F=l.return}}if(J=i,Tr(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(mo,e)}catch{}n=!0}return n}finally{re=r,gt.transition=t}}return!1}function yu(e,t,r){t=Mn(r,t),t=Rf(e,t,1),e=gr(e,t,1),t=Qe(),e!==null&&(zs(e,1,t),et(e,t))}function ye(e,t,r){if(e.tag===3)yu(e,e,r);else for(;t!==null;){if(t.tag===3){yu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xr===null||!xr.has(n))){e=Mn(r,e),e=$f(t,e,1),t=gr(t,e,1),e=Qe(),t!==null&&(zs(t,1,e),et(t,e));break}}t=t.return}}function u0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qe(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Oe&r)===r&&(Ee===4||Ee===3&&(Oe&130023424)===Oe&&500>be()-Jl?Dr(e,0):Xl|=r),et(e,t)}function Zf(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var r=Qe();e=Kt(e,t),e!==null&&(zs(e,t,r),et(e,r))}function c0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Zf(e,r)}function f0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Zf(e,r)}var em;em=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)Xe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Xe=!1,Zp(e,t,r);Xe=!!(e.flags&131072)}else Xe=!1,fe&&t.flags&1048576&&nf(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ki(e,t),e=t.pendingProps;var i=Pn(t,qe.current);wn(t,r),i=Wl(null,t,n,e,i,r);var o=Ql();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(n)?(o=!0,qi(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zl(t),i.updater=wo,t.stateNode=i,i._reactInternals=t,Wa(t,n,e,r),t=Ya(null,t,n,!0,o,r)):(t.tag=0,fe&&o&&$l(t),We(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ki(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=h0(n),e=bt(n,e),i){case 0:t=Ha(null,t,n,e,r);break e;case 1:t=du(null,t,n,e,r);break e;case 11:t=au(null,t,n,e,r);break e;case 14:t=lu(null,t,n,bt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bt(n,i),Ha(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bt(n,i),du(e,t,n,i,r);case 3:e:{if(Af(t),e===null)throw Error(R(387));n=t.pendingProps,o=t.memoizedState,i=o.element,uf(e,t),Hi(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Mn(Error(R(423)),t),t=uu(e,t,n,r,i);break e}else if(n!==i){i=Mn(Error(R(424)),t),t=uu(e,t,n,r,i);break e}else for(nt=pr(t.stateNode.containerInfo.firstChild),it=t,fe=!0,jt=null,r=lf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cn(),n===i){t=Gt(e,t,r);break e}We(e,t,n,r)}t=t.child}return t;case 5:return cf(t),e===null&&qa(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Aa(n,i)?a=null:o!==null&&Aa(n,o)&&(t.flags|=32),Lf(e,t),We(e,t,a,r),t.child;case 6:return e===null&&qa(t),null;case 13:return Df(e,t,r);case 4:return Ul(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tn(t,null,n,r):We(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bt(n,i),au(e,t,n,i,r);case 7:return We(e,t,t.pendingProps,r),t.child;case 8:return We(e,t,t.pendingProps.children,r),t.child;case 12:return We(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ie(Wi,n._currentValue),n._currentValue=a,o!==null)if(Tt(o.value,a)){if(o.children===i.children&&!Je.current){t=Gt(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var d=l.firstContext;d!==null;){if(d.context===n){if(o.tag===1){d=Qt(-1,r&-r),d.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?d.next=d:(d.next=m.next,m.next=d),u.pending=d}}o.lanes|=r,d=o.alternate,d!==null&&(d.lanes|=r),Va(o.return,r,t),l.lanes|=r;break}d=d.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(R(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Va(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}We(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wn(t,r),i=xt(i),n=n(i),t.flags|=1,We(e,t,n,r),t.child;case 14:return n=t.type,i=bt(n,t.pendingProps),i=bt(n.type,i),lu(e,t,n,i,r);case 15:return If(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:bt(n,i),ki(e,t),t.tag=1,Ze(n)?(e=!0,qi(t)):e=!1,wn(t,r),_f(t,n,i),Wa(t,n,i,r),Ya(null,t,n,!0,e,r);case 19:return Ff(e,t,r);case 22:return Of(e,t,r)}throw Error(R(156,t.tag))};function tm(e,t){return Cc(e,t)}function m0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,r,n){return new m0(e,t,r,n)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function h0(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bl)return 11;if(e===Nl)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ci(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")rd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rn:return Fr(r.children,i,o,t);case wl:a=8,i|=8;break;case pa:return e=ht(12,r,t,i|2),e.elementType=pa,e.lanes=o,e;case ga:return e=ht(13,r,t,i),e.elementType=ga,e.lanes=o,e;case xa:return e=ht(19,r,t,i),e.elementType=xa,e.lanes=o,e;case uc:return jo(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lc:a=10;break e;case dc:a=9;break e;case bl:a=11;break e;case Nl:a=14;break e;case ir:a=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=ht(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Fr(e,t,r,n){return e=ht(7,e,n,t),e.lanes=r,e}function jo(e,t,r,n){return e=ht(22,e,n,t),e.elementType=uc,e.lanes=r,e.stateNode={isHidden:!1},e}function ra(e,t,r){return e=ht(6,e,null,t),e.lanes=r,e}function na(e,t,r){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function p0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nd(e,t,r,n,i,o,a,l,d){return e=new p0(e,t,r,l,d),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ht(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(o),e}function g0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function rm(e){if(!e)return jr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(Ze(r))return tf(e,r,t)}return t}function nm(e,t,r,n,i,o,a,l,d){return e=nd(r,n,!0,e,i,o,a,l,d),e.context=rm(null),r=e.current,n=Qe(),i=vr(r),o=Qt(n,i),o.callback=t??null,gr(r,o,i),e.current.lanes=i,zs(e,i,n),et(e,n),e}function ko(e,t,r,n){var i=t.current,o=Qe(),a=vr(i);return r=rm(r),t.context===null?t.context=r:t.pendingContext=r,t=Qt(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gr(i,t,a),e!==null&&(Ct(e,i,a,o),bi(e,i,a)),a}function to(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sd(e,t){wu(e,t),(e=e.alternate)&&wu(e,t)}function x0(){return null}var sm=typeof reportError=="function"?reportError:function(e){console.error(e)};function id(e){this._internalRoot=e}So.prototype.render=id.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));ko(e,t,null,null)};So.prototype.unmount=id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qr(function(){ko(null,e,null,null)}),t[Yt]=null}};function So(e){this._internalRoot=e}So.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ic();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ar.length&&t!==0&&t<ar[r].priority;r++);ar.splice(r,0,e),r===0&&Lc(e)}};function od(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bu(){}function v0(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=to(a);o.call(u)}}var a=nm(t,n,e,0,null,!1,!1,"",bu);return e._reactRootContainer=a,e[Yt]=a.current,Ss(e.nodeType===8?e.parentNode:e),Qr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=to(d);l.call(u)}}var d=nd(e,0,!1,null,null,!1,!1,"",bu);return e._reactRootContainer=d,e[Yt]=d.current,Ss(e.nodeType===8?e.parentNode:e),Qr(function(){ko(t,d,r,n)}),d}function Co(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var d=to(a);l.call(d)}}ko(t,a,e,i)}else a=v0(r,t,e,i,n);return to(a)}Rc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ts(t.pendingLanes);r!==0&&(Sl(t,r|1),et(t,be()),!(J&6)&&(_n=be()+500,Tr()))}break;case 13:Qr(function(){var n=Kt(e,1);if(n!==null){var i=Qe();Ct(n,e,1,i)}}),sd(e,1)}};Pl=function(e){if(e.tag===13){var t=Kt(e,134217728);if(t!==null){var r=Qe();Ct(t,e,134217728,r)}sd(e,134217728)}};$c=function(e){if(e.tag===13){var t=vr(e),r=Kt(e,t);if(r!==null){var n=Qe();Ct(r,e,t,n)}sd(e,t)}};Ic=function(){return re};Oc=function(e,t){var r=re;try{return re=e,t()}finally{re=r}};Ca=function(e,t,r){switch(t){case"input":if(wa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=xo(n);if(!i)throw Error(R(90));fc(n),wa(n,i)}}}break;case"textarea":hc(e,r);break;case"select":t=r.value,t!=null&&gn(e,!!r.multiple,t,!1)}};bc=Zl;Nc=Qr;var y0={usingClientEntryPoint:!1,Events:[qs,an,xo,yc,wc,Zl]},Kn={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w0={bundleType:Kn.bundleType,version:Kn.version,rendererPackageName:Kn.rendererPackageName,rendererConfig:Kn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sc(e),e===null?null:e.stateNode},findFiberByHostInstance:Kn.findFiberByHostInstance||x0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ci.isDisabled&&ci.supportsFiber)try{mo=ci.inject(w0),Lt=ci}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y0;at.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!od(t))throw Error(R(200));return g0(e,t,null,r)};at.createRoot=function(e,t){if(!od(e))throw Error(R(299));var r=!1,n="",i=sm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nd(e,1,!1,null,null,r,!1,n,i),e[Yt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new id(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Sc(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Qr(e)};at.hydrate=function(e,t,r){if(!Po(t))throw Error(R(200));return Co(null,e,t,!0,r)};at.hydrateRoot=function(e,t,r){if(!od(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",a=sm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=nm(t,null,e,1,r??null,i,!1,o,a),e[Yt]=t.current,Ss(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new So(t)};at.render=function(e,t,r){if(!Po(t))throw Error(R(200));return Co(null,e,t,!1,r)};at.unmountComponentAtNode=function(e){if(!Po(e))throw Error(R(40));return e._reactRootContainer?(Qr(function(){Co(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};at.unstable_batchedUpdates=Zl;at.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Po(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Co(e,t,r,!1,n)};at.version="18.3.1-next-f1338f8080-20240426";function im(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(im)}catch(e){console.error(e)}}im(),sc.exports=at;var b0=sc.exports,Nu=b0;ma.createRoot=Nu.createRoot,ma.hydrateRoot=Nu.hydrateRoot;var It=[],ut=[],N0=Uint8Array,sa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Zr=0,j0=sa.length;Zr<j0;++Zr)It[Zr]=sa[Zr],ut[sa.charCodeAt(Zr)]=Zr;ut[45]=62;ut[95]=63;function k0(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function S0(e,t,r){return(t+r)*3/4-r}function Is(e){var t,r=k0(e),n=r[0],i=r[1],o=new N0(S0(e,n,i)),a=0,l=i>0?n-4:n,d;for(d=0;d<l;d+=4)t=ut[e.charCodeAt(d)]<<18|ut[e.charCodeAt(d+1)]<<12|ut[e.charCodeAt(d+2)]<<6|ut[e.charCodeAt(d+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=ut[e.charCodeAt(d)]<<2|ut[e.charCodeAt(d+1)]>>4,o[a++]=t&255),i===1&&(t=ut[e.charCodeAt(d)]<<10|ut[e.charCodeAt(d+1)]<<4|ut[e.charCodeAt(d+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function P0(e){return It[e>>18&63]+It[e>>12&63]+It[e>>6&63]+It[e&63]}function C0(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(P0(n));return i.join("")}function Os(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,l=r-n;a<l;a+=o)i.push(C0(e,a,a+o>l?l:a+o));return n===1?(t=e[r-1],i.push(It[t>>2]+It[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(It[t>>10]+It[t>>4&63]+It[t<<2&63]+"=")),i.join("")}function Vt(e){if(e===void 0)return{};if(!om(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function T0(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function om(e){var i;const t=typeof e=="object",r=Object.getPrototypeOf(e),n=r===null||r===Object.prototype||((i=r==null?void 0:r.constructor)==null?void 0:i.name)==="Object";return t&&n}const am=!0,Rn=BigInt("-9223372036854775808"),ad=BigInt("9223372036854775807"),ol=BigInt("0"),E0=BigInt("8"),M0=BigInt("256");function lm(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function _0(e){e<ol&&(e-=Rn+Rn);let t=e.toString(16);t.length%2===1&&(t="0"+t);const r=new Uint8Array(new ArrayBuffer(8));let n=0;for(const i of t.match(/.{2}/g).reverse())r.set([parseInt(i,16)],n++),e>>=E0;return Os(r)}function R0(e){const t=Is(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=ol,n=ol;for(const i of t)r+=BigInt(i)*M0**n,n++;return r>ad&&(r+=Rn+Rn),r}function $0(e){if(e<Rn||ad<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Os(new Uint8Array(t))}function I0(e){const t=Is(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const O0=DataView.prototype.setBigInt64?$0:_0,L0=DataView.prototype.getBigInt64?I0:R0,ju=1024;function dm(e){if(e.length>ju)throw new Error(`Field name ${e} exceeds maximum field name length ${ju}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const r=e.charCodeAt(t);if(r<32||r>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function $n(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(n=>$n(n));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const n=t[0][0];if(n==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Is(e.$bytes).buffer}if(n==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return L0(e.$integer)}if(n==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Is(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,am);if(!lm(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(n==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(n==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const r={};for(const[n,i]of Object.entries(e))dm(n),r[n]=$n(i);return r}const ku=16384;function ms(e){const t=JSON.stringify(e,(r,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n);if(t.length>ku){const r="[...truncated]";let n=ku-r.length;const i=t.codePointAt(n-1);return i!==void 0&&i>65535&&(n-=1),t.substring(0,n)+r}return t}function al(e,t,r,n){var a;if(e===void 0){const l=r&&` (present at path ${r} in original object ${ms(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<Rn||ad<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:O0(e)}}if(typeof e=="number")if(lm(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,am),{$float:Os(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Os(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,d)=>al(l,t,r+`[${d}]`));if(e instanceof Set)throw new Error(ia(r,"Set",[...e],t));if(e instanceof Map)throw new Error(ia(r,"Map",[...e],t));if(!om(e)){const l=(a=e==null?void 0:e.constructor)==null?void 0:a.name,d=l?`${l} `:"";throw new Error(ia(r,d,e,t))}const i={},o=Object.entries(e);o.sort(([l,d],[u,m])=>l===u?0:l<u?-1:1);for(const[l,d]of o)d!==void 0&&(dm(l),i[l]=al(d,t,r+`.${l}`));return i}function ia(e,t,r,n){return e?`${t}${ms(r)} is not a supported Convex type (present at path ${e} in original object ${ms(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ms(r)} is not a supported Convex type.`}function kr(e){return al(e,e,"")}var A0=Object.defineProperty,D0=(e,t,r)=>t in e?A0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oa=(e,t,r)=>D0(e,typeof t!="symbol"?t+"":t,r),Su,Pu;const F0=Symbol.for("ConvexError");class ll extends(Pu=Error,Su=F0,Pu){constructor(t){super(typeof t=="string"?t:ms(t)),oa(this,"name","ConvexError"),oa(this,"data"),oa(this,Su,!0),this.data=t}}const um=()=>Array.from({length:4},()=>0);um();um();const Cu="1.28.2";var z0=Object.defineProperty,U0=(e,t,r)=>t in e?z0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Tu=(e,t,r)=>U0(e,typeof t!="symbol"?t+"":t,r);const q0="color:rgb(0, 145, 255)";function cm(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class fm{constructor(t){Tu(this,"_onLogLineFuncs"),Tu(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let r=Math.random().toString(36).substring(2,15);for(let n=0;n<10&&this._onLogLineFuncs[r]!==void 0;n++)r=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[r]=t,()=>{delete this._onLogLineFuncs[r]}}logVerbose(...t){if(this._verbose)for(const r of Object.values(this._onLogLineFuncs))r("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const r of Object.values(this._onLogLineFuncs))r("info",...t)}warn(...t){for(const r of Object.values(this._onLogLineFuncs))r("warn",...t)}error(...t){for(const r of Object.values(this._onLogLineFuncs))r("error",...t)}}function mm(e){const t=new fm(e);return t.addLogLineListener((r,...n)=>{switch(r){case"debug":console.debug(...n);break;case"info":console.log(...n);break;case"warn":console.warn(...n);break;case"error":console.error(...n);break;default:console.log(...n)}}),t}function hm(e){return new fm(e)}function ro(e,t,r,n,i){const o=cm(r);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const a=i.match(/^\[.*?\] /);if(a===null){e.error(`[CONVEX ${o}(${n})] Could not parse console.log`);return}const l=i.slice(1,a[0].length-2),d=i.slice(a[0].length);e.log(`%c[CONVEX ${o}(${n})] [${l}]`,q0,d)}else e.error(`[CONVEX ${o}(${n})] ${i}`)}function V0(e,t){const r=`[CONVEX FATAL ERROR] ${t}`;return e.error(r),new Error(r)}function hn(e,t,r){return`[CONVEX ${cm(e)}(${t})] ${r.errorMessage}
  Called by client`}function dl(e,t){return t.data=e.errorData,t}function no(e){const t=e.split(":");let r,n;return t.length===1?(r=t[0],n="default"):(r=t.slice(0,t.length-1).join(":"),n=t[t.length-1]),r.endsWith(".js")&&(r=r.slice(0,-3)),`${r}:${n}`}function zr(e,t){return JSON.stringify({udfPath:no(e),args:kr(t)})}var B0=Object.defineProperty,W0=(e,t,r)=>t in e?B0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_t=(e,t,r)=>W0(e,typeof t!="symbol"?t+"":t,r);class Q0{constructor(){_t(this,"nextQueryId"),_t(this,"querySetVersion"),_t(this,"querySet"),_t(this,"queryIdToToken"),_t(this,"identityVersion"),_t(this,"auth"),_t(this,"outstandingQueriesOlderThanRestart"),_t(this,"outstandingAuthOlderThanRestart"),_t(this,"paused"),_t(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,r,n,i){const o=no(t),a=zr(o,r),l=this.querySet.get(a);if(l!==void 0)return l.numSubscribers+=1,{queryToken:a,modification:null,unsubscribe:()=>this.removeSubscriber(a)};{const d=this.nextQueryId++,u={id:d,canonicalizedUdfPath:o,args:r,numSubscribers:1,journal:n,componentPath:i};this.querySet.set(a,u),this.queryIdToToken.set(d,a);const m=this.querySetVersion,g=this.querySetVersion+1,x={type:"Add",queryId:d,udfPath:o,args:[kr(r)],journal:n,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(d,x):this.querySetVersion=g,{queryToken:a,modification:{type:"ModifyQuerySet",baseVersion:m,newVersion:g,modifications:[x]},unsubscribe:()=>this.removeSubscriber(a)}}}transition(t){for(const r of t.modifications)switch(r.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);const n=r.journal;if(n!==void 0){const i=this.queryIdToToken.get(r.queryId);i!==void 0&&(this.querySet.get(i).journal=n)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}}queryId(t,r){const n=no(t),i=zr(n,r),o=this.querySet.get(i);return o!==void 0?o.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const r=this.identityVersion;return this.paused||(this.identityVersion=r+1),{type:"Authenticate",baseVersion:r,...this.auth}}setAdminAuth(t,r){const n={tokenType:"Admin",value:t,impersonating:r};this.auth=n;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...n}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var r;return((r=this.auth)==null?void 0:r.value)!==t}queryPath(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).canonicalizedUdfPath:null}queryArgs(t){const r=this.queryIdToToken.get(t);return r?this.querySet.get(r).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var r;return(r=this.querySet.get(t))==null?void 0:r.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const r=[];for(const o of this.querySet.values()){const a={type:"Add",queryId:o.id,udfPath:o.canonicalizedUdfPath,args:[kr(o.args)],journal:o.journal,componentPath:o.componentPath};r.push(a),t.has(o.id)||this.outstandingQueriesOlderThanRestart.add(o.id)}this.querySetVersion=1;const n={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:r};if(!this.auth)return this.identityVersion=0,[n,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[n,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,r=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,r]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const r=this.querySet.get(t);if(r.numSubscribers>1)return r.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(r.id),this.outstandingQueriesOlderThanRestart.delete(r.id);const n=this.querySetVersion,i=this.querySetVersion+1,o={type:"Remove",queryId:r.id};return this.paused?this.pendingQuerySetModifications.has(r.id)?this.pendingQuerySetModifications.delete(r.id):this.pendingQuerySetModifications.set(r.id,o):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:n,newVersion:i,modifications:[o]}}}}var H0=Object.defineProperty,Y0=(e,t,r)=>t in e?H0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fi=(e,t,r)=>Y0(e,typeof t!="symbol"?t+"":t,r);class K0{constructor(t,r){this.logger=t,this.markConnectionStateDirty=r,fi(this,"inflightRequests"),fi(this,"requestsOlderThanRestart"),fi(this,"inflightMutationsCount",0),fi(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,r){const n=new Promise(i=>{const o=r?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:o,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),n}onResponse(t){const r=this.inflightRequests.get(t.requestId);if(r===void 0||r.status.status==="Completed")return null;const n=r.message.type==="Mutation"?"mutation":"action",i=r.message.udfPath;for(const d of t.logLines)ro(this.logger,"info",n,i,d);const o=r.status;let a,l;if(t.success)a={success:!0,logLines:t.logLines,value:$n(t.result)},l=()=>o.onResult(a);else{const d=t.result,{errorData:u}=t;ro(this.logger,"error",n,i,d),a={success:!1,errorMessage:d,errorData:u!==void 0?$n(u):void 0,logLines:t.logLines},l=()=>o.onResult(a)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),r.message.type==="Action"?this.inflightActionsCount--:r.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:a}):(r.status={status:"Completed",result:a,ts:t.ts,onResolve:l},null)}removeCompleted(t){const r=new Map;for(const[n,i]of this.inflightRequests.entries()){const o=i.status;o.status==="Completed"&&o.ts.lessThanOrEqual(t)&&(o.onResolve(),r.set(n,o.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n))}return r.size>0&&this.markConnectionStateDirty(),r}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[r,n]of this.inflightRequests){if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}if(n.message.type==="Mutation")t.push(n.message);else if(n.message.type==="Action"){if(this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r),this.inflightActionsCount--,n.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");n.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,r]of this.inflightRequests)if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const r of this.inflightRequests.values())r.status.status!=="Completed"&&r.status.requestedAt.getTime()<t&&(t=r.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Ls=Symbol.for("functionName"),pm=Symbol.for("toReferencePath");function G0(e){return e[pm]??null}function X0(e){return e.startsWith("function://")}function J0(e){let t;if(typeof e=="string")X0(e)?t={functionHandle:e}:t={name:e};else if(e[Ls])t={name:e[Ls]};else{const r=G0(e);if(!r)throw new Error(`${e} is not a functionReference`);t={reference:r}}return t}function st(e){const t=J0(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const r=e[Ls];if(!r)throw new Error(`${e} is not a functionReference`);return r}function gm(e){return{[Ls]:e}}function xm(e=[]){const t={get(r,n){if(typeof n=="string"){const i=[...e,n];return xm(i)}else if(n===Ls){if(e.length<2){const a=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${a}\``)}const i=e.slice(0,-1).join("/"),o=e[e.length-1];return o==="default"?i:i+":"+o}else return n===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const Z0=xm();var eg=Object.defineProperty,tg=(e,t,r)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,so=(e,t,r)=>tg(e,typeof t!="symbol"?t+"":t,r);class As{constructor(t){so(this,"queryResults"),so(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...r){const n=Vt(r[0]),i=st(t),o=this.queryResults.get(zr(i,n));if(o!==void 0)return As.queryValue(o.result)}getAllQueries(t){const r=[],n=st(t);for(const i of this.queryResults.values())i.udfPath===no(n)&&r.push({args:i.args,value:As.queryValue(i.result)});return r}setQuery(t,r,n){const i=Vt(r),o=st(t),a=zr(o,i);let l;n===void 0?l=void 0:l={success:!0,value:n,logLines:[]};const d={udfPath:o,args:i,result:l};this.queryResults.set(a,d),this.modifiedQueries.push(a)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class rg{constructor(){so(this,"queryResults"),so(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,r){this.optimisticUpdates=this.optimisticUpdates.filter(a=>!r.has(a.mutationId));const n=this.queryResults;this.queryResults=new Map(t);const i=new As(this.queryResults);for(const a of this.optimisticUpdates)a.update(i);const o=[];for(const[a,l]of this.queryResults){const d=n.get(a);(d===void 0||d.result!==l.result)&&o.push(a)}return o}applyOptimisticUpdate(t,r){this.optimisticUpdates.push({update:t,mutationId:r});const n=new As(this.queryResults);return t(n),n.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const r=this.queryResults.get(t);if(r===void 0)return;const n=r.result;if(n!==void 0){if(n.success)return n.value;throw n.errorData!==void 0?dl(n,new ll(hn("query",r.udfPath,n))):new Error(hn("query",r.udfPath,n))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var n;const r=this.queryResults.get(t);return(n=r==null?void 0:r.result)==null?void 0:n.logLines}}var ng=Object.defineProperty,sg=(e,t,r)=>t in e?ng(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aa=(e,t,r)=>sg(e,typeof t!="symbol"?t+"":t,r);class rt{constructor(t,r){aa(this,"low"),aa(this,"high"),aa(this,"__isUnsignedLong__"),this.low=t|0,this.high=r|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new rt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?Eu:t>=ig?og:new rt(t%hs|0,t/hs|0)}toString(){return(BigInt(this.high)*BigInt(hs)+BigInt(this.low)).toString()}equals(t){return rt.isLong(t)||(t=rt.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return rt.isLong(t)||(t=rt.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?rt.fromNumber(t):new rt(t.low,t.high)}}const Eu=new rt(0,0),Mu=65536,hs=Mu*Mu,ig=hs*hs,og=new rt(-1,-1);var ag=Object.defineProperty,lg=(e,t,r)=>t in e?ag(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mi=(e,t,r)=>lg(e,typeof t!="symbol"?t+"":t,r);class _u{constructor(t,r){mi(this,"version"),mi(this,"remoteQuerySet"),mi(this,"queryPath"),mi(this,"logger"),this.version={querySet:0,ts:rt.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=r}transition(t){const r=t.startVersion;if(this.version.querySet!==r.querySet||this.version.ts.notEquals(r.ts)||this.version.identity!==r.identity)throw new Error(`Invalid start version: ${r.ts.toString()}:${r.querySet}:${r.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const n of t.modifications)switch(n.type){case"QueryUpdated":{const i=this.queryPath(n.queryId);if(i)for(const a of n.logLines)ro(this.logger,"info","query",i,a);const o=$n(n.value??null);this.remoteQuerySet.set(n.queryId,{success:!0,value:o,logLines:n.logLines});break}case"QueryFailed":{const i=this.queryPath(n.queryId);if(i)for(const a of n.logLines)ro(this.logger,"info","query",i,a);const{errorData:o}=n;this.remoteQuerySet.set(n.queryId,{success:!1,errorMessage:n.errorMessage,errorData:o!==void 0?$n(o):void 0,logLines:n.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function la(e){const t=Is(e);return rt.fromBytesLE(Array.from(t))}function dg(e){const t=new Uint8Array(e.toBytesLE());return Os(t)}function Ru(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:la(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:la(e.startVersion.ts)},endVersion:{...e.endVersion,ts:la(e.endVersion.ts)}}}}function ug(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:dg(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var cg=Object.defineProperty,fg=(e,t,r)=>t in e?cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$e=(e,t,r)=>fg(e,typeof t!="symbol"?t+"":t,r);const mg=1e3,hg=1001,pg=1005,gg=4040;let Ti;function Ei(){return Ti===void 0&&(Ti=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ti+performance.now())}function $u(){return`t=${Math.round((Ei()-Ti)/100)/10}s`}const vm={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function xg(e){if(e===void 0)return"Unknown";for(const t of Object.keys(vm))if(e.startsWith(t))return t;return"Unknown"}class vg{constructor(t,r,n,i,o,a){this.markConnectionStateDirty=o,this.debug=a,$e(this,"socket"),$e(this,"connectionCount"),$e(this,"_hasEverConnected",!1),$e(this,"lastCloseReason"),$e(this,"transitionChunkBuffer",null),$e(this,"defaultInitialBackoff"),$e(this,"maxBackoff"),$e(this,"retries"),$e(this,"serverInactivityThreshold"),$e(this,"reconnectDueToServerInactivityTimeout"),$e(this,"uri"),$e(this,"onOpen"),$e(this,"onResume"),$e(this,"onMessage"),$e(this,"webSocketConstructor"),$e(this,"logger"),$e(this,"onServerDisconnectError"),this.webSocketConstructor=n,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=r.onOpen,this.onResume=r.onResume,this.onMessage=r.onMessage,this.onServerDisconnectError=r.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const r=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${r}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const r=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const n=Ru(JSON.parse(r));if(n.type!=="Transition")throw new Error(`Expected Transition, got ${n.type} after assembling chunks`);return n}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ei()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",$u(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",$u())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=r=>{this.transitionChunkBuffer=null;const n=r.message;n&&this.logger.log(`WebSocket error message: ${n}`)},t.onmessage=r=>{this.resetServerInactivityTimeout();const n=r.data.length;let i=Ru(JSON.parse(r.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const a=this.assembleTransition(i);if(!a)return;i=a,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:n,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=r=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=r.reason||`closed with code ${r.code}`),r.code!==mg&&r.code!==hg&&r.code!==pg&&r.code!==gg){let i=`WebSocket closed with code ${r.code}`;r.reason&&(i+=`: ${r.reason}`),this.logger.log(i),this.onServerDisconnectError&&r.reason&&this.onServerDisconnectError(i)}const n=xg(r.reason);this.scheduleReconnect(n)}}socketState(){return this.socket.state}sendMessage(t){const r={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const n=ug(t),i=JSON.stringify(n);let o=!1;try{this.socket.ws.send(i),o=!0}catch(a){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${a}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${o?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(r)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(r)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const r=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(r)}ms`),setTimeout(()=>this.connect(),r)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=r=>{this._logVerbose("Ignoring message received after close")},new Promise(r=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),r()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=n=>{this._logVerbose("Ignoring message received after close")};const r=new Promise(n=>{t.onclose=()=>{n()}});return t.close(),r}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Ei()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const n=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:vm[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(n,this.maxBackoff),o=i*(Math.random()-.5);return i+o}reportLargeTransition({transition:t,messageLength:r}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const n=Ei()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(n)}ms`,o=`${Math.round(r/1e4)/100}MB`,a=r/(n/1e3),l=`${Math.round(a/1e4)/100}MB per second`;this._logVerbose(`received ${o} transition in ${i} at ${l}`),r>2e7?this.logger.log(`received query results totaling more that 20MB (${o}) which will take a long time to download on slower connections`):n>2e4&&this.logger.log(`received query results totaling ${o} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:n,messageLength:r}})}}function yg(){return wg()}function wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class ns extends Error{}ns.prototype.name="InvalidTokenError";function bg(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function Ng(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return bg(t)}catch{return atob(t)}}function ym(e,t){if(typeof e!="string")throw new ns("Invalid token specified: must be a string");t||(t={});const r=t.header===!0?0:1,n=e.split(".")[r];if(typeof n!="string")throw new ns(`Invalid token specified: missing part #${r+1}`);let i;try{i=Ng(n)}catch(o){throw new ns(`Invalid token specified: invalid base64 for part #${r+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new ns(`Invalid token specified: invalid json for part #${r+1} (${o.message})`)}}var jg=Object.defineProperty,kg=(e,t,r)=>t in e?jg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dt=(e,t,r)=>kg(e,typeof t!="symbol"?t+"":t,r);const Sg=20*24*60*60*1e3,Iu=2;class Pg{constructor(t,r,n){dt(this,"authState",{state:"noAuth"}),dt(this,"configVersion",0),dt(this,"syncState"),dt(this,"authenticate"),dt(this,"stopSocket"),dt(this,"tryRestartSocket"),dt(this,"pauseSocket"),dt(this,"resumeSocket"),dt(this,"clearAuth"),dt(this,"logger"),dt(this,"refreshTokenLeewaySeconds"),dt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=r.authenticate,this.stopSocket=r.stopSocket,this.tryRestartSocket=r.tryRestartSocket,this.pauseSocket=r.pauseSocket,this.resumeSocket=r.resumeSocket,this.clearAuth=r.clearAuth,this.logger=n.logger,this.refreshTokenLeewaySeconds=n.refreshTokenLeewaySeconds}async setConfig(t,r){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const n=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});n.isFromOutdatedConfig||(n.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:r},hasRetried:!1}),this.authenticate(n.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:r}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:r}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(r+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Iu){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Iu-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const r=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});r.isFromOutdatedConfig||(r.value&&this.syncState.isNewAuth(r.value)?(this.authenticate(r.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:r.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const r=this.decodeToken(t);if(!r){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:n,exp:i}=r;if(!n||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const o=i-n;if(o<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let a=Math.min(Sg,(o-this.refreshTokenLeewaySeconds)*1e3);a<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${o}s`),a=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},a);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${a}ms`)}async fetchTokenAndGuardAgainstRace(t,r){const n=++this.configVersion;this._logVerbose(`fetching token with config version ${n}`);const i=await t(r);return this.configVersion!==n?(this._logVerbose(`stale config version, expected ${n}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const r=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(r)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return ym(t)}catch(r){return this._logVerbose(`Error decoding token: ${r instanceof Error?r.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const Cg=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function Tg(e,t){const r={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:r})}function Eg(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function Mg(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const r of Cg){const n=performance.getEntriesByName(r).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...n)}return t.map(Eg)}var _g=Object.defineProperty,Rg=(e,t,r)=>t in e?_g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ne=(e,t,r)=>Rg(e,typeof t!="symbol"?t+"":t,r);class $g{constructor(t,r,n){if(Ne(this,"address"),Ne(this,"state"),Ne(this,"requestManager"),Ne(this,"webSocketManager"),Ne(this,"authenticationManager"),Ne(this,"remoteQuerySet"),Ne(this,"optimisticQueryResults"),Ne(this,"_transitionHandlerCounter",0),Ne(this,"_nextRequestId"),Ne(this,"_onTransitionFns",new Map),Ne(this,"_sessionId"),Ne(this,"firstMessageReceived",!1),Ne(this,"debug"),Ne(this,"logger"),Ne(this,"maxObservedTimestamp"),Ne(this,"connectionStateSubscribers",new Map),Ne(this,"nextConnectionStateSubscriberId",0),Ne(this,"_lastPublishedConnectionState"),Ne(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const h=this.connectionState();if(JSON.stringify(h)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=h;for(const f of this.connectionStateSubscribers.values())f(h)}})}),Ne(this,"mark",h=>{this.debug&&Tg(h,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(n==null?void 0:n.skipConvexDeploymentUrlCheck)!==!0&&T0(t),n={...n};const i=n.authRefreshTokenLeewaySeconds??2;let o=n.webSocketConstructor;if(!o&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");o=o||WebSocket,this.debug=n.reportDebugInfoToConvex??!1,this.address=t,this.logger=n.logger===!1?hm({verbose:n.verbose??!1}):n.logger!==!0&&n.logger?n.logger:mm({verbose:n.verbose??!1});const a=t.search("://");if(a===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(a+3),d=t.substring(0,a);let u;if(d==="http")u="ws";else if(d==="https")u="wss";else throw new Error(`Unknown parent protocol ${d}`);const m=`${u}://${l}/api/${Cu}/sync`;this.state=new Q0,this.remoteQuerySet=new _u(h=>this.state.queryPath(h),this.logger),this.requestManager=new K0(this.logger,this.markConnectionStateDirty);const g=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new Pg(this.state,{authenticate:h=>{const f=this.state.setAuth(h);return this.webSocketManager.sendMessage(f),f.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:g,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new rg,this.addOnTransitionHandler(h=>{r(h.queries.map(f=>f.token))}),this._nextRequestId=0,this._sessionId=yg();const{unsavedChangesWarning:x}=n;if(typeof window>"u"||typeof window.addEventListener>"u"){if(x===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else x!==!1&&window.addEventListener("beforeunload",h=>{if(this.requestManager.hasIncompleteRequests()){h.preventDefault();const f="Are you sure you want to leave? Your changes may not be saved.";return(h||window.event).returnValue=f,f}});this.webSocketManager=new vg(m,{onOpen:h=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...h,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const f=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new _u(p=>this.state.queryPath(p),this.logger);const[w,v]=this.state.restart(f);v&&this.webSocketManager.sendMessage(v),this.webSocketManager.sendMessage(w);for(const p of this.requestManager.restart())this.webSocketManager.sendMessage(p)},onResume:()=>{const[h,f]=this.state.resume();f&&this.webSocketManager.sendMessage(f),h&&this.webSocketManager.sendMessage(h);for(const w of this.requestManager.resume())this.webSocketManager.sendMessage(w)},onMessage:h=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),h.type){case"Transition":{this.observedTimestamp(h.endVersion.ts),this.authenticationManager.onTransition(h),this.remoteQuerySet.transition(h),this.state.transition(h);const f=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(f);break}case"MutationResponse":{h.success&&this.observedTimestamp(h.ts);const f=this.requestManager.onResponse(h);f!==null&&this.notifyOnQueryResultChanges(new Map([[f.requestId,f.result]]));break}case"ActionResponse":{this.requestManager.onResponse(h);break}case"AuthError":{this.authenticationManager.onAuthError(h);break}case"FatalError":{const f=V0(this.logger,h.error);throw this.webSocketManager.terminate(),f}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:n.onServerDisconnectError},o,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),n.expectAuth&&g()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const r=this.remoteQuerySet.remoteQueryResults(),n=new Map;for(const[o,a]of r){const l=this.state.queryToken(o);if(l!==null){const d={result:a,udfPath:this.state.queryPath(o),args:this.state.queryArgs(o)};n.set(l,d)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(n,new Set(t.keys()));this.handleTransition({queries:i.map(o=>{const a=this.optimisticQueryResults.rawQueryResult(o);return{token:o,modification:{kind:"Updated",result:a.result}}}),reflectedMutations:Array.from(t).map(([o,a])=>({requestId:o,result:a})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const r of this._onTransitionFns.values())r(t)}addOnTransitionHandler(t){const r=this._transitionHandlerCounter++;return this._onTransitionFns.set(r,t),()=>this._onTransitionFns.delete(r)}getCurrentAuthClaims(){const t=this.state.getAuth();let r={};if(t&&t.tokenType==="User")try{r=t?ym(t.value):{}}catch{r={}}else return;return{token:t.value,decoded:r}}setAuth(t,r){this.authenticationManager.setConfig(t,r)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,r){const n=this.state.setAdminAuth(t,r);this.webSocketManager.sendMessage(n)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,r,n){const i=Vt(r),{modification:o,queryToken:a,unsubscribe:l}=this.state.subscribe(t,i,n==null?void 0:n.journal,n==null?void 0:n.componentPath);return o!==null&&this.webSocketManager.sendMessage(o),{queryToken:a,unsubscribe:()=>{const d=l();d&&this.webSocketManager.sendMessage(d)}}}localQueryResult(t,r){const n=Vt(r),i=zr(t,n);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,r){const n=Vt(r),i=zr(t,n);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,r){const n=Vt(r),i=zr(t,n);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const r=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(r,t),()=>{this.connectionStateSubscribers.delete(r)}}async mutation(t,r,n){const i=await this.mutationInternal(t,r,n);if(!i.success)throw i.errorData!==void 0?dl(i,new ll(hn("mutation",t,i))):new Error(hn("mutation",t,i));return i.value}async mutationInternal(t,r,n,i){const{mutationPromise:o}=this.enqueueMutation(t,r,n,i);return o}enqueueMutation(t,r,n,i){const o=Vt(r);this.tryReportLongDisconnect();const a=this.nextRequestId;if(this._nextRequestId++,n!==void 0){const m=n.optimisticUpdate;if(m!==void 0){const g=f=>{m(f,o)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},h=this.optimisticQueryResults.applyOptimisticUpdate(g,a).map(f=>{const w=this.localQueryResultByToken(f);return{token:f,modification:{kind:"Updated",result:w===void 0?void 0:{success:!0,value:w,logLines:[]}}}});this.handleTransition({queries:h,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:a,udfPath:t,componentPath:i,args:[kr(o)]},d=this.webSocketManager.sendMessage(l),u=this.requestManager.request(l,d);return{requestId:a,mutationPromise:u}}async action(t,r){const n=await this.actionInternal(t,r);if(!n.success)throw n.errorData!==void 0?dl(n,new ll(hn("action",t,n))):new Error(hn("action",t,n));return n.value}async actionInternal(t,r,n){const i=Vt(r),o=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const a={type:"Action",requestId:o,udfPath:t,componentPath:n,args:[kr(i)]},l=this.webSocketManager.sendMessage(a);return this.requestManager.request(a,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=Mg(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const r=`${this.address}/api/debug_event`;fetch(r,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Cu}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(n=>{n.ok||this.logger.warn("Analytics request failed with response:",n.body)}).catch(n=>{this.logger.warn("Analytics response failed with error:",n)})}}function Ig({getCurrentValue:e,subscribe:t}){const[r,n]=N.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(i=e(),n({getCurrentValue:e,subscribe:t,value:i})),N.useEffect(()=>{let o=!1;const a=()=>{o||n(d=>{if(d.getCurrentValue!==e||d.subscribe!==t)return d;const u=e();return d.value===u?d:{...d,value:u}})},l=t(a);return a(),()=>{o=!0,l()}},[e,t]),i}var Og=Object.defineProperty,Lg=(e,t,r)=>t in e?Og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nr=(e,t,r)=>Lg(e,typeof t!="symbol"?t+"":t,r);const Ag=5e3;if(typeof fo>"u")throw new Error("Required dependency 'react' not found");function wm(e,t,r){function n(i){return zg(i),t.mutation(e,i,{optimisticUpdate:r})}return n.withOptimisticUpdate=function(o){if(r!==void 0)throw new Error(`Already specified optimistic update for mutation ${st(e)}`);return wm(e,t,o)},n}class Dg{constructor(t,r){if(nr(this,"address"),nr(this,"cachedSync"),nr(this,"listeners"),nr(this,"options"),nr(this,"closed",!1),nr(this,"_logger"),nr(this,"adminAuth"),nr(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(r==null?void 0:r.logger)===!1?hm({verbose:(r==null?void 0:r.verbose)??!1}):(r==null?void 0:r.logger)!==!0&&(r!=null&&r.logger)?r.logger:mm({verbose:(r==null?void 0:r.verbose)??!1}),this.options={...r,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new $g(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,r){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,r??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,r){if(this.adminAuth=t,this.fakeUserIdentity=r,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,r)}watchQuery(t,...r){const[n,i]=r,o=st(t);return{onUpdate:a=>{const{queryToken:l,unsubscribe:d}=this.sync.subscribe(o,n,i),u=this.listeners.get(l);return u!==void 0?u.add(a):this.listeners.set(l,new Set([a])),()=>{if(this.closed)return;const m=this.listeners.get(l);m.delete(a),m.size===0&&this.listeners.delete(l),d()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(o,n)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(o,n)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(o,n)}}}prewarmQuery(t){const r=t.extendSubscriptionFor??Ag,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,r)}mutation(t,...r){const[n,i]=r,o=st(t);return this.sync.mutation(o,n,i)}action(t,...r){const n=st(t);return this.sync.action(n,...r)}query(t,...r){const n=this.watchQuery(t,...r),i=n.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((o,a)=>{const l=n.onUpdate(()=>{l();try{o(n.localQueryResult())}catch(d){a(d)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const r of t){const n=this.listeners.get(r);if(n)for(const i of n)i()}}}const ld=fo.createContext(void 0);function dd(){return N.useContext(ld)}const Fg=({client:e,children:t})=>fo.createElement(ld.Provider,{value:e},t);function kt(e,...t){const r=t[0]==="skip",n=t[0]==="skip"?{}:Vt(t[0]),i=typeof e=="string"?gm(e):e,o=st(i),a=N.useMemo(()=>r?{}:{query:{query:i,args:n}},[JSON.stringify(kr(n)),o,r]),d=Bg(a).query;if(d instanceof Error)throw d;return d}function Ke(e){const t=typeof e=="string"?gm(e):e,r=N.useContext(ld);if(r===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return N.useMemo(()=>wm(t,r),[r,st(t)])}function zg(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var Ug=Object.defineProperty,qg=(e,t,r)=>t in e?Ug(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,da=(e,t,r)=>qg(e,typeof t!="symbol"?t+"":t,r);class Vg{constructor(t){da(this,"createWatch"),da(this,"queries"),da(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const r of Object.keys(t)){const{query:n,args:i}=t[r];if(st(n),this.queries[r]===void 0)this.addQuery(r,n,i);else{const o=this.queries[r];(st(n)!==st(o.query)||JSON.stringify(kr(i))!==JSON.stringify(kr(o.args)))&&(this.removeQuery(r),this.addQuery(r,n,i))}}for(const r of Object.keys(this.queries))t[r]===void 0&&this.removeQuery(r)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const r={};for(const n of Object.keys(t)){const{query:i,args:o}=t[n];st(i);const a=this.createWatch(i,o);let l;try{l=a.localQueryResult()}catch(d){if(d instanceof Error)l=d;else throw d}r[n]=l}return r}setCreateWatch(t){this.createWatch=t;for(const r of Object.keys(this.queries)){const{query:n,args:i,watch:o}=this.queries[r],a=o.journal();this.removeQuery(r),this.addQuery(r,n,i,a)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,r,n,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const o=this.createWatch(r,n,i),a=o.onUpdate(()=>this.notifyListeners());this.queries[t]={query:r,args:n,watch:o,unsubscribe:a}}removeQuery(t){const r=this.queries[t];if(r===void 0)throw new Error(`No query found with identifier ${t}.`);r.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function Bg(e){const t=dd();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const r=N.useMemo(()=>(n,i,o)=>t.watchQuery(n,i,o?{journal:o}:{}),[t]);return Wg(e,r)}function Wg(e,t){const[r]=N.useState(()=>new Vg(t));r.createWatch!==t&&r.setCreateWatch(t),N.useEffect(()=>()=>r.destroy(),[r]);const n=N.useMemo(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:i=>(r.setQueries(e),r.subscribe(i))}),[r,e]);return Ig(n)}function bm(e,t){const r={get(n,i){if(typeof i=="string"){const o=[...t,i];return bm(e,o)}else if(i===pm){if(t.length<1){const o=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${o}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},r)}const Qg=()=>bm("components",[]),se=Z0;Qg();let Hg={data:""},Yg=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Hg},Kg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gg=/\/\*[^]*?\*\/|  +/g,Ou=/\n+/g,dr=(e,t)=>{let r="",n="",i="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+a+";":n+=o[1]=="f"?dr(a,o):o+"{"+dr(a,o[1]=="k"?"":t)+"}":typeof a=="object"?n+=dr(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,l):l?l+" "+d:d)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=dr.p?dr.p(o,a):o+":"+a+";")}return r+(t&&i?t+"{"+i+"}":i)+n},zt={},Nm=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Nm(e[r]);return t}return e},Xg=(e,t,r,n,i)=>{let o=Nm(e),a=zt[o]||(zt[o]=(d=>{let u=0,m=11;for(;u<d.length;)m=101*m+d.charCodeAt(u++)>>>0;return"go"+m})(o));if(!zt[a]){let d=o!==e?e:(u=>{let m,g,x=[{}];for(;m=Kg.exec(u.replace(Gg,""));)m[4]?x.shift():m[3]?(g=m[3].replace(Ou," ").trim(),x.unshift(x[0][g]=x[0][g]||{})):x[0][m[1]]=m[2].replace(Ou," ").trim();return x[0]})(e);zt[a]=dr(i?{["@keyframes "+a]:d}:d,r?"":"."+a)}let l=r&&zt.g?zt.g:null;return r&&(zt.g=zt[a]),((d,u,m,g)=>{g?u.data=u.data.replace(g,d):u.data.indexOf(d)===-1&&(u.data=m?d+u.data:u.data+d)})(zt[a],t,n,l),a},Jg=(e,t,r)=>e.reduce((n,i,o)=>{let a=t[o];if(a&&a.call){let l=a(r),d=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=d?"."+d:l&&typeof l=="object"?l.props?"":dr(l,""):l===!1?"":l}return n+i+(a??"")},"");function To(e){let t=this||{},r=e.call?e(t.p):e;return Xg(r.unshift?r.raw?Jg(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,Yg(t.target),t.g,t.o,t.k)}let jm,ul,cl;To.bind({g:1});let Xt=To.bind({k:1});function Zg(e,t,r,n){dr.p=t,jm=e,ul=r,cl=n}function Er(e,t){let r=this||{};return function(){let n=arguments;function i(o,a){let l=Object.assign({},o),d=l.className||i.className;r.p=Object.assign({theme:ul&&ul()},l),r.o=/ *go\d+/.test(d),l.className=To.apply(r,n)+(d?" "+d:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),cl&&u[0]&&cl(l),jm(u,l)}return i}}var ex=e=>typeof e=="function",io=(e,t)=>ex(e)?e(t):e,tx=(()=>{let e=0;return()=>(++e).toString()})(),km=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rx=20,ud="default",Sm=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Sm(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},Mi=[],Pm={toasts:[],pausedAt:void 0,settings:{toastLimit:rx}},Ot={},Cm=(e,t=ud)=>{Ot[t]=Sm(Ot[t]||Pm,e),Mi.forEach(([r,n])=>{r===t&&n(Ot[t])})},Tm=e=>Object.keys(Ot).forEach(t=>Cm(e,t)),nx=e=>Object.keys(Ot).find(t=>Ot[t].toasts.some(r=>r.id===e)),Eo=(e=ud)=>t=>{Cm(t,e)},sx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ix=(e={},t=ud)=>{let[r,n]=N.useState(Ot[t]||Pm),i=N.useRef(Ot[t]);N.useEffect(()=>(i.current!==Ot[t]&&n(Ot[t]),Mi.push([t,n]),()=>{let a=Mi.findIndex(([l])=>l===t);a>-1&&Mi.splice(a,1)}),[t]);let o=r.toasts.map(a=>{var l,d,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((l=e[a.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((d=e[a.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||sx[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:o}},ox=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tx()}),Bs=e=>(t,r)=>{let n=ox(t,e,r);return Eo(n.toasterId||nx(n.id))({type:2,toast:n}),n.id},Te=(e,t)=>Bs("blank")(e,t);Te.error=Bs("error");Te.success=Bs("success");Te.loading=Bs("loading");Te.custom=Bs("custom");Te.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Eo(t)(r):Tm(r)};Te.dismissAll=e=>Te.dismiss(void 0,e);Te.remove=(e,t)=>{let r={type:4,toastId:e};t?Eo(t)(r):Tm(r)};Te.removeAll=e=>Te.remove(void 0,e);Te.promise=(e,t,r)=>{let n=Te.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?io(t.success,i):void 0;return o?Te.success(o,{id:n,...r,...r==null?void 0:r.success}):Te.dismiss(n),i}).catch(i=>{let o=t.error?io(t.error,i):void 0;o?Te.error(o,{id:n,...r,...r==null?void 0:r.error}):Te.dismiss(n)}),e};var ax=1e3,lx=(e,t="default")=>{let{toasts:r,pausedAt:n}=ix(e,t),i=N.useRef(new Map).current,o=N.useCallback((g,x=ax)=>{if(i.has(g))return;let h=setTimeout(()=>{i.delete(g),a({type:4,toastId:g})},x);i.set(g,h)},[]);N.useEffect(()=>{if(n)return;let g=Date.now(),x=r.map(h=>{if(h.duration===1/0)return;let f=(h.duration||0)+h.pauseDuration-(g-h.createdAt);if(f<0){h.visible&&Te.dismiss(h.id);return}return setTimeout(()=>Te.dismiss(h.id,t),f)});return()=>{x.forEach(h=>h&&clearTimeout(h))}},[r,n,t]);let a=N.useCallback(Eo(t),[t]),l=N.useCallback(()=>{a({type:5,time:Date.now()})},[a]),d=N.useCallback((g,x)=>{a({type:1,toast:{id:g,height:x}})},[a]),u=N.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),m=N.useCallback((g,x)=>{let{reverseOrder:h=!1,gutter:f=8,defaultPosition:w}=x||{},v=r.filter(y=>(y.position||w)===(g.position||w)&&y.height),p=v.findIndex(y=>y.id===g.id),c=v.filter((y,b)=>b<p&&y.visible).length;return v.filter(y=>y.visible).slice(...h?[c+1]:[0,c]).reduce((y,b)=>y+(b.height||0)+f,0)},[r]);return N.useEffect(()=>{r.forEach(g=>{if(g.dismissed)o(g.id,g.removeDelay);else{let x=i.get(g.id);x&&(clearTimeout(x),i.delete(g.id))}})},[r,o]),{toasts:r,handlers:{updateHeight:d,startPause:l,endPause:u,calculateOffset:m}}},dx=Xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ux=Xt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cx=Xt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,fx=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ux} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${cx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,mx=Xt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,hx=Er("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${mx} 1s linear infinite;
`,px=Xt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,gx=Xt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xx=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${px} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${gx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,vx=Er("div")`
  position: absolute;
`,yx=Er("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wx=Xt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bx=Er("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Nx=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(bx,null,t):t:r==="blank"?null:N.createElement(yx,null,N.createElement(hx,{...n}),r!=="loading"&&N.createElement(vx,null,r==="error"?N.createElement(fx,{...n}):N.createElement(xx,{...n})))},jx=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kx=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Sx="0%{opacity:0;} 100%{opacity:1;}",Px="0%{opacity:1;} 100%{opacity:0;}",Cx=Er("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Tx=Er("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ex=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=km()?[Sx,Px]:[jx(r),kx(r)];return{animation:t?`${Xt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Xt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Mx=N.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?Ex(e.position||t||"top-center",e.visible):{opacity:0},o=N.createElement(Nx,{toast:e}),a=N.createElement(Tx,{...e.ariaProps},io(e.message,e));return N.createElement(Cx,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:o,message:a}):N.createElement(N.Fragment,null,o,a))});Zg(N.createElement);var _x=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let o=N.useCallback(a=>{if(a){let l=()=>{let d=a.getBoundingClientRect().height;n(e,d)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:o,className:t,style:r},i)},Rx=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:km()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},$x=To`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hi=16,Ix=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:o,containerStyle:a,containerClassName:l})=>{let{toasts:d,handlers:u}=lx(r,o);return N.createElement("div",{"data-rht-toaster":o||"",style:{position:"fixed",zIndex:9999,top:hi,left:hi,right:hi,bottom:hi,pointerEvents:"none",...a},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},d.map(m=>{let g=m.position||t,x=u.calculateOffset(m,{reverseOrder:e,gutter:n,defaultPosition:t}),h=Rx(g,x);return N.createElement(_x,{id:m.id,key:m.id,onHeightUpdate:u.updateHeight,className:m.visible?$x:"",style:h},m.type==="custom"?io(m.message,m):i?i(m):N.createElement(Mx,{toast:m,position:g}))}))},L=Te;const Em=N.createContext();function Ox({children:e,userId:t}){const[r,n]=N.useState(null),[i,o]=N.useState(0),[a,l]=N.useState(!1),[d,u]=N.useState(!1),m=kt(se.prayerSchedules.getByUser,t?{userId:t}:"skip"),g=kt(se.prayerSchedules.getUpcoming,t?{userId:t}:"skip"),x=kt(se.prayerStreaks.getByUser,t?{userId:t}:"skip"),h=kt(se.prayerHistory.getByUser,t?{userId:t}:"skip"),f=kt(se.userSettings.getByUser,t?{userId:t}:"skip"),w=m===void 0||g===void 0||x===void 0||h===void 0||f===void 0,v=Ke(se.prayerSchedules.create),p=Ke(se.prayerSchedules.update),c=Ke(se.prayerSchedules.remove),y=Ke(se.prayerStreaks.updateStreak),b=Ke(se.prayerHistory.create),T=Ke(se.prayerHistory.remove),C=Ke(se.userSettings.update),M=async($,_=15)=>{const W=m.find(Y=>Y._id===$);W&&(n(W),l(!0),u(!1),o(_*60))},S=()=>{u(!0)},z=()=>{u(!1)},P=async()=>{if(r){const $=Math.floor((900-i)/60);await y({userId:t}),await b({userId:t,prayerScheduleId:r._id,duration:$,prayerPoints:[],notes:""}),r.recurring||await p({id:r._id,isCompleted:!0}),L.success("Prayer session completed!")}n(null),l(!1),u(!1),o(0)};N.useEffect(()=>{let $=null;return a&&!d&&i>0?$=setInterval(()=>{o(_=>_<=1?(P(),0):_-1)},1e3):i===0&&a&&P(),()=>clearInterval($)},[a,d,i]);const j=$=>{const _=Math.floor($/60),W=$%60;return`${_.toString().padStart(2,"0")}:${W.toString().padStart(2,"0")}`};return s.jsx(Em.Provider,{value:{userId:t,schedules:m||[],upcomingSchedules:g||[],streak:x,history:h||[],settings:f,isLoading:w,activePrayer:r,countdown:i,isPraying:a,isPaused:d,formatTime:j,startPrayer:M,stopPrayer:P,pausePrayer:S,resumePrayer:z,createSchedule:v,updateSchedule:p,deleteSchedule:c,deleteHistory:T,updateSettings:C},children:e})}function Et(){const e=N.useContext(Em);if(!e)throw new Error("usePrayer must be used within PrayerProvider");return e}let Dt=null,Lx=null;async function cd(){var t,r;if(!("serviceWorker"in navigator))return console.warn("Service Workers are not supported in this browser"),null;if(!(location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="0.0.0.0"))return console.warn(" Service Workers require HTTPS in production (or localhost for development)"),console.warn("Current context:",location.protocol,location.hostname),null;console.log(" Secure context detected - Service Worker will work!");try{let n=await navigator.serviceWorker.getRegistration();if(n)console.log(" Service Worker already registered"),(((t=n.active)==null?void 0:t.scriptURL)||((r=n.waiting)==null?void 0:r.scriptURL)||"").includes("sw.js")?console.log(" Using custom service worker for notifications"):console.log(" Different service worker found - notifications may still work"),console.log(" Environment:",location.hostname==="localhost"?"Development":"Production");else{const i="/sw.js";try{n=await navigator.serviceWorker.register(i,{scope:"/"}),console.log(" Service Worker registered successfully:",i),console.log(" Environment:",location.hostname==="localhost"?"Development (localhost)":"Production (HTTPS)")}catch(o){return console.error(" Failed to register service worker:",o),(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log(" Service worker file may not be available in dev mode"),console.log(" It will work automatically when you deploy to production (HTTPS)")),null}}return Dt=n,n.installing?(console.log("Service Worker installing..."),await new Promise(i=>{const o=n.installing;o.addEventListener("statechange",()=>{o.state==="activated"&&(console.log(" Service Worker activated"),i())})})):n.waiting&&n.waiting.postMessage({type:"SKIP_WAITING"}),n.active&&console.log(" Service Worker is active and ready for notifications"),n.addEventListener("updatefound",()=>{const i=n.installing;i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New service worker available")})}),n}catch(n){console.error(" Service Worker registration failed:",n),n.message.includes("Failed to register")&&console.error("Make sure the service worker file (sw.js) is accessible at the root of your domain");try{const i=await navigator.serviceWorker.getRegistration();if(i)return Dt=i,console.log(" Using existing service worker registration"),i}catch(i){console.error("Could not get existing service worker:",i)}return null}}async function Mm(e,t){if(!Dt)return console.warn("Service Worker not registered"),null;try{if(!("PushManager"in window))return console.warn("Push messaging is not supported"),null;if(await Notification.requestPermission()!=="granted")return console.warn("Notification permission not granted"),null;const n="BKkJoFms6e3nG-P7oe09z3a5N6LQtU15NpAnmT4cogJmkZ4qphvwnLWcW6veQJerqeTmHhl1s9q03SB5ca6ynQ8";console.log(" VAPID public key found - push subscriptions enabled!");try{const i=await Dt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fx(n)});if(Lx=i,console.log(" Push subscription successful!"),e&&t){const o=i.toJSON();await e({userId:t,subscription:{endpoint:o.endpoint,keys:{p256dh:o.keys.p256dh,auth:o.keys.auth}}}),console.log(" Subscription saved to backend!")}return i}catch(i){return console.warn("Push subscription failed:",i),null}}catch(r){return console.error("Push subscription failed:",r),null}}async function Ax({title:e,body:t,icon:r,tag:n,data:i}){if(!("Notification"in window)||Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;if(!Dt)try{Dt=await navigator.serviceWorker.getRegistration()}catch(o){console.warn("Could not get service worker registration:",o)}try{const o=await navigator.serviceWorker.ready;return o&&o.active?new Promise(a=>{const l=new MessageChannel;l.port1.onmessage=d=>{d.data&&d.data.success?(console.log(" Notification shown via service worker"),a(!0)):a(!1)};try{o.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:e,body:t,icon:r||"/vite.svg",tag:n||"prayer-notification",data:i||{url:"/",timestamp:Date.now()}}},[l.port2]),setTimeout(()=>{a(!0)},500)}catch(d){console.warn("Failed to post message to service worker:",d),a(!1)}}).then(a=>{if(a)return!0;throw new Error("Service worker notification failed")}).catch(()=>new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i})):(console.log("Service worker not ready, using fallback notification"),new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i}))}catch(o){console.error("Error showing background notification via service worker:",o);try{return new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n,data:i})}catch(a){return console.error("Fallback notification also failed:",a),null}}}async function Dx(){if(!Dt)return!1;try{return"sync"in Dt?(await Dt.sync.register("check-notifications"),console.log("Background sync registered"),!0):(console.warn("Background sync not supported"),!1)}catch(e){return console.error("Background sync registration failed:",e),!1}}function Fx(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=window.atob(r),i=new Uint8Array(n.length);for(let o=0;o<n.length;++o)i[o]=n.charCodeAt(o);return i}function zx(){return Dt}function _m(){const{userId:e,settings:t,schedules:r,upcomingSchedules:n,streak:i}=Et(),o=Ke(se.pushData.saveSubscription),a=N.useRef(null),l=N.useRef({}),d=N.useRef(null);return N.useEffect(()=>{cd().then(u=>{u&&(console.log("Service Worker registered for background notifications"),Dx(),t!=null&&t.notificationsEnabled&&e&&Mm(o,e))}),"Notification"in window&&(d.current=Notification.permission)},[e,t==null?void 0:t.notificationsEnabled]),N.useEffect(()=>{if(!(t!=null&&t.notificationsEnabled)){a.current&&(clearInterval(a.current),a.current=null);return}if(Notification.permission==="default"||Notification.permission!=="granted")return;const u=()=>{const m=new Date;m.toTimeString().slice(0,5);const g=m.toDateString();if(t!=null&&t.notificationTime){const[x,h]=t.notificationTime.split(":").map(Number),f=x*60+h,w=m.getHours()*60+m.getMinutes(),v=m.getSeconds(),p=`daily-${g}`;!l.current[p]&&w===f&&v<50&&(Gn({title:"Prayer Reminder",body:"Time for your daily prayer session!",icon:"/vite.svg",tag:p}),l.current[p]=Date.now(),L("Daily prayer reminder!",{icon:"",duration:5e3}))}if(t!=null&&t.showPrayerReminders&&n&&n.length>0&&n.forEach(x=>{const f=new Date(x.scheduledTime)-m,w=Math.floor(f/(1e3*60)),v=Math.floor(f/1e3);if(w===5&&v<=300&&v>=250){const p=`schedule-${x._id}-5min`;l.current[p]||(Gn({title:"Prayer Schedule Reminder",body:`"${x.title}" starts in 5 minutes`,icon:"/vite.svg",tag:p}),l.current[p]=Date.now(),L(`Prayer "${x.title}" in 5 minutes!`,{icon:"",duration:5e3}))}if(w===1&&v<=60&&v>=50){const p=`schedule-${x._id}-1min`;l.current[p]||(Gn({title:"Prayer Starting Soon",body:`"${x.title}" starts in 1 minute`,icon:"/vite.svg",tag:p}),l.current[p]=Date.now(),L(`Prayer "${x.title}" starting in 1 minute!`,{icon:"",duration:5e3}))}if(f<=1e4&&f>=0){const p=`schedule-${x._id}-start`;l.current[p]||(Gn({title:"Prayer Time!",body:`"${x.title}" is starting now`,icon:"/vite.svg",tag:p}),l.current[p]=Date.now(),L(`Prayer "${x.title}" is starting now!`,{icon:"",duration:5e3}))}}),t!=null&&t.showStreakNotifications&&i){const x=`streak-${i.currentStreak}-${g}`,h=l.current[x];[7,14,30,50,100].includes(i.currentStreak)&&!h&&(Gn({title:" Streak Milestone!",body:`Amazing! You've reached ${i.currentStreak} days of prayer!`,icon:"/vite.svg",tag:x}),l.current[x]=Date.now(),L.success(` ${i.currentStreak}-day streak milestone!`,{duration:5e3}))}};return a.current=setInterval(u,1e4),u(),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[t==null?void 0:t.notificationsEnabled,t==null?void 0:t.notificationTime,t==null?void 0:t.showPrayerReminders,t==null?void 0:t.showStreakNotifications,n,i]),N.useEffect(()=>{const m=setInterval(()=>{const g=Date.now()-864e5;Object.keys(l.current).forEach(x=>{l.current[x]<g&&delete l.current[x]})},36e5);return()=>clearInterval(m)},[]),{requestPermission:async()=>{if("Notification"in window){const u=await Notification.requestPermission();return d.current=u,u}return"denied"},permission:d.current}}async function Gn({title:e,body:t,icon:r,tag:n}){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{if(await Ax({title:e,body:t,icon:r,tag:n}))return;const o=new Notification(e,{body:t,icon:r||"/vite.svg",badge:"/vite.svg",tag:n||"prayer-notification",requireInteraction:!1,silent:!1});setTimeout(()=>{o.close()},5e3),o.onclick=()=>{window.focus(),o.close()}}catch(i){console.error("Error showing notification:",i)}}const Rm=N.createContext(),Lu=[],Au=[];function Ux({children:e}){const{settings:t}=Et(),[r,n]=N.useState(null),[i,o]=N.useState(!1),[a,l]=N.useState((t==null?void 0:t.defaultVolume)??.7),[d,u]=N.useState([]),[m,g]=N.useState([]),[x,h]=N.useState(0),[f,w]=N.useState(0),v=N.useRef(null);N.useEffect(()=>{(t==null?void 0:t.defaultVolume)!==void 0&&l(t.defaultVolume)},[t==null?void 0:t.defaultVolume]),N.useEffect(()=>{if(!v.current){v.current=new Audio,v.current.loop=!0,v.current.volume=a;const P=()=>o(!1),j=D=>{o(!1),console.error("Audio playback error:",D)},$=()=>{v.current&&r&&(console.log(`Audio loaded successfully: ${(r==null?void 0:r.name)||"Unknown"}`),w(v.current.duration||0))},_=()=>{v.current&&w(v.current.duration||0)},W=()=>{v.current&&h(v.current.currentTime||0)},Y=()=>{v.current&&w(v.current.duration||0)};return v.current.addEventListener("ended",P),v.current.addEventListener("error",j),v.current.addEventListener("canplay",$),v.current.addEventListener("loadedmetadata",_),v.current.addEventListener("timeupdate",W),v.current.addEventListener("durationchange",Y),()=>{v.current&&(v.current.removeEventListener("ended",P),v.current.removeEventListener("error",j),v.current.removeEventListener("canplay",$),v.current.removeEventListener("loadedmetadata",_),v.current.removeEventListener("timeupdate",W),v.current.removeEventListener("durationchange",Y),v.current.pause(),v.current.src="")}}},[]),N.useEffect(()=>{v.current&&(v.current.volume=a)},[a]),N.useEffect(()=>{if(!v.current)return;const P=v.current,j=()=>{P.duration&&!isNaN(P.duration)&&isFinite(P.duration)&&w(P.duration)},$=()=>{P.duration&&!isNaN(P.duration)&&isFinite(P.duration)&&w(P.duration)},_=()=>{P.currentTime!==void 0&&!isNaN(P.currentTime)&&h(P.currentTime)};P.addEventListener("loadedmetadata",j),P.addEventListener("durationchange",$),P.addEventListener("timeupdate",_);let W;const Y=()=>{P&&P.currentTime!==void 0&&!isNaN(P.currentTime)&&h(P.currentTime),P.duration&&!isNaN(P.duration)&&isFinite(P.duration)&&w(P.duration),i&&(W=requestAnimationFrame(Y))};return i&&(W=requestAnimationFrame(Y)),()=>{W&&cancelAnimationFrame(W),P.removeEventListener("loadedmetadata",j),P.removeEventListener("durationchange",$),P.removeEventListener("timeupdate",_)}},[i]);const p=P=>{u(j=>[...j.filter($=>$.id!==P.id),P])},c=P=>{g(j=>[...j.filter($=>$.id!==P.id),P])},y=(P,j=null,$=null)=>{let _=m.find(E=>E.id===P);if(_||(_=Au.find(E=>E.id===P)),j&&(_?_={..._,url:j,name:$||_.name||"Custom Tongue Song"}:_={id:P,url:j,name:$||"Custom Tongue Song"}),!_||!_.url){console.warn("No tongue song found or no URL provided:",P,j);return}if(console.log("Playing tongue song:",_.name,"URL:",_.url),v.current&&(r==null?void 0:r.id)===_.id&&!i){C();return}if(v.current&&i&&(r==null?void 0:r.id)!==_.id&&(v.current.pause(),v.current.currentTime=0),!v.current){console.error("Audio element not initialized");return}n(_),v.current.volume=a;const W=E=>{if(!E)return"";try{return new URL(E).href}catch{return E}},Y=W(v.current.src),D=W(_.url);if(Y===D&&Y!==""&&v.current.readyState>=2){o(!0),v.current.play().catch(E=>{console.error("Audio play error:",E),o(!1)});return}const Z=new Promise((E,U)=>{const A=()=>{v.current.removeEventListener("canplay",A),v.current.removeEventListener("error",ve),v.current.removeEventListener("loadstart",K),v.current.removeEventListener("loadedmetadata",Q),v.current.duration&&!isNaN(v.current.duration)&&isFinite(v.current.duration)&&w(v.current.duration),console.log("Tongue song loaded, ready to play:",_.name),o(!0),E()},Q=()=>{v.current.duration&&!isNaN(v.current.duration)&&isFinite(v.current.duration)&&w(v.current.duration)},K=()=>{console.log("Loading tongue song:",_.url)},ve=k=>{var q;v.current.removeEventListener("canplay",A),v.current.removeEventListener("error",ve),v.current.removeEventListener("loadstart",K),console.error("Audio load error:",k),console.error("Failed URL:",_.url),console.error("Audio element error:",(q=v.current)==null?void 0:q.error),o(!1),U(k)};v.current.addEventListener("canplay",A,{once:!0}),v.current.addEventListener("loadstart",K,{once:!0}),v.current.addEventListener("loadedmetadata",Q),v.current.addEventListener("error",ve,{once:!0})});console.log("Setting audio source to:",_.url),v.current.src=_.url,v.current.load(),h(0),w(0),Z.then(()=>{if(v.current)return console.log("Playing tongue song:",_.name),v.current.play()}).catch(E=>{console.error("Audio play error:",E),console.error("Failed to play URL:",_.url),o(!1)})},b=(P,j=null,$=null)=>{let _=d.find(E=>E.id===P);if(_||(_=Lu.find(E=>E.id===P)),j&&(_?_={..._,url:j,name:$||_.name||"Custom Chant"}:_={id:P,url:j,name:$||"Custom Chant"}),!_||!_.url){console.warn("No chant found or no URL provided:",P,j);return}if(console.log("Playing chant:",_.name,"URL:",_.url),v.current&&(r==null?void 0:r.id)===_.id&&!i){C();return}if(v.current&&i&&(r==null?void 0:r.id)!==_.id&&(v.current.pause(),v.current.currentTime=0),!v.current){console.error("Audio element not initialized");return}n(_),v.current.volume=a;const W=E=>{if(!E)return"";try{return new URL(E).href}catch{return E}},Y=W(v.current.src),D=W(_.url);if(Y===D&&Y!==""&&v.current.readyState>=2){o(!0),v.current.play().catch(E=>{console.error("Audio play error:",E),o(!1)});return}const Z=new Promise((E,U)=>{const A=()=>{v.current.removeEventListener("canplay",A),v.current.removeEventListener("error",ve),v.current.removeEventListener("loadstart",K),v.current.removeEventListener("loadedmetadata",Q),v.current.duration&&!isNaN(v.current.duration)&&isFinite(v.current.duration)&&w(v.current.duration),console.log("Chant loaded, ready to play:",_.name),o(!0),E()},Q=()=>{v.current.duration&&!isNaN(v.current.duration)&&isFinite(v.current.duration)&&w(v.current.duration)},K=()=>{console.log("Loading chant:",_.url)},ve=k=>{var q;v.current.removeEventListener("canplay",A),v.current.removeEventListener("error",ve),v.current.removeEventListener("loadstart",K),console.error("Audio load error:",k),console.error("Failed URL:",_.url),console.error("Audio element error:",(q=v.current)==null?void 0:q.error),o(!1),U(k)};v.current.addEventListener("canplay",A,{once:!0}),v.current.addEventListener("loadstart",K,{once:!0}),v.current.addEventListener("loadedmetadata",Q),v.current.addEventListener("error",ve,{once:!0})});console.log("Setting audio source to:",_.url),v.current.src=_.url,v.current.load(),h(0),w(0),Z.then(()=>{if(v.current)return console.log("Playing chant:",_.name),v.current.play()}).catch(E=>{console.error("Audio play error:",E),console.error("Failed to play URL:",_.url),o(!1)})},T=()=>{v.current&&i&&(v.current.pause(),o(!1))},C=()=>{v.current&&r&&!i&&(v.current.play().catch(P=>{console.error("Audio resume error:",P),o(!1)}),o(!0))},M=()=>{v.current&&(v.current.pause(),v.current.currentTime=0,o(!1)),n(null),h(0),w(0)},S=()=>{i?T():r&&C()},z=P=>{if(!P||isNaN(P))return"0:00";const j=Math.floor(P/60),$=Math.floor(P%60);return`${j}:${String($).padStart(2,"0")}`};return s.jsx(Rm.Provider,{value:{chants:Lu,tongueSongs:Au,customChants:d,customTongueSongs:m,currentChant:r,isPlaying:i,volume:a,currentTime:x,duration:f,formatTime:z,setVolume:l,playChant:b,playTongueSong:y,pauseChant:T,resumeChant:C,stopChant:M,toggleChant:S,addCustomChant:p,addCustomTongueSong:c,audioRef:v,soundEffectsEnabled:(t==null?void 0:t.soundEffectsEnabled)??!0},children:e})}function Mo(){const e=N.useContext(Rm);if(!e)throw new Error("useAudio must be used within AudioProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:d,...u},m)=>N.createElement("svg",{ref:m,...qx,width:i,height:i,stroke:n,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Vx(e)}`,l].join(" "),...u},[...t.map(([g,x])=>N.createElement(g,x)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=B("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=B("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=B("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=B("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=B("FileAudio",[["path",{d:"M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"1013sb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z",key:"gqt63y"}],["path",{d:"M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z",key:"cf7lqx"}],["path",{d:"M2 19v-3a6 6 0 0 1 12 0v3",key:"1acxgf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=B("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=B("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=B("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=B("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=B("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=B("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=B("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=B("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=B("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=B("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=B("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=B("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=B("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=B("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=B("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ov({onEnter:e}){const[t,r]=N.useState(!1),n=()=>{r(!0),setTimeout(()=>{e()},800)};return s.jsxs("div",{className:"relative w-full h-full  min-h-[60vh] flex items-center justify-center overflow-hidden rounded-3xl border border-white/10 shadow-2xl",children:[s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1a103c] via-[#2d1b4e] to-[#1a103c]",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-to-b from-[#ffd700]/10 to-transparent blur-3xl opacity-30"}),[...Array(8)].map((i,o)=>s.jsx("div",{className:"absolute rounded-full bg-gradient-to-r from-[#ffd700]/20 to-amber-500/20 blur-xl animate-float",style:{width:`${Math.random()*100+50}px`,height:`${Math.random()*100+50}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+10}s`}},o))]}),s.jsxs("div",{className:`relative z-10 max-w-lg w-full -mt-10 mx-auto px-6 text-center transition-all duration-1000 transform ${t?"opacity-0 scale-95 translate-y-4":"opacity-100 scale-100 translate-y-0"}`,children:[s.jsxs("div",{className:"mb-8 relative inline-block",children:[s.jsx("div",{className:"absolute inset-0 bg-[#ffd700] blur-3xl opacity-20 animate-pulse"}),s.jsxs("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md overflow-hidden flex items-center justify-center shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[s.jsx("div",{className:"absolute inset-0 rounded-full border border-[#ffd700]/20 scale-110"}),s.jsx("img",{src:"/logo.png",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover relative z-10"})]})]}),s.jsxs("div",{className:"space-y-2 mb-10",children:[s.jsx("p",{className:"text-[#ffd700]/60 text-xs md:text-sm uppercase tracking-[0.3em] font-medium",children:"Enter the Sanctuary"}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-serif text-white leading-tight",children:["Prayer ",s.jsx("span",{className:"text-[#ffd700]",children:"Room"})]}),s.jsx("div",{className:"w-24 h-px bg-gradient-to-r from-transparent via-[#ffd700]/50 to-transparent mx-auto mt-6"})]}),s.jsxs("p",{className:"text-white/70 text-base md:text-lg mb-12 font-light leading-relaxed max-w-sm mx-auto",children:['"Draw near to God, and He will draw near to you."',s.jsx("span",{className:"block text-[#ffd700]/50 text-xs mt-2 font-serif italic",children:" James 4:8"})]}),s.jsxs("button",{onClick:n,className:"group relative inline-flex items-center gap-4 px-8 py-4 bg-gradient-to-r from-[#ffd700] to-[#fdb931] rounded-full text-[#1a103c] font-serif font-bold text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-500 hover:scale-105 active:scale-95",children:[s.jsx("span",{className:"relative z-10",children:"Begin Prayer"}),s.jsx(jn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),s.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2 text-white/20 text-xs",children:[s.jsx(le,{className:"w-3 h-3"}),s.jsx("span",{children:"Sacred Space"}),s.jsx(le,{className:"w-3 h-3"})]})]})]})}function av({schedules:e,selectedSchedule:t,setSelectedSchedule:r,selectedScheduleData:n,chants:i,chantUploads:o,selectedDuration:a,setSelectedDuration:l,customHours:d,setCustomHours:u,customMinutes:m,setCustomMinutes:g,useCustomTime:x,setUseCustomTime:h,durations:f,adjustDuration:w,handleStart:v}){var $,_,W,Y;const[p,c]=N.useState(1),[y,b]=N.useState(!1),[T,C]=N.useState([]),M=3,S=t&&(n==null?void 0:n.prayerPoints)&&n.prayerPoints.length>0,z=x?d>0||m>0:a>0,P=()=>{p===1&&S?c(2):p===2&&z&&c(3)},j=()=>{p>1&&c(p-1)};return s.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 md:px-4",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(D=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center font-bold text-sm md:text-base transition-all duration-300 border ${D<p?"bg-gradient-to-r from-[#ffd700] to-amber-500 text-[#1a103c] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":D===p?"bg-[#1a103c] text-[#ffd700] border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.2)] ring-2 ring-[#ffd700]/20":"bg-white/5 text-white/30 border-white/10"}`,children:D<p?s.jsx(In,{className:"w-5 h-5 md:w-6 md:h-6"}):D}),s.jsx("span",{className:`text-xs md:text-sm mt-2 font-medium tracking-wide ${D<=p?"text-[#ffd700]":"text-white/30"}`,children:D===1?"Schedule":D===2?"Duration":"Start"})]}),D<M&&s.jsx("div",{className:`flex-1 h-px mx-2 transition-all duration-300 ${D<p?"bg-gradient-to-r from-[#ffd700] to-amber-500 opacity-50":"bg-white/10"}`})]},D))})}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 lg:p-8 rounded-2xl min-h-[400px] md:min-h-[500px]",children:[p===1&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(St,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Select Prayer Schedule"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"Choose a schedule to begin your prayer session"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Select Schedule"}),s.jsxs("div",{className:"relative z-20",children:[s.jsxs("button",{onClick:()=>b(!y),className:`w-full flex items-center justify-between p-4 rounded-xl border transition-all duration-300 ${y?"bg-[#1a103c] border-[#ffd700] shadow-[0_0_20px_rgba(255,215,0,0.2)]":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":"bg-white/10 text-white/50"}`,children:s.jsx(St,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:`font-semibold ${t?"text-white":"text-white/50"}`,children:n?n.title:"Choose a schedule..."}),n&&s.jsxs("p",{className:"text-xs text-white/50",children:[new Date(n.scheduledTime).toLocaleDateString(),"  ",(($=n.prayerPoints)==null?void 0:$.length)||0," points"]})]})]}),s.jsx($m,{className:`w-5 h-5 text-white/50 transition-transform duration-300 ${y?"rotate-180":""}`})]}),y&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#1a103c] border border-white/10 rounded-xl shadow-2xl overflow-hidden animate-fade-in max-h-[300px] overflow-y-auto custom-scrollbar",children:e.filter(D=>!D.isCompleted&&!T.includes(D._id)).length===0?s.jsx("div",{className:"p-4 text-center text-white/40 text-sm",children:"No schedules available"}):e.filter(D=>!D.isCompleted&&!T.includes(D._id)).map(D=>s.jsxs("div",{className:`flex items-center justify-between p-3 hover:bg-white/5 transition-colors border-b border-white/5 last:border-0 ${t===D._id?"bg-white/5":""}`,children:[s.jsxs("button",{onClick:()=>{r(D._id),b(!1)},className:"flex-1 flex items-center gap-3 text-left",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${t===D._id?"bg-[#ffd700]":"bg-white/20"}`}),s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${t===D._id?"text-[#ffd700]":"text-white/90"}`,children:D.title}),s.jsx("p",{className:"text-xs text-white/50 line-clamp-1",children:D.description||"No description"})]})]}),s.jsx("button",{onClick:Z=>{Z.stopPropagation(),C(E=>[...E,D._id]),t===D._id&&r(null)},className:"p-2 text-white/30 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Hide from list",children:s.jsx(Qx,{className:"w-4 h-4"})})]},D._id))})]}),n&&s.jsxs("div",{className:"mt-6 glass-card p-6 rounded-2xl border border-[#ffd700]/30 bg-gradient-to-br from-[#ffd700]/5 to-purple-500/5 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ffd700]/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-[#ffd700]/20 transition-all duration-700"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:n.title}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-white/60",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(St,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(n.scheduledTime).toLocaleDateString()]}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(wr,{className:"w-3.5 h-3.5 text-[#ffd700]"}),new Date(n.scheduledTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsx("div",{className:"w-10 h-10 rounded-full bg-[#ffd700]/10 flex items-center justify-center border border-[#ffd700]/20",children:s.jsx(le,{className:"w-5 h-5 text-[#ffd700]"})})]}),n.description&&s.jsxs("p",{className:"text-white/70 text-sm mb-4 leading-relaxed border-l-2 border-[#ffd700]/30 pl-3 italic",children:['"',n.description,'"']}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium text-[#ffd700] uppercase tracking-wider",children:[s.jsx(pt,{className:"w-3 h-3"}),"Prayer Focus Points"]}),s.jsxs("div",{className:"grid gap-2",children:[(_=n.prayerPoints)==null?void 0:_.slice(0,3).map((D,Z)=>s.jsxs("div",{className:"flex items-start gap-3 p-2 rounded-lg bg-white/5 border border-white/5 hover:border-white/10 transition-colors",children:[s.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded-full bg-[#ffd700]/10 text-[#ffd700] text-xs font-bold flex-shrink-0 mt-0.5",children:Z+1}),s.jsx("p",{className:"text-sm text-white/80 leading-snug",children:D})]},Z)),(((W=n.prayerPoints)==null?void 0:W.length)||0)>3&&s.jsxs("button",{className:"text-xs text-white/40 hover:text-[#ffd700] transition-colors text-center w-full py-1",children:["+",n.prayerPoints.length-3," more points"]})]})]})]})]})]}),s.jsxs("button",{onClick:P,disabled:!S,className:"w-full group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Continue"}),s.jsx(jn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),p===2&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(wr,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Set Duration"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"Choose how long you want to pray"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6 bg-[#1a103c]/50 rounded-lg p-1 border border-white/10",children:[s.jsx("button",{onClick:()=>h(!1),className:`flex-1 px-4 py-2.5 rounded-md text-sm font-medium transition-all ${x?"text-white/70 hover:text-white/90":"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold"}`,children:"Preset"}),s.jsx("button",{onClick:()=>h(!0),className:`flex-1 px-4 py-2.5 rounded-md text-sm font-medium transition-all ${x?"bg-[#ffd700] text-[#1a103c] shadow-lg font-bold":"text-white/70 hover:text-white/90"}`,children:"Custom"})]}),x?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"glass-card p-6 rounded-xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Hours"}),s.jsx("input",{type:"number",min:"0",max:"23",value:d,onChange:D=>u(Math.max(0,Math.min(23,parseInt(D.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]}),s.jsx("span",{className:"text-white/40 text-3xl md:text-4xl font-bold mt-8",children:":"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-[#ffd700]/80 text-xs font-medium uppercase tracking-wider",children:"Minutes"}),s.jsx("input",{type:"number",min:"0",max:"59",value:m,onChange:D=>g(Math.max(0,Math.min(59,parseInt(D.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold text-white border-white/20 focus:border-[#ffd700]/50"})]})]}),s.jsxs("div",{className:"text-center mt-6 pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Total Duration: "}),s.jsxs("span",{className:"text-[#ffd700] font-bold text-xl",children:[d*60+m," minutes"]})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:f.map(D=>s.jsxs("button",{onClick:()=>l(D),className:`py-4 md:py-5 rounded-xl font-bold text-base md:text-lg transition-all duration-300 ${a===D?"bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] shadow-[0_0_20px_rgba(255,215,0,0.3)] scale-105":"bg-white/5 text-white/70 hover:bg-white/10 hover:text-white border border-white/5 hover:border-[#ffd700]/30"}`,children:[D,"m"]},D))}),s.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Selected: "}),s.jsxs("span",{className:"text-[#ffd700] font-bold text-lg",children:[a," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:j,className:"flex-1 py-3 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:P,disabled:!z,className:"flex-1 group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Continue"}),s.jsx(jn,{className:"w-5 h-5 relative z-10 group-hover:translate-x-1 transition-transform"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]}),p===3&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(Sr,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Ready to Pray"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"Review your settings and begin"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(St,{className:"w-5 h-5 text-[#ffd700]"}),s.jsx("h3",{className:"text-white font-semibold",children:"Prayer Schedule"})]}),s.jsx("p",{className:"text-white text-lg font-bold mb-2",children:n==null?void 0:n.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-white/60",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(le,{className:"w-3 h-3 text-[#ffd700]"}),((Y=n==null?void 0:n.prayerPoints)==null?void 0:Y.length)||0," prayer points"]})})]}),s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-[#ffd700]/30 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(wr,{className:"w-5 h-5 text-[#ffd700]"}),s.jsx("h3",{className:"text-white font-semibold",children:"Duration"})]}),s.jsx("p",{className:"text-white text-2xl font-bold",children:x?`${d}h ${m}m`:`${a} minutes`}),s.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Total: ",x?d*60+m:a," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:j,className:"flex-1 py-3 md:py-4 rounded-full border border-white/10 bg-white/5 text-white/70 hover:bg-white/10 hover:text-white transition-all text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:v,className:"flex-1 group relative overflow-hidden rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] py-3 md:py-4 text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center justify-center gap-2",children:[s.jsx("span",{className:"relative z-10",children:"Start Prayer"}),s.jsx(Sr,{className:"w-5 h-5 relative z-10 fill-current"}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]})]})]})]})}function lv({isOpen:e,onClose:t,onConfirm:r}){return e?s.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-[#1a103c]/80 backdrop-blur-md animate-fade-in",children:s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-3xl max-w-md w-full border border-white/10 shadow-2xl animate-fade-in bg-[#2d1b4e]",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(fd,{className:"w-6 h-6 text-red-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 font-serif",children:"End Prayer Session?"}),s.jsx("p",{className:"text-white/70 text-sm md:text-base leading-relaxed",children:"Are you sure you want to end this prayer session? Your progress will be saved."})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 transition-colors flex-shrink-0 text-white/50 hover:text-white",children:s.jsx(Mr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{onClick:t,className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),s.jsx("button",{onClick:r,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-500 text-white font-bold shadow-lg hover:shadow-red-500/20 transition-all text-base",children:"End Session"})]})]})}):null}function dv({countdown:e,formatTime:t,isPaused:r,activePrayerPointIndex:n,prayerPoints:i,currentScripture:o,activeScriptureIndex:a,nextSwitchTime:l,timePerPoint:d,showSwitchNotification:u,isTonguesMode:m,activePrayer:g,isPlaying:x,pauseChant:h,resumeChant:f,playChant:w,playTongueSong:v,currentChant:p,chants:c,tongueSongs:y,chantUploads:b,tongueUploads:T,playChantForSchedule:C,playTongueSongForSchedule:M,handlePause:S,handleResume:z,handleStop:P,backgroundEffects:j=!0}){const[$,_]=N.useState(!1),[W,Y]=N.useState(!1),D=N.useRef(null);N.useEffect(()=>{const U=A=>{D.current&&!D.current.contains(A.target)&&Y(!1)};return W&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[W]);const Z=()=>{_(!0)},E=()=>{_(!1),P()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative z-10 w-full max-w-5xl mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"md:hidden absolute top-4 right-4 z-20",ref:D,children:[s.jsx("button",{onClick:()=>Y(!W),className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all",children:s.jsx(Zx,{className:"w-5 h-5 text-white"})}),W&&s.jsx("div",{className:"absolute top-12 right-0 glass-strong rounded-xl border border-white/20 shadow-2xl min-w-[200px] overflow-hidden animate-fade-in z-30",children:s.jsxs("button",{onClick:()=>{Y(!1),Z()},className:"w-full px-4 py-3 text-left text-red-400 hover:bg-red-500/20 transition-colors flex items-center gap-2",children:[s.jsx(Fu,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"End Session"})]})})]}),s.jsxs("div",{className:`p-6 md:p-10 lg:p-14 rounded-3xl text-center backdrop-blur-md border border-white/10 shadow-2xl transition-all duration-1000 relative overflow-hidden ${j?"prayer-room-glow":""}`,children:[j&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-[#ffd700]/10 to-transparent rounded-br-full blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-[#ffd700]/10 to-transparent rounded-tl-full blur-2xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#ffd700]/5 via-transparent to-[#ffd700]/5 pointer-events-none"})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:`text-5xl md:text-7xl lg:text-8xl font-bold font-serif mb-3 transition-all ${r?"text-[#ffd700]/50":"text-white"}`,style:{textShadow:"0 0 40px rgba(255, 215, 0, 0.3), 0 0 80px rgba(255, 215, 0, 0.1)",letterSpacing:"0.05em"},children:t(e)}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-[#ffd700]/70 text-xs md:text-sm mb-2 uppercase tracking-widest font-medium",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-[#ffd700] animate-pulse"}),s.jsxs("span",{children:["Prayer Point ",n+1," of ",i.length]})]}),r&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/30 text-[#ffd700] text-xs font-medium mt-2",children:[s.jsx(br,{className:"w-3 h-3"}),"Timer Paused"]})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 md:w-20 md:h-20 rounded-full border border-[#ffd700]/30 bg-[#1a103c]/50 backdrop-blur-md mb-5 md:mb-7 shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:s.jsx("span",{className:"text-[#ffd700] text-2xl md:text-3xl font-serif font-bold",children:n+1})}),s.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-6 md:mb-8 leading-tight px-3 md:px-6 font-serif",style:{textShadow:"0 2px 20px rgba(0, 0, 0, 0.5)"},children:i[n]})]}),!m&&o&&s.jsxs("div",{className:"mt-6 md:mt-10 transition-all duration-1000 ease-in-out relative z-10",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 mb-4 md:mb-6",children:[s.jsx(pt,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700]"}),s.jsx("span",{className:"text-[#ffd700] text-xs md:text-sm font-semibold uppercase tracking-wider",children:"Scripture"})]}),s.jsxs("div",{className:"glass-card p-5 md:p-7 rounded-2xl border border-[#ffd700]/20 max-w-3xl mx-auto bg-[#1a103c]/30",children:[s.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-white/90 italic leading-relaxed animate-fade-in font-serif",style:{textShadow:"0 1px 10px rgba(0, 0, 0, 0.5)"},children:['"',o,'"']}),s.jsxs("div",{className:"mt-4 text-[#ffd700]/60 text-xs font-medium uppercase tracking-widest",children:[a+1," of 5"]})]})]}),s.jsxs("div",{className:"mt-6 md:mt-8 relative z-10 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/40 text-xs uppercase tracking-wider",children:"Progress"}),s.jsxs("span",{className:"text-[#ffd700] text-xs font-mono",children:[Math.floor(l/60),":",(l%60).toString().padStart(2,"0")," remaining"]})]}),s.jsx("div",{className:"w-full h-1.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)] transition-all duration-1000 ease-linear",style:{width:`${Math.max(0,Math.min(100,(d-l)/d*100))}%`}})})]}),s.jsx("div",{className:"flex items-center justify-center gap-1.5 mt-4",children:i.map((U,A)=>s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${A===n?"w-8 bg-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.5)]":A<n?"w-1.5 bg-[#ffd700]/50":"w-1.5 bg-white/10"}`},A))})]}),u&&n<i.length-1&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-yellow-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-300",children:[s.jsx(le,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold text-sm md:text-base",children:["Switching to Prayer Point ",n+2," in ",Math.ceil(l)," seconds..."]})]})}),m&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-purple-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[s.jsx(le,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Speaking in Tongues"})]})}),r&&s.jsxs("div",{className:"mt-4 text-yellow-400 text-sm font-medium flex items-center justify-center gap-2 relative z-10",children:[s.jsx(br,{className:"w-4 h-4"}),"Prayer Paused"]}),s.jsxs("div",{className:"mt-8 md:mt-12 flex items-center justify-center gap-3 md:gap-6 flex-wrap relative z-10 pb-8",children:[((g==null?void 0:g.selectedMusicId)&&!m||(g==null?void 0:g.selectedTongueSongId)&&m)&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm",children:[s.jsx(ke,{className:"w-4 h-4 text-[#ffd700]"}),x?s.jsx("button",{onClick:()=>h(),className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Pause Music"}):s.jsx("button",{onClick:async()=>{m&&(g!=null&&g.selectedTongueSongId)?(p==null?void 0:p.id)===g.selectedTongueSongId?f():await M(g):g!=null&&g.selectedMusicId&&((p==null?void 0:p.id)===g.selectedMusicId?f():await C(g))},className:"text-white/80 hover:text-white text-sm transition-colors font-medium",children:"Play Music"})]}),r?s.jsxs("button",{onClick:z,className:"group relative overflow-hidden px-8 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-sm md:text-base shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s.jsx(tv,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Continue Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Continue"})]}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):s.jsxs("button",{onClick:S,className:"px-6 py-3 rounded-full border border-white/20 bg-white/5 text-white hover:bg-white/10 transition-all text-sm md:text-base font-medium flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Pause Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Pause"})]}),s.jsxs("button",{onClick:Z,className:"hidden md:flex px-6 py-3 rounded-full border border-red-500/30 bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all text-sm md:text-base font-medium items-center gap-2",children:[s.jsx(Fu,{className:"w-4 h-4"}),"End Session"]})]})]})]}),s.jsx(lv,{isOpen:$,onClose:()=>_(!1),onConfirm:E})]})}function uv({isTonguesMode:e,timeRemaining:t,prayerPoint:r}){const[n,i]=N.useState([]),[o,a]=N.useState([]),l=N.useRef([]),d=N.useRef(0);N.useEffect(()=>{if(!e||l.current.length>0)return;(async()=>{var h,f,w,v,p;try{const b=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Generate 10 powerful, motivational messages for someone speaking in tongues during prayer. Make them urgent, inspiring, and destiny-focused. Examples: "Your life depends on this!", "Don't stop now - your destiny is being shaped!", "Keep going - breakthrough is coming!", "Speak more - your future is in your mouth!", "Your breakthrough is in your tongue!". Return them as a simple list, one per line, each message should be 5-15 words. Make them passionate and encouraging.`}]}]})});if(!b.ok)throw new Error("Failed to generate messages");let M=(((p=(v=(w=(f=(h=(await b.json()).candidates)==null?void 0:h[0])==null?void 0:f.content)==null?void 0:w.parts)==null?void 0:v[0])==null?void 0:p.text)||"").split(`
`).map(S=>S.trim()).filter(S=>S.length>5&&S.length<100).slice(0,10);M.length===0&&(M=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"]),l.current=M,i(M)}catch(c){console.error("Error generating motivational messages:",c);const y=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"];l.current=y,i(y)}})()},[e]),N.useEffect(()=>{if(!e||n.length===0){a([]);return}const x=setInterval(()=>{if(Math.random()>.3){const h=n[Math.floor(Math.random()*n.length)],f={id:d.current++,message:h,x:Math.random()*70+15,y:Math.random()*60+20,delay:Math.random()*.5};a(w=>[...w,f]),setTimeout(()=>{a(w=>w.filter(v=>v.id!==f.id))},4e3)}},3e3);return()=>clearInterval(x)},[e,n]);const[u,m]=N.useState(t);if(N.useEffect(()=>{if(!e){m(0);return}m(t);const x=setInterval(()=>{m(h=>Math.max(0,h-1))},1e3);return()=>clearInterval(x)},[e,t]),!e)return null;const g=x=>{if(!x||x<=0)return"0:00";const h=Math.floor(x/60),f=Math.floor(x%60);return`${h}:${String(f).padStart(2,"0")}`};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",style:{padding:"80px 20px 100px 20px"},children:o.map(x=>{const h=Math.max(5,Math.min(85,x.x)),f=Math.max(10,Math.min(80,x.y));return s.jsx("div",{className:"absolute floating-popup",style:{left:`${h}%`,top:`${f}%`,animationDelay:`${x.delay}s`,transform:"translate(-50%, -50%)",maxWidth:"calc(100vw - 40px)"},children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-6 md:py-4 rounded-xl md:rounded-2xl border border-[#ffd700]/30 shadow-[0_0_20px_rgba(255,215,0,0.2)] backdrop-blur-xl max-w-[90vw] md:max-w-none bg-[#1a103c]/60",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(gs,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700] animate-pulse flex-shrink-0"}),s.jsx("p",{className:"text-white font-bold text-sm md:text-lg lg:text-xl break-words font-serif",children:x.message})]})})},x.id)})}),s.jsx("div",{className:"fixed top-16 md:top-20 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none px-4",children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-8 md:py-4 rounded-xl md:rounded-2xl border border-[#ffd700]/50 shadow-[0_0_30px_rgba(255,215,0,0.3)] animate-pulse bg-[#1a103c]/80",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(le,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700] flex-shrink-0"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-[#ffd700] font-bold text-xl md:text-2xl mb-1 font-serif",children:g(u)}),s.jsx("p",{className:"text-white/90 text-xs md:text-sm font-medium uppercase tracking-wider",children:"Keep Speaking in Tongues!"})]})]})})})]})}function cv(){const[e,t]=N.useState(!0),{userId:r,schedules:n,activePrayer:i,countdown:o,isPraying:a,isPaused:l,formatTime:d,startPrayer:u,stopPrayer:m,pausePrayer:g,resumePrayer:x,settings:h}=Et(),{playChant:f,playTongueSong:w,pauseChant:v,resumeChant:p,stopChant:c,currentChant:y,isPlaying:b,chants:T,tongueSongs:C}=Mo();dd();const M=kt(se.uploads.getByUser,r?{userId:r}:"skip"),S=(M||[]).filter(X=>!X.uploadType||X.uploadType==="chant"),z=(M||[]).filter(X=>X.uploadType==="tongue"),P=(h==null?void 0:h.defaultPrayerDuration)??15,[j,$]=N.useState(P);N.useEffect(()=>{h!=null&&h.defaultPrayerDuration&&$(h.defaultPrayerDuration)},[h==null?void 0:h.defaultPrayerDuration]);const[_,W]=N.useState(null),[Y,D]=N.useState(0),[Z,E]=N.useState(15),[U,A]=N.useState(!1),[Q,K]=N.useState(0),[ve,k]=N.useState(0),[q,I]=N.useState({}),[O,ne]=N.useState(!1),[Se,Zt]=N.useState(0),[Ae,Ve]=N.useState(!1),[yt,Me]=N.useState(0),me=N.useRef(null),er=120,we=(i==null?void 0:i.prayerPoints)||[],Gr=U?Y*60+Z:j,Be=we.length>0?Gr*60/we.length:0,De=Be>0?Be/5:60,ee=30,_o=[5,10,15,20,30,45,60],he=n.find(X=>X._id===_),Qs=N.useRef({}),md=async(X,V)=>{var Pe,G,ce,zn,Xr;if(q[V]||Qs.current[V])return q[V]||Qs.current[V];try{const _r="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",tr=`Generate exactly 5 motivational Bible verses or spiritual encouragements related to this prayer point: "${X}". Return them as a simple list, one per line, with format: "Book Chapter:Verse - Quote". Make them encouraging and relevant to the prayer theme.`,Ys=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${_r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:tr}]}]})});if(!Ys.ok)throw new Error("Failed to generate scriptures");let Ft=(((Xr=(zn=(ce=(G=(Pe=(await Ys.json()).candidates)==null?void 0:Pe[0])==null?void 0:G.content)==null?void 0:ce.parts)==null?void 0:zn[0])==null?void 0:Xr.text)||"").split(`
`).map(Un=>Un.trim()).filter(Un=>Un.length>10).slice(0,5);for(Ft.length===0&&(Ft=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"]);Ft.length<5;)Ft.push("Psalm 23:1 - The Lord is my shepherd, I shall not want");return Ft=Ft.slice(0,5),Qs.current[V]=Ft,I(Un=>({...Un,[V]:Ft})),Ft}catch(_r){console.error("Error generating scriptures:",_r);const tr=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"];return Qs.current[V]=tr,I(Ys=>({...Ys,[V]:tr})),tr}};N.useEffect(()=>{me.current||(me.current=()=>{if((h==null?void 0:h.soundEffectsEnabled)!==!1)try{const X=new(window.AudioContext||window.webkitAudioContext),V=X.createOscillator(),Pe=X.createGain();V.connect(Pe),Pe.connect(X.destination),V.frequency.value=800,V.type="sine",Pe.gain.setValueAtTime(.3,X.currentTime),Pe.gain.exponentialRampToValueAtTime(.01,X.currentTime+.5),V.start(X.currentTime),V.stop(X.currentTime+.5)}catch(X){console.error("Error playing notification sound:",X)}})},[h]),N.useEffect(()=>{if(!a||l||we.length===0||Be===0)return;const X=Gr*60,V=(i==null?void 0:i.tonguesMode)||"none",Pe=setInterval(()=>{const G=X-o;if(V==="start"&&G<er&&!Ae)Ae||(Ve(!0),Me(Date.now()/1e3),Fn(i));else if(V==="start"&&G>=er&&Ae)Ve(!1),Me(0),Hs(i);else if(V==="perPoint"){Math.min(Math.floor(G/Be),we.length-1);const tr=G%Be;tr<er?(!Ae||yt===0)&&(Ve(!0),Me(Date.now()/1e3-tr),Fn(i)):Ae&&(Ve(!1),Me(0),Hs(i))}const ce=Math.min(Math.floor(G/Be),we.length-1),zn=G%Be,Xr=Be-zn;Zt(Xr),Xr<=ee&&Xr>0&&ce<we.length-1?O||(ne(!0),me.current&&me.current()):ne(!1),ce!==Q&&ce<we.length&&(me.current&&me.current(),K(ce),k(0),ne(!1),md(we[ce],ce),L.success(`Now praying: Prayer Point ${ce+1}`,{duration:3e3,icon:""}));const _r=Math.min(Math.floor(zn/De),4);_r!==ve&&_r<5&&k(_r)},1e3);return()=>clearInterval(Pe)},[a,l,we,Be,De,o,Gr,Q,ve,O,Ae,yt,i]),N.useEffect(()=>{a&&we.length>0&&!q[0]&&md(we[0],0)},[a,we]);const Hs=async(X=null)=>{const V=X||i;if(!(V!=null&&V.selectedMusicId))return;const Pe=T.find(G=>G.id===V.selectedMusicId);if(Pe)f(Pe.id);else{const G=S.find(ce=>ce._id===V.selectedMusicId);if(G){const ce=G.imageKitUrl;ce?f(G._id,ce,G.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for chant")}}},Fn=async(X=null)=>{const V=X||i;if(!(V!=null&&V.selectedTongueSongId)){console.log("No tongue song selected in schedule:",V);return}console.log("Playing tongue song for schedule:",V.selectedTongueSongId);const Pe=C.find(G=>G.id===V.selectedTongueSongId);if(Pe)w(Pe.id);else{const G=z.find(ce=>ce._id===V.selectedTongueSongId);if(G){const ce=G.imageKitUrl;ce?w(G._id,ce,G.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for tongue song")}else console.error("Tongue song not found:",V.selectedTongueSongId)}},Bm=async()=>{var X;if(_){const V=U?Y*60+Z:j;if(V<=0){L.error("Please set a valid prayer duration");return}if(!(he!=null&&he.prayerPoints)||he.prayerPoints.length===0){L.error("Please select a schedule with prayer points");return}K(0),k(0),I({}),Ve(!1),Me(0),u(_,V);const Pe=(he==null?void 0:he.tonguesMode)||"none";if(console.log("Starting prayer with tongues mode:",Pe,"selectedTongueSongId:",he==null?void 0:he.selectedTongueSongId),(h==null?void 0:h.autoPlayMusic)!==!1){if(Pe==="start"&&(he!=null&&he.selectedTongueSongId))Ve(!0),Me(Date.now()/1e3),await Fn(he);else if(Pe==="perPoint"&&(he!=null&&he.selectedTongueSongId))Ve(!0),Me(Date.now()/1e3),await Fn(he);else if(he!=null&&he.selectedMusicId)await Hs(he);else if(h!=null&&h.preferredChant){const G=T.find(ce=>ce.id===h.preferredChant)||S.find(ce=>ce._id===h.preferredChant);G&&(G.url?f(G.id,G.url,G.name):G.imageKitUrl&&f(G._id||G.id,G.imageKitUrl,((X=G.fileName)==null?void 0:X.replace(/\.[^/.]+$/,""))||G.name))}}L.success("Entering Prayer Room...")}else L.error("Please select a prayer schedule")},Wm=()=>{g(),L.success("Prayer paused")},Qm=()=>{x(),L.success("Prayer resumed")},Hm=()=>{m(),c(),K(0),k(0),I({}),Ve(!1),Me(0),t(!0),L.success("Prayer session ended")},Ym=X=>{a||$(Math.max(5,Math.min(60,X)))};return(q[Q]||[])[ve],s.jsxs("div",{className:"w-full h-full min-h-[calc(100vh-140px)] md:min-h-[calc(100vh-120px)] relative rounded-3xl overflow-hidden border border-amber-400/20 shadow-2xl shadow-purple-900/50",children:[s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0f0728] via-[#1a0b3d] via-[#2d1b4e] to-[#0f0728] z-0",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3/4 h-1/2 bg-gradient-radial from-amber-400/10 via-yellow-500/5 to-transparent blur-3xl opacity-40 animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-gradient-radial from-purple-500/10 via-indigo-600/5 to-transparent blur-3xl opacity-30"}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-amber-300/40 via-amber-400/20 to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 left-1/2 w-px h-full bg-gradient-to-b from-white/30 via-purple-300/20 to-transparent animate-pulse",style:{animationDelay:"0.5s"}}),s.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-indigo-300/40 via-indigo-400/20 to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(30)].map((X,V)=>s.jsx("div",{className:"absolute rounded-full bg-amber-200/20 blur-sm animate-float",style:{width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*4+4}s`,boxShadow:"0 0 10px rgba(251, 191, 36, 0.3)"}},V)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-purple-950/30 via-transparent to-indigo-950/30"})]}),e&&s.jsx("div",{className:"absolute inset-0 z-40 flex items-center justify-center",children:s.jsx(ov,{onEnter:()=>t(!1)})}),s.jsx("div",{className:"relative z-10 h-full overflow-y-auto custom-scrollbar",children:a?s.jsxs("div",{className:"min-h-full flex items-center justify-center p-3 md:p-4 relative",children:[(h==null?void 0:h.prayerRoomBackgroundEffects)!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-1 h-full bg-gradient-to-b from-purple-400/20 via-transparent to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 right-1/4 w-1 h-full bg-gradient-to-b from-indigo-400/20 via-transparent to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(20)].map((X,V)=>s.jsx("div",{className:"absolute rounded-full bg-white/10 blur-sm animate-float",style:{width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+3}s`}},V))]}),we.length>0&&s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 p-8 pointer-events-none",children:we.map((X,V)=>V!==Q&&s.jsx("div",{className:"glass-card p-4 w-full max-w-2xl opacity-20 blur-sm transition-all duration-1000",style:{transform:`translateY(${(V-Q)*20}px)`},children:s.jsx("p",{className:"text-white/30 text-sm text-center",children:X})},V))}),s.jsxs("div",{className:"flex-1 relative z-0",children:[s.jsx(dv,{countdown:o,formatTime:d,isPaused:l,activePrayerPointIndex:Q,prayerPoints:we,currentScripture:q[Q],activeScriptureIndex:ve,nextSwitchTime:Se,timePerPoint:Be,showSwitchNotification:O,isTonguesMode:Ae,activePrayer:i,isPlaying:b,pauseChant:v,resumeChant:p,playChant:f,playTongueSong:w,currentChant:y,chants:T,tongueSongs:C,chantUploads:S,tongueUploads:z,playChantForSchedule:Hs,playTongueSongForSchedule:Fn,handlePause:Wm,handleResume:Qm,handleStop:Hm,backgroundEffects:(h==null?void 0:h.prayerRoomBackgroundEffects)??!0}),Ae&&!l&&((h==null?void 0:h.showMotivationalPopups)??!0)&&s.jsx(uv,{})]})]}):s.jsx("div",{className:"p-4 md:p-8",children:s.jsx(av,{schedules:n,selectedSchedule:_,setSelectedSchedule:W,selectedScheduleData:he,chants:T,chantUploads:S,selectedDuration:j,setSelectedDuration:$,customHours:Y,setCustomHours:D,customMinutes:Z,setCustomMinutes:E,useCustomTime:U,setUseCustomTime:A,durations:_o,adjustDuration:Ym,handleStart:Bm})})})]})}function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function Hr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ue(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function oe(e){ue(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ao(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function fv(e,t){ue(2,arguments);var r=oe(e).getTime(),n=Hr(t);return new Date(r+n)}var mv={};function Ws(){return mv}function fl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function _i(e,t){ue(2,arguments);var r=oe(e),n=oe(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function hv(e){return ue(1,arguments),e instanceof Date||ao(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function pv(e){if(ue(1,arguments),!hv(e)&&typeof e!="number")return!1;var t=oe(e);return!isNaN(Number(t))}function gv(e,t){ue(2,arguments);var r=oe(e),n=oe(t),i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return i*12+o}function xv(e,t){return ue(2,arguments),oe(e).getTime()-oe(t).getTime()}var vv={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},yv="trunc";function wv(e){return vv[yv]}function bv(e){ue(1,arguments);var t=oe(e);return t.setHours(23,59,59,999),t}function Nv(e){ue(1,arguments);var t=oe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function jv(e){ue(1,arguments);var t=oe(e);return bv(t).getTime()===Nv(t).getTime()}function kv(e,t){ue(2,arguments);var r=oe(e),n=oe(t),i=_i(r,n),o=Math.abs(gv(r,n)),a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);var l=_i(r,n)===-i;jv(oe(e))&&o===1&&_i(e,n)===1&&(l=!1),a=i*(o-Number(l))}return a===0?0:a}function Sv(e,t,r){ue(2,arguments);var n=xv(e,t)/1e3;return wv()(n)}function Pv(e,t){ue(2,arguments);var r=Hr(t);return fv(e,-r)}var Cv=864e5;function Tv(e){ue(1,arguments);var t=oe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/Cv)+1}function lo(e){ue(1,arguments);var t=1,r=oe(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Am(e){ue(1,arguments);var t=oe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=lo(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=lo(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function Ev(e){ue(1,arguments);var t=Am(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=lo(r);return n}var Mv=6048e5;function _v(e){ue(1,arguments);var t=oe(e),r=lo(t).getTime()-Ev(t).getTime();return Math.round(r/Mv)+1}function uo(e,t){var r,n,i,o,a,l,d,u;ue(1,arguments);var m=Ws(),g=Hr((r=(n=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:m.weekStartsOn)!==null&&n!==void 0?n:(d=m.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=oe(e),h=x.getUTCDay(),f=(h<g?7:0)+h-g;return x.setUTCDate(x.getUTCDate()-f),x.setUTCHours(0,0,0,0),x}function Dm(e,t){var r,n,i,o,a,l,d,u;ue(1,arguments);var m=oe(e),g=m.getUTCFullYear(),x=Ws(),h=Hr((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:x.firstWeekContainsDate)!==null&&n!==void 0?n:(d=x.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(g+1,0,h),f.setUTCHours(0,0,0,0);var w=uo(f,t),v=new Date(0);v.setUTCFullYear(g,0,h),v.setUTCHours(0,0,0,0);var p=uo(v,t);return m.getTime()>=w.getTime()?g+1:m.getTime()>=p.getTime()?g:g-1}function Rv(e,t){var r,n,i,o,a,l,d,u;ue(1,arguments);var m=Ws(),g=Hr((r=(n=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:m.firstWeekContainsDate)!==null&&n!==void 0?n:(d=m.locale)===null||d===void 0||(u=d.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),x=Dm(e,t),h=new Date(0);h.setUTCFullYear(x,0,g),h.setUTCHours(0,0,0,0);var f=uo(h,t);return f}var $v=6048e5;function Iv(e,t){ue(1,arguments);var r=oe(e),n=uo(r,t).getTime()-Rv(r,t).getTime();return Math.round(n/$v)+1}function te(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var sr={y:function(t,r){var n=t.getUTCFullYear(),i=n>0?n:1-n;return te(r==="yy"?i%100:i,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):te(n+1,2)},d:function(t,r){return te(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return te(t.getUTCHours()%12||12,r.length)},H:function(t,r){return te(t.getUTCHours(),r.length)},m:function(t,r){return te(t.getUTCMinutes(),r.length)},s:function(t,r){return te(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,n-3));return te(o,r.length)}},en={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ov={G:function(t,r,n){var i=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return n.ordinalNumber(o,{unit:"year"})}return sr.y(t,r)},Y:function(t,r,n,i){var o=Dm(t,i),a=o>0?o:1-o;if(r==="YY"){var l=a%100;return te(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):te(a,r.length)},R:function(t,r){var n=Am(t);return te(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return te(n,r.length)},Q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(i);case"QQ":return te(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,r,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(i);case"qq":return te(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,r,n){var i=t.getUTCMonth();switch(r){case"M":case"MM":return sr.M(t,r);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,r,n){var i=t.getUTCMonth();switch(r){case"L":return String(i+1);case"LL":return te(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,r,n,i){var o=Iv(t,i);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):te(o,r.length)},I:function(t,r,n){var i=_v(t);return r==="Io"?n.ordinalNumber(i,{unit:"week"}):te(i,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):sr.d(t,r)},D:function(t,r,n){var i=Tv(t);return r==="Do"?n.ordinalNumber(i,{unit:"dayOfYear"}):te(i,r.length)},E:function(t,r,n){var i=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,r,n,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return te(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,i){var o=t.getUTCDay(),a=(o-i.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return te(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var i=t.getUTCDay(),o=i===0?7:i;switch(r){case"i":return String(o);case"ii":return te(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,r,n){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var i=t.getUTCHours(),o;switch(i===12?o=en.noon:i===0?o=en.midnight:o=i/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var i=t.getUTCHours(),o;switch(i>=17?o=en.evening:i>=12?o=en.afternoon:i>=4?o=en.morning:o=en.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return sr.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):sr.H(t,r)},K:function(t,r,n){var i=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(i,{unit:"hour"}):te(i,r.length)},k:function(t,r,n){var i=t.getUTCHours();return i===0&&(i=24),r==="ko"?n.ordinalNumber(i,{unit:"hour"}):te(i,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):sr.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):sr.s(t,r)},S:function(t,r){return sr.S(t,r)},X:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Uu(a);case"XXXX":case"XX":return Ir(a);case"XXXXX":case"XXX":default:return Ir(a,":")}},x:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"x":return Uu(a);case"xxxx":case"xx":return Ir(a);case"xxxxx":case"xxx":default:return Ir(a,":")}},O:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zu(a,":");case"OOOO":default:return"GMT"+Ir(a,":")}},z:function(t,r,n,i){var o=i._originalDate||t,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zu(a,":");case"zzzz":default:return"GMT"+Ir(a,":")}},t:function(t,r,n,i){var o=i._originalDate||t,a=Math.floor(o.getTime()/1e3);return te(a,r.length)},T:function(t,r,n,i){var o=i._originalDate||t,a=o.getTime();return te(a,r.length)}};function zu(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),o=n%60;if(o===0)return r+String(i);var a=t;return r+String(i)+a+te(o,2)}function Uu(e,t){if(e%60===0){var r=e>0?"-":"+";return r+te(Math.abs(e)/60,2)}return Ir(e,t)}function Ir(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),o=te(Math.floor(i/60),2),a=te(i%60,2);return n+o+r+a}var qu=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Fm=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Lv=function(t,r){var n=t.match(/(P+)(p+)?/)||[],i=n[1],o=n[2];if(!o)return qu(t,r);var a;switch(i){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",qu(i,r)).replace("{{time}}",Fm(o,r))},Av={p:Fm,P:Lv},Dv=["D","DD"],Fv=["YY","YYYY"];function zv(e){return Dv.indexOf(e)!==-1}function Uv(e){return Fv.indexOf(e)!==-1}function Vu(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var qv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Vv=function(t,r,n){var i,o=qv[t];return typeof o=="string"?i=o:r===1?i=o.one:i=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};function ca(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Bv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Wv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hv={date:ca({formats:Bv,defaultWidth:"full"}),time:ca({formats:Wv,defaultWidth:"full"}),dateTime:ca({formats:Qv,defaultWidth:"full"})},Yv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kv=function(t,r,n,i){return Yv[t]};function Xn(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",i;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=e.formattingValues[a]||e.formattingValues[o]}else{var l=e.defaultWidth,d=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[d]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return i[u]}}var Gv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ey={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ty={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ry=function(t,r){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ny={ordinalNumber:ry,era:Xn({values:Gv,defaultWidth:"wide"}),quarter:Xn({values:Xv,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Xn({values:Jv,defaultWidth:"wide"}),day:Xn({values:Zv,defaultWidth:"wide"}),dayPeriod:Xn({values:ey,defaultWidth:"wide",formattingValues:ty,defaultFormattingWidth:"wide"})};function Jn(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?iy(l,function(g){return g.test(a)}):sy(l,function(g){return g.test(a)}),u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;var m=t.slice(a.length);return{value:u,rest:m}}}function sy(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function iy(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function oy(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var l=t.slice(i.length);return{value:a,rest:l}}}var ay=/^(\d+)(th|st|nd|rd)?/i,ly=/\d+/i,dy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uy={any:[/^b/i,/^(a|c)/i]},cy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fy={any:[/1/i,/2/i,/3/i,/4/i]},my={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},py={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yy={ordinalNumber:oy({matchPattern:ay,parsePattern:ly,valueCallback:function(t){return parseInt(t,10)}}),era:Jn({matchPatterns:dy,defaultMatchWidth:"wide",parsePatterns:uy,defaultParseWidth:"any"}),quarter:Jn({matchPatterns:cy,defaultMatchWidth:"wide",parsePatterns:fy,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Jn({matchPatterns:my,defaultMatchWidth:"wide",parsePatterns:hy,defaultParseWidth:"any"}),day:Jn({matchPatterns:py,defaultMatchWidth:"wide",parsePatterns:gy,defaultParseWidth:"any"}),dayPeriod:Jn({matchPatterns:xy,defaultMatchWidth:"any",parsePatterns:vy,defaultParseWidth:"any"})},zm={code:"en-US",formatDistance:Vv,formatLong:Hv,formatRelative:Kv,localize:ny,match:yy,options:{weekStartsOn:0,firstWeekContainsDate:1}},wy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,by=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ny=/^'([^]*?)'?$/,jy=/''/g,ky=/[a-zA-Z]/;function pn(e,t,r){var n,i,o,a,l,d,u,m,g,x,h,f,w,v;ue(2,arguments);var p=String(t),c=Ws(),y=(n=(i=void 0)!==null&&i!==void 0?i:c.locale)!==null&&n!==void 0?n:zm,b=Hr((o=(a=(l=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&l!==void 0?l:c.firstWeekContainsDate)!==null&&a!==void 0?a:(u=c.locale)===null||u===void 0||(m=u.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=Hr((g=(x=(h=(f=void 0)!==null&&f!==void 0?f:void 0)!==null&&h!==void 0?h:c.weekStartsOn)!==null&&x!==void 0?x:(w=c.locale)===null||w===void 0||(v=w.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&g!==void 0?g:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var C=oe(e);if(!pv(C))throw new RangeError("Invalid time value");var M=fl(C),S=Pv(C,M),z={firstWeekContainsDate:b,weekStartsOn:T,locale:y,_originalDate:C},P=p.match(by).map(function(j){var $=j[0];if($==="p"||$==="P"){var _=Av[$];return _(j,y.formatLong)}return j}).join("").match(wy).map(function(j){if(j==="''")return"'";var $=j[0];if($==="'")return Sy(j);var _=Ov[$];if(_)return Uv(j)&&Vu(j,t,String(e)),zv(j)&&Vu(j,t,String(e)),_(S,j,y.localize,z);if($.match(ky))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");return j}).join("");return P}function Sy(e){var t=e.match(Ny);return t?t[1].replace(jy,"'"):e}function Um(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Py(e){return Um({},e)}var Bu=1440,Cy=2520,fa=43200,Ty=86400;function Ey(e,t,r){var n,i;ue(2,arguments);var o=Ws(),a=(n=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:o.locale)!==null&&n!==void 0?n:zm;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=_i(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var d=Um(Py(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,m;l>0?(u=oe(t),m=oe(e)):(u=oe(e),m=oe(t));var g=Sv(m,u),x=(fl(m)-fl(u))/1e3,h=Math.round((g-x)/60),f;if(h<2)return r!=null&&r.includeSeconds?g<5?a.formatDistance("lessThanXSeconds",5,d):g<10?a.formatDistance("lessThanXSeconds",10,d):g<20?a.formatDistance("lessThanXSeconds",20,d):g<40?a.formatDistance("halfAMinute",0,d):g<60?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",1,d):h===0?a.formatDistance("lessThanXMinutes",1,d):a.formatDistance("xMinutes",h,d);if(h<45)return a.formatDistance("xMinutes",h,d);if(h<90)return a.formatDistance("aboutXHours",1,d);if(h<Bu){var w=Math.round(h/60);return a.formatDistance("aboutXHours",w,d)}else{if(h<Cy)return a.formatDistance("xDays",1,d);if(h<fa){var v=Math.round(h/Bu);return a.formatDistance("xDays",v,d)}else if(h<Ty)return f=Math.round(h/fa),a.formatDistance("aboutXMonths",f,d)}if(f=kv(m,u),f<12){var p=Math.round(h/fa);return a.formatDistance("xMonths",p,d)}else{var c=f%12,y=Math.floor(f/12);return c<3?a.formatDistance("aboutXYears",y,d):c<9?a.formatDistance("overXYears",y,d):a.formatDistance("almostXYears",y+1,d)}}function My(e,t){return ue(1,arguments),Ey(e,Date.now(),t)}function Wu({scheduleId:e,userId:t,currentPoints:r=[],onPointsChange:n}){const[i,o]=N.useState(!1),[a,l]=N.useState(!1),[d,u]=N.useState(!1),[m,g]=N.useState(!1),[x,h]=N.useState(""),[f,w]=N.useState(""),[v,p]=N.useState(r||[]),c=kt(se.aiPrayerPoints.getByUser,t?{userId:t}:"skip")||[],y=Ke(se.savedPrayerPoints.save);Ke(se.savedPrayerPoints.remove);const b=async()=>{var S,z,P,j,$;if(!x.trim()){L.error("Please enter a prompt");return}o(!0);try{const _="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",W=`Generate 5-7 specific, meaningful prayer points based on: ${x}. Format the response as a numbered list (1. 2. 3. etc.) with each point on a new line. Make each point specific, actionable, and spiritually meaningful.`,Y=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${_}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:W}]}]})});if(!Y.ok)throw new Error("API error");const Z=(($=(j=(P=(z=(S=(await Y.json()).candidates)==null?void 0:S[0])==null?void 0:z.content)==null?void 0:P.parts)==null?void 0:j[0])==null?void 0:$.text)||"";let E=Z.split(`
`).map(A=>A.trim()).filter(A=>A&&(A.startsWith("-")||A.startsWith("")||A.match(/^\d+\./))).map(A=>A.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(A=>A.length>10).slice(0,7);E.length===0&&(E=Z.split(/\n+/).map(A=>A.trim()).filter(A=>A.length>20).slice(0,7));const U=[...v,...E];p(U),n(U),await y({userId:t,title:`Generated: ${x.substring(0,30)}...`,points:E,prayerScheduleId:e}),L.success(`${E.length} prayer points generated and added!`),l(!1),h("")}catch(_){console.error("Error generating prayer points:",_),L.error("Failed to generate prayer points")}finally{o(!1)}},T=()=>{if(f.trim()){const S=[...v,f.trim()];p(S),n(S),w(""),g(!1),L.success("Prayer point added!")}},C=S=>{const z=v.filter((P,j)=>j!==S);p(z),n(z),L.success("Prayer point removed")},M=S=>{const z=[...v,...S.points];p(z),n(z),u(!1),L.success(`${S.points.length} prayer points added!`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(le,{className:"w-5 h-5 text-indigo-400"}),"Prayer Points"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(le,{className:"w-3 h-3 inline mr-1"}),"Generate"]}),s.jsx("button",{onClick:()=>u(!0),className:"btn-secondary text-xs px-3 py-1",children:"Select"}),s.jsxs("button",{onClick:()=>g(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(Ds,{className:"w-3 h-3 inline mr-1"}),"Add"]})]})]}),v.length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:v.map((S,z)=>s.jsxs("div",{className:"flex items-start gap-2 glass-card p-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:z+1})}),s.jsx("p",{className:"text-white/90 flex-1 text-sm",children:S}),s.jsx("button",{onClick:()=>C(z),className:"p-1 rounded hover:bg-red-600/20 text-red-400 transition-colors",children:s.jsx(Mr,{className:"w-4 h-4"})})]},z))}):s.jsx("div",{className:"glass-card p-4 text-center",children:s.jsx("p",{className:"text-white/60 text-sm",children:"No prayer points added yet"})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Generate Prayer Points"}),s.jsx("textarea",{value:x,onChange:S=>h(S.target.value),placeholder:"Describe what you want to pray about...",className:"input-glass w-full mb-4",rows:"4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:b,disabled:i,className:"btn-primary flex-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(oo,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(le,{className:"w-4 h-4 inline mr-2"}),"Generate"]})}),s.jsx("button",{onClick:()=>{l(!1),h("")},className:"btn-secondary",children:"Cancel"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Select Saved Prayer Points"}),c.length===0?s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"No saved prayer points yet"}):s.jsx("div",{className:"space-y-2 mb-4",children:c.map(S=>s.jsxs("div",{className:"glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold text-sm",children:S.title||"Saved Prayer Points"}),s.jsxs("button",{onClick:()=>M(S),className:"btn-secondary text-xs px-2 py-1",children:[s.jsx(In,{className:"w-3 h-3 inline mr-1"}),"Select"]})]}),s.jsxs("p",{className:"text-white/60 text-xs",children:[S.points.length," points"]})]},S._id))}),s.jsx("button",{onClick:()=>u(!1),className:"btn-secondary w-full",children:"Close"})]})}),m&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Prayer Point"}),s.jsx("textarea",{value:f,onChange:S=>w(S.target.value),placeholder:"Enter your prayer point...",className:"input-glass w-full mb-4",rows:"3"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:T,className:"btn-primary flex-1",children:[s.jsx(Ds,{className:"w-4 h-4 inline mr-2"}),"Add Point"]}),s.jsx("button",{onClick:()=>{g(!1),w("")},className:"btn-secondary",children:"Cancel"})]})]})})]})}function mt({value:e,onChange:t,options:r,placeholder:n="Select an option...",className:i="",disabled:o=!1}){const[a,l]=N.useState(!1),d=N.useRef(null);N.useEffect(()=>{const m=g=>{d.current&&!d.current.contains(g.target)&&l(!1)};return a&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[a]);const u=r.find(m=>m.value===e);return s.jsxs("div",{className:`relative ${i}`,ref:d,children:[s.jsxs("button",{type:"button",onClick:()=>!o&&l(!a),disabled:o,className:`w-full input-glass text-left flex items-center justify-between ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("span",{className:`${u?"text-white":"text-white/50"}`,children:u?u.label:n}),s.jsx($m,{className:`w-4 h-4 text-white/70 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-50 w-full mt-2 rounded-xl border border-white/30 shadow-2xl max-h-60 overflow-y-auto bg-gradient-to-br from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-xl",children:s.jsx("div",{className:"py-2",children:r.map(m=>s.jsxs("button",{type:"button",onClick:()=>{t(m.value),l(!1)},className:`w-full text-left px-4 py-3 text-sm md:text-base transition-colors flex items-center justify-between ${e===m.value?"bg-indigo-600/50 text-white":"text-white/90 hover:bg-white/20 hover:text-white"}`,children:[s.jsx("span",{children:m.label}),e===m.value&&s.jsx(In,{className:"w-4 h-4 text-indigo-300"})]},m.value))})})]})}function _y(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-6 md:h-7 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-2/3"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-24"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-16"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-20"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-24"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg flex-1 md:flex-none w-20"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-28"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-10"})]})]})}function Ry({count:e=4}){return s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Array.from({length:e}).map((t,r)=>s.jsx(_y,{},r))})}function $y(){var K,ve;const{userId:e,schedules:t,isLoading:r,createSchedule:n,updateSchedule:i,deleteSchedule:o}=Et(),{chants:a,tongueSongs:l}=Mo(),d=kt(se.uploads.getByUser,e?{userId:e}:"skip"),u=d===void 0,m=(d||[]).filter(k=>!k.uploadType||k.uploadType==="chant"),g=(d||[]).filter(k=>k.uploadType==="tongue"),[x,h]=N.useState(!1),[f,w]=N.useState(null),[v,p]=N.useState(null),[c,y]=N.useState(1),[b,T]=N.useState({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),[C,M]=N.useState(!1),S=async k=>{k.preventDefault();try{f?(await i({id:f._id,...b}),L.success("Schedule updated!")):(await n({userId:e,...b}),L.success("Schedule created!")),h(!1),w(null),y(1),T({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""})}catch(q){L.error("Failed to save schedule"),console.error(q)}},z=async()=>{var k,q,I,O,ne;if(!b.title){L.error("Please enter a title first");return}M(!0);try{const Se="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ",Zt=`Suggest a relevant Bible scripture (Book Chapter:Verse - Quote) for a prayer schedule titled "${b.title}"${b.description?` with description: "${b.description}"`:""}. Return ONLY the scripture reference and quote in this format: "Book Chapter:Verse - Quote". Example: "Jeremiah 29:11 - For I know the plans I have for you..."`,Ae=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Se}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Zt}]}]})});if(!Ae.ok)throw new Error("API error");const yt=((ne=(O=(I=(q=(k=(await Ae.json()).candidates)==null?void 0:k[0])==null?void 0:q.content)==null?void 0:I.parts)==null?void 0:O[0])==null?void 0:ne.text)||"";yt?(T(Me=>({...Me,scripture:yt.trim()})),L.success("Scripture suggested!")):L.error("Could not generate scripture")}catch(Se){console.error("Error generating scripture:",Se),L.error("Failed to generate scripture")}finally{M(!1)}},P=k=>{w(k),y(1),T({title:k.title,description:k.description||"",scripture:k.scripture||"",scheduledTime:k.scheduledTime,recurring:k.recurring,frequency:k.frequency||"daily",prayerPoints:k.prayerPoints||[],selectedMusicId:k.selectedMusicId||"",tonguesMode:k.tonguesMode||"none",selectedTongueSongId:k.selectedTongueSongId||""}),h(!0)},j=4,$=b.title&&b.scheduledTime,_=()=>{c===1&&$?y(2):c===2?y(3):c===3&&y(4)},W=()=>{c>1&&y(c-1)},Y=async(k,q)=>{try{await i({id:k,prayerPoints:q})}catch(I){console.error("Error updating prayer points:",I)}},D=async(k,q)=>{try{await i({id:k,tonguesMode:q,...q==="none"&&{selectedTongueSongId:""}}),L.success("Tongues mode updated!")}catch(I){L.error("Failed to update tongues mode"),console.error(I)}},Z=async(k,q)=>{try{await i({id:k,selectedTongueSongId:q}),L.success("Tongue song updated!")}catch(I){L.error("Failed to update tongue song"),console.error(I)}},E=async(k,q)=>{try{await i({id:k,selectedMusicId:q}),L.success("Music updated!")}catch(I){console.error("Error updating music:",I),L.error("Failed to update music")}},U=async k=>{if(confirm("Are you sure you want to delete this schedule?"))try{await o({id:k}),L.success("Schedule deleted!")}catch{L.error("Failed to delete schedule")}},A=t.filter(k=>!k.isCompleted&&new Date(k.scheduledTime)>new Date),Q=t.filter(k=>k.isCompleted||new Date(k.scheduledTime)<=new Date);return s.jsxs("div",{className:"space-y-8 w-full pb-24 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white font-serif tracking-tight",children:"Prayer Schedules"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1 font-light",children:"Manage your prayer sessions and divine appointments"})]}),s.jsxs("button",{onClick:()=>{w(null),T({title:"",description:"",scripture:"",scheduledTime:new Date().toISOString().slice(0,16),recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),y(1),h(!0)},className:"group relative overflow-hidden px-6 py-3 rounded-full bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold text-base md:text-lg shadow-[0_0_20px_rgba(255,215,0,0.3)] hover:shadow-[0_0_30px_rgba(255,215,0,0.5)] transition-all duration-300 flex items-center gap-2",children:[s.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5"}),"New Schedule"]}),s.jsx("div",{className:"absolute inset-0 bg-white/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}),s.jsxs("div",{className:"w-full",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[s.jsx(St,{className:"w-5 h-5 md:w-6 md:h-6 text-[#ffd700]"}),"Upcoming Schedules"]}),r||u?s.jsx(Ry,{count:4}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:A.length===0?s.jsxs("div",{className:"glass-card col-span-full text-center py-16 md:py-20 border border-white/10 bg-[#1a103c]/30 rounded-3xl",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-[#ffd700]/5 flex items-center justify-center mx-auto mb-6 border border-[#ffd700]/10",children:s.jsx(St,{className:"w-10 h-10 text-[#ffd700]/40"})}),s.jsx("p",{className:"text-white/80 text-lg md:text-xl font-medium mb-2",children:"No upcoming schedules"}),s.jsx("p",{className:"text-white/50 text-sm",children:"Create your first schedule to get started"})]}):A.map(k=>s.jsxs("div",{className:"group relative overflow-hidden p-6 rounded-3xl bg-[#1a103c]/40 backdrop-blur-md border border-white/10 hover:border-[#ffd700]/30 transition-all duration-300 hover:shadow-[0_0_30px_rgba(255,215,0,0.1)]",children:[s.jsxs("div",{className:"mb-6 relative z-10",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight font-serif group-hover:text-[#ffd700] transition-colors",children:k.title}),k.description&&s.jsx("p",{className:"text-white/60 text-sm md:text-base mb-4 line-clamp-2 font-light",children:k.description})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[s.jsx(St,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),s.jsx("span",{className:"truncate font-medium",children:pn(new Date(k.scheduledTime),"MMM d, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base bg-white/5 p-2 rounded-lg border border-white/5",children:[s.jsx(wr,{className:"w-4 h-4 md:w-5 md:h-5 text-[#ffd700] flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:pn(new Date(k.scheduledTime),"h:mm a")})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[k.recurring&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs md:text-sm font-medium",children:k.frequency}),k.scripture&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-purple-500/10 border border-purple-500/20 text-purple-300 text-xs md:text-sm",children:[s.jsx(pt,{className:"w-3 h-3"}),"Scripture"]}),k.prayerPoints&&k.prayerPoints.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-300 text-xs md:text-sm",children:[s.jsx(le,{className:"w-3 h-3"}),k.prayerPoints.length," Point",k.prayerPoints.length!==1?"s":""]}),k.selectedMusicId&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-300 text-xs md:text-sm",children:[s.jsx(ke,{className:"w-3 h-3"}),"Music"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2 relative z-10",children:[s.jsxs("button",{onClick:()=>P(k),className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(ev,{className:"w-4 h-4"}),"Edit"]}),s.jsx("button",{onClick:()=>{v===k._id?p(null):p(k._id)},className:"flex-1 md:flex-none px-4 py-2.5 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 hover:text-[#ffd700] hover:border-[#ffd700]/30 transition-all text-sm font-medium",children:v===k._id?"Hide Details":"View Details"}),s.jsx("button",{onClick:()=>U(k._id),className:"px-4 py-2.5 rounded-xl border border-red-500/20 bg-red-500/10 text-red-400 hover:bg-red-500/20 hover:border-red-500/40 transition-all text-sm font-medium flex items-center justify-center",title:"Delete Schedule",children:s.jsx(Ur,{className:"w-4 h-4"})})]}),v===k._id&&s.jsxs("div",{className:"border-t border-white/10 pt-5 mt-5 space-y-6 relative z-10 animate-fade-in",children:[k.scripture&&s.jsxs("div",{className:"p-4 rounded-xl border border-[#ffd700]/20 bg-[#ffd700]/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(pt,{className:"w-4 h-4 text-[#ffd700]"}),s.jsx("h5",{className:"text-[#ffd700] font-semibold text-sm uppercase tracking-wider",children:"Scripture Passage"})]}),s.jsxs("p",{className:"text-white/90 text-sm italic font-serif leading-relaxed",children:['"',k.scripture,'"']})]}),s.jsx(Wu,{scheduleId:k._id,userId:e,currentPoints:k.prayerPoints||[],onPointsChange:q=>Y(k._id,q)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),a.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:a.map(q=>s.jsx("button",{onClick:()=>E(k._id,q.id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedMusicId===q.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedMusicId===q.id?"text-[#ffd700]":"text-white"}`,children:q.name})},q.id))}),m.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:m.map(q=>s.jsx("button",{onClick:()=>E(k._id,q._id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedMusicId===q._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedMusicId===q._id?"text-[#ffd700]":"text-white"}`,children:q.fileName.replace(/\.[^/.]+$/,"")})},q._id))})]}),s.jsx("button",{onClick:()=>E(k._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Music"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx(le,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongues Mode"}),s.jsx(mt,{value:k.tonguesMode||"none",onChange:q=>D(k._id,q),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(k.tonguesMode==="start"||k.tonguesMode==="perPoint")&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-white/60 text-xs uppercase tracking-wider font-medium mb-2",children:"Tongue Song"}),l.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 mb-3",children:l.map(q=>s.jsx("button",{onClick:()=>Z(k._id,q.id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedTongueSongId===q.id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedTongueSongId===q.id?"text-[#ffd700]":"text-white"}`,children:q.name})},q.id))}),g.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/50 text-xs mb-2 font-medium uppercase tracking-wider",children:"Your Uploads"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:g.map(q=>s.jsx("button",{onClick:()=>Z(k._id,q._id),className:`p-3 rounded-xl text-left transition-all border ${k.selectedTongueSongId===q._id?"bg-[#ffd700]/20 border-[#ffd700] shadow-[0_0_10px_rgba(255,215,0,0.1)]":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsx("p",{className:`text-sm font-medium ${k.selectedTongueSongId===q._id?"text-[#ffd700]":"text-white"}`,children:q.fileName.replace(/\.[^/.]+$/,"")})},q._id))})]}),s.jsx("button",{onClick:()=>Z(k._id,""),className:"text-xs text-white/50 hover:text-white mt-2 underline decoration-white/30 hover:decoration-white",children:"Remove Tongue Song"})]})]})]})]},k._id))})]}),Q.length>0&&s.jsxs("div",{className:"w-full pt-8 border-t border-white/10",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white/60 mb-4 md:mb-6 flex items-center gap-2 font-serif",children:[s.jsx(pt,{className:"w-5 h-5 md:w-6 md:h-6"}),"Past Schedules"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Q.map(k=>s.jsxs("div",{className:"p-5 md:p-6 rounded-2xl bg-white/5 border border-white/5 opacity-60 hover:opacity-100 transition-all duration-300",children:[s.jsx("h4",{className:"text-lg md:text-xl font-semibold text-white mb-3 font-serif",children:k.title}),s.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm md:text-base mb-3",children:[s.jsx(wr,{className:"w-4 h-4"}),s.jsx("span",{children:pn(new Date(k.scheduledTime),"MMM d, yyyy h:mm a")})]}),k.isCompleted&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-500/20 border border-green-500/30 text-green-300 text-xs md:text-sm font-medium",children:"Completed"})]},k._id))})]}),x&&s.jsx("div",{className:"fixed inset-0 bg-[#1a103c]/80 backdrop-blur-md z-50 flex items-center justify-center p-4 overflow-y-auto pb-20 md:pb-4 animate-fade-in",children:s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-3xl max-w-2xl w-full my-4 md:my-8 max-h-[calc(100vh-8rem)] md:max-h-[90vh] overflow-y-auto border border-white/10 shadow-2xl bg-[#2d1b4e]",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-3",children:[1,2,3,4].map(k=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all duration-500 ${k<c?"bg-[#ffd700] text-[#1a103c] shadow-[0_0_10px_rgba(255,215,0,0.5)]":k===c?"bg-[#ffd700]/20 text-[#ffd700] border-2 border-[#ffd700] shadow-[0_0_15px_rgba(255,215,0,0.3)]":"bg-white/5 text-white/30 border border-white/10"}`,children:k<c?s.jsx(In,{className:"w-4 h-4 md:w-5 md:h-5"}):k}),s.jsx("span",{className:`text-[10px] md:text-xs mt-2 font-medium uppercase tracking-wider transition-colors duration-300 ${k<=c?"text-[#ffd700]":"text-white/30"}`,children:k===1?"Basic":k===2?"Time":k===3?"Music":"Review"})]}),k<j&&s.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-all duration-500 ${k<c?"bg-[#ffd700]":"bg-white/10"}`})]},k))})}),s.jsxs("div",{className:"flex items-center justify-between mb-6 md:mb-8",children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white font-serif",children:f?"Edit Schedule":"New Schedule"}),s.jsx("button",{onClick:()=>{h(!1),w(null),y(1)},className:"p-2 rounded-full hover:bg-white/10 transition-colors text-white/50 hover:text-white",children:s.jsx("span",{className:"text-2xl leading-none",children:""})})]}),s.jsxs("form",{onSubmit:S,children:[c===1&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Title *"}),s.jsx("input",{type:"text",value:b.title,onChange:k=>T({...b,title:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",placeholder:"Enter schedule title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Description"}),s.jsx("textarea",{value:b.description,onChange:k=>T({...b,description:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none",rows:"3",placeholder:"Add a description for this prayer schedule"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"w-4 h-4 text-[#ffd700]"}),"Scripture Passage"]}),s.jsxs("button",{type:"button",onClick:z,disabled:C||!b.title,className:"text-xs flex items-center gap-1 text-[#ffd700] hover:text-[#ffd700]/80 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[C?s.jsx(oo,{className:"w-3 h-3 animate-spin"}):s.jsx(le,{className:"w-3 h-3"}),C?"Suggesting...":"Suggest Scripture"]})]}),s.jsx("textarea",{value:b.scripture,onChange:k=>T({...b,scripture:k.target.value}),placeholder:"E.g., John 3:16 - For God so loved the world...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all resize-none font-serif italic",rows:"3"}),s.jsx("p",{className:"text-white/40 text-xs mt-2",children:"Add a scripture passage that will be used when generating prayer points"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{h(!1),w(null),y(1)},className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:_,disabled:!b.title,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(jn,{className:"w-5 h-5"})]})]})]}),c===2&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Scheduled Time *"}),s.jsx("input",{type:"datetime-local",value:b.scheduledTime,onChange:k=>T({...b,scheduledTime:k.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-white/30 focus:outline-none focus:border-[#ffd700]/50 focus:bg-white/10 transition-all",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors cursor-pointer",onClick:()=>T({...b,recurring:!b.recurring}),children:[s.jsx("div",{className:`w-6 h-6 rounded-md border flex items-center justify-center transition-all ${b.recurring?"bg-[#ffd700] border-[#ffd700]":"border-white/30"}`,children:b.recurring&&s.jsx(In,{className:"w-4 h-4 text-[#1a103c]"})}),s.jsx("label",{className:"text-white/90 text-base cursor-pointer select-none",children:"Make this schedule recurring"})]}),b.recurring&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Frequency"}),s.jsx(mt,{value:b.frequency,onChange:k=>T({...b,frequency:k}),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],placeholder:"Select frequency"})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:W,className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:_,disabled:!b.scheduledTime,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(jn,{className:"w-5 h-5"})]})]})]}),c===3&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 text-[#ffd700]"}),"Background Music"]}),s.jsx(mt,{value:b.selectedMusicId||"",onChange:k=>T({...b,selectedMusicId:k}),options:[{value:"",label:"None"},...a.map(k=>({value:k.id,label:k.name})),...m.map(k=>({value:k._id,label:k.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select background music"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider flex items-center gap-2",children:[s.jsx(le,{className:"w-4 h-4 text-[#ffd700]"}),"Speak in Tongues"]}),s.jsx(mt,{value:b.tonguesMode||"none",onChange:k=>T({...b,tonguesMode:k,selectedTongueSongId:k==="none"?"":b.selectedTongueSongId}),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(b.tonguesMode==="start"||b.tonguesMode==="perPoint")&&s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2 uppercase tracking-wider",children:"Tongue Song"}),s.jsx(mt,{value:b.selectedTongueSongId||"",onChange:k=>T({...b,selectedTongueSongId:k}),options:[{value:"",label:"None"},...l.map(k=>({value:k.id,label:k.name})),...g.map(k=>({value:k._id,label:k.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select tongue song"})]}),f&&s.jsx("div",{className:"border-t border-white/10 pt-5 mt-5",children:s.jsx(Wu,{scheduleId:f._id,userId:e,currentPoints:b.prayerPoints||[],onPointsChange:k=>T({...b,prayerPoints:k})})}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-white/10 mt-6",children:[s.jsxs("button",{type:"button",onClick:W,className:"flex-1 py-3 rounded-xl border border-white/10 bg-white/5 text-white hover:bg-white/10 transition-all text-base font-medium flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:_,className:"flex-1 py-3 rounded-xl bg-gradient-to-r from-[#ffd700] to-[#fdb931] text-[#1a103c] font-bold shadow-lg hover:shadow-[#ffd700]/20 transition-all text-base flex items-center justify-center gap-2",children:["Next",s.jsx(jn,{className:"w-5 h-5"})]})]})]}),c===4&&s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[s.jsx("h4",{className:"text-lg font-bold text-white mb-4 font-serif",children:"Review Your Schedule"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Title"}),s.jsx("p",{className:"text-white font-medium text-lg",children:b.title})]}),b.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Description"}),s.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:b.description})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scheduled Time"}),s.jsxs("p",{className:"text-white font-medium text-base flex items-center gap-2",children:[s.jsx(St,{className:"w-4 h-4 text-[#ffd700]"}),b.scheduledTime&&pn(new Date(b.scheduledTime),"MMM d, yyyy h:mm a")]})]}),b.recurring&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Frequency"}),s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-[#ffd700]/10 border border-[#ffd700]/20 text-[#ffd700] text-xs font-bold uppercase tracking-wider",children:b.frequency})]}),b.scripture&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Scripture"}),s.jsxs("p",{className:"text-white/90 text-sm italic font-serif border-l-2 border-[#ffd700]/50 pl-3 py-1",children:['"',b.scripture,'"']})]}),b.selectedMusicId&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/50 text-xs uppercase tracking-wider font-medium block mb-1",children:"Music"}),s.jsx("p",{className:"text-white font-medium text-base",children:((K=a.find(k=>k.id===b.selectedMusicId))==null?void 0:K.name)||((ve=m.find(k=>k._id===b.selectedMusicId))==null?void 0:ve.fileName.replace(/\.[^/.]+$/,""))||"Selected"})]}),b.tonguesMode!=="none"&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Tongues Mode:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:b.tonguesMode==="start"?"Start with Tongues":"Per Prayer Point"})]})]})]}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-3 border-t border-white/10",children:[s.jsxs("button",{type:"button",onClick:W,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),s.jsx("button",{type:"submit",className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:f?"Update":"Create"})]})]})]})]})})]})}function Iy(){return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0 animate-pulse",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 md:h-9 bg-white/10 rounded-lg w-48"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-64"})]})}),s.jsx("div",{className:"glass-strong p-6 md:p-8 lg:p-10 rounded-2xl md:rounded-3xl border border-white/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-40"})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 md:mb-8",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-white/10"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 md:h-16 lg:h-20 bg-white/10 rounded-lg w-24 md:w-32"}),s.jsx("div",{className:"h-5 bg-white/5 rounded-lg w-32"})]})]}),s.jsxs("div",{className:"max-w-md mx-auto space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-32"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-16"})]}),s.jsx("div",{className:"h-3 bg-white/10 rounded-full"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Array.from({length:3}).map((e,t)=>s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-white/10"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-24"}),s.jsx("div",{className:"h-8 bg-white/10 rounded w-16"})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("div",{className:"h-3 bg-white/5 rounded w-32"})})]},t))}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded w-32"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-4/6"})]})]})]})}function Oy(){const{streak:e,isLoading:t}=Et();if(t||!e)return s.jsx(Iy,{});const r=e.longestStreak>0?Math.round(e.currentStreak/e.longestStreak*100):0,i=(a=>a===0?{level:"Beginner",color:"from-indigo-400 to-indigo-600",icon:rv}:a<7?{level:"Rising",color:"from-indigo-500 to-purple-500",icon:Om}:a<30?{level:"Dedicated",color:"from-purple-500 to-pink-500",icon:Bx}:a<100?{level:"Devoted",color:"from-amber-500 to-orange-600",icon:pi}:{level:"Master",color:"from-amber-400 to-amber-600",icon:gs})(e.currentStreak),o=e.currentStreak===e.longestStreak&&e.currentStreak>0;return s.jsxs("div",{className:"space-y-8 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(gs,{className:"w-8 h-8 text-amber-400"}),"Prayer Streak"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your consistent prayer journey"})]})}),s.jsxs("div",{className:"glass-card p-8 md:p-10 rounded-3xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/10 via-purple-400/10 to-indigo-400/10 animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-6 py-2 rounded-full bg-gradient-to-r ${i.color} border border-white/20 shadow-lg shadow-amber-500/10`,children:[s.jsx(i.icon,{className:"w-5 h-5 text-white"}),s.jsxs("span",{className:"text-white font-bold text-sm tracking-wide uppercase",children:[i.level," Prayer Warrior"]})]})}),s.jsxs("div",{className:"text-center mb-10",children:[s.jsxs("div",{className:"flex items-center justify-center gap-6 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-br ${i.color} flex items-center justify-center shadow-2xl shadow-amber-500/20 relative overflow-hidden ring-4 ring-white/10`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),s.jsx(gs,{className:`w-12 h-12 md:w-16 md:h-16 text-white relative z-10 ${e.currentStreak>0?"animate-pulse":""}`}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-400/50 to-yellow-400/50 animate-pulse"})]}),e.currentStreak>0&&s.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full animate-ping opacity-75"})]}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:`text-6xl md:text-7xl lg:text-8xl font-bold bg-gradient-to-r ${i.color} bg-clip-text text-transparent mb-1 drop-shadow-lg font-serif`,children:e.currentStreak}),s.jsx("p",{className:"text-indigo-200 text-lg md:text-xl font-medium uppercase tracking-widest",children:"Day Streak"})]})]}),o&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2 rounded-full bg-amber-500/10 border border-amber-400/30 mb-4 animate-pulse",children:[s.jsx(pi,{className:"w-4 h-4 text-amber-400"}),s.jsx("span",{className:"text-amber-300 text-sm font-bold tracking-wide",children:"NEW PERSONAL BEST! "})]})]}),e.longestStreak>0&&s.jsxs("div",{className:"max-w-lg mx-auto bg-indigo-950/30 p-6 rounded-2xl border border-white/5 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-indigo-200/70 text-sm font-medium uppercase tracking-wider",children:"Progress to Record"}),s.jsxs("span",{className:"text-white font-bold text-sm",children:[r,"%  ",e.currentStreak," / ",e.longestStreak]})]}),s.jsx("div",{className:"relative w-full h-3 bg-indigo-950/50 rounded-full overflow-hidden border border-white/5",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${i.color} rounded-full transition-all duration-1000 ease-out relative`,style:{width:`${r}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(pi,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Longest Streak"}),s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.longestStreak})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:"Your all-time record"})})]}),s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-purple-500/30 transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(sv,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Total Prayers"}),s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-white font-serif",children:e.totalPrayers})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:"All-time sessions completed"})})]}),s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-emerald-500/30 transition-all duration-300 hover:-translate-y-1 group sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-transform",children:s.jsx(St,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-indigo-200/60 text-xs font-bold uppercase tracking-wider mb-1",children:"Last Prayer"}),s.jsx("div",{className:"text-xl md:text-2xl font-bold text-white font-serif truncate",children:e.lastPrayerDate?new Date(e.lastPrayerDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never"})]})]}),s.jsx("div",{className:"pt-4 border-t border-white/5",children:s.jsx("p",{className:"text-indigo-200/40 text-xs",children:e.lastPrayerDate?"Last session completed":"Start your journey today"})})]})]}),s.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[s.jsx(le,{className:"w-6 h-6 text-amber-400"}),s.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Keep Going!"})]}),e.currentStreak===0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:"Start your prayer journey today! Complete your first prayer session to begin your streak and build a powerful habit of consistent prayer."}),s.jsxs("div",{className:"p-4 rounded-xl bg-indigo-500/10 border border-indigo-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-indigo-200 text-sm font-medium pt-0.5",children:"Tip: Set a daily reminder to help maintain your streak!"})]})]}),e.currentStreak>0&&e.currentStreak<7&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Great start! You're on a ",s.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak,"-day streak"]}),". Keep it up to build a strong habit! Every day counts."]}),s.jsxs("div",{className:"p-4 rounded-xl bg-purple-500/10 border border-purple-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-purple-200 text-sm font-medium pt-0.5",children:"You're building momentum! Consistency is key to spiritual growth."})]})]}),e.currentStreak>=7&&e.currentStreak<30&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Excellent! You've maintained your prayer habit for ",s.jsxs("span",{className:"font-bold text-purple-300",children:[e.currentStreak," days"]}),". You're building a strong foundation for your spiritual journey!"]}),s.jsxs("div",{className:"p-4 rounded-xl bg-pink-500/10 border border-pink-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-pink-200 text-sm font-medium pt-0.5",children:"You're developing a powerful prayer discipline. Keep going!"})]})]}),e.currentStreak>=30&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-indigo-100 text-lg leading-relaxed font-light",children:["Amazing dedication! ",s.jsxs("span",{className:"font-bold text-amber-300",children:[e.currentStreak," days"]})," of consistent prayer is truly inspiring. You're demonstrating incredible commitment to your spiritual growth!"]}),s.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-r from-amber-500/10 to-orange-500/10 border border-amber-400/20 flex items-start gap-3",children:[s.jsx("span",{className:"text-xl",children:""}),s.jsx("p",{className:"text-amber-200 text-sm font-medium pt-0.5",children:"You're a prayer warrior! Your consistency is transforming your spiritual life."})]})]}),o&&s.jsx("div",{className:"mt-6 p-5 rounded-xl bg-gradient-to-r from-amber-500/10 via-orange-500/10 to-red-500/10 border border-amber-400/30 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pi,{className:"w-6 h-6 text-amber-400 flex-shrink-0"}),s.jsx("p",{className:"text-amber-200 font-bold text-base",children:"You're at your personal best! Keep pushing forward and break new records!"})]})})]})]})]})}function Ly(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-lg w-32"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-40"})]}),s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"})]})]})}function Ay({count:e=5}){return s.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Ly,{},r))})}function Dy({isOpen:e,onClose:t,onConfirm:r,entryDate:n}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-red-600 to-orange-600 flex items-center justify-center",children:s.jsx(fd,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Delete History Entry"})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:s.jsx(Mr,{className:"w-5 h-5 text-white/70"})})]}),s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("p",{className:"text-white/80 text-sm md:text-base leading-relaxed mb-3",children:"Are you sure you want to delete this prayer history entry?"}),n&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-indigo-500/10 border border-indigo-400/20",children:s.jsx("p",{className:"text-indigo-300 text-sm md:text-base font-medium",children:n})}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-3",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsx("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:"Delete Entry"})]})]})}):null}function Fy(){const{history:e,deleteHistory:t,isLoading:r}=Et(),[n,i]=N.useState(null),[o,a]=N.useState(!1),[l,d]=N.useState(null),u=v=>{d(v),a(!0)},m=async()=>{if(l){i(l._id);try{await t({id:l._id}),L.success("History entry deleted"),a(!1),d(null)}catch(v){console.error("Error deleting history:",v),L.error("Failed to delete history entry")}finally{i(null)}}},g=()=>{n||(a(!1),d(null))};if(r)return s.jsxs("div",{className:"space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-48 animate-pulse"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]})}),s.jsx(Ay,{count:5})]});if(!e||e.length===0)return s.jsxs("div",{className:"space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(pt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-card p-16 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(pt,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-lg font-medium mb-2",children:"No prayer history yet"}),s.jsx("p",{className:"text-indigo-200/40 text-base",children:"Complete your first prayer session to see it here"})]})]});const x=e.length,h=Math.round(e.reduce((v,p)=>v+p.duration,0)/e.length),f=e.reduce((v,p)=>v+p.duration,0),w=e.filter(v=>v.prayerPoints&&v.prayerPoints.length>0).length;return s.jsxs("div",{className:"space-y-8 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight flex items-center gap-3",children:[s.jsx(pt,{className:"w-8 h-8 text-amber-400"}),"Prayer History"]}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-card p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-purple-500/5 to-indigo-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Om,{className:"w-6 h-6 text-amber-400"}),s.jsx("h3",{className:"text-2xl font-bold font-serif text-white",children:"Your Prayer Journey"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 to-amber-600 bg-clip-text text-transparent mb-2 font-serif",children:x}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Sessions"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2 font-serif",children:h}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Avg Duration (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent mb-2 font-serif",children:f}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"Total Time (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-emerald-400 to-teal-400 bg-clip-text text-transparent mb-2 font-serif",children:w}),s.jsx("p",{className:"text-indigo-200/60 text-sm font-medium uppercase tracking-wider",children:"With Prayer Points"})]})]})]})]}),s.jsx("div",{className:"space-y-6",children:e.map(v=>s.jsxs("div",{className:"glass-card p-6 rounded-2xl border border-white/10 hover:border-amber-500/30 transition-all duration-300 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-5",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(St,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1 font-serif",children:pn(new Date(v.completedAt),"MMM d, yyyy")}),s.jsx("p",{className:"text-indigo-200/60 text-sm",children:My(new Date(v.completedAt),{addSuffix:!0})})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-indigo-500/10 border border-indigo-400/20",children:[s.jsx(wr,{className:"w-4 h-4 text-indigo-300"}),s.jsxs("span",{className:"text-indigo-200 font-bold text-sm",children:[v.duration," min"]})]}),s.jsx("button",{onClick:()=>u(v),disabled:n===v._id,className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 hover:text-red-300 transition-all disabled:opacity-50 disabled:cursor-not-allowed opacity-0 group-hover:opacity-100",title:"Delete entry",children:n===v._id?s.jsx("div",{className:"w-5 h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):s.jsx(Ur,{className:"w-5 h-5"})})]})]}),v.prayerPoints&&v.prayerPoints.length>0&&s.jsxs("div",{className:"mb-5 p-5 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-400/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(le,{className:"w-5 h-5 text-purple-400"}),s.jsxs("h4",{className:"text-white font-bold text-base",children:["Prayer Points (",v.prayerPoints.length,")"]})]}),s.jsx("ul",{className:"space-y-3",children:v.prayerPoints.map((p,c)=>s.jsxs("li",{className:"text-indigo-100 text-base flex items-start gap-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:s.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:c+1})}),s.jsx("span",{className:"flex-1 leading-relaxed",children:p})]},c))})]}),v.notes&&s.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Yx,{className:"w-4 h-4 text-indigo-400"}),s.jsx("h4",{className:"text-indigo-200 font-bold text-sm uppercase tracking-wider",children:"Notes"})]}),s.jsx("p",{className:"text-indigo-100 text-base whitespace-pre-wrap leading-relaxed",children:v.notes})]}),v.prayerScheduleId&&s.jsx("div",{className:"mt-4 pt-4 border-t border-white/5",children:s.jsxs("p",{className:"text-indigo-200/40 text-sm",children:[s.jsx("span",{className:"text-indigo-200/60",children:"From schedule:"})," ",v.prayerScheduleId]})})]})]},v._id))}),s.jsx(Dy,{isOpen:o,onClose:g,onConfirm:m,entryDate:l?pn(new Date(l.completedAt),"MMM d, yyyy"):null})]})}function zy(){return s.jsxs("li",{className:"flex items-start gap-3 md:gap-4 animate-pulse",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500/30 to-purple-500/30 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-4/6"})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"})]})]})}function Uy({count:e=5}){return s.jsx("ul",{className:"space-y-3 md:space-y-4",children:Array.from({length:e}).map((t,r)=>s.jsx(zy,{},r))})}function qy(){return s.jsxs("div",{className:"glass p-3 md:p-4 rounded-xl animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"h-5 bg-white/10 rounded-lg w-32"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20 mb-3"}),s.jsx("div",{className:"h-9 bg-white/10 rounded-lg w-24"})]})}function Vy({count:e=3}){return s.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,r)=>s.jsx(qy,{},r))})}function By(){const{userId:e,schedules:t,updateSchedule:r,settings:n}=Et(),[i,o]=N.useState("ai"),[a,l]=N.useState(!1),[d,u]=N.useState([]),[m,g]=N.useState(null),[x,h]=N.useState(""),[f,w]=N.useState(""),[v,p]=N.useState(""),[c,y]=N.useState(5),[b,T]=N.useState([""]),[C,M]=N.useState({isValid:!0,message:"",parsed:null}),S=t.find(I=>I._id===f),z=Ke(se.savedPrayerPoints.save),P=kt(se.savedPrayerPoints.getByUser,e?{userId:e}:"skip"),j=P===void 0,$=Ke(se.savedPrayerPoints.remove),_=I=>{if(!I||!I.trim())return{isValid:!0,message:"",parsed:null};const O=I.trim(),ne=/^([1-3]?\s?[A-Za-z]+)\s+(\d+):(\d+)(?:-(\d+))?(?:\s*[-]\s*(.+))?$/i,Se=O.match(ne);if(Se){const[,Zt,Ae,Ve,yt,Me]=Se,me={book:Zt.trim(),chapter:parseInt(Ae),startVerse:parseInt(Ve),endVerse:parseInt(yt||Ve),quote:Me?Me.trim():null,full:O};return me.endVerse<me.startVerse?{isValid:!1,message:"End verse cannot be less than start verse",parsed:null}:{isValid:!0,message:` ${me.book} ${me.chapter}:${me.startVerse}${me.endVerse>me.startVerse?`-${me.endVerse}`:""}`,parsed:me}}return O.length>20&&!O.match(/\d+:\d+/)?{isValid:!0,message:" Scripture quote (no reference)",parsed:{quote:O,full:O}}:O.match(/[A-Za-z]+\s+\d+:/)?{isValid:!0,message:" Scripture reference detected",parsed:{full:O}}:{isValid:!0,message:" Custom scripture passage",parsed:{full:O}}};_m(),N.useEffect(()=>{S!=null&&S.scripture?(p(S.scripture),M(_(S.scripture))):(p(""),M({isValid:!0,message:"",parsed:null}))},[f,S]);const W=I=>{p(I),M(_(I))};N.useEffect(()=>{S!=null&&S.prayerPoints&&S.prayerPoints.length>0&&(u(S.prayerPoints),T(S.prayerPoints))},[f,S]);const Y=async()=>{var ne,Se,Zt,Ae,Ve,yt;if(!f){L.error("Please select a prayer schedule");return}if(!S){L.error("Selected schedule not found");return}const I=typeof c=="number"?c:parseInt(c)||5,O=Math.max(1,Math.min(20,I));if(O<1||O>20){L.error("Number of points must be between 1 and 20");return}l(!0),u([]);try{const Me="AIzaSyDKHflOA2sIe5suVYHTy1MAKaPPa6CFdEQ";let me=`Generate exactly ${O} specific, meaningful prayer points for the prayer schedule: "${S.title}".`;S.description&&(me+=`
Description: ${S.description}`);const er=v.trim()||S.scripture||"";er&&(me+=`
Scripture Passage: ${er}`),me+=`

Format the response as a numbered list (1. 2. 3. etc.) with exactly ${O} prayer points, each on a new line. Make each point specific, actionable, and spiritually meaningful. Use the scripture passage as the foundation for the prayer points if provided.`;const we=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Me}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:me}]}]})});if(!we.ok){const ee=await we.json().catch(()=>({}));throw new Error(((ne=ee.error)==null?void 0:ne.message)||`API error: ${we.status}`)}const Be=((yt=(Ve=(Ae=(Zt=(Se=(await we.json()).candidates)==null?void 0:Se[0])==null?void 0:Zt.content)==null?void 0:Ae.parts)==null?void 0:Ve[0])==null?void 0:yt.text)||"";if(!Be)throw new Error("No response from AI");let De=Be.split(`
`).map(ee=>ee.trim()).filter(ee=>ee&&(ee.startsWith("-")||ee.startsWith("")||ee.match(/^\d+\./)||ee.match(/^[1-9]\./))).map(ee=>ee.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(ee=>ee.length>10&&ee.length<300).slice(0,O);if(De.length===0&&(De=Be.split(/\n+/).map(ee=>ee.trim()).filter(ee=>ee.length>20&&ee.length<300).slice(0,O)),De.length===0&&(De=Be.split(/[.!?]+/).map(ee=>ee.trim()).filter(ee=>ee.length>20&&ee.length<300).slice(0,O)),De.length===0)De=Array.from({length:O},(ee,_o)=>`Prayer point ${_o+1}: Pray for guidance and wisdom in this situation`);else{for(;De.length<O;)De.push("Pray for God's will to be done");De=De.slice(0,O)}if(u(De),(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{await r({id:f,prayerPoints:De,scripture:v.trim()||void 0}),L.success(`${O} Prayer points generated and saved!`)}catch(ee){console.error("Error saving to schedule:",ee),L.error("Prayer points generated but failed to save to schedule")}else L.success(`${O} Prayer points generated! (Auto-save disabled)`);try{await z({userId:e,title:`Generated: ${S.title}`,points:De})}catch(ee){console.error("Error saving points to library:",ee)}}catch(Me){console.error("Error generating prayer points:",Me),L.error(`Failed to generate prayer points: ${Me.message||"Please try again"}`);const me=typeof c=="number"?c:parseInt(c)||5,er=Math.max(1,Math.min(20,me));u(Array.from({length:er},(we,Gr)=>`Prayer point ${Gr+1}: Pray for guidance and wisdom`))}finally{l(!1)}},D=async()=>{const I=i==="ai"?d:b.filter(O=>O.trim());if(I.length===0){L.error("No prayer points to save");return}if(!f){L.error("Please select a prayer schedule");return}try{await r({id:f,prayerPoints:I,scripture:v.trim()||void 0}),L.success("Prayer points saved to schedule!")}catch(O){console.error("Error saving to schedule:",O),L.error("Failed to save prayer points")}},Z=I=>{const O=i==="ai"?d:b;g(I),h(O[I]||"")},E=async I=>{if(!x.trim()){L.error("Prayer point cannot be empty");return}let O;if(i==="ai"?(O=[...d],O[I]=x.trim(),u(O)):(O=[...b],O[I]=x.trim(),T(O)),g(null),h(""),L.success("Prayer point updated!"),f&&O.length>0&&(n==null?void 0:n.autoSavePrayerPoints)!==!1)try{const ne=i==="ai"?O:O.filter(Se=>Se.trim());await r({id:f,prayerPoints:ne,scripture:v.trim()||void 0})}catch(ne){console.error("Error auto-saving to schedule:",ne)}},U=()=>{g(null),h("")},A=I=>{if(i==="ai"){const O=d.filter((ne,Se)=>Se!==I);u(O)}else{const O=b.filter((ne,Se)=>Se!==I);T(O)}L.success("Prayer point deleted!")},Q=()=>{T([...b,""])},K=(I,O)=>{const ne=[...b];ne[I]=O,T(ne)},ve=I=>{if(b.length>1){const O=b.filter((ne,Se)=>Se!==I);T(O)}else L.error("At least one prayer point is required")},k=i==="ai"?d:b.filter(I=>I.trim()),q=k.length>0;return s.jsxs("div",{className:"space-y-6 md:space-y-8 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 tracking-tight",children:"Prayer Points"}),s.jsx("p",{className:"text-indigo-200/70 text-sm md:text-base mt-1 font-light tracking-wide",children:"Generate spiritual prayer points for your schedules"})]})}),s.jsxs("div",{className:"flex p-1 bg-indigo-950/40 backdrop-blur-md rounded-xl border border-white/5 w-full md:w-auto self-start",children:[s.jsxs("button",{onClick:()=>o("ai"),className:`flex-1 md:flex-none px-6 py-2.5 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2 ${i==="ai"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[s.jsx(le,{className:`w-4 h-4 ${i==="ai"?"text-amber-300":""}`}),"AI Generate"]}),s.jsxs("button",{onClick:()=>o("manual"),className:`flex-1 md:flex-none px-6 py-2.5 rounded-lg text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2 ${i==="manual"?"bg-gradient-to-r from-indigo-600 to-indigo-500 text-white shadow-lg shadow-indigo-500/20 border border-white/10":"text-white/50 hover:text-white hover:bg-white/5"}`,children:[s.jsx(ua,{className:`w-4 h-4 ${i==="manual"?"text-amber-300":""}`}),"Manual Create"]})]}),s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10 relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),s.jsxs("div",{className:"space-y-6 relative z-10",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-2 uppercase tracking-wider",children:["Select Prayer Schedule ",s.jsx("span",{className:"text-amber-400",children:"*"})]}),s.jsx(mt,{value:f,onChange:w,options:[{value:"",label:"Choose a schedule..."},...t.filter(I=>!I.isCompleted).map(I=>({value:I._id,label:`${I.title} - ${new Date(I.scheduledTime).toLocaleDateString()}`}))],placeholder:"Choose a schedule..."}),S&&s.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-indigo-950/50 border border-indigo-500/20 flex items-start gap-3",children:[s.jsx("div",{className:"w-1 h-full min-h-[2rem] bg-gradient-to-b from-amber-400 to-amber-600 rounded-full"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold text-base",children:S.title}),S.description&&s.jsx("p",{className:"text-white/60 text-sm mt-1",children:S.description})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-indigo-200 text-sm font-medium mb-3 flex items-center gap-2 uppercase tracking-wider",children:[s.jsx(pt,{className:"w-4 h-4 text-amber-400"}),"Scripture Passage"]}),s.jsxs("div",{className:"relative group",children:[s.jsx("textarea",{value:v,onChange:I=>W(I.target.value),placeholder:`E.g., John 3:16 - For God so loved the world...
Or: John 3:4-16
Or: Psalm 23:1-6`,className:`w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none ${C.isValid&&C.message?"border-emerald-500/30 focus:border-emerald-500/50":""}`,rows:"3"}),v&&s.jsx("div",{className:"absolute top-3 right-3",children:C.isValid?s.jsx(kn,{className:"w-5 h-5 text-emerald-400"}):s.jsx(Nn,{className:"w-5 h-5 text-amber-400"})})]}),v&&s.jsx("div",{className:`mt-3 p-3 rounded-lg border transition-all ${C.isValid?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[C.isValid?s.jsx(kn,{className:"w-4 h-4 text-emerald-400 flex-shrink-0 mt-0.5"}):s.jsx(Nn,{className:"w-4 h-4 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-sm font-medium ${C.isValid?"text-emerald-300":"text-amber-300"}`,children:C.message||"Enter a scripture reference or passage"}),C.parsed&&C.parsed.book&&s.jsxs("div",{className:"mt-2 space-y-1 pl-1 border-l-2 border-white/5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Book:"}),s.jsx("span",{children:C.parsed.book})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Chapter:"}),s.jsx("span",{children:C.parsed.chapter})]}),C.parsed.startVerse&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/70",children:[s.jsx("span",{className:"font-semibold text-indigo-200",children:"Verse:"}),s.jsxs("span",{children:[C.parsed.startVerse,C.parsed.endVerse>C.parsed.startVerse?` - ${C.parsed.endVerse}`:""]})]}),C.parsed.quote&&s.jsx("div",{className:"mt-2 pt-2 border-t border-white/5",children:s.jsxs("p",{className:"text-xs text-indigo-200/80 italic font-serif",children:['"',C.parsed.quote,'"']})})]})]})]})}),s.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-500/5 border border-indigo-500/10",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Gx,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-indigo-200 text-xs font-medium mb-2",children:"Supported Formats:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:16"})," - Single verse"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:4-16"})," - Verse range"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"With Quote"}),' - "For God so loved..."']})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-indigo-200/60",children:[s.jsx("span",{className:"w-1 h-1 rounded-full bg-amber-400/50"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Custom"})," - Any text"]})]})]})]})]})})]}),i==="ai"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-indigo-200 text-sm font-medium mb-3 uppercase tracking-wider",children:"Number of Prayer Points"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{const I=typeof c=="number"?c:parseInt(c)||5;y(Math.max(1,I-1))},disabled:(typeof c=="number"?c:parseInt(c)||5)<=1,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Decrease",children:s.jsx(Jx,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"number",min:"1",max:"20",value:c,onChange:I=>{const O=I.target.value;if(O===""){y("");return}const ne=parseInt(O);isNaN(ne)||y(Math.max(1,Math.min(20,ne)))},onBlur:I=>{const O=I.target.value;(O===""||isNaN(parseInt(O))||parseInt(O)<1)&&y(5)},className:"w-full bg-indigo-950/30 border border-indigo-500/30 rounded-xl py-3 text-center text-xl font-bold text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",placeholder:"5"})}),s.jsx("button",{type:"button",onClick:()=>{const I=typeof c=="number"?c:parseInt(c)||5;y(Math.min(20,I+1))},disabled:(typeof c=="number"?c:parseInt(c)||5)>=20,className:"w-12 h-12 rounded-xl bg-indigo-950/50 hover:bg-indigo-900/50 disabled:opacity-50 disabled:cursor-not-allowed border border-indigo-500/30 hover:border-amber-500/50 transition-all duration-200 flex items-center justify-center group",title:"Increase",children:s.jsx(Ds,{className:"w-5 h-5 text-indigo-300 group-hover:text-amber-400 transition-colors"})})]}),s.jsx("p",{className:"text-indigo-300/50 text-xs mt-2 text-center",children:"Enter a number between 1 and 20"})]}),i==="ai"&&s.jsx("button",{onClick:Y,disabled:a||!f,className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-400 hover:to-amber-500 text-indigo-950 font-bold shadow-lg shadow-amber-500/20 hover:shadow-amber-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all duration-300 transform hover:-translate-y-0.5 border border-amber-400/20 flex items-center justify-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(oo,{className:"w-5 h-5 animate-spin"}),"Generating ",typeof c=="number"?c:parseInt(c)||5," Prayer Points..."]}):s.jsxs(s.Fragment,{children:[s.jsx(le,{className:"w-5 h-5"}),"Generate ",typeof c=="number"?c:parseInt(c)||5," Prayer Points"]})}),i==="ai"&&!f&&s.jsxs("p",{className:"text-amber-400/80 text-sm text-center flex items-center justify-center gap-2",children:[s.jsx(Nn,{className:"w-4 h-4"}),"Please select a prayer schedule to generate prayer points"]})]})]}),i==="manual"&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ua,{className:"w-5 h-5 text-amber-400"}),"Create Prayer Points"]}),s.jsxs("button",{onClick:Q,className:"px-4 py-2 rounded-lg bg-indigo-600/50 hover:bg-indigo-600/70 text-white text-sm font-medium transition-all border border-indigo-500/30 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Add Point"]})]}),s.jsx("div",{className:"space-y-4",children:b.map((I,O)=>s.jsxs("div",{className:"flex items-start gap-3 group",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-950/50 border border-indigo-500/30 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-indigo-300 text-sm font-bold font-serif",children:O+1})}),s.jsx("textarea",{value:I,onChange:ne=>K(O,ne.target.value),placeholder:`Prayer point ${O+1}...`,className:"flex-1 bg-indigo-950/30 border border-indigo-500/30 rounded-xl px-4 py-3 text-white placeholder-indigo-300/30 focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"2"}),b.length>1&&s.jsx("button",{onClick:()=>ve(O),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 opacity-50 group-hover:opacity-100 transition-all flex-shrink-0",title:"Remove point",children:s.jsx(Mr,{className:"w-5 h-5"})})]},O))})]}),a?s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(le,{className:"w-5 h-5 text-amber-400"}),"Generating Prayer Points"]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20",children:[s.jsx(oo,{className:"w-4 h-4 animate-spin text-amber-400"}),s.jsx("span",{className:"text-indigo-200 text-xs font-medium",children:"AI Processing..."})]})]}),s.jsx(Uy,{count:typeof c=="number"?c:parseInt(c)||5})]}):q&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(le,{className:"w-5 h-5 text-amber-400"}),i==="ai"?"Generated":"Manual"," Prayer Points"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:D,disabled:!f,className:"px-5 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white font-medium shadow-lg shadow-emerald-500/20 border border-emerald-400/20 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[s.jsx(Save,{className:"w-4 h-4"}),"Save to Schedule"]}),s.jsx("button",{onClick:()=>{i==="ai"?u([]):T([""])},className:"px-3 py-2 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all",title:"Clear all",children:s.jsx(Ur,{className:"w-4 h-4"})})]})]}),s.jsx("ul",{className:"space-y-4",children:k.map((I,O)=>s.jsxs("li",{className:"group relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative flex items-start gap-4 p-4 rounded-xl border border-white/5 bg-white/5 hover:bg-white/10 transition-all",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center flex-shrink-0 mt-0.5 shadow-lg shadow-amber-500/20",children:s.jsx("span",{className:"text-indigo-950 text-sm font-bold font-serif",children:O+1})}),m===O?s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsx("textarea",{value:x,onChange:ne=>h(ne.target.value),className:"w-full bg-indigo-950/50 border border-indigo-500/50 rounded-lg px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500/50 transition-all resize-none",rows:"3",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{onClick:U,className:"px-3 py-1.5 rounded-lg text-indigo-200 hover:text-white hover:bg-white/5 text-sm transition-all",children:"Cancel"}),s.jsxs("button",{onClick:()=>E(O),className:"px-4 py-1.5 rounded-lg bg-amber-500 hover:bg-amber-400 text-indigo-950 text-sm font-bold flex items-center gap-1 transition-all",children:[s.jsx(In,{className:"w-3 h-3"}),"Save"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-indigo-100/90 flex-1 text-base leading-relaxed",children:I}),s.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:()=>Z(O),className:"p-2 rounded-lg hover:bg-indigo-500/20 text-indigo-300 hover:text-white transition-colors",title:"Edit point",children:s.jsx(ua,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A(O),className:"p-2 rounded-lg hover:bg-red-500/20 text-red-400 transition-colors",title:"Delete point",children:s.jsx(Ur,{className:"w-4 h-4"})})]})]})]})]},O))})]}),j?s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Saved Prayer Points Library"}),s.jsx(Vy,{count:3})]}):P&&P.length>0&&s.jsxs("div",{className:"glass-card p-6 md:p-8 rounded-2xl border border-white/10",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(pt,{className:"w-5 h-5 text-amber-400"}),"Saved Prayer Points Library"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:P.map(I=>s.jsxs("div",{className:"glass p-5 rounded-xl border border-white/5 hover:border-white/10 transition-all group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-white font-semibold text-base truncate pr-2",children:I.title||"Saved Prayer Points"}),s.jsx("button",{onClick:async()=>{if(confirm("Delete this saved prayer point set?"))try{await $({id:I._id}),L.success("Deleted")}catch{L.error("Failed to delete")}},className:"p-1.5 rounded hover:bg-red-500/20 text-red-400 opacity-0 group-hover:opacity-100 transition-all",children:s.jsx(Ur,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-indigo-200/60 text-sm mb-4",children:[I.points.length," points"]}),s.jsx("button",{onClick:()=>{i==="ai"?u(I.points||[]):T(I.points&&I.points.length>0?I.points:[""]),L.success("Prayer points loaded! You can edit and save them to your schedule.")},className:"w-full py-2 rounded-lg bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-200 hover:text-white text-sm font-medium border border-indigo-500/20 transition-all",children:"Load Points"})]},I._id))})]}),!a&&!q&&!f&&s.jsxs("div",{className:"glass-card text-center py-16 md:py-20 rounded-2xl border border-white/5",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(le,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsxs("p",{className:"text-indigo-200/60 text-base font-medium",children:["No prayer points ",i==="ai"?"generated":"created"," yet"]}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2 max-w-md mx-auto",children:i==="ai"?'Select a prayer schedule above and click "Generate Prayer Points" to get started with AI-powered spiritual guidance.':"Select a prayer schedule and start creating your personalized prayer points manually."})]})]})}function Wy({currentChant:e,isPlaying:t,volume:r,currentTime:n,duration:i,formatTime:o,setVolume:a,toggleChant:l,stopChant:d,audioRef:u,setCurrentTime:m}){if(!e)return null;const[g,x]=N.useState(null),h=g!==null?g:n,f=i>0?h/i*100:0;return s.jsxs("div",{className:"glass-strong rounded-xl md:rounded-2xl border border-white/20 overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"flex justify-end p-1.5 md:p-2 border-b border-white/10",children:s.jsx("button",{onClick:d,className:"p-1 md:p-1.5 rounded-lg hover:bg-red-600/20 text-red-400 hover:text-red-300 transition-colors",title:"Stop and Close",children:s.jsx(Mr,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})}),s.jsxs("div",{className:"p-3 md:p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4",children:[s.jsxs("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-lg md:rounded-xl bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),s.jsx(ke,{className:"w-5 h-5 md:w-6 md:h-6 text-white relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/30 to-purple-400/30 animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm md:text-lg font-bold text-white truncate mb-0.5",children:e.name||"Custom Chant"}),s.jsxs("p",{className:"text-white/60 text-xs",children:[o(n)," / ",o(i)]})]})]}),s.jsxs("div",{className:"mb-3 md:mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-1.5 md:h-2 bg-white/10 rounded-full overflow-visible",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),s.jsx("input",{type:"range",min:"0",max:i||0,step:"0.1",value:h||0,onChange:w=>{const v=parseFloat(w.target.value);x(v),u.current&&(u.current.currentTime=v),m(v)},onMouseUp:()=>{x(null)},onTouchEnd:()=>{x(null)},className:"absolute inset-0 w-full h-1.5 md:h-2 opacity-0 cursor-pointer z-10",style:{background:"transparent",WebkitAppearance:"none",appearance:"none"}}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 bg-white rounded-full shadow-lg border-2 border-indigo-500 cursor-grab active:cursor-grabbing hover:scale-125 transition-transform z-20 pointer-events-none",style:{left:`calc(${Math.max(0,Math.min(100,f))}% - ${f>0&&f<100?"8px":f>=100?"10px":"0px"})`,transform:"translateY(-50%)"}})]}),s.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-white/50",children:[s.jsx("span",{children:o(h)}),s.jsx("span",{children:o(i)})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>a(r===0?.7:0),className:"p-1.5 md:p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors flex-shrink-0",children:r===0?s.jsx(iv,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-white"}):s.jsx(Lm,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0 relative",children:[s.jsx("div",{className:"h-1 md:h-1.5 bg-white/10 rounded-full",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all",style:{width:`${r*100}%`}})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:r,onChange:w=>a(parseFloat(w.target.value)),className:"absolute inset-0 w-full h-1 md:h-1.5 opacity-0 cursor-pointer"})]}),s.jsxs("span",{className:"text-white/80 text-xs w-8 md:w-10 text-right flex-shrink-0",children:[Math.round(r*100),"%"]})]}),s.jsxs("button",{onClick:l,className:"w-11 h-11 md:w-14 md:h-14 rounded-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center hover:scale-110 transition-transform shadow-2xl relative overflow-hidden group flex-shrink-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),t?s.jsx(br,{className:"w-5 h-5 md:w-6 md:h-6 text-white relative z-10"}):s.jsx(Sr,{className:"w-5 h-5 md:w-6 md:h-6 text-white ml-0.5 md:ml-1 relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/50 to-purple-400/50 animate-pulse"})]})]})]})]})}function Qy(){return s.jsxs("div",{className:"glass-strong p-4 md:p-5 rounded-xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-indigo-600/30 to-purple-600/30 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsx("div",{className:"h-4 md:h-5 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-1/2"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-20"}),s.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-16"})]})]})}function qm({count:e=6}){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:Array.from({length:e}).map((t,r)=>s.jsx(Qy,{},r))})}function Vm({isOpen:e,onClose:t,onConfirm:r,musicName:n,musicType:i}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-red-500/10 border border-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(fd,{className:"w-5 h-5 md:w-6 md:h-6 text-red-400"})}),s.jsx("div",{children:s.jsxs("h3",{className:"text-base md:text-lg font-bold text-white font-serif",children:["Delete ",i,"?"]})})]}),s.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-1",children:s.jsx(Mr,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"mb-5 md:mb-6",children:s.jsxs("div",{className:"flex items-start gap-3 p-3 md:p-4 rounded-xl bg-white/5 border border-white/10",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white/90 text-sm md:text-base font-medium break-words",children:n}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm mt-1",children:"This action cannot be undone"})]})]})}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsxs("button",{onClick:r,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:["Delete ",i]})]})]})}):null}function Hy({chants:e,chantUploads:t,currentChant:r,isPlaying:n,playChant:i,stopChant:o,toggleChant:a,deleteUpload:l,isLoading:d}){const[u,m]=N.useState(!1),[g,x]=N.useState(null),h=[...e.map(f=>({...f,isDefault:!0})),...(t||[]).map(f=>({id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,fileSize:f.fileSize,fileType:f.fileType,isDefault:!1,upload:f}))];return d?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),s.jsx(qm,{count:6})]})}):h.length===0?s.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(ke,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No chants available"}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first chant to get started"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Default Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===f.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===f.id?a():i(f.id)},children:[(r==null?void 0:r.id)===f.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===f.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(ke,{className:`w-6 h-6 ${(r==null?void 0:r.id)===f.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===f.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:f.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(f.duration/60),":",String(f.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===f.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===f.id?s.jsxs("button",{onClick:w=>{w.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:w=>{w.stopPropagation(),i(f.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},f.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(f=>{const w={id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,size:f.fileSize,type:f.fileType};return s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===w.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===w.id)a();else{const v=f.imageKitUrl;if(!v){L.error("File URL not available. Please check your upload.");return}i(w.id,v,w.name)}},children:[(r==null?void 0:r.id)===w.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===w.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(On,{className:`w-6 h-6 ${(r==null?void 0:r.id)===w.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===w.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:w.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(f.fileSize/1024/1024).toFixed(2)," MB  ",f.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===w.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===w.id?s.jsxs("button",{onClick:v=>{v.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:async v=>{v.stopPropagation();const p=f.imageKitUrl;if(!p){L.error("File URL not available. Please check your upload.");return}i(w.id,p,w.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]}),s.jsx("button",{onClick:v=>{v.stopPropagation(),x({name:w.name,id:f._id}),m(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:s.jsx(Ur,{className:"w-4 h-4"})})]})]})]},f._id)})})]})]}),s.jsx(Vm,{isOpen:u,onClose:()=>{m(!1),x(null)},onConfirm:async()=>{if(g)try{await l({id:g.id}),L.success("Chant deleted"),m(!1),x(null)}catch(f){L.error("Failed to delete chant"),console.error(f)}},musicName:(g==null?void 0:g.name)||"",musicType:"Chant"})]})}function Yy({tongueSongs:e,tongueUploads:t,currentChant:r,isPlaying:n,playTongueSong:i,stopChant:o,toggleChant:a,deleteUpload:l,isLoading:d}){const[u,m]=N.useState(!1),[g,x]=N.useState(null),h=[...e.map(f=>({...f,isDefault:!0})),...(t||[]).map(f=>({id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,fileSize:f.fileSize,fileType:f.fileType,isDefault:!1,upload:f}))];return d?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),s.jsx(qm,{count:6})]})}):h.length===0?s.jsxs("div",{className:"glass-card p-12 rounded-2xl text-center border border-white/10",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-indigo-950/50 border border-white/5 flex items-center justify-center mx-auto mb-6",children:s.jsx(ke,{className:"w-10 h-10 text-indigo-300/30"})}),s.jsx("p",{className:"text-indigo-200/60 text-base font-medium",children:"No tongue songs available"}),s.jsx("p",{className:"text-indigo-200/40 text-sm mt-2",children:"Upload your first tongue song to get started"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-8",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(ke,{className:"w-5 h-5 text-amber-400"}),"Default Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(f=>s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===f.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:()=>{(r==null?void 0:r.id)===f.id?a():i(f.id)},children:[(r==null?void 0:r.id)===f.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===f.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(ke,{className:`w-6 h-6 ${(r==null?void 0:r.id)===f.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===f.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:f.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[Math.floor(f.duration/60),":",String(f.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===f.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),(r==null?void 0:r.id)===f.id?s.jsxs("button",{onClick:w=>{w.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:w=>{w.stopPropagation(),i(f.id)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]})]})]},f.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold font-serif text-transparent bg-clip-text bg-gradient-to-r from-amber-200 via-yellow-100 to-amber-200 mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5 text-amber-400"}),"Your Uploaded Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(f=>{const w={id:f._id,name:f.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:f.imageKitUrl,size:f.fileSize,type:f.fileType};return s.jsxs("div",{className:`glass-card p-4 rounded-xl border transition-all duration-300 cursor-pointer group relative overflow-hidden ${(r==null?void 0:r.id)===w.id?"border-amber-500/50 bg-indigo-900/40 shadow-lg shadow-amber-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"}`,onClick:async()=>{if((r==null?void 0:r.id)===w.id)a();else{const v=f.imageKitUrl;if(!v){L.error("File URL not available. Please check your upload.");return}i(w.id,v,w.name)}},children:[(r==null?void 0:r.id)===w.id&&s.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-amber-400 to-amber-600"}),s.jsxs("div",{className:"flex items-start gap-4 mb-4 pl-2",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg transition-all ${(r==null?void 0:r.id)===w.id?"bg-gradient-to-br from-amber-400 to-amber-600 shadow-amber-500/20":"bg-indigo-950/50 border border-white/10 group-hover:border-amber-500/30"}`,children:s.jsx(On,{className:`w-6 h-6 ${(r==null?void 0:r.id)===w.id?"text-indigo-950":"text-indigo-300 group-hover:text-amber-400"}`})}),s.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[s.jsx("h4",{className:`text-base font-semibold mb-1 truncate transition-colors ${(r==null?void 0:r.id)===w.id?"text-white":"text-indigo-100 group-hover:text-white"}`,children:w.name}),s.jsxs("p",{className:"text-indigo-200/50 text-xs font-medium",children:[(f.fileSize/1024/1024).toFixed(2)," MB  ",f.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pl-2",children:[(r==null?void 0:r.id)===w.id&&n?s.jsxs("span",{className:"text-amber-400 text-xs font-bold flex items-center gap-2 bg-amber-400/10 px-2 py-1 rounded-full border border-amber-400/20",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-amber-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-indigo-200/40 text-xs group-hover:text-indigo-200/60 transition-colors",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(r==null?void 0:r.id)===w.id?s.jsxs("button",{onClick:v=>{v.stopPropagation(),o()},className:"px-3 py-1.5 rounded-lg bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20 text-xs font-medium transition-all flex items-center gap-1.5",children:[s.jsx(br,{className:"w-3 h-3 fill-current"}),"Stop"]}):s.jsxs("button",{onClick:async v=>{v.stopPropagation();const p=f.imageKitUrl;if(!p){L.error("File URL not available. Please check your upload.");return}i(w.id,p,w.name)},className:"px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-indigo-200 hover:text-white border border-white/5 hover:border-white/10 text-xs font-medium transition-all opacity-0 group-hover:opacity-100 flex items-center gap-1.5",children:[s.jsx(Sr,{className:"w-3 h-3 fill-current"}),"Play"]}),s.jsx("button",{onClick:v=>{v.stopPropagation(),x({name:w.name,id:f._id}),m(!0)},className:"px-2 py-1.5 rounded-lg bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 transition-all opacity-0 group-hover:opacity-100",children:s.jsx(Ur,{className:"w-4 h-4"})})]})]})]},f._id)})})]})]}),s.jsx(Vm,{isOpen:u,onClose:()=>{m(!1),x(null)},onConfirm:async()=>{if(g)try{await l({id:g.id}),L.success("Tongue song deleted"),m(!1),x(null)}catch(f){L.error("Failed to delete tongue song"),console.error(f)}},musicName:(g==null?void 0:g.name)||"",musicType:"Tongue Song"})]})}function Qu({uploadType:e,userId:t,convex:r,createUpload:n,addCustomChant:i,addCustomTongueSong:o,api:a}){const[l,d]=N.useState(!1),[u,m]=N.useState(null),g=e==="chant",x=g?"Chant":"Tongue Song",h=g?"/audio/chant/":"/audio/tongue/",f=N.useRef(null),[w,v]=N.useState(null),[p,c]=N.useState(0),y=C=>{var P;const M=(P=C.target.files)==null?void 0:P[0];if(!M)return;const S=["audio/mpeg","audio/wav","audio/ogg","audio/mp3"],z=/\.(mp3|wav|ogg)$/i;if(!S.includes(M.type)&&!z.test(M.name)){L.error("Invalid file type. Please upload MP3, WAV, or OGG files.");return}if(M.size>500*1024*1024){L.error("File size too large. Maximum size is 500MB.");return}v(M)},b=async()=>{if(!w)return;const C=w;d(!0),c(10);try{const M=await r.query(a.imagekit.getUploadToken,{fileName:C.name,uploadType:e});if(!M)throw new Error("Failed to get upload token");const S=new FormData;S.append("file",C),S.append("fileName",C.name),S.append("folder",h),S.append("publicKey",M.publicKey),S.append("signature",M.signature),S.append("expire",M.expire.toString()),S.append("token",M.token);const P=await(_=>new Promise((W,Y)=>{const D=new XMLHttpRequest;D.open("POST","https://upload.imagekit.io/api/v1/files/upload"),D.upload.onprogress=Z=>{if(Z.lengthComputable){const E=Z.loaded/Z.total*100;c(Math.round(E))}},D.onload=()=>{D.status>=200&&D.status<300?W(JSON.parse(D.responseText)):Y(new Error(`ImageKit upload failed: ${D.responseText}`))},D.onerror=()=>{Y(new Error("ImageKit upload failed due to network error"))},D.send(_)}))(S),j=await n({userId:t,fileName:C.name,fileType:C.type,fileSize:C.size,imageKitUrl:P.url,imageKitFileId:P.fileId,uploadType:e}),$={_id:j,id:j,name:C.name.replace(/\.[^/.]+$/,""),storageId:null,url:P.url,size:C.size,type:C.type,uploadedAt:new Date().toISOString()};g?i($):o($),c(100),m($),v(null),f.current&&(f.current.value=""),L.success(`"${$.name}" uploaded successfully!`),setTimeout(()=>{c(0)},1e3)}catch(M){console.error("Upload error:",M),L.error(`Failed to upload file: ${M.message||"Please try again"}`),c(0)}finally{d(!1)}},T=()=>{v(null),f.current&&(f.current.value="")};return s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(On,{className:`w-5 h-5 ${g?"text-indigo-400":"text-purple-400"}`}),"Upload Custom ",x]}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mb-4",children:["Upload your own ",x.toLowerCase()," audio files (MP3, WAV, OGG - Max 500MB)"]}),s.jsxs("div",{className:"space-y-4",children:[!w&&!l&&s.jsx("label",{className:"block",children:s.jsxs("div",{className:"glass-card p-8 md:p-12 rounded-xl border-2 border-dashed border-white/20 hover:border-indigo-400/50 transition-all cursor-pointer group",children:[s.jsx("input",{ref:f,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/*",className:"hidden",onChange:y}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-600/20 to-purple-600/20 flex items-center justify-center group-hover:from-indigo-600/30 group-hover:to-purple-600/30 transition-all",children:s.jsx(Hx,{className:`w-8 h-8 md:w-10 md:h-10 ${g?"text-indigo-400":"text-purple-400"}`})}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base mb-2",children:"Click to select audio file"}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm",children:"MP3, WAV, or OGG  Max 500MB"})]})]})}),w&&!l&&s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-lg bg-gradient-to-br ${g?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} flex items-center justify-center flex-shrink-0`,children:s.jsx(ke,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate mb-1",children:w.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(w.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx("button",{onClick:T,className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400 flex-shrink-0",children:s.jsx(Mr,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),s.jsxs("button",{onClick:b,className:`w-full mt-4 py-3 rounded-xl bg-gradient-to-r ${g?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} hover:opacity-90 transition-opacity text-white font-semibold text-sm md:text-base shadow-lg`,children:[s.jsx(On,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"Upload ",x]})]}),l&&s.jsxs("div",{className:`p-4 md:p-5 rounded-xl ${g?"bg-indigo-500/10 border-indigo-400/20":"bg-purple-500/10 border-purple-400/20"} border`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`w-5 h-5 border-2 ${g?"border-indigo-400":"border-purple-400"} border-t-transparent rounded-full animate-spin`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:"Uploading..."}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.round(p),"%"]})]})]}),s.jsx("div",{className:"w-full h-2.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${g?"from-indigo-500 to-purple-500":"from-purple-500 to-pink-500"} rounded-full transition-all duration-300 relative`,style:{width:`${p}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),u&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-green-500/10 border border-green-400/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-green-300 text-sm font-medium",children:[" Uploaded: ",u.name]}),s.jsx("p",{className:"text-green-400/60 text-xs mt-1",children:"File is stored and ready to use"})]})]})})]})]})}function Ky(){const{userId:e}=Et(),{chants:t,tongueSongs:r,currentChant:n,isPlaying:i,volume:o,currentTime:a,duration:l,formatTime:d,setVolume:u,setCurrentTime:m,playChant:g,playTongueSong:x,stopChant:h,toggleChant:f,addCustomChant:w,addCustomTongueSong:v,audioRef:p}=Mo(),c=dd(),y=Ke(se.uploads.create),b=Ke(se.uploads.remove),T=kt(se.uploads.getByUser,e?{userId:e}:"skip"),C=T===void 0,M=(T||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),S=(T||[]).filter(j=>j.uploadType==="tongue"),[z,P]=N.useState("chants");return N.useEffect(()=>{M&&M.length>0&&M.forEach(j=>{const $={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};w($)}),S&&S.length>0&&S.forEach(j=>{const $={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};v($)})},[M.length,S.length]),s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(ke,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Music Library"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Manage your chants and tongue songs"})]})}),n&&s.jsx(Wy,{currentChant:n,isPlaying:i,volume:o,currentTime:a,duration:l,formatTime:d,setVolume:u,toggleChant:f,stopChant:h,audioRef:p,setCurrentTime:m}),s.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>P("chants"),className:`px-4 md:px-6 py-2 md:py-3 text-sm md:text-base font-medium transition-all relative ${z==="chants"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 md:w-5 md:h-5"}),"Chants",t.length+M.length>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-indigo-600/30 text-indigo-300 text-xs",children:t.length+M.length})]}),z==="chants"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]}),s.jsxs("button",{onClick:()=>P("tongue"),className:`px-4 md:px-6 py-2 md:py-3 text-sm md:text-base font-medium transition-all relative ${z==="tongue"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(le,{className:"w-4 h-4 md:w-5 md:h-5"}),"Tongue Songs",r.length+S.length>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-600/30 text-purple-300 text-xs",children:r.length+S.length})]}),z==="tongue"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),z==="chants"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(Hy,{chants:t,chantUploads:M,currentChant:n,isPlaying:i,playChant:g,stopChant:h,toggleChant:f,deleteUpload:b,isLoading:C}),s.jsx(Qu,{uploadType:"chant",userId:e,convex:c,createUpload:y,addCustomChant:w,api:se})]}),z==="tongue"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(Yy,{tongueSongs:r,tongueUploads:S,currentChant:n,isPlaying:i,playTongueSong:x,stopChant:h,toggleChant:f,deleteUpload:b,isLoading:C}),s.jsx(Qu,{uploadType:"tongue",userId:e,convex:c,createUpload:y,addCustomTongueSong:v,api:se})]})]})}function Gy(){const{userId:e,settings:t,updateSettings:r}=Et(),{chants:n,tongueSongs:i,setVolume:o}=Mo(),a=kt(se.uploads.getByUser,e?{userId:e}:"skip"),l=(a||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),d=(a||[]).filter(j=>j.uploadType==="tongue"),[u,m]=N.useState({notificationsEnabled:!0,notificationTime:"08:00",theme:"default",preferredChant:"",preferredTongueSong:"",autoPlayMusic:!0,showMotivationalPopups:!0,defaultPrayerDuration:15,prayerRoomBackgroundEffects:!0,defaultVolume:.7,soundEffectsEnabled:!0,autoSavePrayerPoints:!0,showStreakNotifications:!0,showPrayerReminders:!0,notificationSoundId:""}),[g,x]=N.useState(!1),[h,f]=N.useState(!1),[w,v]=N.useState("checking"),[p,c]=N.useState(!1);N.useEffect(()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(j=>{v(j?"registered":"not-registered")}):v("not-supported"),"PushManager"in window&&"serviceWorker"in navigator&&(c(!0),console.log(" VAPID key is configured - push subscriptions are available!"))},[]),N.useEffect(()=>{if(t){const j={notificationsEnabled:t.notificationsEnabled??!0,notificationTime:t.notificationTime??"08:00",theme:t.theme??"default",preferredChant:t.preferredChant??"",preferredTongueSong:t.preferredTongueSong??"",autoPlayMusic:t.autoPlayMusic??!0,showMotivationalPopups:t.showMotivationalPopups??!0,defaultPrayerDuration:t.defaultPrayerDuration??15,prayerRoomBackgroundEffects:t.prayerRoomBackgroundEffects??!0,defaultVolume:t.defaultVolume??.7,soundEffectsEnabled:t.soundEffectsEnabled??!0,autoSavePrayerPoints:t.autoSavePrayerPoints??!0,showStreakNotifications:t.showStreakNotifications??!0,showPrayerReminders:t.showPrayerReminders??!0,notificationSoundId:t.notificationSoundId??""};m(j),t.defaultVolume!==void 0&&o(t.defaultVolume)}},[t,o]),N.useEffect(()=>{if(t){const j=u.notificationsEnabled!==(t.notificationsEnabled??!0)||u.notificationTime!==(t.notificationTime??"08:00")||u.theme!==(t.theme??"default")||u.preferredChant!==(t.preferredChant??"")||u.preferredTongueSong!==(t.preferredTongueSong??"")||u.autoPlayMusic!==(t.autoPlayMusic??!0)||u.showMotivationalPopups!==(t.showMotivationalPopups??!0)||u.defaultPrayerDuration!==(t.defaultPrayerDuration??15)||u.prayerRoomBackgroundEffects!==(t.prayerRoomBackgroundEffects??!0)||u.defaultVolume!==(t.defaultVolume??.7)||u.soundEffectsEnabled!==(t.soundEffectsEnabled??!0)||u.autoSavePrayerPoints!==(t.autoSavePrayerPoints??!0)||u.showStreakNotifications!==(t.showStreakNotifications??!0)||u.showPrayerReminders!==(t.showPrayerReminders??!0)||u.notificationSoundId!==(t.notificationSoundId??"");x(j)}},[u,t]);const y=async()=>{f(!0);try{await r({userId:e,...u}),u.defaultVolume!==void 0&&o(u.defaultVolume),x(!1),L.success("Settings saved successfully!")}catch(j){L.error("Failed to save settings"),console.error(j)}finally{f(!1)}},b=async()=>{if("Notification"in window)try{w==="not-registered"&&await cd()&&(v("registered"),L.success("Service Worker registered for background notifications!"));const j=await Notification.requestPermission();if(j==="granted"){if(L.success("Notifications enabled! You will receive real-time reminders."),m({...u,notificationsEnabled:!0}),p)try{await Mm(),L.success("Push notifications enabled! You will receive notifications even when the app is closed.")}catch(_){console.warn("Push subscription failed, but regular notifications will work:",_)}const $=zx();$&&$.active?$.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Notifications Enabled!",body:"You will now receive prayer reminders and notifications, even when the app is closed.",icon:"/vite.svg",tag:"permission-granted"}}):new Notification("Notifications Enabled!",{body:"You will now receive prayer reminders and notifications.",icon:"/vite.svg",tag:"permission-granted"})}else j==="denied"?(L.error("Notification permission denied. Please enable in browser settings."),m({...u,notificationsEnabled:!1})):m({...u,notificationsEnabled:!1})}catch(j){console.error("Error requesting notification permission:",j),L.error("Failed to request notification permission")}else L.error("Notifications not supported in this browser")},T=[...n.map(j=>({value:j.id,label:j.name})),...l.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],C=[...i.map(j=>({value:j.id,label:j.name})),...d.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],M=[{value:"default",label:"Default (Indigo/Purple/Gold)"},{value:"dark",label:"Dark Mode"},{value:"light",label:"Light Mode"}],S=Array.from({length:20},(j,$)=>({value:($+1)*5,label:`${($+1)*5} minutes`})),z=Array.from({length:11},(j,$)=>({value:$/10,label:`${$*10}%`})),P=({checked:j,onChange:$,disabled:_=!1})=>s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:$,disabled:_,className:"sr-only peer"}),s.jsx("div",{className:`w-12 h-6 md:w-14 md:h-7 bg-white/20 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 md:after:h-6 md:after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600 ${_?"opacity-50 cursor-not-allowed":""}`})]});return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(Im,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Settings"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Customize your prayer experience"})]}),g&&s.jsxs("button",{onClick:y,disabled:h,className:"btn-primary px-4 md:px-6 py-2.5 md:py-3 text-sm md:text-base flex items-center gap-2 disabled:opacity-50",children:[s.jsx(Du,{className:"w-4 h-4 md:w-5 md:h-5"}),h?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center",children:s.jsx(Wx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer reminders and alerts"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Enable Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Receive prayer reminders and updates"})]}),s.jsx(P,{checked:u.notificationsEnabled,onChange:j=>{j.target.checked&&Notification.permission!=="granted"?b():m({...u,notificationsEnabled:j.target.checked})}})]}),u.notificationsEnabled&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Notification Time"}),s.jsx("input",{type:"time",value:u.notificationTime,onChange:j=>m({...u,notificationTime:j.target.value}),className:"input-glass w-full text-base"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(ke,{className:"w-4 h-4 md:w-5 md:h-5 text-pink-400"}),"Notification Sound"]}),s.jsx(mt,{value:u.notificationSoundId,onChange:j=>m({...u,notificationSoundId:j}),options:[{value:"",label:"Default System Sound"},...T.map(j=>({...j,label:` ${j.label}`})),...C.map(j=>({...j,label:` ${j.label}`}))],placeholder:"Select notification sound"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Note: Custom sounds work best on Android and Desktop. iOS may use default sound."})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Prayer Reminders"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Get reminded about upcoming prayer schedules"})]}),s.jsx(P,{checked:u.showPrayerReminders,onChange:j=>m({...u,showPrayerReminders:j.target.checked}),disabled:!u.notificationsEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Streak Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Celebrate your prayer streak milestones"})]}),s.jsx(P,{checked:u.showStreakNotifications,onChange:j=>m({...u,showStreakNotifications:j.target.checked}),disabled:!u.notificationsEnabled})]}),s.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/80 text-sm md:text-base font-medium",children:"Permission Status"}),Notification.permission==="granted"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"}),"Granted"]}):Notification.permission==="denied"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(Nn,{className:"w-3 h-3"}),"Denied"]}):s.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(Nn,{className:"w-3 h-3"}),"Not Requested"]})]}),Notification.permission==="default"&&s.jsx("button",{onClick:b,className:"btn-secondary w-full text-sm md:text-base py-2.5 md:py-3 mt-2",children:"Request Notification Permission"}),Notification.permission==="denied"&&s.jsx("p",{className:"text-white/60 text-xs mt-2",children:"Notifications are blocked. Please enable them in your browser settings to receive prayer reminders."}),Notification.permission==="granted"&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("p",{className:"text-green-300 text-xs",children:" You will receive real-time notifications for prayer reminders, schedule alerts, and streak milestones."}),w==="registered"&&s.jsxs("p",{className:"text-indigo-300 text-xs flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"}),"Background notifications enabled (works when app is closed)"]}),p&&w==="registered"&&s.jsxs("p",{className:"text-purple-300 text-xs flex items-center gap-1",children:[s.jsx(kn,{className:"w-3 h-3"}),"Push notifications supported"]}),w==="not-supported"&&s.jsx("p",{className:"text-yellow-300 text-xs",children:" Service Workers not supported - notifications work only when app is open"})]})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:s.jsx(Kx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Room"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize your prayer session experience"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-play Music"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically start background music when entering prayer room"})]}),s.jsx(P,{checked:u.autoPlayMusic,onChange:j=>m({...u,autoPlayMusic:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Motivational Popups"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Show encouraging messages during tongues mode"})]}),s.jsx(P,{checked:u.showMotivationalPopups,onChange:j=>m({...u,showMotivationalPopups:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Background Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable animated background effects in prayer room"})]}),s.jsx(P,{checked:u.prayerRoomBackgroundEffects,onChange:j=>m({...u,prayerRoomBackgroundEffects:j.target.checked})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Default Prayer Duration"]}),s.jsx(mt,{value:u.defaultPrayerDuration,onChange:j=>m({...u,defaultPrayerDuration:parseInt(j)}),options:S,placeholder:"Select default duration"})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-pink-600 to-orange-600 flex items-center justify-center",children:s.jsx(ke,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Audio Preferences"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Configure music and sound settings"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Lm,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Default Volume"]}),s.jsx(mt,{value:u.defaultVolume,onChange:j=>{const $=parseFloat(j);m({...u,defaultVolume:$}),o($)},options:z,placeholder:"Select default volume"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Volume is applied immediately"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Sr,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Preferred Chant"]}),s.jsx(mt,{value:u.preferredChant,onChange:j=>m({...u,preferredChant:j}),options:[{value:"",label:"None (Manual Selection)"},...T],placeholder:"Select preferred chant"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(le,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Preferred Tongue Song"]}),s.jsx(mt,{value:u.preferredTongueSong,onChange:j=>m({...u,preferredTongueSong:j}),options:[{value:"",label:"None (Manual Selection)"},...C],placeholder:"Select preferred tongue song"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Sound Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable sound effects for interactions"})]}),s.jsx(P,{checked:u.soundEffectsEnabled,onChange:j=>m({...u,soundEffectsEnabled:j.target.checked})})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-orange-600 to-yellow-600 flex items-center justify-center",children:s.jsx(le,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer points generation and saving"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-save Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically save generated prayer points to schedule"})]}),s.jsx(P,{checked:u.autoSavePrayerPoints,onChange:j=>m({...u,autoSavePrayerPoints:j.target.checked})})]})})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:s.jsx(nv,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Appearance"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize the look and feel"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Color Theme"}),s.jsx(mt,{value:u.theme,onChange:j=>m({...u,theme:j}),options:M,placeholder:"Select theme"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Theme changes will take effect after reload"})]})})]}),g&&s.jsx("div",{className:"sticky bottom-4 md:bottom-6 glass-strong p-4 rounded-xl border border-indigo-400/50 shadow-2xl",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"w-5 h-5 text-yellow-400"}),s.jsx("p",{className:"text-white text-sm md:text-base",children:"You have unsaved changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-sm md:text-base px-4 py-2",children:"Discard"}),s.jsx("button",{onClick:y,disabled:h,className:"btn-primary text-sm md:text-base px-4 md:px-6 py-2 md:py-3 flex items-center gap-2 disabled:opacity-50",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Du,{className:"w-4 h-4 md:w-5 md:h-5"}),"Save Changes"]})})]})]})})]})}function Xy(){const[e,t]=N.useState("timer"),[r,n]=N.useState(!1),{isPraying:i,activePrayer:o}=Et();_m();const a=[{id:"timer",label:"Prayer Room",icon:wr},{id:"schedule",label:"Schedule",icon:St},{id:"points",label:"Prayer Points",icon:le},{id:"music",label:"Music",icon:ke},{id:"streak",label:"Streak",icon:gs},{id:"history",label:"History",icon:pt},{id:"settings",label:"Settings",icon:Im}],l=a.slice(0,5),d=a.slice(5);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900 pb-16 md:pb-0",children:[s.jsxs("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-2xl border-b border-white/20 shadow-[0_4px_24px_rgba(0,0,0,0.4)]",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-amber-400/50 to-transparent"}),s.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"hidden md:flex items-center justify-between py-3.5",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 px-2",children:[s.jsx("div",{className:"relative w-11 h-11 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20 animate-pulse-glow",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),s.jsx("p",{className:"text-xs text-amber-400/60 leading-tight font-medium tracking-wide",children:"Prayer Chain"})]})]}),s.jsx("div",{className:"flex items-center gap-1 ml-2 bg-white/5 rounded-xl p-1.5 border border-white/10 shadow-inner",children:a.map(u=>{const m=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg whitespace-nowrap transition-all duration-300 text-sm font-semibold relative ${e===u.id?"bg-gradient-to-r from-amber-500 to-purple-600 text-white shadow-lg shadow-purple-500/30":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[e===u.id&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-400/20 to-purple-500/20 rounded-lg blur-sm"}),s.jsx(m,{className:`w-4 h-4 relative z-10 ${e===u.id?"drop-shadow-[0_0_4px_rgba(255,255,255,0.5)]":""}`}),s.jsx("span",{className:"relative z-10",children:u.label})]},u.id)})})]}),i&&o&&s.jsxs("div",{className:"flex items-center gap-2.5 px-5 py-2.5 rounded-xl bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-400/40 shadow-lg shadow-green-500/20",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-400 animate-pulse shadow-lg shadow-green-400/50"}),s.jsxs("span",{className:"text-white text-sm font-semibold",children:["Praying: ",o.title]})]})]}),s.jsxs("div",{className:"flex md:hidden items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl overflow-hidden shadow-lg shadow-purple-500/30 ring-2 ring-amber-400/20",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold bg-gradient-to-r from-amber-200 via-white to-amber-200 bg-clip-text text-transparent leading-tight font-serif",children:"Adullam"}),s.jsx("p",{className:"text-[10px] text-amber-400/60 leading-tight font-medium",children:"Prayer Chain"})]})]}),s.jsx("button",{onClick:()=>n(!r),className:"p-2.5 rounded-xl bg-gradient-to-br from-white/10 to-white/5 hover:from-white/20 hover:to-white/10 transition-all duration-300 border border-white/20 shadow-lg",children:r?s.jsx(Mr,{className:"w-5 h-5 text-white"}):s.jsx(Xx,{className:"w-5 h-5 text-white"})})]}),r&&s.jsx("div",{className:"md:hidden border-t border-white/10 py-3",children:s.jsx("div",{className:"flex flex-col gap-2",children:d.map(u=>{const m=u.icon;return s.jsxs("button",{onClick:()=>{t(u.id),n(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300 text-sm ${e===u.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[s.jsx(m,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:u.label})]},u.id)})})})]})]}),s.jsxs("main",{className:"container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-7xl pt-20 md:pt-24 pb-28 md:pb-8",children:[e==="timer"&&s.jsx(cv,{}),e==="schedule"&&s.jsx($y,{}),e==="points"&&s.jsx(By,{}),e==="music"&&s.jsx(Ky,{}),e==="streak"&&s.jsx(Oy,{}),e==="history"&&s.jsx(Fy,{}),e==="settings"&&s.jsx(Gy,{})]}),s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-gradient-to-t from-indigo-950/99 via-purple-950/99 to-indigo-950/99 backdrop-blur-2xl border-t border-white/20 z-50 shadow-[0_-4px_20px_rgba(0,0,0,0.3)] safe-area-bottom",children:s.jsx("div",{className:"flex items-center justify-around px-2 py-3 pb-safe",children:l.map(u=>{const m=u.icon;return s.jsxs("button",{onClick:()=>t(u.id),className:`flex flex-col items-center gap-1.5 px-2 py-2 rounded-xl transition-all duration-300 flex-1 max-w-[80px] relative ${e===u.id?"text-white":"text-white/50 hover:text-white/70"}`,children:[e===u.id&&s.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 w-12 h-1 bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 rounded-b-full shadow-lg shadow-purple-500/50"}),s.jsx("div",{className:`p-2.5 rounded-xl transition-all duration-300 ${e===u.id?"bg-gradient-to-br from-amber-500/20 to-purple-500/20 border border-amber-400/30 shadow-lg shadow-purple-500/20":"bg-white/5 border border-transparent"}`,children:s.jsx(m,{className:`w-5 h-5 transition-all ${e===u.id?"drop-shadow-[0_0_8px_rgba(251,191,36,0.5)]":""}`})}),s.jsx("span",{className:`text-[10px] font-bold leading-tight text-center transition-all ${e===u.id?"text-white":"text-white/50"}`,children:u.label})]},u.id)})})})]})}function Jy(){return s.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-amber-500/20 rounded-full blur-3xl animate-pulse delay-700"})]}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-8 px-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-transparent border-t-amber-400 border-r-purple-400 animate-spin"}),s.jsx("div",{className:"absolute inset-2 w-20 h-20 md:w-28 md:h-28 rounded-full border-4 border-transparent border-b-amber-500 border-l-purple-500 animate-spin-reverse"}),s.jsx("div",{className:"relative w-24 h-24 md:w-32 md:h-32 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 rounded-2xl overflow-hidden shadow-2xl shadow-purple-500/50 animate-pulse",children:s.jsx("img",{src:"https://ik.imagekit.io/h3qzmviwv/60%20days%20react%20and%20Ai%2030%20project%20Challenge/dreamina-2025-11-21-4528-Elegant%20app%20logo%20design,%20flat%20vector%20sty....jpeg",alt:"Adullam Prayer Chain",className:"w-full h-full object-cover"})})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-3xl md:text-5xl font-bold bg-gradient-to-r from-amber-400 via-purple-400 to-amber-400 bg-clip-text text-transparent font-serif animate-pulse bg-[length:200%_auto] animate-shimmer",children:"Adullam"}),s.jsx("p",{className:"text-sm md:text-base text-white/60 font-medium tracking-wider",children:"Prayer Chain"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-400 animate-bounce"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-400 animate-bounce delay-150"}),s.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-400 animate-bounce delay-300"})]}),s.jsx("p",{className:"text-white/40 text-xs md:text-sm font-medium tracking-widest uppercase animate-pulse",children:"Loading your prayer space..."})]})]})}const Zy="https://majestic-armadillo-966.convex.cloud",ew=new Dg(Zy);function tw(){const[e,t]=N.useState(()=>{let i=localStorage.getItem("adullam_user_id");return i||(i=`user_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("adullam_user_id",i)),i}),[r,n]=N.useState(!0);return N.useEffect(()=>{"serviceWorker"in navigator&&cd().then(i=>{i&&console.log("Service Worker registered for push notifications")}).catch(i=>{console.error("Service Worker registration failed:",i)})},[]),N.useEffect(()=>{const o=Date.now(),a=setTimeout(()=>{const l=Date.now()-o,d=Math.max(0,1500-l);setTimeout(()=>{n(!1)},d)},500);return()=>clearTimeout(a)},[]),s.jsx(Fg,{client:ew,children:s.jsx(Ox,{userId:e,children:s.jsx(Ux,{children:r?s.jsx(Jy,{}):s.jsxs(s.Fragment,{children:[s.jsx(rw,{}),s.jsxs("div",{className:"min-h-screen transition-colors duration-500",children:[s.jsx(Xy,{}),s.jsx(Ix,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(99, 102, 241, 0.9)",backdropFilter:"blur(10px)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)"}}})]})]})})})})}function rw(){const{settings:e}=Et();return N.useEffect(()=>{if(!e)return;const t=document.documentElement,r=e.theme||"default";t.classList.remove("theme-dark","theme-light","theme-default"),t.classList.add(`theme-${r}`),r==="light"?(t.style.setProperty("--bg-primary","#f3f4f6"),t.style.setProperty("--text-primary","#1f2937")):r==="dark"?(t.style.setProperty("--bg-primary","#0f172a"),t.style.setProperty("--text-primary","#f8fafc")):(t.style.removeProperty("--bg-primary"),t.style.removeProperty("--text-primary"))},[e==null?void 0:e.theme]),null}ma.createRoot(document.getElementById("root")).render(s.jsx(fo.StrictMode,{children:s.jsx(tw,{})}));
