(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hc={exports:{}},ca={},Yc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=Symbol.for("react.element"),Gf=Symbol.for("react.portal"),Xf=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),nh=Symbol.for("react.forward_ref"),rh=Symbol.for("react.suspense"),sh=Symbol.for("react.memo"),ih=Symbol.for("react.lazy"),pu=Symbol.iterator;function ah(e){return e===null||typeof e!="object"?null:(e=pu&&e[pu]||e["@@iterator"],typeof e=="function"?e:null)}var Kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gc=Object.assign,Xc={};function Or(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Kc}Or.prototype.isReactComponent={};Or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jc(){}Jc.prototype=Or.prototype;function pl(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Kc}var gl=pl.prototype=new Jc;gl.constructor=pl;Gc(gl,Or.prototype);gl.isPureReactComponent=!0;var gu=Array.isArray,Zc=Object.prototype.hasOwnProperty,xl={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Zc.call(t,r)&&!ed.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Fs,type:e,key:a,ref:o,props:i,_owner:xl.current}}function oh(e,t){return{$$typeof:Fs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fs}function lh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xu=/\/+/g;function _a(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lh(""+e.key):t.toString(36)}function gi(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fs:case Gf:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+_a(o,0):r,gu(i)?(n="",e!=null&&(n=e.replace(xu,"$&/")+"/"),gi(i,t,n,"",function(c){return c})):i!=null&&(yl(i)&&(i=oh(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xu,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",gu(e))for(var l=0;l<e.length;l++){a=e[l];var u=r+_a(a,l);o+=gi(a,t,n,u,i)}else if(u=ah(e),typeof u=="function")for(e=u.call(e),l=0;!(a=e.next()).done;)a=a.value,u=r+_a(a,l++),o+=gi(a,t,n,u,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ks(e,t,n){if(e==null)return e;var r=[],i=0;return gi(e,r,"","",function(a){return t.call(n,a,i++)}),r}function uh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},xi={transition:null},ch={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:xi,ReactCurrentOwner:xl};function nd(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:Ks,forEach:function(e,t,n){Ks(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ks(e,function(){t++}),t},toArray:function(e){return Ks(e,function(t){return t})||[]},only:function(e){if(!yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Or;B.Fragment=Xf;B.Profiler=Zf;B.PureComponent=pl;B.StrictMode=Jf;B.Suspense=rh;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ch;B.act=nd;B.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Gc({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=xl.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Zc.call(t,u)&&!ed.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Fs,type:e.type,key:i,ref:a,props:r,_owner:o}};B.createContext=function(e){return e={$$typeof:th,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eh,_context:e},e.Consumer=e};B.createElement=td;B.createFactory=function(e){var t=td.bind(null,e);return t.type=e,t};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:nh,render:e}};B.isValidElement=yl;B.lazy=function(e){return{$$typeof:ih,_payload:{_status:-1,_result:e},_init:uh}};B.memo=function(e,t){return{$$typeof:sh,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=xi.transition;xi.transition={};try{e()}finally{xi.transition=t}};B.unstable_act=nd;B.useCallback=function(e,t){return Be.current.useCallback(e,t)};B.useContext=function(e){return Be.current.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};B.useEffect=function(e,t){return Be.current.useEffect(e,t)};B.useId=function(){return Be.current.useId()};B.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};B.useMemo=function(e,t){return Be.current.useMemo(e,t)};B.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};B.useRef=function(e){return Be.current.useRef(e)};B.useState=function(e){return Be.current.useState(e)};B.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};B.useTransition=function(){return Be.current.useTransition()};B.version="18.3.1";Yc.exports=B;var N=Yc.exports;const da=Kf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh=N,mh=Symbol.for("react.element"),fh=Symbol.for("react.fragment"),hh=Object.prototype.hasOwnProperty,ph=dh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gh={key:!0,ref:!0,__self:!0,__source:!0};function rd(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)hh.call(t,r)&&!gh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mh,type:e,key:a,ref:o,props:i,_owner:ph.current}}ca.Fragment=fh;ca.jsx=rd;ca.jsxs=rd;Hc.exports=ca;var s=Hc.exports,fo={},sd={exports:{}},at={},id={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,D){var F=$.length;$.push(D);e:for(;0<F;){var b=F-1>>>1,A=$[b];if(0<i(A,D))$[b]=D,$[F]=A,F=b;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var D=$[0],F=$.pop();if(F!==D){$[0]=F;e:for(var b=0,A=$.length,se=A>>>1;b<se;){var ye=2*(b+1)-1,gt=$[ye],L=ye+1,I=$[L];if(0>i(gt,F))L<A&&0>i(I,gt)?($[b]=I,$[L]=F,b=L):($[b]=gt,$[ye]=F,b=ye);else if(L<A&&0>i(I,F))$[b]=I,$[L]=F,b=L;else break e}}return D}function i($,D){var F=$.sortIndex-D.sortIndex;return F!==0?F:$.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,m=null,p=3,h=!1,v=!1,g=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y($){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=$)r(c),D.sortIndex=D.expirationTime,t(u,D);else break;D=n(c)}}function w($){if(g=!1,y($),!v)if(n(u)!==null)v=!0,Ee(P);else{var D=n(c);D!==null&&q(w,D.startTime-$)}}function P($,D){v=!1,g&&(g=!1,x(S),S=-1),h=!0;var F=p;try{for(y(D),m=n(u);m!==null&&(!(m.expirationTime>D)||$&&!j());){var b=m.callback;if(typeof b=="function"){m.callback=null,p=m.priorityLevel;var A=b(m.expirationTime<=D);D=e.unstable_now(),typeof A=="function"?m.callback=A:m===n(u)&&r(u),y(D)}else r(u);m=n(u)}if(m!==null)var se=!0;else{var ye=n(c);ye!==null&&q(w,ye.startTime-D),se=!1}return se}finally{m=null,p=F,h=!1}}var E=!1,M=null,S=-1,k=5,_=-1;function j(){return!(e.unstable_now()-_<k)}function T(){if(M!==null){var $=e.unstable_now();_=$;var D=!0;try{D=M(!0,$)}finally{D?z():(E=!1,M=null)}}else E=!1}var z;if(typeof f=="function")z=function(){f(T)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Z=H.port2;H.port1.onmessage=T,z=function(){Z.postMessage(null)}}else z=function(){C(T,0)};function Ee($){M=$,E||(E=!0,z())}function q($,D){S=C(function(){$(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){v||h||(v=!0,Ee(P))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function($){switch(p){case 1:case 2:case 3:var D=3;break;default:D=p}var F=p;p=D;try{return $()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,D){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var F=p;p=$;try{return D()}finally{p=F}},e.unstable_scheduleCallback=function($,D,F){var b=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?b+F:b):F=b,$){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=F+A,$={id:d++,callback:D,priorityLevel:$,startTime:F,expirationTime:A,sortIndex:-1},F>b?($.sortIndex=F,t(c,$),n(u)===null&&$===n(c)&&(g?(x(S),S=-1):g=!0,q(w,F-b))):($.sortIndex=A,t(u,$),v||h||(v=!0,Ee(P))),$},e.unstable_shouldYield=j,e.unstable_wrapCallback=function($){var D=p;return function(){var F=p;p=D;try{return $.apply(this,arguments)}finally{p=F}}}})(ad);id.exports=ad;var xh=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh=N,it=xh;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,xs={};function Qn(e,t){kr(e,t),kr(e+"Capture",t)}function kr(e,t){for(xs[e]=t,e=0;e<t.length;e++)od.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ho=Object.prototype.hasOwnProperty,vh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yu={},vu={};function wh(e){return ho.call(vu,e)?!0:ho.call(yu,e)?!1:vh.test(e)?vu[e]=!0:(yu[e]=!0,!1)}function bh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nh(e,t,n,r){if(t===null||typeof t>"u"||bh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function wl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vl,wl);$e[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vl,wl);$e[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vl,wl);$e[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function bl(e,t,n,r){var i=$e.hasOwnProperty(t)?$e[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nh(t,n,i,r)&&(n=null),r||i===null?wh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Gt=yh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gs=Symbol.for("react.element"),tr=Symbol.for("react.portal"),nr=Symbol.for("react.fragment"),Nl=Symbol.for("react.strict_mode"),po=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),ud=Symbol.for("react.context"),jl=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),xo=Symbol.for("react.suspense_list"),kl=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),wu=Symbol.iterator;function zr(e){return e===null||typeof e!="object"?null:(e=wu&&e[wu]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Ra;function Jr(e){if(Ra===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ra=t&&t[1]||""}return`
`+Ra+e}var $a=!1;function Ia(e,t){if(!e||$a)return"";$a=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var u=`
`+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{$a=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jr(e):""}function jh(e){switch(e.tag){case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return e=Ia(e.type,!1),e;case 11:return e=Ia(e.type.render,!1),e;case 1:return e=Ia(e.type,!0),e;default:return""}}function yo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nr:return"Fragment";case tr:return"Portal";case po:return"Profiler";case Nl:return"StrictMode";case go:return"Suspense";case xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case ld:return(e._context.displayName||"Context")+".Provider";case jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kl:return t=e.displayName||null,t!==null?t:yo(e.type)||"Memo";case nn:t=e._payload,e=e._init;try{return yo(e(t))}catch{}}return null}function kh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(t);case 8:return t===Nl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sh(e){var t=dd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xs(e){e._valueTracker||(e._valueTracker=Sh(e))}function md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function vo(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&bl(e,"checked",t,!1)}function wo(e,t){fd(e,t);var n=bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?bo(e,t.type,n):t.hasOwnProperty("defaultValue")&&bo(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function bo(e,t,n){(t!=="number"||$i(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function pr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function No(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ju(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(R(92));if(Zr(n)){if(1<n.length)throw Error(R(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function hd(e,t){var n=bn(t.value),r=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ku(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Js,gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Js=Js||document.createElement("div"),Js.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Js.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ys(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ch=["Webkit","ms","Moz","O"];Object.keys(rs).forEach(function(e){Ch.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rs[t]=rs[e]})});function xd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rs.hasOwnProperty(e)&&rs[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ph=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ko(e,t){if(t){if(Ph[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function So(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=null;function Sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Po=null,gr=null,xr=null;function Su(e){if(e=qs(e)){if(typeof Po!="function")throw Error(R(280));var t=e.stateNode;t&&(t=ga(t),Po(e.stateNode,e.type,t))}}function vd(e){gr?xr?xr.push(e):xr=[e]:gr=e}function wd(){if(gr){var e=gr,t=xr;if(xr=gr=null,Su(e),t)for(e=0;e<t.length;e++)Su(t[e])}}function bd(e,t){return e(t)}function Nd(){}var Oa=!1;function jd(e,t,n){if(Oa)return e(t,n);Oa=!0;try{return bd(e,t,n)}finally{Oa=!1,(gr!==null||xr!==null)&&(Nd(),wd())}}function vs(e,t){var n=e.stateNode;if(n===null)return null;var r=ga(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var To=!1;if(Bt)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){To=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{To=!1}function Th(e,t,n,r,i,a,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ss=!1,Ii=null,Oi=!1,Eo=null,Eh={onError:function(e){ss=!0,Ii=e}};function Mh(e,t,n,r,i,a,o,l,u){ss=!1,Ii=null,Th.apply(Eh,arguments)}function _h(e,t,n,r,i,a,o,l,u){if(Mh.apply(this,arguments),ss){if(ss){var c=Ii;ss=!1,Ii=null}else throw Error(R(198));Oi||(Oi=!0,Eo=c)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cu(e){if(Hn(e)!==e)throw Error(R(188))}function Rh(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Cu(i),e;if(a===r)return Cu(i),t;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Sd(e){return e=Rh(e),e!==null?Cd(e):null}function Cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cd(e);if(t!==null)return t;e=e.sibling}return null}var Pd=it.unstable_scheduleCallback,Pu=it.unstable_cancelCallback,$h=it.unstable_shouldYield,Ih=it.unstable_requestPaint,ve=it.unstable_now,Oh=it.unstable_getCurrentPriorityLevel,Cl=it.unstable_ImmediatePriority,Td=it.unstable_UserBlockingPriority,Li=it.unstable_NormalPriority,Lh=it.unstable_LowPriority,Ed=it.unstable_IdlePriority,ma=null,It=null;function Ah(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(ma,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Uh,Dh=Math.log,Fh=Math.LN2;function Uh(e){return e>>>=0,e===0?32:31-(Dh(e)/Fh|0)|0}var Zs=64,ei=4194304;function es(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ai(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=es(l):(a&=o,a!==0&&(r=es(a)))}else o=n&~i,o!==0?r=es(o):a!==0&&(r=es(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),i=1<<n,r|=e[n],t&=~i;return r}function zh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-jt(a),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=zh(l,t)):u<=t&&(e.expiredLanes|=l),a&=~l}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Md(){var e=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),e}function La(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Us(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Vh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-jt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function Pl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var J=0;function _d(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rd,Tl,$d,Id,Od,_o=!1,ti=[],cn=null,dn=null,mn=null,ws=new Map,bs=new Map,sn=[],Wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ws.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bs.delete(t.pointerId)}}function Vr(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=qs(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Bh(e,t,n,r,i){switch(t){case"focusin":return cn=Vr(cn,e,t,n,r,i),!0;case"dragenter":return dn=Vr(dn,e,t,n,r,i),!0;case"mouseover":return mn=Vr(mn,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ws.set(a,Vr(ws.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,bs.set(a,Vr(bs.get(a)||null,e,t,n,r,i)),!0}return!1}function Ld(e){var t=$n(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=kd(n),t!==null){e.blockedOn=t,Od(e.priority,function(){$d(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Co=r,n.target.dispatchEvent(r),Co=null}else return t=qs(n),t!==null&&Tl(t),e.blockedOn=n,!1;t.shift()}return!0}function Eu(e,t,n){yi(e)&&n.delete(t)}function Qh(){_o=!1,cn!==null&&yi(cn)&&(cn=null),dn!==null&&yi(dn)&&(dn=null),mn!==null&&yi(mn)&&(mn=null),ws.forEach(Eu),bs.forEach(Eu)}function Wr(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Qh)))}function Ns(e){function t(i){return Wr(i,e)}if(0<ti.length){Wr(ti[0],e);for(var n=1;n<ti.length;n++){var r=ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(cn!==null&&Wr(cn,e),dn!==null&&Wr(dn,e),mn!==null&&Wr(mn,e),ws.forEach(t),bs.forEach(t),n=0;n<sn.length;n++)r=sn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Ld(n),n.blockedOn===null&&sn.shift()}var yr=Gt.ReactCurrentBatchConfig,Di=!0;function Hh(e,t,n,r){var i=J,a=yr.transition;yr.transition=null;try{J=1,El(e,t,n,r)}finally{J=i,yr.transition=a}}function Yh(e,t,n,r){var i=J,a=yr.transition;yr.transition=null;try{J=4,El(e,t,n,r)}finally{J=i,yr.transition=a}}function El(e,t,n,r){if(Di){var i=Ro(e,t,n,r);if(i===null)Qa(e,t,r,Fi,n),Tu(e,r);else if(Bh(i,e,t,n,r))r.stopPropagation();else if(Tu(e,r),t&4&&-1<Wh.indexOf(e)){for(;i!==null;){var a=qs(i);if(a!==null&&Rd(a),a=Ro(e,t,n,r),a===null&&Qa(e,t,r,Fi,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Qa(e,t,r,null,n)}}var Fi=null;function Ro(e,t,n,r){if(Fi=null,e=Sl(r),e=$n(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fi=e,null}function Ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oh()){case Cl:return 1;case Td:return 4;case Li:case Lh:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var ln=null,Ml=null,vi=null;function Dd(){if(vi)return vi;var e,t=Ml,n=t.length,r,i="value"in ln?ln.value:ln.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return vi=i.slice(e,1<r?1-r:void 0)}function wi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ni(){return!0}function Mu(){return!1}function ot(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ni:Mu,this.isPropagationStopped=Mu,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),t}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=ot(Lr),zs=ge({},Lr,{view:0,detail:0}),Kh=ot(zs),Aa,Da,Br,fa=ge({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Br&&(Br&&e.type==="mousemove"?(Aa=e.screenX-Br.screenX,Da=e.screenY-Br.screenY):Da=Aa=0,Br=e),Aa)},movementY:function(e){return"movementY"in e?e.movementY:Da}}),_u=ot(fa),Gh=ge({},fa,{dataTransfer:0}),Xh=ot(Gh),Jh=ge({},zs,{relatedTarget:0}),Fa=ot(Jh),Zh=ge({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),ep=ot(Zh),tp=ge({},Lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=ot(tp),rp=ge({},Lr,{data:0}),Ru=ot(rp),sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ip={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ap={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ap[e])?!!t[e]:!1}function Rl(){return op}var lp=ge({},zs,{key:function(e){if(e.key){var t=sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ip[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(e){return e.type==="keypress"?wi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=ot(lp),cp=ge({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$u=ot(cp),dp=ge({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),mp=ot(dp),fp=ge({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hp=ot(fp),pp=ge({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gp=ot(pp),xp=[9,13,27,32],$l=Bt&&"CompositionEvent"in window,is=null;Bt&&"documentMode"in document&&(is=document.documentMode);var yp=Bt&&"TextEvent"in window&&!is,Fd=Bt&&(!$l||is&&8<is&&11>=is),Iu=" ",Ou=!1;function Ud(e,t){switch(e){case"keyup":return xp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function vp(e,t){switch(e){case"compositionend":return zd(t);case"keypress":return t.which!==32?null:(Ou=!0,Iu);case"textInput":return e=t.data,e===Iu&&Ou?null:e;default:return null}}function wp(e,t){if(rr)return e==="compositionend"||!$l&&Ud(e,t)?(e=Dd(),vi=Ml=ln=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fd&&t.locale!=="ko"?null:t.data;default:return null}}var bp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bp[e.type]:t==="textarea"}function qd(e,t,n,r){vd(r),t=Ui(t,"onChange"),0<t.length&&(n=new _l("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var as=null,js=null;function Np(e){Zd(e,0)}function ha(e){var t=ar(e);if(md(t))return e}function jp(e,t){if(e==="change")return t}var Vd=!1;if(Bt){var Ua;if(Bt){var za="oninput"in document;if(!za){var Au=document.createElement("div");Au.setAttribute("oninput","return;"),za=typeof Au.oninput=="function"}Ua=za}else Ua=!1;Vd=Ua&&(!document.documentMode||9<document.documentMode)}function Du(){as&&(as.detachEvent("onpropertychange",Wd),js=as=null)}function Wd(e){if(e.propertyName==="value"&&ha(js)){var t=[];qd(t,js,e,Sl(e)),jd(Np,t)}}function kp(e,t,n){e==="focusin"?(Du(),as=t,js=n,as.attachEvent("onpropertychange",Wd)):e==="focusout"&&Du()}function Sp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ha(js)}function Cp(e,t){if(e==="click")return ha(t)}function Pp(e,t){if(e==="input"||e==="change")return ha(t)}function Tp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:Tp;function ks(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ho.call(t,i)||!St(e[i],t[i]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var n=Fu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fu(n)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qd(){for(var e=window,t=$i();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$i(e.document)}return t}function Il(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ep(e){var t=Qd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Bd(n.ownerDocument.documentElement,n)){if(r!==null&&Il(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Uu(n,a);var o=Uu(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mp=Bt&&"documentMode"in document&&11>=document.documentMode,sr=null,$o=null,os=null,Io=!1;function zu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||sr==null||sr!==$i(r)||(r=sr,"selectionStart"in r&&Il(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),os&&ks(os,r)||(os=r,r=Ui($o,"onSelect"),0<r.length&&(t=new _l("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ri(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ir={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionend:ri("Transition","TransitionEnd")},qa={},Hd={};Bt&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function pa(e){if(qa[e])return qa[e];if(!ir[e])return e;var t=ir[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Hd)return qa[e]=t[n];return e}var Yd=pa("animationend"),Kd=pa("animationiteration"),Gd=pa("animationstart"),Xd=pa("transitionend"),Jd=new Map,qu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){Jd.set(e,t),Qn(t,[e])}for(var Va=0;Va<qu.length;Va++){var Wa=qu[Va],_p=Wa.toLowerCase(),Rp=Wa[0].toUpperCase()+Wa.slice(1);Sn(_p,"on"+Rp)}Sn(Yd,"onAnimationEnd");Sn(Kd,"onAnimationIteration");Sn(Gd,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(Xd,"onTransitionEnd");kr("onMouseEnter",["mouseout","mouseover"]);kr("onMouseLeave",["mouseout","mouseover"]);kr("onPointerEnter",["pointerout","pointerover"]);kr("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$p=new Set("cancel close invalid load scroll toggle".split(" ").concat(ts));function Vu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_h(r,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;Vu(i,l,c),a=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;Vu(i,l,c),a=u}}}if(Oi)throw e=Eo,Oi=!1,Eo=null,e}function ae(e,t){var n=t[Fo];n===void 0&&(n=t[Fo]=new Set);var r=e+"__bubble";n.has(r)||(em(t,e,2,!1),n.add(r))}function Ba(e,t,n){var r=0;t&&(r|=4),em(n,e,r,t)}var si="_reactListening"+Math.random().toString(36).slice(2);function Ss(e){if(!e[si]){e[si]=!0,od.forEach(function(n){n!=="selectionchange"&&($p.has(n)||Ba(n,!1,e),Ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[si]||(t[si]=!0,Ba("selectionchange",!1,t))}}function em(e,t,n,r){switch(Ad(t)){case 1:var i=Hh;break;case 4:i=Yh;break;default:i=El}n=i.bind(null,t,n,e),i=void 0,!To||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qa(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=$n(l),o===null)return;if(u=o.tag,u===5||u===6){r=a=o;continue e}l=l.parentNode}}r=r.return}jd(function(){var c=a,d=Sl(n),m=[];e:{var p=Jd.get(e);if(p!==void 0){var h=_l,v=e;switch(e){case"keypress":if(wi(n)===0)break e;case"keydown":case"keyup":h=up;break;case"focusin":v="focus",h=Fa;break;case"focusout":v="blur",h=Fa;break;case"beforeblur":case"afterblur":h=Fa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=mp;break;case Yd:case Kd:case Gd:h=ep;break;case Xd:h=hp;break;case"scroll":h=Kh;break;case"wheel":h=gp;break;case"copy":case"cut":case"paste":h=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=$u}var g=(t&4)!==0,C=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var f=c,y;f!==null;){y=f;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=vs(f,x),w!=null&&g.push(Cs(f,w,y)))),C)break;f=f.return}0<g.length&&(p=new h(p,v,null,n,d),m.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Co&&(v=n.relatedTarget||n.fromElement)&&($n(v)||v[Qt]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(v=n.relatedTarget||n.toElement,h=c,v=v?$n(v):null,v!==null&&(C=Hn(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(h=null,v=c),h!==v)){if(g=_u,w="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(g=$u,w="onPointerLeave",x="onPointerEnter",f="pointer"),C=h==null?p:ar(h),y=v==null?p:ar(v),p=new g(w,f+"leave",h,n,d),p.target=C,p.relatedTarget=y,w=null,$n(d)===c&&(g=new g(x,f+"enter",v,n,d),g.target=y,g.relatedTarget=C,w=g),C=w,h&&v)t:{for(g=h,x=v,f=0,y=g;y;y=Jn(y))f++;for(y=0,w=x;w;w=Jn(w))y++;for(;0<f-y;)g=Jn(g),f--;for(;0<y-f;)x=Jn(x),y--;for(;f--;){if(g===x||x!==null&&g===x.alternate)break t;g=Jn(g),x=Jn(x)}g=null}else g=null;h!==null&&Wu(m,p,h,g,!1),v!==null&&C!==null&&Wu(m,C,v,g,!0)}}e:{if(p=c?ar(c):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var P=jp;else if(Lu(p))if(Vd)P=Pp;else{P=Sp;var E=kp}else(h=p.nodeName)&&h.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=Cp);if(P&&(P=P(e,c))){qd(m,P,n,d);break e}E&&E(e,p,c),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&bo(p,"number",p.value)}switch(E=c?ar(c):window,e){case"focusin":(Lu(E)||E.contentEditable==="true")&&(sr=E,$o=c,os=null);break;case"focusout":os=$o=sr=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,zu(m,n,d);break;case"selectionchange":if(Mp)break;case"keydown":case"keyup":zu(m,n,d)}var M;if($l)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rr?Ud(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Fd&&n.locale!=="ko"&&(rr||S!=="onCompositionStart"?S==="onCompositionEnd"&&rr&&(M=Dd()):(ln=d,Ml="value"in ln?ln.value:ln.textContent,rr=!0)),E=Ui(c,S),0<E.length&&(S=new Ru(S,e,null,n,d),m.push({event:S,listeners:E}),M?S.data=M:(M=zd(n),M!==null&&(S.data=M)))),(M=yp?vp(e,n):wp(e,n))&&(c=Ui(c,"onBeforeInput"),0<c.length&&(d=new Ru("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=M))}Zd(m,t)})}function Cs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ui(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=vs(e,n),a!=null&&r.unshift(Cs(e,a,i)),a=vs(e,t),a!=null&&r.push(Cs(e,a,i))),e=e.return}return r}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Wu(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=vs(n,a),u!=null&&o.unshift(Cs(n,u,l))):i||(u=vs(n,a),u!=null&&o.push(Cs(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ip=/\r\n?/g,Op=/\u0000|\uFFFD/g;function Bu(e){return(typeof e=="string"?e:""+e).replace(Ip,`
`).replace(Op,"")}function ii(e,t,n){if(t=Bu(t),Bu(e)!==t&&n)throw Error(R(425))}function zi(){}var Oo=null,Lo=null;function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,Lp=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(e){return Qu.resolve(null).then(e).catch(Dp)}:Do;function Dp(e){setTimeout(function(){throw e})}function Ha(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ns(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ns(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ar=Math.random().toString(36).slice(2),_t="__reactFiber$"+Ar,Ps="__reactProps$"+Ar,Qt="__reactContainer$"+Ar,Fo="__reactEvents$"+Ar,Fp="__reactListeners$"+Ar,Up="__reactHandles$"+Ar;function $n(e){var t=e[_t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qt]||n[_t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hu(e);e!==null;){if(n=e[_t])return n;e=Hu(e)}return t}e=n,n=e.parentNode}return null}function qs(e){return e=e[_t]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function ga(e){return e[Ps]||null}var Uo=[],or=-1;function Cn(e){return{current:e}}function oe(e){0>or||(e.current=Uo[or],Uo[or]=null,or--)}function te(e,t){or++,Uo[or]=e.current,e.current=t}var Nn={},Fe=Cn(Nn),Ge=Cn(!1),Un=Nn;function Sr(e,t){var n=e.type.contextTypes;if(!n)return Nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xe(e){return e=e.childContextTypes,e!=null}function qi(){oe(Ge),oe(Fe)}function Yu(e,t,n){if(Fe.current!==Nn)throw Error(R(168));te(Fe,t),te(Ge,n)}function tm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(R(108,kh(e)||"Unknown",i));return ge({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,Un=Fe.current,te(Fe,e),te(Ge,Ge.current),!0}function Ku(e,t,n){var r=e.stateNode;if(!r)throw Error(R(169));n?(e=tm(e,t,Un),r.__reactInternalMemoizedMergedChildContext=e,oe(Ge),oe(Fe),te(Fe,e)):oe(Ge),te(Ge,n)}var Ut=null,xa=!1,Ya=!1;function nm(e){Ut===null?Ut=[e]:Ut.push(e)}function zp(e){xa=!0,nm(e)}function Pn(){if(!Ya&&Ut!==null){Ya=!0;var e=0,t=J;try{var n=Ut;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ut=null,xa=!1}catch(i){throw Ut!==null&&(Ut=Ut.slice(e+1)),Pd(Cl,Pn),i}finally{J=t,Ya=!1}}return null}var lr=[],ur=0,Wi=null,Bi=0,ct=[],dt=0,zn=null,qt=1,Vt="";function Mn(e,t){lr[ur++]=Bi,lr[ur++]=Wi,Wi=e,Bi=t}function rm(e,t,n){ct[dt++]=qt,ct[dt++]=Vt,ct[dt++]=zn,zn=e;var r=qt;e=Vt;var i=32-jt(r)-1;r&=~(1<<i),n+=1;var a=32-jt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qt=1<<32-jt(t)+i|n<<i|r,Vt=a+e}else qt=1<<a|n<<i|r,Vt=e}function Ol(e){e.return!==null&&(Mn(e,1),rm(e,1,0))}function Ll(e){for(;e===Wi;)Wi=lr[--ur],lr[ur]=null,Bi=lr[--ur],lr[ur]=null;for(;e===zn;)zn=ct[--dt],ct[dt]=null,Vt=ct[--dt],ct[dt]=null,qt=ct[--dt],ct[dt]=null}var st=null,nt=null,ce=!1,wt=null;function sm(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,nt=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zn!==null?{id:qt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,nt=null,!0):!1;default:return!1}}function zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qo(e){if(ce){var t=nt;if(t){var n=t;if(!Gu(e,t)){if(zo(e))throw Error(R(418));t=fn(n.nextSibling);var r=st;t&&Gu(e,t)?sm(r,n):(e.flags=e.flags&-4097|2,ce=!1,st=e)}}else{if(zo(e))throw Error(R(418));e.flags=e.flags&-4097|2,ce=!1,st=e}}}function Xu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function ai(e){if(e!==st)return!1;if(!ce)return Xu(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ao(e.type,e.memoizedProps)),t&&(t=nt)){if(zo(e))throw im(),Error(R(418));for(;t;)sm(e,t),t=fn(t.nextSibling)}if(Xu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=st?fn(e.stateNode.nextSibling):null;return!0}function im(){for(var e=nt;e;)e=fn(e.nextSibling)}function Cr(){nt=st=null,ce=!1}function Al(e){wt===null?wt=[e]:wt.push(e)}var qp=Gt.ReactCurrentBatchConfig;function Qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ju(e){var t=e._init;return t(e._payload)}function am(e){function t(x,f){if(e){var y=x.deletions;y===null?(x.deletions=[f],x.flags|=16):y.push(f)}}function n(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function r(x,f){for(x=new Map;f!==null;)f.key!==null?x.set(f.key,f):x.set(f.index,f),f=f.sibling;return x}function i(x,f){return x=xn(x,f),x.index=0,x.sibling=null,x}function a(x,f,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<f?(x.flags|=2,f):y):(x.flags|=2,f)):(x.flags|=1048576,f)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,f,y,w){return f===null||f.tag!==6?(f=to(y,x.mode,w),f.return=x,f):(f=i(f,y),f.return=x,f)}function u(x,f,y,w){var P=y.type;return P===nr?d(x,f,y.props.children,w,y.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nn&&Ju(P)===f.type)?(w=i(f,y.props),w.ref=Qr(x,f,y),w.return=x,w):(w=Pi(y.type,y.key,y.props,null,x.mode,w),w.ref=Qr(x,f,y),w.return=x,w)}function c(x,f,y,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==y.containerInfo||f.stateNode.implementation!==y.implementation?(f=no(y,x.mode,w),f.return=x,f):(f=i(f,y.children||[]),f.return=x,f)}function d(x,f,y,w,P){return f===null||f.tag!==7?(f=An(y,x.mode,w,P),f.return=x,f):(f=i(f,y),f.return=x,f)}function m(x,f,y){if(typeof f=="string"&&f!==""||typeof f=="number")return f=to(""+f,x.mode,y),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Gs:return y=Pi(f.type,f.key,f.props,null,x.mode,y),y.ref=Qr(x,null,f),y.return=x,y;case tr:return f=no(f,x.mode,y),f.return=x,f;case nn:var w=f._init;return m(x,w(f._payload),y)}if(Zr(f)||zr(f))return f=An(f,x.mode,y,null),f.return=x,f;oi(x,f)}return null}function p(x,f,y,w){var P=f!==null?f.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return P!==null?null:l(x,f,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:return y.key===P?u(x,f,y,w):null;case tr:return y.key===P?c(x,f,y,w):null;case nn:return P=y._init,p(x,f,P(y._payload),w)}if(Zr(y)||zr(y))return P!==null?null:d(x,f,y,w,null);oi(x,y)}return null}function h(x,f,y,w,P){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,l(f,x,""+w,P);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gs:return x=x.get(w.key===null?y:w.key)||null,u(f,x,w,P);case tr:return x=x.get(w.key===null?y:w.key)||null,c(f,x,w,P);case nn:var E=w._init;return h(x,f,y,E(w._payload),P)}if(Zr(w)||zr(w))return x=x.get(y)||null,d(f,x,w,P,null);oi(f,w)}return null}function v(x,f,y,w){for(var P=null,E=null,M=f,S=f=0,k=null;M!==null&&S<y.length;S++){M.index>S?(k=M,M=null):k=M.sibling;var _=p(x,M,y[S],w);if(_===null){M===null&&(M=k);break}e&&M&&_.alternate===null&&t(x,M),f=a(_,f,S),E===null?P=_:E.sibling=_,E=_,M=k}if(S===y.length)return n(x,M),ce&&Mn(x,S),P;if(M===null){for(;S<y.length;S++)M=m(x,y[S],w),M!==null&&(f=a(M,f,S),E===null?P=M:E.sibling=M,E=M);return ce&&Mn(x,S),P}for(M=r(x,M);S<y.length;S++)k=h(M,x,S,y[S],w),k!==null&&(e&&k.alternate!==null&&M.delete(k.key===null?S:k.key),f=a(k,f,S),E===null?P=k:E.sibling=k,E=k);return e&&M.forEach(function(j){return t(x,j)}),ce&&Mn(x,S),P}function g(x,f,y,w){var P=zr(y);if(typeof P!="function")throw Error(R(150));if(y=P.call(y),y==null)throw Error(R(151));for(var E=P=null,M=f,S=f=0,k=null,_=y.next();M!==null&&!_.done;S++,_=y.next()){M.index>S?(k=M,M=null):k=M.sibling;var j=p(x,M,_.value,w);if(j===null){M===null&&(M=k);break}e&&M&&j.alternate===null&&t(x,M),f=a(j,f,S),E===null?P=j:E.sibling=j,E=j,M=k}if(_.done)return n(x,M),ce&&Mn(x,S),P;if(M===null){for(;!_.done;S++,_=y.next())_=m(x,_.value,w),_!==null&&(f=a(_,f,S),E===null?P=_:E.sibling=_,E=_);return ce&&Mn(x,S),P}for(M=r(x,M);!_.done;S++,_=y.next())_=h(M,x,S,_.value,w),_!==null&&(e&&_.alternate!==null&&M.delete(_.key===null?S:_.key),f=a(_,f,S),E===null?P=_:E.sibling=_,E=_);return e&&M.forEach(function(T){return t(x,T)}),ce&&Mn(x,S),P}function C(x,f,y,w){if(typeof y=="object"&&y!==null&&y.type===nr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gs:e:{for(var P=y.key,E=f;E!==null;){if(E.key===P){if(P=y.type,P===nr){if(E.tag===7){n(x,E.sibling),f=i(E,y.props.children),f.return=x,x=f;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===nn&&Ju(P)===E.type){n(x,E.sibling),f=i(E,y.props),f.ref=Qr(x,E,y),f.return=x,x=f;break e}n(x,E);break}else t(x,E);E=E.sibling}y.type===nr?(f=An(y.props.children,x.mode,w,y.key),f.return=x,x=f):(w=Pi(y.type,y.key,y.props,null,x.mode,w),w.ref=Qr(x,f,y),w.return=x,x=w)}return o(x);case tr:e:{for(E=y.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===y.containerInfo&&f.stateNode.implementation===y.implementation){n(x,f.sibling),f=i(f,y.children||[]),f.return=x,x=f;break e}else{n(x,f);break}else t(x,f);f=f.sibling}f=no(y,x.mode,w),f.return=x,x=f}return o(x);case nn:return E=y._init,C(x,f,E(y._payload),w)}if(Zr(y))return v(x,f,y,w);if(zr(y))return g(x,f,y,w);oi(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,f!==null&&f.tag===6?(n(x,f.sibling),f=i(f,y),f.return=x,x=f):(n(x,f),f=to(y,x.mode,w),f.return=x,x=f),o(x)):n(x,f)}return C}var Pr=am(!0),om=am(!1),Qi=Cn(null),Hi=null,cr=null,Dl=null;function Fl(){Dl=cr=Hi=null}function Ul(e){var t=Qi.current;oe(Qi),e._currentValue=t}function Vo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function vr(e,t){Hi=e,Dl=cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ke=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Dl!==e)if(e={context:e,memoizedValue:t,next:null},cr===null){if(Hi===null)throw Error(R(308));cr=e,Hi.dependencies={lanes:0,firstContext:e}}else cr=cr.next=e;return t}var In=null;function zl(e){In===null?In=[e]:In.push(e)}function lm(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,zl(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ht(e,r)}function Ht(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function ql(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ht(e,n)}return i=r.interleaved,i===null?(t.next=t,zl(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ht(e,n)}function bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pl(e,n)}}function Zu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yi(e,t,n,r){var i=e.updateQueue;rn=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?a=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;o=0,d=c=u=null,l=a;do{var p=l.lane,h=l.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(p=t,h=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(h,m,p);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(h,m,p):v,p==null)break e;m=ge({},m,p);break e;case 2:rn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=h,u=m):d=d.next=h,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vn|=o,e.lanes=o,e.memoizedState=m}}function ec(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(R(191,i));i.call(r)}}}var Vs={},Ot=Cn(Vs),Ts=Cn(Vs),Es=Cn(Vs);function On(e){if(e===Vs)throw Error(R(174));return e}function Vl(e,t){switch(te(Es,t),te(Ts,e),te(Ot,Vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jo(t,e)}oe(Ot),te(Ot,t)}function Tr(){oe(Ot),oe(Ts),oe(Es)}function cm(e){On(Es.current);var t=On(Ot.current),n=jo(t,e.type);t!==n&&(te(Ts,e),te(Ot,n))}function Wl(e){Ts.current===e&&(oe(Ot),oe(Ts))}var he=Cn(0);function Ki(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ka=[];function Bl(){for(var e=0;e<Ka.length;e++)Ka[e]._workInProgressVersionPrimary=null;Ka.length=0}var Ni=Gt.ReactCurrentDispatcher,Ga=Gt.ReactCurrentBatchConfig,qn=0,pe=null,je=null,Ce=null,Gi=!1,ls=!1,Ms=0,Vp=0;function Le(){throw Error(R(321))}function Ql(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Hl(e,t,n,r,i,a){if(qn=a,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ni.current=e===null||e.memoizedState===null?Hp:Yp,e=n(r,i),ls){a=0;do{if(ls=!1,Ms=0,25<=a)throw Error(R(301));a+=1,Ce=je=null,t.updateQueue=null,Ni.current=Kp,e=n(r,i)}while(ls)}if(Ni.current=Xi,t=je!==null&&je.next!==null,qn=0,Ce=je=pe=null,Gi=!1,t)throw Error(R(300));return e}function Yl(){var e=Ms!==0;return Ms=0,e}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function pt(){if(je===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=Ce===null?pe.memoizedState:Ce.next;if(t!==null)Ce=t,je=e;else{if(e===null)throw Error(R(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function _s(e,t){return typeof t=="function"?t(e):t}function Xa(e){var t=pt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=je,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,u=null,c=a;do{var d=c.lane;if((qn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,pe.lanes|=d,Vn|=d}c=c.next}while(c!==null&&c!==a);u===null?o=r:u.next=l,St(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,pe.lanes|=a,Vn|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ja(e){var t=pt(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);St(a,t.memoizedState)||(Ke=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function dm(){}function mm(e,t){var n=pe,r=pt(),i=t(),a=!St(r.memoizedState,i);if(a&&(r.memoizedState=i,Ke=!0),r=r.queue,Kl(pm.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Rs(9,hm.bind(null,n,r,i,t),void 0,null),Te===null)throw Error(R(349));qn&30||fm(n,t,i)}return i}function fm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hm(e,t,n,r){t.value=n,t.getSnapshot=r,gm(t)&&xm(e)}function pm(e,t,n){return n(function(){gm(t)&&xm(e)})}function gm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function xm(e){var t=Ht(e,1);t!==null&&kt(t,e,1,-1)}function tc(e){var t=Mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=Qp.bind(null,pe,e),[t.memoizedState,e]}function Rs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ym(){return pt().memoizedState}function ji(e,t,n,r){var i=Mt();pe.flags|=e,i.memoizedState=Rs(1|t,n,void 0,r===void 0?null:r)}function ya(e,t,n,r){var i=pt();r=r===void 0?null:r;var a=void 0;if(je!==null){var o=je.memoizedState;if(a=o.destroy,r!==null&&Ql(r,o.deps)){i.memoizedState=Rs(t,n,a,r);return}}pe.flags|=e,i.memoizedState=Rs(1|t,n,a,r)}function nc(e,t){return ji(8390656,8,e,t)}function Kl(e,t){return ya(2048,8,e,t)}function vm(e,t){return ya(4,2,e,t)}function wm(e,t){return ya(4,4,e,t)}function bm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nm(e,t,n){return n=n!=null?n.concat([e]):null,ya(4,4,bm.bind(null,t,e),n)}function Gl(){}function jm(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ql(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function km(e,t){var n=pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ql(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sm(e,t,n){return qn&21?(St(n,t)||(n=Md(),pe.lanes|=n,Vn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ke=!0),e.memoizedState=n)}function Wp(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Ga.transition;Ga.transition={};try{e(!1),t()}finally{J=n,Ga.transition=r}}function Cm(){return pt().memoizedState}function Bp(e,t,n){var r=gn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pm(e))Tm(t,n);else if(n=lm(e,t,n,r),n!==null){var i=We();kt(n,e,r,i),Em(n,t,r)}}function Qp(e,t,n){var r=gn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pm(e))Tm(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,St(l,o)){var u=t.interleaved;u===null?(i.next=i,zl(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=lm(e,t,i,r),n!==null&&(i=We(),kt(n,e,r,i),Em(n,t,r))}}function Pm(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Tm(e,t){ls=Gi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Em(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pl(e,n)}}var Xi={readContext:ht,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},Hp={readContext:ht,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:nc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ji(4194308,4,bm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ji(4194308,4,e,t)},useInsertionEffect:function(e,t){return ji(4,2,e,t)},useMemo:function(e,t){var n=Mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bp.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:Gl,useDeferredValue:function(e){return Mt().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=Wp.bind(null,e[1]),Mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,i=Mt();if(ce){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),Te===null)throw Error(R(349));qn&30||fm(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,nc(pm.bind(null,r,a,e),[e]),r.flags|=2048,Rs(9,hm.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Mt(),t=Te.identifierPrefix;if(ce){var n=Vt,r=qt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ms++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Vp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yp={readContext:ht,useCallback:jm,useContext:ht,useEffect:Kl,useImperativeHandle:Nm,useInsertionEffect:vm,useLayoutEffect:wm,useMemo:km,useReducer:Xa,useRef:ym,useState:function(){return Xa(_s)},useDebugValue:Gl,useDeferredValue:function(e){var t=pt();return Sm(t,je.memoizedState,e)},useTransition:function(){var e=Xa(_s)[0],t=pt().memoizedState;return[e,t]},useMutableSource:dm,useSyncExternalStore:mm,useId:Cm,unstable_isNewReconciler:!1},Kp={readContext:ht,useCallback:jm,useContext:ht,useEffect:Kl,useImperativeHandle:Nm,useInsertionEffect:vm,useLayoutEffect:wm,useMemo:km,useReducer:Ja,useRef:ym,useState:function(){return Ja(_s)},useDebugValue:Gl,useDeferredValue:function(e){var t=pt();return je===null?t.memoizedState=e:Sm(t,je.memoizedState,e)},useTransition:function(){var e=Ja(_s)[0],t=pt().memoizedState;return[e,t]},useMutableSource:dm,useSyncExternalStore:mm,useId:Cm,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Wo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var va={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),i=gn(e),a=Wt(r,i);a.payload=t,n!=null&&(a.callback=n),t=hn(e,a,i),t!==null&&(kt(t,e,i,r),bi(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),i=gn(e),a=Wt(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=hn(e,a,i),t!==null&&(kt(t,e,i,r),bi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=gn(e),i=Wt(n,r);i.tag=2,t!=null&&(i.callback=t),t=hn(e,i,r),t!==null&&(kt(t,e,r,n),bi(t,e,r))}};function rc(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!ks(n,r)||!ks(i,a):!0}function Mm(e,t,n){var r=!1,i=Nn,a=t.contextType;return typeof a=="object"&&a!==null?a=ht(a):(i=Xe(t)?Un:Fe.current,r=t.contextTypes,a=(r=r!=null)?Sr(e,i):Nn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=va,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function sc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&va.enqueueReplaceState(t,t.state,null)}function Bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ql(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ht(a):(a=Xe(t)?Un:Fe.current,i.context=Sr(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Wo(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&va.enqueueReplaceState(i,i.state,null),Yi(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,t){try{var n="",r=t;do n+=jh(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Za(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Qo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gp=typeof WeakMap=="function"?WeakMap:Map;function _m(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zi||(Zi=!0,nl=r),Qo(e,t)},n}function Rm(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Qo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Qo(e,t),typeof r!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ic(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=cg.bind(null,e,t,n),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var Xp=Gt.ReactCurrentOwner,Ke=!1;function Ve(e,t,n,r){t.child=e===null?om(t,null,n,r):Pr(t,e.child,n,r)}function lc(e,t,n,r,i){n=n.render;var a=t.ref;return vr(t,i),r=Hl(e,t,n,r,a,i),n=Yl(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yt(e,t,i)):(ce&&n&&Ol(t),t.flags|=1,Ve(e,t,r,i),t.child)}function uc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!su(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,$m(e,t,a,r,i)):(e=Pi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:ks,n(o,r)&&e.ref===t.ref)return Yt(e,t,i)}return t.flags|=1,e=xn(a,r),e.ref=t.ref,e.return=t,t.child=e}function $m(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(ks(a,r)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(Ke=!0);else return t.lanes=e.lanes,Yt(e,t,i)}return Ho(e,t,n,r,i)}function Im(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(mr,Ze),Ze|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,te(mr,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,te(mr,Ze),Ze|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,te(mr,Ze),Ze|=r;return Ve(e,t,i,n),t.child}function Om(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ho(e,t,n,r,i){var a=Xe(n)?Un:Fe.current;return a=Sr(t,a),vr(t,i),n=Hl(e,t,n,r,a,i),r=Yl(),e!==null&&!Ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yt(e,t,i)):(ce&&r&&Ol(t),t.flags|=1,Ve(e,t,n,i),t.child)}function cc(e,t,n,r,i){if(Xe(n)){var a=!0;Vi(t)}else a=!1;if(vr(t,i),t.stateNode===null)ki(e,t),Mm(t,n,r),Bo(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ht(c):(c=Xe(n)?Un:Fe.current,c=Sr(t,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&sc(t,o,r,c),rn=!1;var p=t.memoizedState;o.state=p,Yi(t,r,o,i),u=t.memoizedState,l!==r||p!==u||Ge.current||rn?(typeof d=="function"&&(Wo(t,n,d,r),u=t.memoizedState),(l=rn||rc(t,n,l,r,p,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,um(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:yt(t.type,l),o.props=c,m=t.pendingProps,p=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ht(u):(u=Xe(n)?Un:Fe.current,u=Sr(t,u));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==u)&&sc(t,o,r,u),rn=!1,p=t.memoizedState,o.state=p,Yi(t,r,o,i);var v=t.memoizedState;l!==m||p!==v||Ge.current||rn?(typeof h=="function"&&(Wo(t,n,h,r),v=t.memoizedState),(c=rn||rc(t,n,c,r,p,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Yo(e,t,n,r,a,i)}function Yo(e,t,n,r,i,a){Om(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Ku(t,n,!1),Yt(e,t,a);r=t.stateNode,Xp.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Pr(t,e.child,null,a),t.child=Pr(t,null,l,a)):Ve(e,t,l,a),t.memoizedState=r.state,i&&Ku(t,n,!0),t.child}function Lm(e){var t=e.stateNode;t.pendingContext?Yu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Yu(e,t.context,!1),Vl(e,t.containerInfo)}function dc(e,t,n,r,i){return Cr(),Al(i),t.flags|=256,Ve(e,t,n,r),t.child}var Ko={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function Am(e,t,n){var r=t.pendingProps,i=he.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),te(he,i&1),e===null)return qo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Na(o,r,0,null),e=An(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Go(n),t.memoizedState=Ko,e):Xl(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Jp(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=xn(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=xn(l,a):(a=An(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?Go(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=Ko,r}return a=e.child,e=a.sibling,r=xn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xl(e,t){return t=Na({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,n,r){return r!==null&&Al(r),Pr(t,e.child,null,n),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jp(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Za(Error(R(422))),li(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Na({mode:"visible",children:r.children},i,0,null),a=An(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Pr(t,e.child,null,o),t.child.memoizedState=Go(o),t.memoizedState=Ko,a);if(!(t.mode&1))return li(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(R(419)),r=Za(a,r,void 0),li(e,t,o,r)}if(l=(o&e.childLanes)!==0,Ke||l){if(r=Te,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ht(e,i),kt(r,e,i,-1))}return ru(),r=Za(Error(R(421))),li(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=dg.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,nt=fn(i.nextSibling),st=t,ce=!0,wt=null,e!==null&&(ct[dt++]=qt,ct[dt++]=Vt,ct[dt++]=zn,qt=e.id,Vt=e.overflow,zn=t),t=Xl(t,r.children),t.flags|=4096,t)}function mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vo(e.return,t,n)}function eo(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Dm(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ve(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mc(e,n,t);else if(e.tag===19)mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(te(he,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ki(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),eo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ki(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}eo(t,!0,n,null,a);break;case"together":eo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ki(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=xn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zp(e,t,n){switch(t.tag){case 3:Lm(t),Cr();break;case 5:cm(t);break;case 1:Xe(t.type)&&Vi(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;te(Qi,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(te(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(te(he,he.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);te(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Dm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,Im(e,t,n)}return Yt(e,t,n)}var Fm,Xo,Um,zm;Fm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xo=function(){};Um=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,On(Ot.current);var a=null;switch(n){case"input":i=vo(e,i),r=vo(e,r),a=[];break;case"select":i=ge({},i,{value:void 0}),r=ge({},r,{value:void 0}),a=[];break;case"textarea":i=No(e,i),r=No(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zi)}ko(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xs.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ae("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};zm=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function eg(e,t,n){var r=t.pendingProps;switch(Ll(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Xe(t.type)&&qi(),Ae(t),null;case 3:return r=t.stateNode,Tr(),oe(Ge),oe(Fe),Bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wt!==null&&(il(wt),wt=null))),Xo(e,t),Ae(t),null;case 5:Wl(t);var i=On(Es.current);if(n=t.type,e!==null&&t.stateNode!=null)Um(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(R(166));return Ae(t),null}if(e=On(Ot.current),ai(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[_t]=t,r[Ps]=a,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(i=0;i<ts.length;i++)ae(ts[i],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":bu(r,a),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ae("invalid",r);break;case"textarea":ju(r,a),ae("invalid",r)}ko(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&ii(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&ii(r.textContent,l,e),i=["children",""+l]):xs.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":Xs(r),Nu(r,a,!0);break;case"textarea":Xs(r),ku(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=zi)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[_t]=t,e[Ps]=r,Fm(e,t,!1,!1),t.stateNode=e;e:{switch(o=So(n,r),n){case"dialog":ae("cancel",e),ae("close",e),i=r;break;case"iframe":case"object":case"embed":ae("load",e),i=r;break;case"video":case"audio":for(i=0;i<ts.length;i++)ae(ts[i],e);i=r;break;case"source":ae("error",e),i=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),i=r;break;case"details":ae("toggle",e),i=r;break;case"input":bu(e,r),i=vo(e,r),ae("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ge({},r,{value:void 0}),ae("invalid",e);break;case"textarea":ju(e,r),i=No(e,r),ae("invalid",e);break;default:i=r}ko(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var u=l[a];a==="style"?yd(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&gd(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ys(e,u):typeof u=="number"&&ys(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xs.hasOwnProperty(a)?u!=null&&a==="onScroll"&&ae("scroll",e):u!=null&&bl(e,a,u,o))}switch(n){case"input":Xs(e),Nu(e,r,!1);break;case"textarea":Xs(e),ku(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?pr(e,!!r.multiple,a,!1):r.defaultValue!=null&&pr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)zm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(R(166));if(n=On(Es.current),On(Ot.current),ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[_t]=t,(a=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:ii(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ii(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=t,t.stateNode=r}return Ae(t),null;case 13:if(oe(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&nt!==null&&t.mode&1&&!(t.flags&128))im(),Cr(),t.flags|=98560,a=!1;else if(a=ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[_t]=t}else Cr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),a=!1}else wt!==null&&(il(wt),wt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Se===0&&(Se=3):ru())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Tr(),Xo(e,t),e===null&&Ss(t.stateNode.containerInfo),Ae(t),null;case 10:return Ul(t.type._context),Ae(t),null;case 17:return Xe(t.type)&&qi(),Ae(t),null;case 19:if(oe(he),a=t.memoizedState,a===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Hr(a,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ki(e),o!==null){for(t.flags|=128,Hr(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return te(he,he.current&1|2),t.child}e=e.sibling}a.tail!==null&&ve()>Mr&&(t.flags|=128,r=!0,Hr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Ki(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ce)return Ae(t),null}else 2*ve()-a.renderingStartTime>Mr&&n!==1073741824&&(t.flags|=128,r=!0,Hr(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ve(),t.sibling=null,n=he.current,te(he,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function tg(e,t){switch(Ll(t),t.tag){case 1:return Xe(t.type)&&qi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tr(),oe(Ge),oe(Fe),Bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wl(t),null;case 13:if(oe(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(he),null;case 4:return Tr(),null;case 10:return Ul(t.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var ui=!1,De=!1,ng=typeof WeakSet=="function"?WeakSet:Set,U=null;function dr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Jo(e,t,n){try{n()}catch(r){xe(e,t,r)}}var fc=!1;function rg(e,t){if(Oo=Di,e=Qd(),Il(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,m=e,p=null;t:for(;;){for(var h;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==a||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++c===i&&(l=o),p===a&&++d===r&&(u=o),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:e,selectionRange:n},Di=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,C=v.memoizedState,x=t.stateNode,f=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:yt(t.type,g),C);x.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(w){xe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return v=fc,fc=!1,v}function us(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Jo(t,n,a)}i=i.next}while(i!==r)}}function wa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qm(e){var t=e.alternate;t!==null&&(e.alternate=null,qm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_t],delete t[Ps],delete t[Fo],delete t[Fp],delete t[Up])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vm(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function el(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zi));else if(r!==4&&(e=e.child,e!==null))for(el(e,t,n),e=e.sibling;e!==null;)el(e,t,n),e=e.sibling}function tl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}var _e=null,vt=!1;function Zt(e,t,n){for(n=n.child;n!==null;)Wm(e,t,n),n=n.sibling}function Wm(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(ma,n)}catch{}switch(n.tag){case 5:De||dr(n,t);case 6:var r=_e,i=vt;_e=null,Zt(e,t,n),_e=r,vt=i,_e!==null&&(vt?(e=_e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(vt?(e=_e,n=n.stateNode,e.nodeType===8?Ha(e.parentNode,n):e.nodeType===1&&Ha(e,n),Ns(e)):Ha(_e,n.stateNode));break;case 4:r=_e,i=vt,_e=n.stateNode.containerInfo,vt=!0,Zt(e,t,n),_e=r,vt=i;break;case 0:case 11:case 14:case 15:if(!De&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Jo(n,t,o),i=i.next}while(i!==r)}Zt(e,t,n);break;case 1:if(!De&&(dr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xe(n,t,l)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(De=(r=De)||n.memoizedState!==null,Zt(e,t,n),De=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ng),t.forEach(function(r){var i=mg.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_e=l.stateNode,vt=!1;break e;case 3:_e=l.stateNode.containerInfo,vt=!0;break e;case 4:_e=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(_e===null)throw Error(R(160));Wm(a,o,i),_e=null,vt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){xe(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bm(t,e),t=t.sibling}function Bm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Tt(e),r&4){try{us(3,e,e.return),wa(3,e)}catch(g){xe(e,e.return,g)}try{us(5,e,e.return)}catch(g){xe(e,e.return,g)}}break;case 1:xt(t,e),Tt(e),r&512&&n!==null&&dr(n,n.return);break;case 5:if(xt(t,e),Tt(e),r&512&&n!==null&&dr(n,n.return),e.flags&32){var i=e.stateNode;try{ys(i,"")}catch(g){xe(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&fd(i,a),So(l,o);var c=So(l,a);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?yd(i,m):d==="dangerouslySetInnerHTML"?gd(i,m):d==="children"?ys(i,m):bl(i,d,m,c)}switch(l){case"input":wo(i,a);break;case"textarea":hd(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?pr(i,!!a.multiple,h,!1):p!==!!a.multiple&&(a.defaultValue!=null?pr(i,!!a.multiple,a.defaultValue,!0):pr(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ps]=a}catch(g){xe(e,e.return,g)}}break;case 6:if(xt(t,e),Tt(e),r&4){if(e.stateNode===null)throw Error(R(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){xe(e,e.return,g)}}break;case 3:if(xt(t,e),Tt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(t.containerInfo)}catch(g){xe(e,e.return,g)}break;case 4:xt(t,e),Tt(e);break;case 13:xt(t,e),Tt(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(eu=ve())),r&4&&pc(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(De=(c=De)||d,xt(t,e),De=c):xt(t,e),Tt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(m=U=d;U!==null;){switch(p=U,h=p.child,p.tag){case 0:case 11:case 14:case 15:us(4,p,p.return);break;case 1:dr(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){xe(r,n,g)}}break;case 5:dr(p,p.return);break;case 22:if(p.memoizedState!==null){xc(m);continue}}h!==null?(h.return=p,U=h):xc(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=xd("display",o))}catch(g){xe(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(g){xe(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xt(t,e),Tt(e),r&4&&pc(e);break;case 21:break;default:xt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Vm(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ys(i,""),r.flags&=-33);var a=hc(e);tl(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=hc(e);el(e,l,o);break;default:throw Error(R(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sg(e,t,n){U=e,Qm(e)}function Qm(e,t,n){for(var r=(e.mode&1)!==0;U!==null;){var i=U,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ui;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||De;l=ui;var c=De;if(ui=o,(De=u)&&!c)for(U=i;U!==null;)o=U,u=o.child,o.tag===22&&o.memoizedState!==null?yc(i):u!==null?(u.return=o,U=u):yc(i);for(;a!==null;)U=a,Qm(a),a=a.sibling;U=i,ui=l,De=c}gc(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,U=a):gc(e)}}function gc(e){for(;U!==null;){var t=U;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||wa(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!De)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ec(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ec(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ns(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}De||t.flags&512&&Zo(t)}catch(p){xe(t,t.return,p)}}if(t===e){U=null;break}if(n=t.sibling,n!==null){n.return=t.return,U=n;break}U=t.return}}function xc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var n=t.sibling;if(n!==null){n.return=t.return,U=n;break}U=t.return}}function yc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wa(4,t)}catch(u){xe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){xe(t,i,u)}}var a=t.return;try{Zo(t)}catch(u){xe(t,a,u)}break;case 5:var o=t.return;try{Zo(t)}catch(u){xe(t,o,u)}}}catch(u){xe(t,t.return,u)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var ig=Math.ceil,Ji=Gt.ReactCurrentDispatcher,Jl=Gt.ReactCurrentOwner,ft=Gt.ReactCurrentBatchConfig,Y=0,Te=null,be=null,Re=0,Ze=0,mr=Cn(0),Se=0,$s=null,Vn=0,ba=0,Zl=0,cs=null,Ye=null,eu=0,Mr=1/0,Ft=null,Zi=!1,nl=null,pn=null,ci=!1,un=null,ea=0,ds=0,rl=null,Si=-1,Ci=0;function We(){return Y&6?ve():Si!==-1?Si:Si=ve()}function gn(e){return e.mode&1?Y&2&&Re!==0?Re&-Re:qp.transition!==null?(Ci===0&&(Ci=Md()),Ci):(e=J,e!==0||(e=window.event,e=e===void 0?16:Ad(e.type)),e):1}function kt(e,t,n,r){if(50<ds)throw ds=0,rl=null,Error(R(185));Us(e,n,r),(!(Y&2)||e!==Te)&&(e===Te&&(!(Y&2)&&(ba|=n),Se===4&&an(e,Re)),Je(e,r),n===1&&Y===0&&!(t.mode&1)&&(Mr=ve()+500,xa&&Pn()))}function Je(e,t){var n=e.callbackNode;qh(e,t);var r=Ai(e,e===Te?Re:0);if(r===0)n!==null&&Pu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Pu(n),t===1)e.tag===0?zp(vc.bind(null,e)):nm(vc.bind(null,e)),Ap(function(){!(Y&6)&&Pn()}),n=null;else{switch(_d(r)){case 1:n=Cl;break;case 4:n=Td;break;case 16:n=Li;break;case 536870912:n=Ed;break;default:n=Li}n=ef(n,Hm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hm(e,t){if(Si=-1,Ci=0,Y&6)throw Error(R(327));var n=e.callbackNode;if(wr()&&e.callbackNode!==n)return null;var r=Ai(e,e===Te?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ta(e,r);else{t=r;var i=Y;Y|=2;var a=Km();(Te!==e||Re!==t)&&(Ft=null,Mr=ve()+500,Ln(e,t));do try{lg();break}catch(l){Ym(e,l)}while(!0);Fl(),Ji.current=a,Y=i,be!==null?t=0:(Te=null,Re=0,t=Se)}if(t!==0){if(t===2&&(i=Mo(e),i!==0&&(r=i,t=sl(e,i))),t===1)throw n=$s,Ln(e,0),an(e,r),Je(e,ve()),n;if(t===6)an(e,r);else{if(i=e.current.alternate,!(r&30)&&!ag(i)&&(t=ta(e,r),t===2&&(a=Mo(e),a!==0&&(r=a,t=sl(e,a))),t===1))throw n=$s,Ln(e,0),an(e,r),Je(e,ve()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(R(345));case 2:_n(e,Ye,Ft);break;case 3:if(an(e,r),(r&130023424)===r&&(t=eu+500-ve(),10<t)){if(Ai(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Do(_n.bind(null,e,Ye,Ft),t);break}_n(e,Ye,Ft);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-jt(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ig(r/1960))-r,10<r){e.timeoutHandle=Do(_n.bind(null,e,Ye,Ft),r);break}_n(e,Ye,Ft);break;case 5:_n(e,Ye,Ft);break;default:throw Error(R(329))}}}return Je(e,ve()),e.callbackNode===n?Hm.bind(null,e):null}function sl(e,t){var n=cs;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=ta(e,t),e!==2&&(t=Ye,Ye=n,t!==null&&il(t)),e}function il(e){Ye===null?Ye=e:Ye.push.apply(Ye,e)}function ag(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!St(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Zl,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function vc(e){if(Y&6)throw Error(R(327));wr();var t=Ai(e,0);if(!(t&1))return Je(e,ve()),null;var n=ta(e,t);if(e.tag!==0&&n===2){var r=Mo(e);r!==0&&(t=r,n=sl(e,r))}if(n===1)throw n=$s,Ln(e,0),an(e,t),Je(e,ve()),n;if(n===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,Ye,Ft),Je(e,ve()),null}function tu(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Mr=ve()+500,xa&&Pn())}}function Wn(e){un!==null&&un.tag===0&&!(Y&6)&&wr();var t=Y;Y|=1;var n=ft.transition,r=J;try{if(ft.transition=null,J=1,e)return e()}finally{J=r,ft.transition=n,Y=t,!(Y&6)&&Pn()}}function nu(){Ze=mr.current,oe(mr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lp(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(Ll(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qi();break;case 3:Tr(),oe(Ge),oe(Fe),Bl();break;case 5:Wl(r);break;case 4:Tr();break;case 13:oe(he);break;case 19:oe(he);break;case 10:Ul(r.type._context);break;case 22:case 23:nu()}n=n.return}if(Te=e,be=e=xn(e.current,null),Re=Ze=t,Se=0,$s=null,Zl=ba=Vn=0,Ye=cs=null,In!==null){for(t=0;t<In.length;t++)if(n=In[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}In=null}return e}function Ym(e,t){do{var n=be;try{if(Fl(),Ni.current=Xi,Gi){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gi=!1}if(qn=0,Ce=je=pe=null,ls=!1,Ms=0,Jl.current=null,n===null||n.return===null){Se=1,$s=t,be=null;break}e:{var a=e,o=n.return,l=n,u=t;if(t=Re,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ac(o);if(h!==null){h.flags&=-257,oc(h,o,l,a,t),h.mode&1&&ic(a,c,t),t=h,u=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}else{if(!(t&1)){ic(a,c,t),ru();break e}u=Error(R(426))}}else if(ce&&l.mode&1){var C=ac(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),oc(C,o,l,a,t),Al(Er(u,l));break e}}a=u=Er(u,l),Se!==4&&(Se=2),cs===null?cs=[a]:cs.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=_m(a,u,t);Zu(a,x);break e;case 1:l=u;var f=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(pn===null||!pn.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Rm(a,l,t);Zu(a,w);break e}}a=a.return}while(a!==null)}Xm(n)}catch(P){t=P,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function Km(){var e=Ji.current;return Ji.current=Xi,e===null?Xi:e}function ru(){(Se===0||Se===3||Se===2)&&(Se=4),Te===null||!(Vn&268435455)&&!(ba&268435455)||an(Te,Re)}function ta(e,t){var n=Y;Y|=2;var r=Km();(Te!==e||Re!==t)&&(Ft=null,Ln(e,t));do try{og();break}catch(i){Ym(e,i)}while(!0);if(Fl(),Y=n,Ji.current=r,be!==null)throw Error(R(261));return Te=null,Re=0,Se}function og(){for(;be!==null;)Gm(be)}function lg(){for(;be!==null&&!$h();)Gm(be)}function Gm(e){var t=Zm(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Xm(e):be=t,Jl.current=null}function Xm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=tg(n,t),n!==null){n.flags&=32767,be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,be=null;return}}else if(n=eg(n,t,Ze),n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Se===0&&(Se=5)}function _n(e,t,n){var r=J,i=ft.transition;try{ft.transition=null,J=1,ug(e,t,n,r)}finally{ft.transition=i,J=r}return null}function ug(e,t,n,r){do wr();while(un!==null);if(Y&6)throw Error(R(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Vh(e,a),e===Te&&(be=Te=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ci||(ci=!0,ef(Li,function(){return wr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ft.transition,ft.transition=null;var o=J;J=1;var l=Y;Y|=4,Jl.current=null,rg(e,n),Bm(n,e),Ep(Lo),Di=!!Oo,Lo=Oo=null,e.current=n,sg(n),Ih(),Y=l,J=o,ft.transition=a}else e.current=n;if(ci&&(ci=!1,un=e,ea=i),a=e.pendingLanes,a===0&&(pn=null),Ah(n.stateNode),Je(e,ve()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zi)throw Zi=!1,e=nl,nl=null,e;return ea&1&&e.tag!==0&&wr(),a=e.pendingLanes,a&1?e===rl?ds++:(ds=0,rl=e):ds=0,Pn(),null}function wr(){if(un!==null){var e=_d(ea),t=ft.transition,n=J;try{if(ft.transition=null,J=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,ea=0,Y&6)throw Error(R(331));var i=Y;for(Y|=4,U=e.current;U!==null;){var a=U,o=a.child;if(U.flags&16){var l=a.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:us(8,d,a)}var m=d.child;if(m!==null)m.return=d,U=m;else for(;U!==null;){d=U;var p=d.sibling,h=d.return;if(qm(d),d===c){U=null;break}if(p!==null){p.return=h,U=p;break}U=h}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var C=g.sibling;g.sibling=null,g=C}while(g!==null)}}U=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,U=o;else e:for(;U!==null;){if(a=U,a.flags&2048)switch(a.tag){case 0:case 11:case 15:us(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,U=x;break e}U=a.return}}var f=e.current;for(U=f;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=f;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wa(9,l)}}catch(P){xe(l,l.return,P)}if(l===o){U=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,U=w;break e}U=l.return}}if(Y=i,Pn(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(ma,e)}catch{}r=!0}return r}finally{J=n,ft.transition=t}}return!1}function wc(e,t,n){t=Er(n,t),t=_m(e,t,1),e=hn(e,t,1),t=We(),e!==null&&(Us(e,1,t),Je(e,t))}function xe(e,t,n){if(e.tag===3)wc(e,e,n);else for(;t!==null;){if(t.tag===3){wc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(pn===null||!pn.has(r))){e=Er(n,e),e=Rm(t,e,1),t=hn(t,e,1),e=We(),t!==null&&(Us(t,1,e),Je(t,e));break}}t=t.return}}function cg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Re&n)===n&&(Se===4||Se===3&&(Re&130023424)===Re&&500>ve()-eu?Ln(e,0):Zl|=n),Je(e,t)}function Jm(e,t){t===0&&(e.mode&1?(t=ei,ei<<=1,!(ei&130023424)&&(ei=4194304)):t=1);var n=We();e=Ht(e,t),e!==null&&(Us(e,t,n),Je(e,n))}function dg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function mg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(t),Jm(e,n)}var Zm;Zm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ge.current)Ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ke=!1,Zp(e,t,n);Ke=!!(e.flags&131072)}else Ke=!1,ce&&t.flags&1048576&&rm(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ki(e,t),e=t.pendingProps;var i=Sr(t,Fe.current);vr(t,n),i=Hl(null,t,r,e,i,n);var a=Yl();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xe(r)?(a=!0,Vi(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ql(t),i.updater=va,t.stateNode=i,i._reactInternals=t,Bo(t,r,e,n),t=Yo(null,t,r,!0,a,n)):(t.tag=0,ce&&a&&Ol(t),Ve(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ki(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=hg(r),e=yt(r,e),i){case 0:t=Ho(null,t,r,e,n);break e;case 1:t=cc(null,t,r,e,n);break e;case 11:t=lc(null,t,r,e,n);break e;case 14:t=uc(null,t,r,yt(r.type,e),n);break e}throw Error(R(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),Ho(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),cc(e,t,r,i,n);case 3:e:{if(Lm(t),e===null)throw Error(R(387));r=t.pendingProps,a=t.memoizedState,i=a.element,um(e,t),Yi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Er(Error(R(423)),t),t=dc(e,t,r,n,i);break e}else if(r!==i){i=Er(Error(R(424)),t),t=dc(e,t,r,n,i);break e}else for(nt=fn(t.stateNode.containerInfo.firstChild),st=t,ce=!0,wt=null,n=om(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cr(),r===i){t=Yt(e,t,n);break e}Ve(e,t,r,n)}t=t.child}return t;case 5:return cm(t),e===null&&qo(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Ao(r,i)?o=null:a!==null&&Ao(r,a)&&(t.flags|=32),Om(e,t),Ve(e,t,o,n),t.child;case 6:return e===null&&qo(t),null;case 13:return Am(e,t,n);case 4:return Vl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):Ve(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),lc(e,t,r,i,n);case 7:return Ve(e,t,t.pendingProps,n),t.child;case 8:return Ve(e,t,t.pendingProps.children,n),t.child;case 12:return Ve(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,te(Qi,r._currentValue),r._currentValue=o,a!==null)if(St(a.value,o)){if(a.children===i.children&&!Ge.current){t=Yt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=Wt(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Vo(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(R(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vo(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ve(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,vr(t,n),i=ht(i),r=r(i),t.flags|=1,Ve(e,t,r,n),t.child;case 14:return r=t.type,i=yt(r,t.pendingProps),i=yt(r.type,i),uc(e,t,r,i,n);case 15:return $m(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yt(r,i),ki(e,t),t.tag=1,Xe(r)?(e=!0,Vi(t)):e=!1,vr(t,n),Mm(t,r,i),Bo(t,r,i,n),Yo(null,t,r,!0,e,n);case 19:return Dm(e,t,n);case 22:return Im(e,t,n)}throw Error(R(156,t.tag))};function ef(e,t){return Pd(e,t)}function fg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new fg(e,t,n,r)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hg(e){if(typeof e=="function")return su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jl)return 11;if(e===kl)return 14}return 2}function xn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pi(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")su(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case nr:return An(n.children,i,a,t);case Nl:o=8,i|=8;break;case po:return e=mt(12,n,t,i|2),e.elementType=po,e.lanes=a,e;case go:return e=mt(13,n,t,i),e.elementType=go,e.lanes=a,e;case xo:return e=mt(19,n,t,i),e.elementType=xo,e.lanes=a,e;case cd:return Na(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ld:o=10;break e;case ud:o=9;break e;case jl:o=11;break e;case kl:o=14;break e;case nn:o=16,r=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=mt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function An(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Na(e,t,n,r){return e=mt(22,e,r,t),e.elementType=cd,e.lanes=n,e.stateNode={isHidden:!1},e}function to(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function no(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pg(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=La(0),this.expirationTimes=La(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=La(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function iu(e,t,n,r,i,a,o,l,u){return e=new pg(e,t,n,l,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=mt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(a),e}function gg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tf(e){if(!e)return Nn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var n=e.type;if(Xe(n))return tm(e,n,t)}return t}function nf(e,t,n,r,i,a,o,l,u){return e=iu(n,r,!0,e,i,a,o,l,u),e.context=tf(null),n=e.current,r=We(),i=gn(n),a=Wt(r,i),a.callback=t??null,hn(n,a,i),e.current.lanes=i,Us(e,i,r),Je(e,r),e}function ja(e,t,n,r){var i=t.current,a=We(),o=gn(i);return n=tf(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=hn(i,t,o),e!==null&&(kt(e,i,o,a),bi(e,i,o)),o}function na(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function au(e,t){bc(e,t),(e=e.alternate)&&bc(e,t)}function xg(){return null}var rf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ou(e){this._internalRoot=e}ka.prototype.render=ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));ja(e,t,null,null)};ka.prototype.unmount=ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wn(function(){ja(null,e,null,null)}),t[Qt]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Id();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Ld(e)}};function lu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function yg(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var c=na(o);a.call(c)}}var o=nf(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=o,e[Qt]=o.current,Ss(e.nodeType===8?e.parentNode:e),Wn(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=na(u);l.call(c)}}var u=iu(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=u,e[Qt]=u.current,Ss(e.nodeType===8?e.parentNode:e),Wn(function(){ja(t,u,n,r)}),u}function Ca(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var u=na(o);l.call(u)}}ja(t,o,e,i)}else o=yg(n,t,e,i,r);return na(o)}Rd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=es(t.pendingLanes);n!==0&&(Pl(t,n|1),Je(t,ve()),!(Y&6)&&(Mr=ve()+500,Pn()))}break;case 13:Wn(function(){var r=Ht(e,1);if(r!==null){var i=We();kt(r,e,1,i)}}),au(e,1)}};Tl=function(e){if(e.tag===13){var t=Ht(e,134217728);if(t!==null){var n=We();kt(t,e,134217728,n)}au(e,134217728)}};$d=function(e){if(e.tag===13){var t=gn(e),n=Ht(e,t);if(n!==null){var r=We();kt(n,e,t,r)}au(e,t)}};Id=function(){return J};Od=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};Po=function(e,t,n){switch(t){case"input":if(wo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ga(r);if(!i)throw Error(R(90));md(r),wo(r,i)}}}break;case"textarea":hd(e,n);break;case"select":t=n.value,t!=null&&pr(e,!!n.multiple,t,!1)}};bd=tu;Nd=Wn;var vg={usingClientEntryPoint:!1,Events:[qs,ar,ga,vd,wd,tu]},Yr={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wg={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Sd(e),e===null?null:e.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||xg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var di=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!di.isDisabled&&di.supportsFiber)try{ma=di.inject(wg),It=di}catch{}}at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vg;at.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lu(t))throw Error(R(200));return gg(e,t,null,n)};at.createRoot=function(e,t){if(!lu(e))throw Error(R(299));var n=!1,r="",i=rf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=iu(e,1,!1,null,null,n,!1,r,i),e[Qt]=t.current,Ss(e.nodeType===8?e.parentNode:e),new ou(t)};at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Sd(t),e=e===null?null:e.stateNode,e};at.flushSync=function(e){return Wn(e)};at.hydrate=function(e,t,n){if(!Sa(t))throw Error(R(200));return Ca(null,e,t,!0,n)};at.hydrateRoot=function(e,t,n){if(!lu(e))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=rf;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nf(t,null,e,1,n??null,i,!1,a,o),e[Qt]=t.current,Ss(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ka(t)};at.render=function(e,t,n){if(!Sa(t))throw Error(R(200));return Ca(null,e,t,!1,n)};at.unmountComponentAtNode=function(e){if(!Sa(e))throw Error(R(40));return e._reactRootContainer?(Wn(function(){Ca(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};at.unstable_batchedUpdates=tu;at.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Sa(n))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ca(e,t,n,!1,r)};at.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),sd.exports=at;var bg=sd.exports,jc=bg;fo.createRoot=jc.createRoot,fo.hydrateRoot=jc.hydrateRoot;let Ng={data:""},jg=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Ng},kg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Sg=/\/\*[^]*?\*\/|  +/g,kc=/\n+/g,on=(e,t)=>{let n="",r="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+o+";":r+=a[1]=="f"?on(o,a):a+"{"+on(o,a[1]=="k"?"":t)+"}":typeof o=="object"?r+=on(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=on.p?on.p(a,o):a+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Dt={},af=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+af(e[n]);return t}return e},Cg=(e,t,n,r,i)=>{let a=af(e),o=Dt[a]||(Dt[a]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(a));if(!Dt[o]){let u=a!==e?e:(c=>{let d,m,p=[{}];for(;d=kg.exec(c.replace(Sg,""));)d[4]?p.shift():d[3]?(m=d[3].replace(kc," ").trim(),p.unshift(p[0][m]=p[0][m]||{})):p[0][d[1]]=d[2].replace(kc," ").trim();return p[0]})(e);Dt[o]=on(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&Dt.g?Dt.g:null;return n&&(Dt.g=Dt[o]),((u,c,d,m)=>{m?c.data=c.data.replace(m,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(Dt[o],t,r,l),o},Pg=(e,t,n)=>e.reduce((r,i,a)=>{let o=t[a];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":on(l,""):l===!1?"":l}return r+i+(o??"")},"");function Pa(e){let t=this||{},n=e.call?e(t.p):e;return Cg(n.unshift?n.raw?Pg(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,jg(t.target),t.g,t.o,t.k)}let of,al,ol;Pa.bind({g:1});let Kt=Pa.bind({k:1});function Tg(e,t,n,r){on.p=t,of=e,al=n,ol=r}function Tn(e,t){let n=this||{};return function(){let r=arguments;function i(a,o){let l=Object.assign({},a),u=l.className||i.className;n.p=Object.assign({theme:al&&al()},l),n.o=/ *go\d+/.test(u),l.className=Pa.apply(n,r)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),ol&&c[0]&&ol(l),of(c,l)}return i}}var Eg=e=>typeof e=="function",ra=(e,t)=>Eg(e)?e(t):e,Mg=(()=>{let e=0;return()=>(++e).toString()})(),lf=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),_g=20,uu="default",uf=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return uf(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},Ti=[],cf={toasts:[],pausedAt:void 0,settings:{toastLimit:_g}},$t={},df=(e,t=uu)=>{$t[t]=uf($t[t]||cf,e),Ti.forEach(([n,r])=>{n===t&&r($t[t])})},mf=e=>Object.keys($t).forEach(t=>df(e,t)),Rg=e=>Object.keys($t).find(t=>$t[t].toasts.some(n=>n.id===e)),Ta=(e=uu)=>t=>{df(t,e)},$g={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ig=(e={},t=uu)=>{let[n,r]=N.useState($t[t]||cf),i=N.useRef($t[t]);N.useEffect(()=>(i.current!==$t[t]&&r($t[t]),Ti.push([t,r]),()=>{let o=Ti.findIndex(([l])=>l===t);o>-1&&Ti.splice(o,1)}),[t]);let a=n.toasts.map(o=>{var l,u,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((l=e[o.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((u=e[o.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||$g[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...n,toasts:a}},Og=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Mg()}),Ws=e=>(t,n)=>{let r=Og(t,e,n);return Ta(r.toasterId||Rg(r.id))({type:2,toast:r}),r.id},ke=(e,t)=>Ws("blank")(e,t);ke.error=Ws("error");ke.success=Ws("success");ke.loading=Ws("loading");ke.custom=Ws("custom");ke.dismiss=(e,t)=>{let n={type:3,toastId:e};t?Ta(t)(n):mf(n)};ke.dismissAll=e=>ke.dismiss(void 0,e);ke.remove=(e,t)=>{let n={type:4,toastId:e};t?Ta(t)(n):mf(n)};ke.removeAll=e=>ke.remove(void 0,e);ke.promise=(e,t,n)=>{let r=ke.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?ra(t.success,i):void 0;return a?ke.success(a,{id:r,...n,...n==null?void 0:n.success}):ke.dismiss(r),i}).catch(i=>{let a=t.error?ra(t.error,i):void 0;a?ke.error(a,{id:r,...n,...n==null?void 0:n.error}):ke.dismiss(r)}),e};var Lg=1e3,Ag=(e,t="default")=>{let{toasts:n,pausedAt:r}=Ig(e,t),i=N.useRef(new Map).current,a=N.useCallback((m,p=Lg)=>{if(i.has(m))return;let h=setTimeout(()=>{i.delete(m),o({type:4,toastId:m})},p);i.set(m,h)},[]);N.useEffect(()=>{if(r)return;let m=Date.now(),p=n.map(h=>{if(h.duration===1/0)return;let v=(h.duration||0)+h.pauseDuration-(m-h.createdAt);if(v<0){h.visible&&ke.dismiss(h.id);return}return setTimeout(()=>ke.dismiss(h.id,t),v)});return()=>{p.forEach(h=>h&&clearTimeout(h))}},[n,r,t]);let o=N.useCallback(Ta(t),[t]),l=N.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=N.useCallback((m,p)=>{o({type:1,toast:{id:m,height:p}})},[o]),c=N.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),d=N.useCallback((m,p)=>{let{reverseOrder:h=!1,gutter:v=8,defaultPosition:g}=p||{},C=n.filter(y=>(y.position||g)===(m.position||g)&&y.height),x=C.findIndex(y=>y.id===m.id),f=C.filter((y,w)=>w<x&&y.visible).length;return C.filter(y=>y.visible).slice(...h?[f+1]:[0,f]).reduce((y,w)=>y+(w.height||0)+v,0)},[n]);return N.useEffect(()=>{n.forEach(m=>{if(m.dismissed)a(m.id,m.removeDelay);else{let p=i.get(m.id);p&&(clearTimeout(p),i.delete(m.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:u,startPause:l,endPause:c,calculateOffset:d}}},Dg=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Fg=Kt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ug=Kt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zg=Tn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Fg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ug} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qg=Kt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Vg=Tn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${qg} 1s linear infinite;
`,Wg=Kt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Bg=Kt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Qg=Tn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Bg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Hg=Tn("div")`
  position: absolute;
`,Yg=Tn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kg=Kt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gg=Tn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Xg=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?N.createElement(Gg,null,t):t:n==="blank"?null:N.createElement(Yg,null,N.createElement(Vg,{...r}),n!=="loading"&&N.createElement(Hg,null,n==="error"?N.createElement(zg,{...r}):N.createElement(Qg,{...r})))},Jg=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Zg=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,ex="0%{opacity:0;} 100%{opacity:1;}",tx="0%{opacity:1;} 100%{opacity:0;}",nx=Tn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rx=Tn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sx=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=lf()?[ex,tx]:[Jg(n),Zg(n)];return{animation:t?`${Kt(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Kt(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ix=N.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?sx(e.position||t||"top-center",e.visible):{opacity:0},a=N.createElement(Xg,{toast:e}),o=N.createElement(rx,{...e.ariaProps},ra(e.message,e));return N.createElement(nx,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:a,message:o}):N.createElement(N.Fragment,null,a,o))});Tg(N.createElement);var ax=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let a=N.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return N.createElement("div",{ref:a,className:t,style:n},i)},ox=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:lf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},lx=Pa`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mi=16,ux=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:a,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:c}=Ag(n,a);return N.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:mi,left:mi,right:mi,bottom:mi,pointerEvents:"none",...o},className:l,onMouseEnter:c.startPause,onMouseLeave:c.endPause},u.map(d=>{let m=d.position||t,p=c.calculateOffset(d,{reverseOrder:e,gutter:r,defaultPosition:t}),h=ox(m,p);return N.createElement(ax,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?lx:"",style:h},d.type==="custom"?ra(d.message,d):i?i(d):N.createElement(ix,{toast:d,position:m}))}))},O=ke,Rt=[],ut=[],cx=Uint8Array,ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Zn=0,dx=ro.length;Zn<dx;++Zn)Rt[Zn]=ro[Zn],ut[ro.charCodeAt(Zn)]=Zn;ut[45]=62;ut[95]=63;function mx(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function fx(e,t,n){return(t+n)*3/4-n}function Is(e){var t,n=mx(e),r=n[0],i=n[1],a=new cx(fx(e,r,i)),o=0,l=i>0?r-4:r,u;for(u=0;u<l;u+=4)t=ut[e.charCodeAt(u)]<<18|ut[e.charCodeAt(u+1)]<<12|ut[e.charCodeAt(u+2)]<<6|ut[e.charCodeAt(u+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=ut[e.charCodeAt(u)]<<2|ut[e.charCodeAt(u+1)]>>4,a[o++]=t&255),i===1&&(t=ut[e.charCodeAt(u)]<<10|ut[e.charCodeAt(u+1)]<<4|ut[e.charCodeAt(u+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function hx(e){return Rt[e>>18&63]+Rt[e>>12&63]+Rt[e>>6&63]+Rt[e&63]}function px(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(hx(r));return i.join("")}function Os(e){for(var t,n=e.length,r=n%3,i=[],a=16383,o=0,l=n-r;o<l;o+=a)i.push(px(e,o,o+a>l?l:o+a));return r===1?(t=e[n-1],i.push(Rt[t>>2]+Rt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Rt[t>>10]+Rt[t>>4&63]+Rt[t<<2&63]+"=")),i.join("")}function zt(e){if(e===void 0)return{};if(!ff(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function gx(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);try{new URL(e)}catch{throw new Error(`Invalid deployment address: "${e}" is not a valid URL. If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}if(e.endsWith(".convex.site"))throw new Error(`Invalid deployment address: "${e}" ends with .convex.site, which is used for HTTP Actions. Convex deployment URLs typically end with .convex.cloud? If you believe this URL is correct, use the \`skipConvexDeploymentUrlCheck\` option to bypass this.`)}function ff(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const hf=!0,_r=BigInt("-9223372036854775808"),cu=BigInt("9223372036854775807"),ll=BigInt("0"),xx=BigInt("8"),yx=BigInt("256");function pf(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function vx(e){e<ll&&(e-=_r+_r);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=xx;return Os(n)}function wx(e){const t=Is(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=ll,r=ll;for(const i of t)n+=BigInt(i)*yx**r,r++;return n>cu&&(n+=_r+_r),n}function bx(e){if(e<_r||cu<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Os(new Uint8Array(t))}function Nx(e){const t=Is(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const jx=DataView.prototype.setBigInt64?bx:vx,kx=DataView.prototype.getBigInt64?Nx:wx,Sc=1024;function gf(e){if(e.length>Sc)throw new Error(`Field name ${e} exceeds maximum field name length ${Sc}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function Rr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(r=>Rr(r));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Is(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return kx(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Is(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const o=new DataView(i.buffer).getFloat64(0,hf);if(!pf(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(r==="$set")throw new Error("Received a Set which is no longer supported as a Convex type.");if(r==="$map")throw new Error("Received a Map which is no longer supported as a Convex type.")}const n={};for(const[r,i]of Object.entries(e))gf(r),n[r]=Rr(i);return n}const Cc=16384;function ms(e){const t=JSON.stringify(e,(n,r)=>r===void 0?"undefined":typeof r=="bigint"?`${r.toString()}n`:r);if(t.length>Cc){const n="[...truncated]";let r=Cc-n.length;const i=t.codePointAt(r-1);return i!==void 0&&i>65535&&(r-=1),t.substring(0,r)+n}return t}function ul(e,t,n,r){var o;if(e===void 0){const l=n&&` (present at path ${n} in original object ${ms(t)})`;throw new Error(`undefined is not a valid Convex value${l}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<_r||cu<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:jx(e)}}if(typeof e=="number")if(pf(e)){const l=new ArrayBuffer(8);return new DataView(l).setFloat64(0,e,hf),{$float:Os(new Uint8Array(l))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Os(new Uint8Array(e))};if(Array.isArray(e))return e.map((l,u)=>ul(l,t,n+`[${u}]`));if(e instanceof Set)throw new Error(so(n,"Set",[...e],t));if(e instanceof Map)throw new Error(so(n,"Map",[...e],t));if(!ff(e)){const l=(o=e==null?void 0:e.constructor)==null?void 0:o.name,u=l?`${l} `:"";throw new Error(so(n,u,e,t))}const i={},a=Object.entries(e);a.sort(([l,u],[c,d])=>l===c?0:l<c?-1:1);for(const[l,u]of a)u!==void 0&&(gf(l),i[l]=ul(u,t,n+`.${l}`));return i}function so(e,t,n,r){return e?`${t}${ms(n)} is not a supported Convex type (present at path ${e} in original object ${ms(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${ms(n)} is not a supported Convex type.`}function jn(e){return ul(e,e,"")}var Sx=Object.defineProperty,Cx=(e,t,n)=>t in e?Sx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,io=(e,t,n)=>Cx(e,typeof t!="symbol"?t+"":t,n),Pc,Tc;const Px=Symbol.for("ConvexError");class cl extends(Tc=Error,Pc=Px,Tc){constructor(t){super(typeof t=="string"?t:ms(t)),io(this,"name","ConvexError"),io(this,"data"),io(this,Pc,!0),this.data=t}}const xf=()=>Array.from({length:4},()=>0);xf();xf();const Ec="1.28.2";var Tx=Object.defineProperty,Ex=(e,t,n)=>t in e?Tx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mc=(e,t,n)=>Ex(e,typeof t!="symbol"?t+"":t,n);const Mx="color:rgb(0, 145, 255)";function yf(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}class vf{constructor(t){Mc(this,"_onLogLineFuncs"),Mc(this,"_verbose"),this._onLogLineFuncs={},this._verbose=t.verbose}addLogLineListener(t){let n=Math.random().toString(36).substring(2,15);for(let r=0;r<10&&this._onLogLineFuncs[n]!==void 0;r++)n=Math.random().toString(36).substring(2,15);return this._onLogLineFuncs[n]=t,()=>{delete this._onLogLineFuncs[n]}}logVerbose(...t){if(this._verbose)for(const n of Object.values(this._onLogLineFuncs))n("debug",`${new Date().toISOString()}`,...t)}log(...t){for(const n of Object.values(this._onLogLineFuncs))n("info",...t)}warn(...t){for(const n of Object.values(this._onLogLineFuncs))n("warn",...t)}error(...t){for(const n of Object.values(this._onLogLineFuncs))n("error",...t)}}function wf(e){const t=new vf(e);return t.addLogLineListener((n,...r)=>{switch(n){case"debug":console.debug(...r);break;case"info":console.log(...r);break;case"warn":console.warn(...r);break;case"error":console.error(...r);break;default:console.log(...r)}}),t}function bf(e){return new vf(e)}function sa(e,t,n,r,i){const a=yf(n);if(typeof i=="object"&&(i=`ConvexError ${JSON.stringify(i.errorData,null,2)}`),t==="info"){const o=i.match(/^\[.*?\] /);if(o===null){e.error(`[CONVEX ${a}(${r})] Could not parse console.log`);return}const l=i.slice(1,o[0].length-2),u=i.slice(o[0].length);e.log(`%c[CONVEX ${a}(${r})] [${l}]`,Mx,u)}else e.error(`[CONVEX ${a}(${r})] ${i}`)}function _x(e,t){const n=`[CONVEX FATAL ERROR] ${t}`;return e.error(n),new Error(n)}function fr(e,t,n){return`[CONVEX ${yf(e)}(${t})] ${n.errorMessage}
  Called by client`}function dl(e,t){return t.data=e.errorData,t}function ia(e){const t=e.split(":");let n,r;return t.length===1?(n=t[0],r="default"):(n=t.slice(0,t.length-1).join(":"),r=t[t.length-1]),n.endsWith(".js")&&(n=n.slice(0,-3)),`${n}:${r}`}function Dn(e,t){return JSON.stringify({udfPath:ia(e),args:jn(t)})}var Rx=Object.defineProperty,$x=(e,t,n)=>t in e?Rx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t,n)=>$x(e,typeof t!="symbol"?t+"":t,n);class Ix{constructor(){Et(this,"nextQueryId"),Et(this,"querySetVersion"),Et(this,"querySet"),Et(this,"queryIdToToken"),Et(this,"identityVersion"),Et(this,"auth"),Et(this,"outstandingQueriesOlderThanRestart"),Et(this,"outstandingAuthOlderThanRestart"),Et(this,"paused"),Et(this,"pendingQuerySetModifications"),this.nextQueryId=0,this.querySetVersion=0,this.identityVersion=0,this.querySet=new Map,this.queryIdToToken=new Map,this.outstandingQueriesOlderThanRestart=new Set,this.outstandingAuthOlderThanRestart=!1,this.paused=!1,this.pendingQuerySetModifications=new Map}hasSyncedPastLastReconnect(){return this.outstandingQueriesOlderThanRestart.size===0&&!this.outstandingAuthOlderThanRestart}markAuthCompletion(){this.outstandingAuthOlderThanRestart=!1}subscribe(t,n,r,i){const a=ia(t),o=Dn(a,n),l=this.querySet.get(o);if(l!==void 0)return l.numSubscribers+=1,{queryToken:o,modification:null,unsubscribe:()=>this.removeSubscriber(o)};{const u=this.nextQueryId++,c={id:u,canonicalizedUdfPath:a,args:n,numSubscribers:1,journal:r,componentPath:i};this.querySet.set(o,c),this.queryIdToToken.set(u,o);const d=this.querySetVersion,m=this.querySetVersion+1,p={type:"Add",queryId:u,udfPath:a,args:[jn(n)],journal:r,componentPath:i};return this.paused?this.pendingQuerySetModifications.set(u,p):this.querySetVersion=m,{queryToken:o,modification:{type:"ModifyQuerySet",baseVersion:d,newVersion:m,modifications:[p]},unsubscribe:()=>this.removeSubscriber(o)}}}transition(t){for(const n of t.modifications)switch(n.type){case"QueryUpdated":case"QueryFailed":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);const r=n.journal;if(r!==void 0){const i=this.queryIdToToken.get(n.queryId);i!==void 0&&(this.querySet.get(i).journal=r)}break}case"QueryRemoved":{this.outstandingQueriesOlderThanRestart.delete(n.queryId);break}default:throw new Error(`Invalid modification ${n.type}`)}}queryId(t,n){const r=ia(t),i=Dn(r,n),a=this.querySet.get(i);return a!==void 0?a.id:null}isCurrentOrNewerAuthVersion(t){return t>=this.identityVersion}getAuth(){return this.auth}setAuth(t){this.auth={tokenType:"User",value:t};const n=this.identityVersion;return this.paused||(this.identityVersion=n+1),{type:"Authenticate",baseVersion:n,...this.auth}}setAdminAuth(t,n){const r={tokenType:"Admin",value:t,impersonating:n};this.auth=r;const i=this.identityVersion;return this.paused||(this.identityVersion=i+1),{type:"Authenticate",baseVersion:i,...r}}clearAuth(){this.auth=void 0,this.markAuthCompletion();const t=this.identityVersion;return this.paused||(this.identityVersion=t+1),{type:"Authenticate",tokenType:"None",baseVersion:t}}hasAuth(){return!!this.auth}isNewAuth(t){var n;return((n=this.auth)==null?void 0:n.value)!==t}queryPath(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).canonicalizedUdfPath:null}queryArgs(t){const n=this.queryIdToToken.get(t);return n?this.querySet.get(n).args:null}queryToken(t){return this.queryIdToToken.get(t)??null}queryJournal(t){var n;return(n=this.querySet.get(t))==null?void 0:n.journal}restart(t){this.unpause(),this.outstandingQueriesOlderThanRestart.clear();const n=[];for(const a of this.querySet.values()){const o={type:"Add",queryId:a.id,udfPath:a.canonicalizedUdfPath,args:[jn(a.args)],journal:a.journal,componentPath:a.componentPath};n.push(o),t.has(a.id)||this.outstandingQueriesOlderThanRestart.add(a.id)}this.querySetVersion=1;const r={type:"ModifyQuerySet",baseVersion:0,newVersion:1,modifications:n};if(!this.auth)return this.identityVersion=0,[r,void 0];this.outstandingAuthOlderThanRestart=!0;const i={type:"Authenticate",baseVersion:0,...this.auth};return this.identityVersion=1,[r,i]}pause(){this.paused=!0}resume(){const t=this.pendingQuerySetModifications.size>0?{type:"ModifyQuerySet",baseVersion:this.querySetVersion,newVersion:++this.querySetVersion,modifications:Array.from(this.pendingQuerySetModifications.values())}:void 0,n=this.auth!==void 0?{type:"Authenticate",baseVersion:this.identityVersion++,...this.auth}:void 0;return this.unpause(),[t,n]}unpause(){this.paused=!1,this.pendingQuerySetModifications.clear()}removeSubscriber(t){const n=this.querySet.get(t);if(n.numSubscribers>1)return n.numSubscribers-=1,null;{this.querySet.delete(t),this.queryIdToToken.delete(n.id),this.outstandingQueriesOlderThanRestart.delete(n.id);const r=this.querySetVersion,i=this.querySetVersion+1,a={type:"Remove",queryId:n.id};return this.paused?this.pendingQuerySetModifications.has(n.id)?this.pendingQuerySetModifications.delete(n.id):this.pendingQuerySetModifications.set(n.id,a):this.querySetVersion=i,{type:"ModifyQuerySet",baseVersion:r,newVersion:i,modifications:[a]}}}}var Ox=Object.defineProperty,Lx=(e,t,n)=>t in e?Ox(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fi=(e,t,n)=>Lx(e,typeof t!="symbol"?t+"":t,n);class Ax{constructor(t,n){this.logger=t,this.markConnectionStateDirty=n,fi(this,"inflightRequests"),fi(this,"requestsOlderThanRestart"),fi(this,"inflightMutationsCount",0),fi(this,"inflightActionsCount",0),this.inflightRequests=new Map,this.requestsOlderThanRestart=new Set}request(t,n){const r=new Promise(i=>{const a=n?"Requested":"NotSent";this.inflightRequests.set(t.requestId,{message:t,status:{status:a,requestedAt:new Date,onResult:i}}),t.type==="Mutation"?this.inflightMutationsCount++:t.type==="Action"&&this.inflightActionsCount++});return this.markConnectionStateDirty(),r}onResponse(t){const n=this.inflightRequests.get(t.requestId);if(n===void 0||n.status.status==="Completed")return null;const r=n.message.type==="Mutation"?"mutation":"action",i=n.message.udfPath;for(const u of t.logLines)sa(this.logger,"info",r,i,u);const a=n.status;let o,l;if(t.success)o={success:!0,logLines:t.logLines,value:Rr(t.result)},l=()=>a.onResult(o);else{const u=t.result,{errorData:c}=t;sa(this.logger,"error",r,i,u),o={success:!1,errorMessage:u,errorData:c!==void 0?Rr(c):void 0,logLines:t.logLines},l=()=>a.onResult(o)}return t.type==="ActionResponse"||!t.success?(l(),this.inflightRequests.delete(t.requestId),this.requestsOlderThanRestart.delete(t.requestId),n.message.type==="Action"?this.inflightActionsCount--:n.message.type==="Mutation"&&this.inflightMutationsCount--,this.markConnectionStateDirty(),{requestId:t.requestId,result:o}):(n.status={status:"Completed",result:o,ts:t.ts,onResolve:l},null)}removeCompleted(t){const n=new Map;for(const[r,i]of this.inflightRequests.entries()){const a=i.status;a.status==="Completed"&&a.ts.lessThanOrEqual(t)&&(a.onResolve(),n.set(r,a.result),i.message.type==="Mutation"?this.inflightMutationsCount--:i.message.type==="Action"&&this.inflightActionsCount--,this.inflightRequests.delete(r),this.requestsOlderThanRestart.delete(r))}return n.size>0&&this.markConnectionStateDirty(),n}restart(){this.requestsOlderThanRestart=new Set(this.inflightRequests.keys());const t=[];for(const[n,r]of this.inflightRequests){if(r.status.status==="NotSent"){r.status.status="Requested",t.push(r.message);continue}if(r.message.type==="Mutation")t.push(r.message);else if(r.message.type==="Action"){if(this.inflightRequests.delete(n),this.requestsOlderThanRestart.delete(n),this.inflightActionsCount--,r.status.status==="Completed")throw new Error("Action should never be in 'Completed' state");r.status.onResult({success:!1,errorMessage:"Connection lost while action was in flight",logLines:[]})}}return this.markConnectionStateDirty(),t}resume(){const t=[];for(const[,n]of this.inflightRequests)if(n.status.status==="NotSent"){n.status.status="Requested",t.push(n.message);continue}return t}hasIncompleteRequests(){for(const t of this.inflightRequests.values())if(t.status.status==="Requested")return!0;return!1}hasInflightRequests(){return this.inflightRequests.size>0}hasSyncedPastLastReconnect(){return this.requestsOlderThanRestart.size===0}timeOfOldestInflightRequest(){if(this.inflightRequests.size===0)return null;let t=Date.now();for(const n of this.inflightRequests.values())n.status.status!=="Completed"&&n.status.requestedAt.getTime()<t&&(t=n.status.requestedAt.getTime());return new Date(t)}inflightMutations(){return this.inflightMutationsCount}inflightActions(){return this.inflightActionsCount}}const Ls=Symbol.for("functionName"),Nf=Symbol.for("toReferencePath");function Dx(e){return e[Nf]??null}function Fx(e){return e.startsWith("function://")}function Ux(e){let t;if(typeof e=="string")Fx(e)?t={functionHandle:e}:t={name:e};else if(e[Ls])t={name:e[Ls]};else{const n=Dx(e);if(!n)throw new Error(`${e} is not a functionReference`);t={reference:n}}return t}function rt(e){const t=Ux(e);if(t.name===void 0)throw t.functionHandle!==void 0?new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`):t.reference!==void 0?new Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`):new Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`);if(typeof e=="string")return e;const n=e[Ls];if(!n)throw new Error(`${e} is not a functionReference`);return n}function jf(e){return{[Ls]:e}}function kf(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return kf(i)}else if(r===Ls){if(e.length<2){const o=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${o}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}const zx=kf();var qx=Object.defineProperty,Vx=(e,t,n)=>t in e?qx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aa=(e,t,n)=>Vx(e,typeof t!="symbol"?t+"":t,n);class As{constructor(t){aa(this,"queryResults"),aa(this,"modifiedQueries"),this.queryResults=t,this.modifiedQueries=[]}getQuery(t,...n){const r=zt(n[0]),i=rt(t),a=this.queryResults.get(Dn(i,r));if(a!==void 0)return As.queryValue(a.result)}getAllQueries(t){const n=[],r=rt(t);for(const i of this.queryResults.values())i.udfPath===ia(r)&&n.push({args:i.args,value:As.queryValue(i.result)});return n}setQuery(t,n,r){const i=zt(n),a=rt(t),o=Dn(a,i);let l;r===void 0?l=void 0:l={success:!0,value:r,logLines:[]};const u={udfPath:a,args:i,result:l};this.queryResults.set(o,u),this.modifiedQueries.push(o)}static queryValue(t){if(t!==void 0)return t.success?t.value:void 0}}class Wx{constructor(){aa(this,"queryResults"),aa(this,"optimisticUpdates"),this.queryResults=new Map,this.optimisticUpdates=[]}ingestQueryResultsFromServer(t,n){this.optimisticUpdates=this.optimisticUpdates.filter(o=>!n.has(o.mutationId));const r=this.queryResults;this.queryResults=new Map(t);const i=new As(this.queryResults);for(const o of this.optimisticUpdates)o.update(i);const a=[];for(const[o,l]of this.queryResults){const u=r.get(o);(u===void 0||u.result!==l.result)&&a.push(o)}return a}applyOptimisticUpdate(t,n){this.optimisticUpdates.push({update:t,mutationId:n});const r=new As(this.queryResults);return t(r),r.modifiedQueries}rawQueryResult(t){return this.queryResults.get(t)}queryResult(t){const n=this.queryResults.get(t);if(n===void 0)return;const r=n.result;if(r!==void 0){if(r.success)return r.value;throw r.errorData!==void 0?dl(r,new cl(fr("query",n.udfPath,r))):new Error(fr("query",n.udfPath,r))}}hasQueryResult(t){return this.queryResults.get(t)!==void 0}queryLogs(t){var r;const n=this.queryResults.get(t);return(r=n==null?void 0:n.result)==null?void 0:r.logLines}}var Bx=Object.defineProperty,Qx=(e,t,n)=>t in e?Bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ao=(e,t,n)=>Qx(e,typeof t!="symbol"?t+"":t,n);class et{constructor(t,n){ao(this,"low"),ao(this,"high"),ao(this,"__isUnsignedLong__"),this.low=t|0,this.high=n|0,this.__isUnsignedLong__=!0}static isLong(t){return(t&&t.__isUnsignedLong__)===!0}static fromBytesLE(t){return new et(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24)}toBytesLE(){const t=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]}static fromNumber(t){return isNaN(t)||t<0?_c:t>=Hx?Yx:new et(t%fs|0,t/fs|0)}toString(){return(BigInt(this.high)*BigInt(fs)+BigInt(this.low)).toString()}equals(t){return et.isLong(t)||(t=et.fromValue(t)),this.high>>>31===1&&t.high>>>31===1?!1:this.high===t.high&&this.low===t.low}notEquals(t){return!this.equals(t)}comp(t){return et.isLong(t)||(t=et.fromValue(t)),this.equals(t)?0:t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(t){return this.comp(t)<=0}static fromValue(t){return typeof t=="number"?et.fromNumber(t):new et(t.low,t.high)}}const _c=new et(0,0),Rc=65536,fs=Rc*Rc,Hx=fs*fs,Yx=new et(-1,-1);var Kx=Object.defineProperty,Gx=(e,t,n)=>t in e?Kx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hi=(e,t,n)=>Gx(e,typeof t!="symbol"?t+"":t,n);class $c{constructor(t,n){hi(this,"version"),hi(this,"remoteQuerySet"),hi(this,"queryPath"),hi(this,"logger"),this.version={querySet:0,ts:et.fromNumber(0),identity:0},this.remoteQuerySet=new Map,this.queryPath=t,this.logger=n}transition(t){const n=t.startVersion;if(this.version.querySet!==n.querySet||this.version.ts.notEquals(n.ts)||this.version.identity!==n.identity)throw new Error(`Invalid start version: ${n.ts.toString()}:${n.querySet}:${n.identity}, transitioning from ${this.version.ts.toString()}:${this.version.querySet}:${this.version.identity}`);for(const r of t.modifications)switch(r.type){case"QueryUpdated":{const i=this.queryPath(r.queryId);if(i)for(const o of r.logLines)sa(this.logger,"info","query",i,o);const a=Rr(r.value??null);this.remoteQuerySet.set(r.queryId,{success:!0,value:a,logLines:r.logLines});break}case"QueryFailed":{const i=this.queryPath(r.queryId);if(i)for(const o of r.logLines)sa(this.logger,"info","query",i,o);const{errorData:a}=r;this.remoteQuerySet.set(r.queryId,{success:!1,errorMessage:r.errorMessage,errorData:a!==void 0?Rr(a):void 0,logLines:r.logLines});break}case"QueryRemoved":{this.remoteQuerySet.delete(r.queryId);break}default:throw new Error(`Invalid modification ${r.type}`)}this.version=t.endVersion}remoteQueryResults(){return this.remoteQuerySet}timestamp(){return this.version.ts}}function oo(e){const t=Is(e);return et.fromBytesLE(Array.from(t))}function Xx(e){const t=new Uint8Array(e.toBytesLE());return Os(t)}function Ic(e){switch(e.type){case"FatalError":case"AuthError":case"ActionResponse":case"TransitionChunk":case"Ping":return{...e};case"MutationResponse":return e.success?{...e,ts:oo(e.ts)}:{...e};case"Transition":return{...e,startVersion:{...e.startVersion,ts:oo(e.startVersion.ts)},endVersion:{...e.endVersion,ts:oo(e.endVersion.ts)}}}}function Jx(e){switch(e.type){case"Authenticate":case"ModifyQuerySet":case"Mutation":case"Action":case"Event":return{...e};case"Connect":return e.maxObservedTimestamp!==void 0?{...e,maxObservedTimestamp:Xx(e.maxObservedTimestamp)}:{...e,maxObservedTimestamp:void 0}}}var Zx=Object.defineProperty,e0=(e,t,n)=>t in e?Zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Me=(e,t,n)=>e0(e,typeof t!="symbol"?t+"":t,n);const t0=1e3,n0=1001,r0=1005,s0=4040;let Ei;function Mi(){return Ei===void 0&&(Ei=Date.now()),typeof performance>"u"||!performance.now?Date.now():Math.round(Ei+performance.now())}function Oc(){return`t=${Math.round((Mi()-Ei)/100)/10}s`}const Sf={InternalServerError:{timeout:1e3},SubscriptionsWorkerFullError:{timeout:3e3},TooManyConcurrentRequests:{timeout:3e3},CommitterFullError:{timeout:3e3},AwsTooManyRequestsException:{timeout:3e3},ExecuteFullError:{timeout:3e3},SystemTimeoutError:{timeout:3e3},ExpiredInQueue:{timeout:3e3},VectorIndexesUnavailable:{timeout:1e3},SearchIndexesUnavailable:{timeout:1e3},TableSummariesUnavailable:{timeout:1e3},VectorIndexTooLarge:{timeout:3e3},SearchIndexTooLarge:{timeout:3e3},TooManyWritesInTimePeriod:{timeout:3e3}};function i0(e){if(e===void 0)return"Unknown";for(const t of Object.keys(Sf))if(e.startsWith(t))return t;return"Unknown"}class a0{constructor(t,n,r,i,a,o){this.markConnectionStateDirty=a,this.debug=o,Me(this,"socket"),Me(this,"connectionCount"),Me(this,"_hasEverConnected",!1),Me(this,"lastCloseReason"),Me(this,"transitionChunkBuffer",null),Me(this,"defaultInitialBackoff"),Me(this,"maxBackoff"),Me(this,"retries"),Me(this,"serverInactivityThreshold"),Me(this,"reconnectDueToServerInactivityTimeout"),Me(this,"uri"),Me(this,"onOpen"),Me(this,"onResume"),Me(this,"onMessage"),Me(this,"webSocketConstructor"),Me(this,"logger"),Me(this,"onServerDisconnectError"),this.webSocketConstructor=r,this.socket={state:"disconnected"},this.connectionCount=0,this.lastCloseReason="InitialConnect",this.defaultInitialBackoff=1e3,this.maxBackoff=16e3,this.retries=0,this.serverInactivityThreshold=6e4,this.reconnectDueToServerInactivityTimeout=null,this.uri=t,this.onOpen=n.onOpen,this.onResume=n.onResume,this.onMessage=n.onMessage,this.onServerDisconnectError=n.onServerDisconnectError,this.logger=i,this.connect()}setSocketState(t){this.socket=t,this._logVerbose(`socket state changed: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}`),this.markConnectionStateDirty()}assembleTransition(t){if(t.partNumber<0||t.partNumber>=t.totalParts||t.totalParts===0||this.transitionChunkBuffer&&(this.transitionChunkBuffer.totalParts!==t.totalParts||this.transitionChunkBuffer.transitionId!==t.transitionId))throw this.transitionChunkBuffer=null,new Error("Invalid TransitionChunk");if(this.transitionChunkBuffer===null&&(this.transitionChunkBuffer={chunks:[],totalParts:t.totalParts,transitionId:t.transitionId}),t.partNumber!==this.transitionChunkBuffer.chunks.length){const n=this.transitionChunkBuffer.chunks.length;throw this.transitionChunkBuffer=null,new Error(`TransitionChunk received out of order: expected part ${n}, got ${t.partNumber}`)}if(this.transitionChunkBuffer.chunks.push(t.chunk),this.transitionChunkBuffer.chunks.length===t.totalParts){const n=this.transitionChunkBuffer.chunks.join("");this.transitionChunkBuffer=null;const r=Ic(JSON.parse(n));if(r.type!=="Transition")throw new Error(`Expected Transition, got ${r.type} after assembling chunks`);return r}return null}connect(){if(this.socket.state==="terminated")return;if(this.socket.state!=="disconnected"&&this.socket.state!=="stopped")throw new Error("Didn't start connection from disconnected state: "+this.socket.state);const t=new this.webSocketConstructor(this.uri);this._logVerbose("constructed WebSocket"),this.setSocketState({state:"connecting",ws:t,paused:"no"}),this.resetServerInactivityTimeout(),t.onopen=()=>{if(this.logger.logVerbose("begin ws.onopen"),this.socket.state!=="connecting")throw new Error("onopen called with socket not in connecting state");this.setSocketState({state:"ready",ws:t,paused:this.socket.paused==="yes"?"uninitialized":"no"}),this.resetServerInactivityTimeout(),this.socket.paused==="no"&&(this._hasEverConnected=!0,this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Mi()})),this.lastCloseReason!=="InitialConnect"&&(this.lastCloseReason?this.logger.log("WebSocket reconnected at",Oc(),"after disconnect due to",this.lastCloseReason):this.logger.log("WebSocket reconnected at",Oc())),this.connectionCount+=1,this.lastCloseReason=null},t.onerror=n=>{this.transitionChunkBuffer=null;const r=n.message;r&&this.logger.log(`WebSocket error message: ${r}`)},t.onmessage=n=>{this.resetServerInactivityTimeout();const r=n.data.length;let i=Ic(JSON.parse(n.data));if(this._logVerbose(`received ws message with type ${i.type}`),i.type==="Ping")return;if(i.type==="TransitionChunk"){const o=this.assembleTransition(i);if(!o)return;i=o,this._logVerbose(`assembled full ws message of type ${i.type}`)}this.transitionChunkBuffer!==null&&(this.transitionChunkBuffer=null,this.logger.log(`Received unexpected ${i.type} while buffering TransitionChunks`)),i.type==="Transition"&&this.reportLargeTransition({messageLength:r,transition:i}),this.onMessage(i).hasSyncedPastLastReconnect&&(this.retries=0,this.markConnectionStateDirty())},t.onclose=n=>{if(this._logVerbose("begin ws.onclose"),this.transitionChunkBuffer=null,this.lastCloseReason===null&&(this.lastCloseReason=n.reason||`closed with code ${n.code}`),n.code!==t0&&n.code!==n0&&n.code!==r0&&n.code!==s0){let i=`WebSocket closed with code ${n.code}`;n.reason&&(i+=`: ${n.reason}`),this.logger.log(i),this.onServerDisconnectError&&n.reason&&this.onServerDisconnectError(i)}const r=i0(n.reason);this.scheduleReconnect(r)}}socketState(){return this.socket.state}sendMessage(t){const n={type:t.type,...t.type==="Authenticate"&&t.tokenType==="User"?{value:`...${t.value.slice(-7)}`}:{}};if(this.socket.state==="ready"&&this.socket.paused==="no"){const r=Jx(t),i=JSON.stringify(r);let a=!1;try{this.socket.ws.send(i),a=!0}catch(o){this.logger.log(`Failed to send message on WebSocket, reconnecting: ${o}`),this.closeAndReconnect("FailedToSendMessage")}return this._logVerbose(`${a?"sent":"failed to send"} message with type ${t.type}: ${JSON.stringify(n)}`),!0}return this._logVerbose(`message not sent (socket state: ${this.socket.state}, paused: ${"paused"in this.socket?this.socket.paused:void 0}): ${JSON.stringify(n)}`),!1}resetServerInactivityTimeout(){this.socket.state!=="terminated"&&(this.reconnectDueToServerInactivityTimeout!==null&&(clearTimeout(this.reconnectDueToServerInactivityTimeout),this.reconnectDueToServerInactivityTimeout=null),this.reconnectDueToServerInactivityTimeout=setTimeout(()=>{this.closeAndReconnect("InactiveServer")},this.serverInactivityThreshold))}scheduleReconnect(t){this.socket={state:"disconnected"};const n=this.nextBackoff(t);this.markConnectionStateDirty(),this.logger.log(`Attempting reconnect in ${Math.round(n)}ms`),setTimeout(()=>this.connect(),n)}closeAndReconnect(t){switch(this._logVerbose(`begin closeAndReconnect with reason ${t}`),this.socket.state){case"disconnected":case"terminated":case"stopped":return;case"connecting":case"ready":{this.lastCloseReason=t,this.close(),this.scheduleReconnect("client");return}default:this.socket}}close(){switch(this.transitionChunkBuffer=null,this.socket.state){case"disconnected":case"terminated":case"stopped":return Promise.resolve();case"connecting":{const t=this.socket.ws;return t.onmessage=n=>{this._logVerbose("Ignoring message received after close")},new Promise(n=>{t.onclose=()=>{this._logVerbose("Closed after connecting"),n()},t.onopen=()=>{this._logVerbose("Opened after connecting"),t.close()}})}case"ready":{this._logVerbose("ws.close called");const t=this.socket.ws;t.onmessage=r=>{this._logVerbose("Ignoring message received after close")};const n=new Promise(r=>{t.onclose=()=>{r()}});return t.close(),n}default:return this.socket,Promise.resolve()}}terminate(){switch(this.reconnectDueToServerInactivityTimeout&&clearTimeout(this.reconnectDueToServerInactivityTimeout),this.socket.state){case"terminated":case"stopped":case"disconnected":case"connecting":case"ready":{const t=this.close();return this.setSocketState({state:"terminated"}),t}default:throw this.socket,new Error(`Invalid websocket state: ${this.socket.state}`)}}stop(){switch(this.socket.state){case"terminated":return Promise.resolve();case"connecting":case"stopped":case"disconnected":case"ready":{const t=this.close();return this.socket={state:"stopped"},t}default:return this.socket,Promise.resolve()}}tryRestart(){switch(this.socket.state){case"stopped":break;case"terminated":case"connecting":case"ready":case"disconnected":this.logger.logVerbose("Restart called without stopping first");return;default:this.socket}this.connect()}pause(){switch(this.socket.state){case"disconnected":case"stopped":case"terminated":return;case"connecting":case"ready":{this.socket={...this.socket,paused:"yes"};return}default:{this.socket;return}}}resume(){switch(this.socket.state){case"connecting":this.socket={...this.socket,paused:"no"};return;case"ready":this.socket.paused==="uninitialized"?(this.socket={...this.socket,paused:"no"},this.onOpen({connectionCount:this.connectionCount,lastCloseReason:this.lastCloseReason,clientTs:Mi()})):this.socket.paused==="yes"&&(this.socket={...this.socket,paused:"no"},this.onResume());return;case"terminated":case"stopped":case"disconnected":return;default:this.socket}this.connect()}connectionState(){return{isConnected:this.socket.state==="ready",hasEverConnected:this._hasEverConnected,connectionCount:this.connectionCount,connectionRetries:this.retries}}_logVerbose(t){this.logger.logVerbose(t)}nextBackoff(t){const r=(t==="client"?100:t==="Unknown"?this.defaultInitialBackoff:Sf[t].timeout)*Math.pow(2,this.retries);this.retries+=1;const i=Math.min(r,this.maxBackoff),a=i*(Math.random()-.5);return i+a}reportLargeTransition({transition:t,messageLength:n}){if(t.clientClockSkew===void 0||t.serverTs===void 0)return;const r=Mi()-t.clientClockSkew-t.serverTs/1e6,i=`${Math.round(r)}ms`,a=`${Math.round(n/1e4)/100}MB`,o=n/(r/1e3),l=`${Math.round(o/1e4)/100}MB per second`;this._logVerbose(`received ${a} transition in ${i} at ${l}`),n>2e7?this.logger.log(`received query results totaling more that 20MB (${a}) which will take a long time to download on slower connections`):r>2e4&&this.logger.log(`received query results totaling ${a} which took more than 20s to arrive (${i})`),this.debug&&this.sendMessage({type:"Event",eventType:"ClientReceivedTransition",event:{transitionTransitTime:r,messageLength:n}})}}function o0(){return l0()}function l0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}class ns extends Error{}ns.prototype.name="InvalidTokenError";function u0(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function c0(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return u0(t)}catch{return atob(t)}}function Cf(e,t){if(typeof e!="string")throw new ns("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new ns(`Invalid token specified: missing part #${n+1}`);let i;try{i=c0(r)}catch(a){throw new ns(`Invalid token specified: invalid base64 for part #${n+1} (${a.message})`)}try{return JSON.parse(i)}catch(a){throw new ns(`Invalid token specified: invalid json for part #${n+1} (${a.message})`)}}var d0=Object.defineProperty,m0=(e,t,n)=>t in e?d0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lt=(e,t,n)=>m0(e,typeof t!="symbol"?t+"":t,n);const f0=20*24*60*60*1e3,Lc=2;class h0{constructor(t,n,r){lt(this,"authState",{state:"noAuth"}),lt(this,"configVersion",0),lt(this,"syncState"),lt(this,"authenticate"),lt(this,"stopSocket"),lt(this,"tryRestartSocket"),lt(this,"pauseSocket"),lt(this,"resumeSocket"),lt(this,"clearAuth"),lt(this,"logger"),lt(this,"refreshTokenLeewaySeconds"),lt(this,"tokenConfirmationAttempts",0),this.syncState=t,this.authenticate=n.authenticate,this.stopSocket=n.stopSocket,this.tryRestartSocket=n.tryRestartSocket,this.pauseSocket=n.pauseSocket,this.resumeSocket=n.resumeSocket,this.clearAuth=n.clearAuth,this.logger=r.logger,this.refreshTokenLeewaySeconds=r.refreshTokenLeewaySeconds}async setConfig(t,n){this.resetAuthState(),this._logVerbose("pausing WS for auth token fetch"),this.pauseSocket();const r=await this.fetchTokenAndGuardAgainstRace(t,{forceRefreshToken:!1});r.isFromOutdatedConfig||(r.value?(this.setAuthState({state:"waitingForServerConfirmationOfCachedToken",config:{fetchToken:t,onAuthChange:n},hasRetried:!1}),this.authenticate(r.value)):(this.setAuthState({state:"initialRefetch",config:{fetchToken:t,onAuthChange:n}}),await this.refetchToken()),this._logVerbose("resuming WS after auth token fetch"),this.resumeSocket())}onTransition(t){if(this.syncState.isCurrentOrNewerAuthVersion(t.endVersion.identity)&&!(t.endVersion.identity<=t.startVersion.identity)){if(this.authState.state==="waitingForServerConfirmationOfCachedToken"){this._logVerbose("server confirmed auth token is valid"),this.refetchToken(),this.authState.config.onAuthChange(!0);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this._logVerbose("server confirmed new auth token is valid"),this.scheduleTokenRefetch(this.authState.token),this.tokenConfirmationAttempts=0,this.authState.hadAuth||this.authState.config.onAuthChange(!0))}}onAuthError(t){if(t.authUpdateAttempted===!1&&(this.authState.state==="waitingForServerConfirmationOfFreshToken"||this.authState.state==="waitingForServerConfirmationOfCachedToken")){this._logVerbose("ignoring non-auth token expired error");return}const{baseVersion:n}=t;if(!this.syncState.isCurrentOrNewerAuthVersion(n+1)){this._logVerbose("ignoring auth error for previous auth attempt");return}this.tryToReauthenticate(t)}async tryToReauthenticate(t){if(this._logVerbose(`attempting to reauthenticate: ${t.error}`),this.authState.state==="noAuth"||this.authState.state==="waitingForServerConfirmationOfFreshToken"&&this.tokenConfirmationAttempts>=Lc){this.logger.error(`Failed to authenticate: "${t.error}", check your server auth config`),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.authState.state!=="noAuth"&&this.setAndReportAuthFailed(this.authState.config.onAuthChange);return}this.authState.state==="waitingForServerConfirmationOfFreshToken"&&(this.tokenConfirmationAttempts++,this._logVerbose(`retrying reauthentication, ${Lc-this.tokenConfirmationAttempts} attempts remaining`)),await this.stopSocket();const n=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});n.isFromOutdatedConfig||(n.value&&this.syncState.isNewAuth(n.value)?(this.authenticate(n.value),this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",config:this.authState.config,token:n.value,hadAuth:this.authState.state==="notRefetching"||this.authState.state==="waitingForScheduledRefetch"})):(this._logVerbose("reauthentication failed, could not fetch a new token"),this.syncState.hasAuth()&&this.syncState.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this.tryRestartSocket())}async refetchToken(){if(this.authState.state==="noAuth")return;this._logVerbose("refetching auth token");const t=await this.fetchTokenAndGuardAgainstRace(this.authState.config.fetchToken,{forceRefreshToken:!0});t.isFromOutdatedConfig||(t.value?this.syncState.isNewAuth(t.value)?(this.setAuthState({state:"waitingForServerConfirmationOfFreshToken",hadAuth:this.syncState.hasAuth(),token:t.value,config:this.authState.config}),this.authenticate(t.value)):this.setAuthState({state:"notRefetching",config:this.authState.config}):(this._logVerbose("refetching token failed"),this.syncState.hasAuth()&&this.clearAuth(),this.setAndReportAuthFailed(this.authState.config.onAuthChange)),this._logVerbose("restarting WS after auth token fetch (if currently stopped)"),this.tryRestartSocket())}scheduleTokenRefetch(t){if(this.authState.state==="noAuth")return;const n=this.decodeToken(t);if(!n){this.logger.error("Auth token is not a valid JWT, cannot refetch the token");return}const{iat:r,exp:i}=n;if(!r||!i){this.logger.error("Auth token does not have required fields, cannot refetch the token");return}const a=i-r;if(a<=2){this.logger.error("Auth token does not live long enough, cannot refetch the token");return}let o=Math.min(f0,(a-this.refreshTokenLeewaySeconds)*1e3);o<=0&&(this.logger.warn(`Refetching auth token immediately, configured leeway ${this.refreshTokenLeewaySeconds}s is larger than the token's lifetime ${a}s`),o=0);const l=setTimeout(()=>{this._logVerbose("running scheduled token refetch"),this.refetchToken()},o);this.setAuthState({state:"waitingForScheduledRefetch",refetchTokenTimeoutId:l,config:this.authState.config}),this._logVerbose(`scheduled preemptive auth token refetching in ${o}ms`)}async fetchTokenAndGuardAgainstRace(t,n){const r=++this.configVersion;this._logVerbose(`fetching token with config version ${r}`);const i=await t(n);return this.configVersion!==r?(this._logVerbose(`stale config version, expected ${r}, got ${this.configVersion}`),{isFromOutdatedConfig:!0}):{isFromOutdatedConfig:!1,value:i}}stop(){this.resetAuthState(),this.configVersion++,this._logVerbose(`config version bumped to ${this.configVersion}`)}setAndReportAuthFailed(t){t(!1),this.resetAuthState()}resetAuthState(){this.setAuthState({state:"noAuth"})}setAuthState(t){const n=t.state==="waitingForServerConfirmationOfFreshToken"?{hadAuth:t.hadAuth,state:t.state,token:`...${t.token.slice(-7)}`}:{state:t.state};switch(this._logVerbose(`setting auth state to ${JSON.stringify(n)}`),t.state){case"waitingForScheduledRefetch":case"notRefetching":case"noAuth":this.tokenConfirmationAttempts=0;break}this.authState.state==="waitingForScheduledRefetch"&&(clearTimeout(this.authState.refetchTokenTimeoutId),this.syncState.markAuthCompletion()),this.authState=t}decodeToken(t){try{return Cf(t)}catch(n){return this._logVerbose(`Error decoding token: ${n instanceof Error?n.message:"Unknown error"}`),null}}_logVerbose(t){this.logger.logVerbose(`${t} [v${this.configVersion}]`)}}const p0=["convexClientConstructed","convexWebSocketOpen","convexFirstMessageReceived"];function g0(e,t){const n={sessionId:t};typeof performance>"u"||!performance.mark||performance.mark(e,{detail:n})}function x0(e){let t=e.name.slice(6);return t=t.charAt(0).toLowerCase()+t.slice(1),{name:t,startTime:e.startTime}}function y0(e){if(typeof performance>"u"||!performance.getEntriesByName)return[];const t=[];for(const n of p0){const r=performance.getEntriesByName(n).filter(i=>i.entryType==="mark").filter(i=>i.detail.sessionId===e);t.push(...r)}return t.map(x0)}var v0=Object.defineProperty,w0=(e,t,n)=>t in e?v0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,we=(e,t,n)=>w0(e,typeof t!="symbol"?t+"":t,n);class b0{constructor(t,n,r){if(we(this,"address"),we(this,"state"),we(this,"requestManager"),we(this,"webSocketManager"),we(this,"authenticationManager"),we(this,"remoteQuerySet"),we(this,"optimisticQueryResults"),we(this,"_transitionHandlerCounter",0),we(this,"_nextRequestId"),we(this,"_onTransitionFns",new Map),we(this,"_sessionId"),we(this,"firstMessageReceived",!1),we(this,"debug"),we(this,"logger"),we(this,"maxObservedTimestamp"),we(this,"connectionStateSubscribers",new Map),we(this,"nextConnectionStateSubscriberId",0),we(this,"_lastPublishedConnectionState"),we(this,"markConnectionStateDirty",()=>{Promise.resolve().then(()=>{const h=this.connectionState();if(JSON.stringify(h)!==JSON.stringify(this._lastPublishedConnectionState)){this._lastPublishedConnectionState=h;for(const v of this.connectionStateSubscribers.values())v(h)}})}),we(this,"mark",h=>{this.debug&&g0(h,this.sessionId)}),typeof t=="object")throw new Error("Passing a ClientConfig object is no longer supported. Pass the URL of the Convex deployment as a string directly.");(r==null?void 0:r.skipConvexDeploymentUrlCheck)!==!0&&gx(t),r={...r};const i=r.authRefreshTokenLeewaySeconds??2;let a=r.webSocketConstructor;if(!a&&typeof WebSocket>"u")throw new Error("No WebSocket global variable defined! To use Convex in an environment without WebSocket try the HTTP client: https://docs.convex.dev/api/classes/browser.ConvexHttpClient");a=a||WebSocket,this.debug=r.reportDebugInfoToConvex??!1,this.address=t,this.logger=r.logger===!1?bf({verbose:r.verbose??!1}):r.logger!==!0&&r.logger?r.logger:wf({verbose:r.verbose??!1});const o=t.search("://");if(o===-1)throw new Error("Provided address was not an absolute URL.");const l=t.substring(o+3),u=t.substring(0,o);let c;if(u==="http")c="ws";else if(u==="https")c="wss";else throw new Error(`Unknown parent protocol ${u}`);const d=`${c}://${l}/api/${Ec}/sync`;this.state=new Ix,this.remoteQuerySet=new $c(h=>this.state.queryPath(h),this.logger),this.requestManager=new Ax(this.logger,this.markConnectionStateDirty);const m=()=>{this.webSocketManager.pause(),this.state.pause()};this.authenticationManager=new h0(this.state,{authenticate:h=>{const v=this.state.setAuth(h);return this.webSocketManager.sendMessage(v),v.baseVersion},stopSocket:()=>this.webSocketManager.stop(),tryRestartSocket:()=>this.webSocketManager.tryRestart(),pauseSocket:m,resumeSocket:()=>this.webSocketManager.resume(),clearAuth:()=>{this.clearAuth()}},{logger:this.logger,refreshTokenLeewaySeconds:i}),this.optimisticQueryResults=new Wx,this.addOnTransitionHandler(h=>{n(h.queries.map(v=>v.token))}),this._nextRequestId=0,this._sessionId=o0();const{unsavedChangesWarning:p}=r;if(typeof window>"u"||typeof window.addEventListener>"u"){if(p===!0)throw new Error("unsavedChangesWarning requested, but window.addEventListener not found! Remove {unsavedChangesWarning: true} from Convex client options.")}else p!==!1&&window.addEventListener("beforeunload",h=>{if(this.requestManager.hasIncompleteRequests()){h.preventDefault();const v="Are you sure you want to leave? Your changes may not be saved.";return(h||window.event).returnValue=v,v}});this.webSocketManager=new a0(d,{onOpen:h=>{this.mark("convexWebSocketOpen"),this.webSocketManager.sendMessage({...h,type:"Connect",sessionId:this._sessionId,maxObservedTimestamp:this.maxObservedTimestamp});const v=new Set(this.remoteQuerySet.remoteQueryResults().keys());this.remoteQuerySet=new $c(x=>this.state.queryPath(x),this.logger);const[g,C]=this.state.restart(v);C&&this.webSocketManager.sendMessage(C),this.webSocketManager.sendMessage(g);for(const x of this.requestManager.restart())this.webSocketManager.sendMessage(x)},onResume:()=>{const[h,v]=this.state.resume();v&&this.webSocketManager.sendMessage(v),h&&this.webSocketManager.sendMessage(h);for(const g of this.requestManager.resume())this.webSocketManager.sendMessage(g)},onMessage:h=>{switch(this.firstMessageReceived||(this.firstMessageReceived=!0,this.mark("convexFirstMessageReceived"),this.reportMarks()),h.type){case"Transition":{this.observedTimestamp(h.endVersion.ts),this.authenticationManager.onTransition(h),this.remoteQuerySet.transition(h),this.state.transition(h);const v=this.requestManager.removeCompleted(this.remoteQuerySet.timestamp());this.notifyOnQueryResultChanges(v);break}case"MutationResponse":{h.success&&this.observedTimestamp(h.ts);const v=this.requestManager.onResponse(h);v!==null&&this.notifyOnQueryResultChanges(new Map([[v.requestId,v.result]]));break}case"ActionResponse":{this.requestManager.onResponse(h);break}case"AuthError":{this.authenticationManager.onAuthError(h);break}case"FatalError":{const v=_x(this.logger,h.error);throw this.webSocketManager.terminate(),v}}return{hasSyncedPastLastReconnect:this.hasSyncedPastLastReconnect()}},onServerDisconnectError:r.onServerDisconnectError},a,this.logger,this.markConnectionStateDirty,this.debug),this.mark("convexClientConstructed"),r.expectAuth&&m()}hasSyncedPastLastReconnect(){return this.requestManager.hasSyncedPastLastReconnect()||this.state.hasSyncedPastLastReconnect()}observedTimestamp(t){(this.maxObservedTimestamp===void 0||this.maxObservedTimestamp.lessThanOrEqual(t))&&(this.maxObservedTimestamp=t)}getMaxObservedTimestamp(){return this.maxObservedTimestamp}notifyOnQueryResultChanges(t){const n=this.remoteQuerySet.remoteQueryResults(),r=new Map;for(const[a,o]of n){const l=this.state.queryToken(a);if(l!==null){const u={result:o,udfPath:this.state.queryPath(a),args:this.state.queryArgs(a)};r.set(l,u)}}const i=this.optimisticQueryResults.ingestQueryResultsFromServer(r,new Set(t.keys()));this.handleTransition({queries:i.map(a=>{const o=this.optimisticQueryResults.rawQueryResult(a);return{token:a,modification:{kind:"Updated",result:o.result}}}),reflectedMutations:Array.from(t).map(([a,o])=>({requestId:a,result:o})),timestamp:this.remoteQuerySet.timestamp()})}handleTransition(t){for(const n of this._onTransitionFns.values())n(t)}addOnTransitionHandler(t){const n=this._transitionHandlerCounter++;return this._onTransitionFns.set(n,t),()=>this._onTransitionFns.delete(n)}getCurrentAuthClaims(){const t=this.state.getAuth();let n={};if(t&&t.tokenType==="User")try{n=t?Cf(t.value):{}}catch{n={}}else return;return{token:t.value,decoded:n}}setAuth(t,n){this.authenticationManager.setConfig(t,n)}hasAuth(){return this.state.hasAuth()}setAdminAuth(t,n){const r=this.state.setAdminAuth(t,n);this.webSocketManager.sendMessage(r)}clearAuth(){const t=this.state.clearAuth();this.webSocketManager.sendMessage(t)}subscribe(t,n,r){const i=zt(n),{modification:a,queryToken:o,unsubscribe:l}=this.state.subscribe(t,i,r==null?void 0:r.journal,r==null?void 0:r.componentPath);return a!==null&&this.webSocketManager.sendMessage(a),{queryToken:o,unsubscribe:()=>{const u=l();u&&this.webSocketManager.sendMessage(u)}}}localQueryResult(t,n){const r=zt(n),i=Dn(t,r);return this.optimisticQueryResults.queryResult(i)}localQueryResultByToken(t){return this.optimisticQueryResults.queryResult(t)}hasLocalQueryResultByToken(t){return this.optimisticQueryResults.hasQueryResult(t)}localQueryLogs(t,n){const r=zt(n),i=Dn(t,r);return this.optimisticQueryResults.queryLogs(i)}queryJournal(t,n){const r=zt(n),i=Dn(t,r);return this.state.queryJournal(i)}connectionState(){const t=this.webSocketManager.connectionState();return{hasInflightRequests:this.requestManager.hasInflightRequests(),isWebSocketConnected:t.isConnected,hasEverConnected:t.hasEverConnected,connectionCount:t.connectionCount,connectionRetries:t.connectionRetries,timeOfOldestInflightRequest:this.requestManager.timeOfOldestInflightRequest(),inflightMutations:this.requestManager.inflightMutations(),inflightActions:this.requestManager.inflightActions()}}subscribeToConnectionState(t){const n=this.nextConnectionStateSubscriberId++;return this.connectionStateSubscribers.set(n,t),()=>{this.connectionStateSubscribers.delete(n)}}async mutation(t,n,r){const i=await this.mutationInternal(t,n,r);if(!i.success)throw i.errorData!==void 0?dl(i,new cl(fr("mutation",t,i))):new Error(fr("mutation",t,i));return i.value}async mutationInternal(t,n,r,i){const{mutationPromise:a}=this.enqueueMutation(t,n,r,i);return a}enqueueMutation(t,n,r,i){const a=zt(n);this.tryReportLongDisconnect();const o=this.nextRequestId;if(this._nextRequestId++,r!==void 0){const d=r.optimisticUpdate;if(d!==void 0){const m=v=>{d(v,a)instanceof Promise&&this.logger.warn("Optimistic update handler returned a Promise. Optimistic updates should be synchronous.")},h=this.optimisticQueryResults.applyOptimisticUpdate(m,o).map(v=>{const g=this.localQueryResultByToken(v);return{token:v,modification:{kind:"Updated",result:g===void 0?void 0:{success:!0,value:g,logLines:[]}}}});this.handleTransition({queries:h,reflectedMutations:[],timestamp:this.remoteQuerySet.timestamp()})}}const l={type:"Mutation",requestId:o,udfPath:t,componentPath:i,args:[jn(a)]},u=this.webSocketManager.sendMessage(l),c=this.requestManager.request(l,u);return{requestId:o,mutationPromise:c}}async action(t,n){const r=await this.actionInternal(t,n);if(!r.success)throw r.errorData!==void 0?dl(r,new cl(fr("action",t,r))):new Error(fr("action",t,r));return r.value}async actionInternal(t,n,r){const i=zt(n),a=this.nextRequestId;this._nextRequestId++,this.tryReportLongDisconnect();const o={type:"Action",requestId:a,udfPath:t,componentPath:r,args:[jn(i)]},l=this.webSocketManager.sendMessage(o);return this.requestManager.request(o,l)}async close(){return this.authenticationManager.stop(),this.webSocketManager.terminate()}get url(){return this.address}get nextRequestId(){return this._nextRequestId}get sessionId(){return this._sessionId}reportMarks(){if(this.debug){const t=y0(this.sessionId);this.webSocketManager.sendMessage({type:"Event",eventType:"ClientConnect",event:t})}}tryReportLongDisconnect(){if(!this.debug)return;const t=this.connectionState().timeOfOldestInflightRequest;if(t===null||Date.now()-t.getTime()<=60*1e3)return;const n=`${this.address}/api/debug_event`;fetch(n,{method:"POST",headers:{"Content-Type":"application/json","Convex-Client":`npm-${Ec}`},body:JSON.stringify({event:"LongWebsocketDisconnect"})}).then(r=>{r.ok||this.logger.warn("Analytics request failed with response:",r.body)}).catch(r=>{this.logger.warn("Analytics response failed with error:",r)})}}function N0({getCurrentValue:e,subscribe:t}){const[n,r]=N.useState(()=>({getCurrentValue:e,subscribe:t,value:e()}));let i=n.value;return(n.getCurrentValue!==e||n.subscribe!==t)&&(i=e(),r({getCurrentValue:e,subscribe:t,value:i})),N.useEffect(()=>{let a=!1;const o=()=>{a||r(u=>{if(u.getCurrentValue!==e||u.subscribe!==t)return u;const c=e();return u.value===c?u:{...u,value:c}})},l=t(o);return o(),()=>{a=!0,l()}},[e,t]),i}var j0=Object.defineProperty,k0=(e,t,n)=>t in e?j0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,en=(e,t,n)=>k0(e,typeof t!="symbol"?t+"":t,n);const S0=5e3;if(typeof da>"u")throw new Error("Required dependency 'react' not found");function Pf(e,t,n){function r(i){return T0(i),t.mutation(e,i,{optimisticUpdate:n})}return r.withOptimisticUpdate=function(a){if(n!==void 0)throw new Error(`Already specified optimistic update for mutation ${rt(e)}`);return Pf(e,t,a)},r}class C0{constructor(t,n){if(en(this,"address"),en(this,"cachedSync"),en(this,"listeners"),en(this,"options"),en(this,"closed",!1),en(this,"_logger"),en(this,"adminAuth"),en(this,"fakeUserIdentity"),t===void 0)throw new Error("No address provided to ConvexReactClient.\nIf trying to deploy to production, make sure to follow all the instructions found at https://docs.convex.dev/production/hosting/\nIf running locally, make sure to run `convex dev` and ensure the .env.local file is populated.");if(typeof t!="string")throw new Error(`ConvexReactClient requires a URL like 'https://happy-otter-123.convex.cloud', received something of type ${typeof t} instead.`);if(!t.includes("://"))throw new Error("Provided address was not an absolute URL.");this.address=t,this.listeners=new Map,this._logger=(n==null?void 0:n.logger)===!1?bf({verbose:(n==null?void 0:n.verbose)??!1}):(n==null?void 0:n.logger)!==!0&&(n!=null&&n.logger)?n.logger:wf({verbose:(n==null?void 0:n.verbose)??!1}),this.options={...n,logger:this._logger}}get url(){return this.address}get sync(){if(this.closed)throw new Error("ConvexReactClient has already been closed.");return this.cachedSync?this.cachedSync:(this.cachedSync=new b0(this.address,t=>this.transition(t),this.options),this.adminAuth&&this.cachedSync.setAdminAuth(this.adminAuth,this.fakeUserIdentity),this.cachedSync)}setAuth(t,n){if(typeof t=="string")throw new Error("Passing a string to ConvexReactClient.setAuth is no longer supported, please upgrade to passing in an async function to handle reauthentication.");this.sync.setAuth(t,n??(()=>{}))}clearAuth(){this.sync.clearAuth()}setAdminAuth(t,n){if(this.adminAuth=t,this.fakeUserIdentity=n,this.closed)throw new Error("ConvexReactClient has already been closed.");this.cachedSync&&this.sync.setAdminAuth(t,n)}watchQuery(t,...n){const[r,i]=n,a=rt(t);return{onUpdate:o=>{const{queryToken:l,unsubscribe:u}=this.sync.subscribe(a,r,i),c=this.listeners.get(l);return c!==void 0?c.add(o):this.listeners.set(l,new Set([o])),()=>{if(this.closed)return;const d=this.listeners.get(l);d.delete(o),d.size===0&&this.listeners.delete(l),u()}},localQueryResult:()=>{if(this.cachedSync)return this.cachedSync.localQueryResult(a,r)},localQueryLogs:()=>{if(this.cachedSync)return this.cachedSync.localQueryLogs(a,r)},journal:()=>{if(this.cachedSync)return this.cachedSync.queryJournal(a,r)}}}prewarmQuery(t){const n=t.extendSubscriptionFor??S0,i=this.watchQuery(t.query,t.args||{}).onUpdate(()=>{});setTimeout(i,n)}mutation(t,...n){const[r,i]=n,a=rt(t);return this.sync.mutation(a,r,i)}action(t,...n){const r=rt(t);return this.sync.action(r,...n)}query(t,...n){const r=this.watchQuery(t,...n),i=r.localQueryResult();return i!==void 0?Promise.resolve(i):new Promise((a,o)=>{const l=r.onUpdate(()=>{l();try{a(r.localQueryResult())}catch(u){o(u)}})})}connectionState(){return this.sync.connectionState()}subscribeToConnectionState(t){return this.sync.subscribeToConnectionState(t)}get logger(){return this._logger}async close(){if(this.closed=!0,this.listeners=new Map,this.cachedSync){const t=this.cachedSync;this.cachedSync=void 0,await t.close()}}transition(t){for(const n of t){const r=this.listeners.get(n);if(r)for(const i of r)i()}}}const du=da.createContext(void 0);function mu(){return N.useContext(du)}const P0=({client:e,children:t})=>da.createElement(du.Provider,{value:e},t);function bt(e,...t){const n=t[0]==="skip",r=t[0]==="skip"?{}:zt(t[0]),i=typeof e=="string"?jf(e):e,a=rt(i),o=N.useMemo(()=>n?{}:{query:{query:i,args:r}},[JSON.stringify(jn(r)),a,n]),u=R0(o).query;if(u instanceof Error)throw u;return u}function tt(e){const t=typeof e=="string"?jf(e):e,n=N.useContext(du);if(n===void 0)throw new Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return N.useMemo(()=>Pf(t,n),[n,rt(t)])}function T0(e){if(typeof e=="object"&&e!==null&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw new Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}var E0=Object.defineProperty,M0=(e,t,n)=>t in e?E0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lo=(e,t,n)=>M0(e,typeof t!="symbol"?t+"":t,n);class _0{constructor(t){lo(this,"createWatch"),lo(this,"queries"),lo(this,"listeners"),this.createWatch=t,this.queries={},this.listeners=new Set}setQueries(t){for(const n of Object.keys(t)){const{query:r,args:i}=t[n];if(rt(r),this.queries[n]===void 0)this.addQuery(n,r,i);else{const a=this.queries[n];(rt(r)!==rt(a.query)||JSON.stringify(jn(i))!==JSON.stringify(jn(a.args)))&&(this.removeQuery(n),this.addQuery(n,r,i))}}for(const n of Object.keys(this.queries))t[n]===void 0&&this.removeQuery(n)}subscribe(t){return this.listeners.add(t),()=>{this.listeners.delete(t)}}getLocalResults(t){const n={};for(const r of Object.keys(t)){const{query:i,args:a}=t[r];rt(i);const o=this.createWatch(i,a);let l;try{l=o.localQueryResult()}catch(u){if(u instanceof Error)l=u;else throw u}n[r]=l}return n}setCreateWatch(t){this.createWatch=t;for(const n of Object.keys(this.queries)){const{query:r,args:i,watch:a}=this.queries[n],o=a.journal();this.removeQuery(n),this.addQuery(n,r,i,o)}}destroy(){for(const t of Object.keys(this.queries))this.removeQuery(t);this.listeners=new Set}addQuery(t,n,r,i){if(this.queries[t]!==void 0)throw new Error(`Tried to add a new query with identifier ${t} when it already exists.`);const a=this.createWatch(n,r,i),o=a.onUpdate(()=>this.notifyListeners());this.queries[t]={query:n,args:r,watch:a,unsubscribe:o}}removeQuery(t){const n=this.queries[t];if(n===void 0)throw new Error(`No query found with identifier ${t}.`);n.unsubscribe(),delete this.queries[t]}notifyListeners(){for(const t of this.listeners)t()}}function R0(e){const t=mu();if(t===void 0)throw new Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");const n=N.useMemo(()=>(r,i,a)=>t.watchQuery(r,i,a?{journal:a}:{}),[t]);return $0(e,n)}function $0(e,t){const[n]=N.useState(()=>new _0(t));n.createWatch!==t&&n.setCreateWatch(t),N.useEffect(()=>()=>n.destroy(),[n]);const r=N.useMemo(()=>({getCurrentValue:()=>n.getLocalResults(e),subscribe:i=>(n.setQueries(e),n.subscribe(i))}),[n,e]);return N0(r)}function Tf(e,t){const n={get(r,i){if(typeof i=="string"){const a=[...t,i];return Tf(e,a)}else if(i===Nf){if(t.length<1){const a=[e,...t].join(".");throw new Error(`API path is expected to be of the form \`${e}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+t.join("/")}else return}};return new Proxy({},n)}const I0=()=>Tf("components",[]),ee=zx;I0();const Ef=N.createContext();function O0({children:e,userId:t}){const[n,r]=N.useState(null),[i,a]=N.useState(0),[o,l]=N.useState(!1),[u,c]=N.useState(!1),d=bt(ee.prayerSchedules.getByUser,t?{userId:t}:"skip"),m=bt(ee.prayerSchedules.getUpcoming,t?{userId:t}:"skip"),p=bt(ee.prayerStreaks.getByUser,t?{userId:t}:"skip"),h=bt(ee.prayerHistory.getByUser,t?{userId:t}:"skip"),v=bt(ee.userSettings.getByUser,t?{userId:t}:"skip"),g=d===void 0||m===void 0||p===void 0||h===void 0||v===void 0,C=tt(ee.prayerSchedules.create),x=tt(ee.prayerSchedules.update),f=tt(ee.prayerSchedules.remove),y=tt(ee.prayerStreaks.updateStreak),w=tt(ee.prayerHistory.create),P=tt(ee.prayerHistory.remove),E=tt(ee.userSettings.update),M=async(T,z=15)=>{const H=d.find(Z=>Z._id===T);H&&(r(H),l(!0),c(!1),a(z*60))},S=()=>{c(!0)},k=()=>{c(!1)},_=async()=>{if(n){const T=Math.floor((900-i)/60);await y({userId:t}),await w({userId:t,prayerScheduleId:n._id,duration:T,prayerPoints:[],notes:""}),n.recurring||await x({id:n._id,isCompleted:!0}),O.success("Prayer session completed!")}r(null),l(!1),c(!1),a(0)};N.useEffect(()=>{let T=null;return o&&!u&&i>0?T=setInterval(()=>{a(z=>z<=1?(_(),0):z-1)},1e3):i===0&&o&&_(),()=>clearInterval(T)},[o,u,i]);const j=T=>{const z=Math.floor(T/60),H=T%60;return`${z.toString().padStart(2,"0")}:${H.toString().padStart(2,"0")}`};return s.jsx(Ef.Provider,{value:{userId:t,schedules:d||[],upcomingSchedules:m||[],streak:p,history:h||[],settings:v,isLoading:g,activePrayer:n,countdown:i,isPraying:o,isPaused:u,formatTime:j,startPrayer:M,stopPrayer:_,pausePrayer:S,resumePrayer:k,createSchedule:C,updateSchedule:x,deleteSchedule:f,deleteHistory:P,updateSettings:E},children:e})}function Xt(){const e=N.useContext(Ef);if(!e)throw new Error("usePrayer must be used within PrayerProvider");return e}let Lt=null,L0=null;async function fu(){var t,n;if(!("serviceWorker"in navigator))return console.warn("Service Workers are not supported in this browser"),null;if(!(location.protocol==="https:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="0.0.0.0"))return console.warn(" Service Workers require HTTPS in production (or localhost for development)"),console.warn("Current context:",location.protocol,location.hostname),null;console.log(" Secure context detected - Service Worker will work!");try{let r=await navigator.serviceWorker.getRegistration();if(r)console.log(" Service Worker already registered"),(((t=r.active)==null?void 0:t.scriptURL)||((n=r.waiting)==null?void 0:n.scriptURL)||"").includes("sw.js")?console.log(" Using custom service worker for notifications"):console.log(" Different service worker found - notifications may still work"),console.log(" Environment:",location.hostname==="localhost"?"Development":"Production");else{const i="/sw.js";try{r=await navigator.serviceWorker.register(i,{scope:"/"}),console.log(" Service Worker registered successfully:",i),console.log(" Environment:",location.hostname==="localhost"?"Development (localhost)":"Production (HTTPS)")}catch(a){return console.error(" Failed to register service worker:",a),(location.hostname==="localhost"||location.hostname==="127.0.0.1")&&(console.log(" Service worker file may not be available in dev mode"),console.log(" It will work automatically when you deploy to production (HTTPS)")),null}}return Lt=r,r.installing?(console.log("Service Worker installing..."),await new Promise(i=>{const a=r.installing;a.addEventListener("statechange",()=>{a.state==="activated"&&(console.log(" Service Worker activated"),i())})})):r.waiting&&r.waiting.postMessage({type:"SKIP_WAITING"}),r.active&&console.log(" Service Worker is active and ready for notifications"),r.addEventListener("updatefound",()=>{const i=r.installing;i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&console.log(" New service worker available")})}),r}catch(r){console.error(" Service Worker registration failed:",r),r.message.includes("Failed to register")&&console.error("Make sure the service worker file (sw.js) is accessible at the root of your domain");try{const i=await navigator.serviceWorker.getRegistration();if(i)return Lt=i,console.log(" Using existing service worker registration"),i}catch(i){console.error("Could not get existing service worker:",i)}return null}}async function A0(){if(!Lt)return console.warn("Service Worker not registered"),null;try{if(!("PushManager"in window))return console.warn("Push messaging is not supported"),null;if(await Notification.requestPermission()!=="granted")return console.warn("Notification permission not granted"),null;const t="BKkJoFms6e3nG-P7oe09z3a5N6LQtU15NpAnmT4cogJmkZ4qphvwnLWcW6veQJerqeTmHhl1s9q03SB5ca6ynQ8";console.log(" VAPID public key found - push subscriptions enabled!");try{const n=await Lt.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:U0(t)});return L0=n,console.log(" Push subscription successful!"),console.log(" Push notifications are now enabled - notifications will work even when browser is closed (with backend setup)"),n}catch(n){return console.warn("Push subscription failed. Service worker notifications will still work:",n),null}}catch(e){return console.error("Push subscription failed:",e),null}}async function D0({title:e,body:t,icon:n,tag:r,data:i}){if(!("Notification"in window)||Notification.permission!=="granted")return console.warn("Notification permission not granted"),null;if(!Lt)try{Lt=await navigator.serviceWorker.getRegistration()}catch(a){console.warn("Could not get service worker registration:",a)}try{const a=await navigator.serviceWorker.ready;return a&&a.active?new Promise(o=>{const l=new MessageChannel;l.port1.onmessage=u=>{u.data&&u.data.success?(console.log(" Notification shown via service worker"),o(!0)):o(!1)};try{a.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:e,body:t,icon:n||"/vite.svg",tag:r||"prayer-notification",data:i||{url:"/",timestamp:Date.now()}}},[l.port2]),setTimeout(()=>{o(!0)},500)}catch(u){console.warn("Failed to post message to service worker:",u),o(!1)}}).then(o=>{if(o)return!0;throw new Error("Service worker notification failed")}).catch(()=>new Notification(e,{body:t,icon:n||"/vite.svg",badge:"/vite.svg",tag:r,data:i})):(console.log("Service worker not ready, using fallback notification"),new Notification(e,{body:t,icon:n||"/vite.svg",badge:"/vite.svg",tag:r,data:i}))}catch(a){console.error("Error showing background notification via service worker:",a);try{return new Notification(e,{body:t,icon:n||"/vite.svg",badge:"/vite.svg",tag:r,data:i})}catch(o){return console.error("Fallback notification also failed:",o),null}}}async function F0(){if(!Lt)return!1;try{return"sync"in Lt?(await Lt.sync.register("check-notifications"),console.log("Background sync registered"),!0):(console.warn("Background sync not supported"),!1)}catch(e){return console.error("Background sync registration failed:",e),!1}}function U0(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(n),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}function z0(){return Lt}function q0(){const{userId:e,settings:t,schedules:n,upcomingSchedules:r,streak:i}=Xt(),a=N.useRef(null),o=N.useRef({}),l=N.useRef(null);return N.useEffect(()=>{fu().then(u=>{u&&(console.log("Service Worker registered for background notifications"),F0())}),"Notification"in window&&(l.current=Notification.permission)},[]),N.useEffect(()=>{if(!(t!=null&&t.notificationsEnabled)){a.current&&(clearInterval(a.current),a.current=null);return}if(Notification.permission==="default"||Notification.permission!=="granted")return;const u=()=>{const c=new Date;c.toTimeString().slice(0,5);const d=c.toDateString();if(t!=null&&t.notificationTime){const[m,p]=t.notificationTime.split(":").map(Number),h=m*60+p,v=c.getHours()*60+c.getMinutes(),g=c.getSeconds(),C=`daily-${d}`;!o.current[C]&&v===h&&g<50&&(Kr({title:"Prayer Reminder",body:"Time for your daily prayer session!",icon:"/vite.svg",tag:C}),o.current[C]=Date.now(),O("Daily prayer reminder!",{icon:"",duration:5e3}))}if(t!=null&&t.showPrayerReminders&&r&&r.length>0&&r.forEach(m=>{const h=new Date(m.scheduledTime)-c,v=Math.floor(h/(1e3*60)),g=Math.floor(h/1e3);if(v===5&&g<=300&&g>=250){const C=`schedule-${m._id}-5min`;o.current[C]||(Kr({title:"Prayer Schedule Reminder",body:`"${m.title}" starts in 5 minutes`,icon:"/vite.svg",tag:C}),o.current[C]=Date.now(),O(`Prayer "${m.title}" in 5 minutes!`,{icon:"",duration:5e3}))}if(v===1&&g<=60&&g>=50){const C=`schedule-${m._id}-1min`;o.current[C]||(Kr({title:"Prayer Starting Soon",body:`"${m.title}" starts in 1 minute`,icon:"/vite.svg",tag:C}),o.current[C]=Date.now(),O(`Prayer "${m.title}" starting in 1 minute!`,{icon:"",duration:5e3}))}if(h<=1e4&&h>=0){const C=`schedule-${m._id}-start`;o.current[C]||(Kr({title:"Prayer Time!",body:`"${m.title}" is starting now`,icon:"/vite.svg",tag:C}),o.current[C]=Date.now(),O(`Prayer "${m.title}" is starting now!`,{icon:"",duration:5e3}))}}),t!=null&&t.showStreakNotifications&&i){const m=`streak-${i.currentStreak}-${d}`,p=o.current[m];[7,14,30,50,100].includes(i.currentStreak)&&!p&&(Kr({title:" Streak Milestone!",body:`Amazing! You've reached ${i.currentStreak} days of prayer!`,icon:"/vite.svg",tag:m}),o.current[m]=Date.now(),O.success(` ${i.currentStreak}-day streak milestone!`,{duration:5e3}))}};return a.current=setInterval(u,1e4),u(),()=>{a.current&&(clearInterval(a.current),a.current=null)}},[t==null?void 0:t.notificationsEnabled,t==null?void 0:t.notificationTime,t==null?void 0:t.showPrayerReminders,t==null?void 0:t.showStreakNotifications,r,i]),N.useEffect(()=>{const c=setInterval(()=>{const d=Date.now()-864e5;Object.keys(o.current).forEach(m=>{o.current[m]<d&&delete o.current[m]})},36e5);return()=>clearInterval(c)},[]),{requestPermission:async()=>{if("Notification"in window){const u=await Notification.requestPermission();return l.current=u,u}return"denied"},permission:l.current}}async function Kr({title:e,body:t,icon:n,tag:r}){if(!("Notification"in window)){console.warn("This browser does not support notifications");return}if(Notification.permission!=="granted"){console.warn("Notification permission not granted");return}try{if(await D0({title:e,body:t,icon:n,tag:r}))return;const a=new Notification(e,{body:t,icon:n||"/vite.svg",badge:"/vite.svg",tag:r||"prayer-notification",requireInteraction:!1,silent:!1});setTimeout(()=>{a.close()},5e3),a.onclick=()=>{window.focus(),a.close()}}catch(i){console.error("Error showing notification:",i)}}const Mf=N.createContext(),Ac=[],Dc=[];function V0({children:e}){const[t,n]=N.useState(null),[r,i]=N.useState(!1),[a,o]=N.useState(.7),[l,u]=N.useState([]),[c,d]=N.useState([]),[m,p]=N.useState(0),[h,v]=N.useState(0),g=N.useRef(null);N.useEffect(()=>{if(!g.current){g.current=new Audio,g.current.loop=!0,g.current.volume=a;const k=()=>i(!1),_=Z=>{i(!1),console.error("Audio playback error:",Z)},j=()=>{g.current&&t&&(console.log(`Audio loaded successfully: ${(t==null?void 0:t.name)||"Unknown"}`),v(g.current.duration||0))},T=()=>{g.current&&v(g.current.duration||0)},z=()=>{g.current&&p(g.current.currentTime||0)},H=()=>{g.current&&v(g.current.duration||0)};return g.current.addEventListener("ended",k),g.current.addEventListener("error",_),g.current.addEventListener("canplay",j),g.current.addEventListener("loadedmetadata",T),g.current.addEventListener("timeupdate",z),g.current.addEventListener("durationchange",H),()=>{g.current&&(g.current.removeEventListener("ended",k),g.current.removeEventListener("error",_),g.current.removeEventListener("canplay",j),g.current.removeEventListener("loadedmetadata",T),g.current.removeEventListener("timeupdate",z),g.current.removeEventListener("durationchange",H),g.current.pause(),g.current.src="")}}},[]),N.useEffect(()=>{g.current&&(g.current.volume=a)},[a]),N.useEffect(()=>{if(!g.current)return;const k=g.current,_=()=>{k.duration&&!isNaN(k.duration)&&isFinite(k.duration)&&v(k.duration)},j=()=>{k.duration&&!isNaN(k.duration)&&isFinite(k.duration)&&v(k.duration)},T=()=>{k.currentTime!==void 0&&!isNaN(k.currentTime)&&p(k.currentTime)};k.addEventListener("loadedmetadata",_),k.addEventListener("durationchange",j),k.addEventListener("timeupdate",T);let z;const H=()=>{k&&k.currentTime!==void 0&&!isNaN(k.currentTime)&&p(k.currentTime),k.duration&&!isNaN(k.duration)&&isFinite(k.duration)&&v(k.duration),r&&(z=requestAnimationFrame(H))};return r&&(z=requestAnimationFrame(H)),()=>{z&&cancelAnimationFrame(z),k.removeEventListener("loadedmetadata",_),k.removeEventListener("durationchange",j),k.removeEventListener("timeupdate",T)}},[r]);const C=k=>{u(_=>[..._.filter(j=>j.id!==k.id),k])},x=k=>{d(_=>[..._.filter(j=>j.id!==k.id),k])},f=(k,_=null,j=null)=>{let T=c.find(q=>q.id===k);if(T||(T=Dc.find(q=>q.id===k)),_&&(T?T={...T,url:_,name:j||T.name||"Custom Tongue Song"}:T={id:k,url:_,name:j||"Custom Tongue Song"}),!T||!T.url){console.warn("No tongue song found or no URL provided:",k,_);return}if(console.log("Playing tongue song:",T.name,"URL:",T.url),g.current&&(t==null?void 0:t.id)===T.id&&!r){P();return}if(g.current&&r&&(t==null?void 0:t.id)!==T.id&&(g.current.pause(),g.current.currentTime=0),!g.current){console.error("Audio element not initialized");return}n(T),g.current.volume=a;const z=q=>{if(!q)return"";try{return new URL(q).href}catch{return q}},H=z(g.current.src),Z=z(T.url);if(H===Z&&H!==""&&g.current.readyState>=2){i(!0),g.current.play().catch(q=>{console.error("Audio play error:",q),i(!1)});return}const Ee=new Promise((q,$)=>{const D=()=>{g.current.removeEventListener("canplay",D),g.current.removeEventListener("error",A),g.current.removeEventListener("loadstart",b),g.current.removeEventListener("loadedmetadata",F),g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&v(g.current.duration),console.log("Tongue song loaded, ready to play:",T.name),i(!0),q()},F=()=>{g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&v(g.current.duration)},b=()=>{console.log("Loading tongue song:",T.url)},A=se=>{var ye;g.current.removeEventListener("canplay",D),g.current.removeEventListener("error",A),g.current.removeEventListener("loadstart",b),console.error("Audio load error:",se),console.error("Failed URL:",T.url),console.error("Audio element error:",(ye=g.current)==null?void 0:ye.error),i(!1),$(se)};g.current.addEventListener("canplay",D,{once:!0}),g.current.addEventListener("loadstart",b,{once:!0}),g.current.addEventListener("loadedmetadata",F),g.current.addEventListener("error",A,{once:!0})});console.log("Setting audio source to:",T.url),g.current.src=T.url,g.current.load(),p(0),v(0),Ee.then(()=>{if(g.current)return console.log("Playing tongue song:",T.name),g.current.play()}).catch(q=>{console.error("Audio play error:",q),console.error("Failed to play URL:",T.url),i(!1)})},y=(k,_=null,j=null)=>{let T=l.find(q=>q.id===k);if(T||(T=Ac.find(q=>q.id===k)),_&&(T?T={...T,url:_,name:j||T.name||"Custom Chant"}:T={id:k,url:_,name:j||"Custom Chant"}),!T||!T.url){console.warn("No chant found or no URL provided:",k,_);return}if(console.log("Playing chant:",T.name,"URL:",T.url),g.current&&(t==null?void 0:t.id)===T.id&&!r){P();return}if(g.current&&r&&(t==null?void 0:t.id)!==T.id&&(g.current.pause(),g.current.currentTime=0),!g.current){console.error("Audio element not initialized");return}n(T),g.current.volume=a;const z=q=>{if(!q)return"";try{return new URL(q).href}catch{return q}},H=z(g.current.src),Z=z(T.url);if(H===Z&&H!==""&&g.current.readyState>=2){i(!0),g.current.play().catch(q=>{console.error("Audio play error:",q),i(!1)});return}const Ee=new Promise((q,$)=>{const D=()=>{g.current.removeEventListener("canplay",D),g.current.removeEventListener("error",A),g.current.removeEventListener("loadstart",b),g.current.removeEventListener("loadedmetadata",F),g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&v(g.current.duration),console.log("Chant loaded, ready to play:",T.name),i(!0),q()},F=()=>{g.current.duration&&!isNaN(g.current.duration)&&isFinite(g.current.duration)&&v(g.current.duration)},b=()=>{console.log("Loading chant:",T.url)},A=se=>{var ye;g.current.removeEventListener("canplay",D),g.current.removeEventListener("error",A),g.current.removeEventListener("loadstart",b),console.error("Audio load error:",se),console.error("Failed URL:",T.url),console.error("Audio element error:",(ye=g.current)==null?void 0:ye.error),i(!1),$(se)};g.current.addEventListener("canplay",D,{once:!0}),g.current.addEventListener("loadstart",b,{once:!0}),g.current.addEventListener("loadedmetadata",F),g.current.addEventListener("error",A,{once:!0})});console.log("Setting audio source to:",T.url),g.current.src=T.url,g.current.load(),p(0),v(0),Ee.then(()=>{if(g.current)return console.log("Playing chant:",T.name),g.current.play()}).catch(q=>{console.error("Audio play error:",q),console.error("Failed to play URL:",T.url),i(!1)})},w=()=>{g.current&&r&&(g.current.pause(),i(!1))},P=()=>{g.current&&t&&!r&&(g.current.play().catch(k=>{console.error("Audio resume error:",k),i(!1)}),i(!0))},E=()=>{g.current&&(g.current.pause(),g.current.currentTime=0,i(!1)),n(null),p(0),v(0)},M=()=>{r?w():t&&P()},S=k=>{if(!k||isNaN(k))return"0:00";const _=Math.floor(k/60),j=Math.floor(k%60);return`${_}:${String(j).padStart(2,"0")}`};return s.jsx(Mf.Provider,{value:{chants:Ac,tongueSongs:Dc,customChants:l,customTongueSongs:c,currentChant:t,isPlaying:r,volume:a,currentTime:m,duration:h,formatTime:S,setVolume:o,playChant:y,playTongueSong:f,pauseChant:w,resumeChant:P,stopChant:E,toggleChant:M,addCustomChant:C,addCustomTongueSong:x,audioRef:g},children:e})}function Ea(){const e=N.useContext(Mf);if(!e)throw new Error("useAudio must be used within AudioProvider");return e}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var W0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const n=N.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>N.createElement("svg",{ref:d,...W0,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${B0(e)}`,l].join(" "),...c},[...t.map(([m,p])=>N.createElement(m,p)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=V("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=V("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=V("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=V("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=V("Cross",[["path",{d:"M11 2a2 2 0 0 0-2 2v5H4a2 2 0 0 0-2 2v2c0 1.1.9 2 2 2h5v5c0 1.1.9 2 2 2h2a2 2 0 0 0 2-2v-5h5a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-5V4a2 2 0 0 0-2-2h-2z",key:"1t5g7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=V("FileAudio",[["path",{d:"M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"1013sb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z",key:"gqt63y"}],["path",{d:"M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z",key:"cf7lqx"}],["path",{d:"M2 19v-3a6 6 0 0 1 12 0v3",key:"1acxgf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=V("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=V("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=V("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=V("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=V("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=V("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=V("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=V("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=V("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=V("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=V("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=V("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=V("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=V("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ly({onEnter:e}){const[t,n]=N.useState(!1),r=()=>{n(!0),setTimeout(()=>{e()},800)};return s.jsxs("div",{className:"flex items-center justify-center w-full overflow-hidden relative z-10",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-purple-900/30 to-transparent animate-pulse"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-full h-full bg-gradient-to-t from-indigo-900/30 to-transparent animate-pulse",style:{animationDelay:"1s"}}),[...Array(6)].map((i,a)=>s.jsx("div",{className:"absolute rounded-full bg-gradient-to-r from-purple-400/20 to-indigo-400/20 blur-3xl animate-float",style:{width:`${100+a*50}px`,height:`${100+a*50}px`,left:`${10+a*15}%`,top:`${10+a%3*30}%`,animationDelay:`${a*.5}s`,animationDuration:`${4+a}s`}},a))]}),s.jsxs("div",{className:`relative z-10 w-full max-w-md mx-auto px-6 text-center transition-all duration-1000 ${t?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:[s.jsx("div",{className:"mb-8 flex justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-indigo-400 rounded-full blur-2xl opacity-50 animate-pulse"}),s.jsx("div",{className:"relative w-24 h-24 md:w-32 md:h-32 rounded-full bg-gradient-to-r from-purple-500/20 to-indigo-500/20 border-2 border-purple-400/30 flex items-center justify-center backdrop-blur-sm",children:s.jsx(K0,{className:"w-12 h-12 md:w-16 md:h-16 text-white",strokeWidth:1.5})})]})}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4 leading-tight",children:["Welcome to the",s.jsx("span",{className:"block bg-gradient-to-r from-purple-300 via-indigo-300 to-purple-300 bg-clip-text text-transparent mt-2",children:"Prayer Room"})]}),s.jsx("p",{className:"text-white/80 text-lg md:text-xl mb-2 leading-relaxed",children:"A sacred space for communion"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mb-8",children:"Enter with reverence and faith"}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[s.jsx("div",{className:"h-px w-12 bg-gradient-to-r from-transparent to-purple-400/50"}),s.jsx(ne,{className:"w-5 h-5 text-purple-400 animate-pulse"}),s.jsx("div",{className:"h-px w-12 bg-gradient-to-l from-transparent to-purple-400/50"})]}),s.jsxs("button",{onClick:r,className:"group relative w-full max-w-xs mx-auto px-8 py-4 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl font-semibold text-white text-lg shadow-2xl hover:shadow-purple-500/50 transition-all duration-300 hover:scale-105 active:scale-95 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500 to-indigo-500 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-3",children:["Enter Prayer Room",s.jsx(br,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),s.jsx("p",{className:"mt-8 text-white/50 text-xs md:text-sm italic",children:'"For where two or three gather in my name, there am I with them."'}),s.jsx("p",{className:"text-white/40 text-xs mt-1",children:"Matthew 18:20"})]})]})}function uy({schedules:e,selectedSchedule:t,setSelectedSchedule:n,selectedScheduleData:r,chants:i,chantUploads:a,selectedDuration:o,setSelectedDuration:l,customHours:u,setCustomHours:c,customMinutes:d,setCustomMinutes:m,useCustomTime:p,setUseCustomTime:h,durations:v,adjustDuration:g,handleStart:C}){var S;const[x,f]=N.useState(1),y=3,w=t&&(r==null?void 0:r.prayerPoints)&&r.prayerPoints.length>0,P=p?u>0||d>0:o>0,E=()=>{x===1&&w?f(2):x===2&&P&&f(3)},M=()=>{x>1&&f(x-1)};return s.jsxs("div",{className:"w-full max-w-2xl mx-auto px-3 md:px-4",children:[s.jsx("div",{className:"mb-6 md:mb-8",children:s.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3].map(k=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center font-bold text-sm md:text-base transition-all duration-300 ${k<x?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg":k===x?"bg-white text-indigo-600 shadow-lg ring-4 ring-indigo-400/30":"bg-white/10 text-white/50 border-2 border-white/20"}`,children:k<x?s.jsx($r,{className:"w-5 h-5 md:w-6 md:h-6"}):k}),s.jsx("span",{className:`text-xs md:text-sm mt-2 font-medium ${k<=x?"text-white":"text-white/40"}`,children:k===1?"Schedule":k===2?"Duration":"Start"})]}),k<y&&s.jsx("div",{className:`flex-1 h-1 mx-2 transition-all duration-300 ${k<x?"bg-gradient-to-r from-indigo-500 to-purple-500":"bg-white/10"}`})]},k))})}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 lg:p-8 rounded-2xl min-h-[400px] md:min-h-[500px]",children:[x===1&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(yn,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Select Prayer Schedule"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"Choose a schedule to begin your prayer session"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-3",children:"Available Schedules"}),s.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:e.filter(k=>!k.isCompleted).map(k=>{var _;return s.jsx("button",{onClick:()=>n(k._id),className:`w-full text-left p-4 rounded-xl border-2 transition-all duration-200 ${t===k._id?"bg-gradient-to-r from-indigo-600/30 to-purple-600/30 border-indigo-400 shadow-lg":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold text-base md:text-lg mb-1",children:k.title}),k.description&&s.jsx("p",{className:"text-white/60 text-xs md:text-sm mb-2 line-clamp-2",children:k.description}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-white/50",children:[s.jsx("span",{children:new Date(k.scheduledTime).toLocaleDateString()}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ne,{className:"w-3 h-3"}),((_=k.prayerPoints)==null?void 0:_.length)||0," points"]})]})]}),t===k._id&&s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:s.jsx($r,{className:"w-4 h-4 text-white"})})]})},k._id)})}),r&&s.jsxs("div",{className:"mt-4 glass-card p-4 rounded-xl border border-indigo-400/30",children:[s.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 text-indigo-400"}),"Selected: ",r.title]}),r.prayerPoints&&r.prayerPoints.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-white/60 text-xs mb-2",children:[r.prayerPoints.length," Prayer Points"]}),s.jsxs("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[r.prayerPoints.slice(0,3).map((k,_)=>s.jsxs("div",{className:"flex items-start gap-2 text-xs text-white/70",children:[s.jsx("span",{className:"text-indigo-400 mt-0.5",children:""}),s.jsx("span",{className:"line-clamp-1",children:k})]},_)),r.prayerPoints.length>3&&s.jsxs("p",{className:"text-white/50 text-xs ml-4",children:["+",r.prayerPoints.length-3," more"]})]})]}),r.scripture&&s.jsxs("div",{className:"flex items-start gap-2 text-xs text-white/60",children:[s.jsx(Nr,{className:"w-3 h-3 text-purple-400 mt-0.5"}),s.jsxs("span",{className:"line-clamp-1 italic",children:['"',r.scripture,'"']})]})]})]}),s.jsxs("button",{onClick:E,disabled:!w,className:"w-full btn-primary py-3 md:py-4 text-base md:text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Continue",s.jsx(br,{className:"w-5 h-5"})]})]}),x===2&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(vn,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Set Duration"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"Choose how long you want to pray"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6 bg-white/5 rounded-lg p-1 border border-white/10",children:[s.jsx("button",{onClick:()=>h(!1),className:`flex-1 px-4 py-2.5 rounded-md text-sm font-medium transition-all ${p?"text-white/70 hover:text-white/90":"bg-white text-indigo-600 shadow-md"}`,children:"Preset"}),s.jsx("button",{onClick:()=>h(!0),className:`flex-1 px-4 py-2.5 rounded-md text-sm font-medium transition-all ${p?"bg-white text-indigo-600 shadow-md":"text-white/70 hover:text-white/90"}`,children:"Custom"})]}),p?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"glass-card p-6 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-white/60 text-xs font-medium",children:"Hours"}),s.jsx("input",{type:"number",min:"0",max:"23",value:u,onChange:k=>c(Math.max(0,Math.min(23,parseInt(k.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold"})]}),s.jsx("span",{className:"text-white/40 text-3xl md:text-4xl font-bold mt-8",children:":"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("label",{className:"text-white/60 text-xs font-medium",children:"Minutes"}),s.jsx("input",{type:"number",min:"0",max:"59",value:d,onChange:k=>m(Math.max(0,Math.min(59,parseInt(k.target.value)||0))),className:"input-glass w-20 md:w-24 text-center text-2xl md:text-3xl font-bold"})]})]}),s.jsxs("div",{className:"text-center mt-6 pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Total Duration: "}),s.jsxs("span",{className:"text-white font-bold text-xl",children:[u*60+d," minutes"]})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:v.map(k=>s.jsxs("button",{onClick:()=>l(k),className:`py-4 md:py-5 rounded-xl font-bold text-base md:text-lg transition-all ${o===k?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg scale-105":"bg-white/10 text-white/70 hover:bg-white/20 hover:text-white"}`,children:[k,"m"]},k))}),s.jsxs("div",{className:"text-center pt-4 border-t border-white/10",children:[s.jsx("span",{className:"text-white/60 text-sm",children:"Selected: "}),s.jsxs("span",{className:"text-white font-bold text-lg",children:[o," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:M,className:"flex-1 btn-secondary py-3 md:py-4 text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:E,disabled:!P,className:"flex-1 btn-primary py-3 md:py-4 text-base md:text-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Continue",s.jsx(br,{className:"w-5 h-5"})]})]})]}),x===3&&s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 md:w-20 md:h-20 rounded-full bg-gradient-to-r from-indigo-500/20 to-purple-500/20 mb-4",children:s.jsx(kn,{className:"w-8 h-8 md:w-10 md:h-10 text-indigo-400"})}),s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Ready to Pray"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"Review your settings and begin"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-indigo-400/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(yn,{className:"w-5 h-5 text-indigo-400"}),s.jsx("h3",{className:"text-white font-semibold",children:"Prayer Schedule"})]}),s.jsx("p",{className:"text-white text-lg font-bold mb-2",children:r==null?void 0:r.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-white/60",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ne,{className:"w-3 h-3"}),((S=r==null?void 0:r.prayerPoints)==null?void 0:S.length)||0," prayer points"]})})]}),s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-purple-400/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(vn,{className:"w-5 h-5 text-purple-400"}),s.jsx("h3",{className:"text-white font-semibold",children:"Duration"})]}),s.jsx("p",{className:"text-white text-2xl font-bold",children:p?`${u}h ${d}m`:`${o} minutes`}),s.jsxs("p",{className:"text-white/60 text-sm mt-1",children:["Total: ",p?u*60+d:o," minutes"]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:M,className:"flex-1 btn-secondary py-3 md:py-4 text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-5 h-5"}),"Back"]}),s.jsxs("button",{onClick:C,className:"flex-1 btn-primary py-3 md:py-4 text-base md:text-lg flex items-center justify-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5"}),"Start Prayer"]})]})]})]})]})}function cy({isOpen:e,onClose:t,onConfirm:n}){return e?s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"glass-strong p-6 md:p-8 rounded-2xl max-w-md w-full border border-white/20 shadow-2xl animate-fade-in",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0",children:s.jsx(_f,{className:"w-6 h-6 text-red-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"End Prayer Session?"}),s.jsx("p",{className:"text-white/70 text-sm md:text-base",children:"Are you sure you want to end this prayer session? Your progress will be saved."})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors flex-shrink-0",children:s.jsx(Yn,{className:"w-5 h-5 text-white/70"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{onClick:t,className:"flex-1 btn-secondary py-3 text-base font-medium",children:"Cancel"}),s.jsx("button",{onClick:n,className:"flex-1 btn-primary py-3 text-base font-medium bg-red-600 hover:bg-red-700 border-red-500",children:"End Session"})]})]})}):null}function dy({countdown:e,formatTime:t,isPaused:n,activePrayerPointIndex:r,prayerPoints:i,currentScripture:a,activeScriptureIndex:o,nextSwitchTime:l,timePerPoint:u,showSwitchNotification:c,isTonguesMode:d,activePrayer:m,isPlaying:p,pauseChant:h,resumeChant:v,playChant:g,playTongueSong:C,currentChant:x,chants:f,tongueSongs:y,chantUploads:w,tongueUploads:P,playChantForSchedule:E,playTongueSongForSchedule:M,handlePause:S,handleResume:k,handleStop:_}){const[j,T]=N.useState(!1),[z,H]=N.useState(!1),Z=N.useRef(null);N.useEffect(()=>{const $=D=>{Z.current&&!Z.current.contains(D.target)&&H(!1)};return z&&document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[z]);const Ee=()=>{T(!0)},q=()=>{T(!1),_()};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative z-10 w-full max-w-5xl mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"md:hidden absolute top-4 right-4 z-20",ref:Z,children:[s.jsx("button",{onClick:()=>H(!z),className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 transition-all",children:s.jsx(ty,{className:"w-5 h-5 text-white"})}),z&&s.jsx("div",{className:"absolute top-12 right-0 glass-strong rounded-xl border border-white/20 shadow-2xl min-w-[200px] overflow-hidden animate-fade-in z-30",children:s.jsxs("button",{onClick:()=>{H(!1),Ee()},className:"w-full px-4 py-3 text-left text-red-400 hover:bg-red-500/20 transition-colors flex items-center gap-2",children:[s.jsx(Fc,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"End Session"})]})})]}),s.jsxs("div",{className:"glass-strong p-6 md:p-10 lg:p-14 rounded-3xl text-center backdrop-blur-2xl border-2 border-white/30 shadow-2xl transition-all duration-1000 prayer-room-glow relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-indigo-500/10 to-transparent rounded-br-full blur-2xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-gradient-to-tl from-purple-500/10 to-transparent rounded-tl-full blur-2xl"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-transparent to-purple-500/5 pointer-events-none"}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:`text-5xl md:text-7xl lg:text-8xl font-bold font-mono mb-3 transition-all ${n?"text-yellow-400":"text-white"}`,style:{textShadow:"0 0 40px rgba(139, 92, 246, 0.6), 0 0 80px rgba(139, 92, 246, 0.3)",letterSpacing:"0.05em"},children:t(e)}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-white/70 text-xs md:text-sm mb-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),s.jsxs("span",{children:["Prayer Point ",r+1," of ",i.length]})]}),n&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-yellow-500/20 border border-yellow-400/30 text-yellow-300 text-xs font-medium",children:[s.jsx(wn,{className:"w-3 h-3"}),"Timer Paused"]})]}),s.jsxs("div",{className:"mb-6 md:mb-10 relative z-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 md:w-20 md:h-20 rounded-2xl bg-gradient-to-br from-indigo-600 to-purple-600 mb-5 md:mb-7 shadow-xl ring-4 ring-indigo-400/30",children:s.jsx("span",{className:"text-white text-2xl md:text-3xl font-bold",children:r+1})}),s.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold text-white mb-6 md:mb-8 leading-tight px-3 md:px-6",style:{textShadow:"0 2px 20px rgba(0, 0, 0, 0.3)"},children:i[r]})]}),!d&&a&&s.jsxs("div",{className:"mt-6 md:mt-10 transition-all duration-1000 ease-in-out relative z-10",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-purple-500/20 border border-purple-400/30 mb-4 md:mb-6",children:[s.jsx(Nr,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-300"}),s.jsx("span",{className:"text-purple-200 text-xs md:text-sm font-semibold",children:"Scripture"})]}),s.jsxs("div",{className:"glass-card p-5 md:p-7 rounded-2xl border border-purple-400/20 max-w-3xl mx-auto",children:[s.jsxs("p",{className:"text-lg md:text-xl lg:text-2xl text-white/95 italic leading-relaxed animate-fade-in",style:{textShadow:"0 1px 10px rgba(0, 0, 0, 0.2)"},children:['"',a,'"']}),s.jsxs("div",{className:"mt-4 text-purple-300/60 text-xs font-medium",children:[o+1," of 5"]})]})]}),s.jsxs("div",{className:"mt-6 md:mt-8 relative z-10",children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-white/60 text-sm",children:["Prayer Point ",r+1," of ",i.length]}),s.jsxs("span",{className:"text-white/60 text-sm",children:[Math.floor(l/60),":",(l%60).toString().padStart(2,"0")," remaining"]})]}),s.jsx("div",{className:"w-full h-3 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 transition-all duration-1000 ease-linear",style:{width:`${Math.max(0,Math.min(100,(u-l)/u*100))}%`}})})]}),s.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:i.map(($,D)=>s.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${D===r?"w-8 bg-gradient-to-r from-indigo-500 to-purple-500":D<r?"w-2 bg-indigo-500/50":"w-2 bg-white/20"}`},D))})]}),c&&r<i.length-1&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-yellow-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-300",children:[s.jsx(ne,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-semibold text-sm md:text-base",children:["Switching to Prayer Point ",r+2," in ",Math.ceil(l)," seconds..."]})]})}),d&&s.jsx("div",{className:"mt-4 glass-card p-4 border-2 border-purple-400/50 animate-pulse relative z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-300",children:[s.jsx(ne,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Speaking in Tongues"})]})}),n&&s.jsxs("div",{className:"mt-4 text-yellow-400 text-sm font-medium flex items-center justify-center gap-2 relative z-10",children:[s.jsx(wn,{className:"w-4 h-4"}),"Prayer Paused"]}),s.jsxs("div",{className:"mt-6 md:mt-8 flex items-center justify-center gap-2 md:gap-4 flex-wrap relative z-10",children:[((m==null?void 0:m.selectedMusicId)&&!d||(m==null?void 0:m.selectedTongueSongId)&&d)&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/10",children:[s.jsx(Pe,{className:"w-4 h-4 text-purple-400"}),p?s.jsx("button",{onClick:()=>h(),className:"text-white/80 hover:text-white text-sm transition-colors",children:"Pause Music"}):s.jsx("button",{onClick:async()=>{d&&(m!=null&&m.selectedTongueSongId)?(x==null?void 0:x.id)===m.selectedTongueSongId?v():await M(m):m!=null&&m.selectedMusicId&&((x==null?void 0:x.id)===m.selectedMusicId?v():await E(m))},className:"text-white/80 hover:text-white text-sm transition-colors",children:"Play Music"})]}),n?s.jsxs("button",{onClick:k,className:"btn-primary px-4 py-2.5 md:px-6 md:py-3 text-sm md:text-base",children:[s.jsx(ry,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Continue Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Continue"})]}):s.jsxs("button",{onClick:S,className:"btn-secondary px-4 py-2.5 md:px-6 md:py-3 text-sm md:text-base",children:[s.jsx(wn,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-1 md:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Pause Prayer"}),s.jsx("span",{className:"sm:hidden",children:"Pause"})]}),s.jsxs("button",{onClick:Ee,className:"hidden md:flex btn-secondary px-6 py-3 bg-red-600/20 hover:bg-red-600/30 border-red-500/30 text-base",children:[s.jsx(Fc,{className:"w-5 h-5 inline mr-2"}),"End Session"]})]})]})]}),s.jsx(cy,{isOpen:j,onClose:()=>T(!1),onConfirm:q})]})}function my({isTonguesMode:e,timeRemaining:t,prayerPoint:n}){const[r,i]=N.useState([]),[a,o]=N.useState([]),l=N.useRef([]),u=N.useRef(0);N.useEffect(()=>{if(!e||l.current.length>0)return;(async()=>{var h,v,g,C,x;try{const w=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=AIzaSyDfAB9cgPPKXLdsVxPTkoVsiKKGgLETXdk",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Generate 10 powerful, motivational messages for someone speaking in tongues during prayer. Make them urgent, inspiring, and destiny-focused. Examples: "Your life depends on this!", "Don't stop now - your destiny is being shaped!", "Keep going - breakthrough is coming!", "Speak more - your future is in your mouth!", "Your breakthrough is in your tongue!". Return them as a simple list, one per line, each message should be 5-15 words. Make them passionate and encouraging.`}]}]})});if(!w.ok)throw new Error("Failed to generate messages");let M=(((x=(C=(g=(v=(h=(await w.json()).candidates)==null?void 0:h[0])==null?void 0:v.content)==null?void 0:g.parts)==null?void 0:C[0])==null?void 0:x.text)||"").split(`
`).map(S=>S.trim()).filter(S=>S.length>5&&S.length<100).slice(0,10);M.length===0&&(M=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"]),l.current=M,i(M)}catch(f){console.error("Error generating motivational messages:",f);const y=["Your life depends on this!","Don't stop now - your destiny is being shaped!","Keep going - breakthrough is coming!","Speak more - your future is in your mouth!","Your breakthrough is in your tongue!","This is your moment - don't give up!","Your victory is in your words!","Keep speaking - heaven is listening!","Your destiny is being unlocked!","Don't stop - you're almost there!"];l.current=y,i(y)}})()},[e]),N.useEffect(()=>{if(!e||r.length===0){o([]);return}const p=setInterval(()=>{if(Math.random()>.3){const h=r[Math.floor(Math.random()*r.length)],v={id:u.current++,message:h,x:Math.random()*70+15,y:Math.random()*60+20,delay:Math.random()*.5};o(g=>[...g,v]),setTimeout(()=>{o(g=>g.filter(C=>C.id!==v.id))},4e3)}},3e3);return()=>clearInterval(p)},[e,r]);const[c,d]=N.useState(t);if(N.useEffect(()=>{if(!e){d(0);return}d(t);const p=setInterval(()=>{d(h=>Math.max(0,h-1))},1e3);return()=>clearInterval(p)},[e,t]),!e)return null;const m=p=>{if(!p||p<=0)return"0:00";const h=Math.floor(p/60),v=Math.floor(p%60);return`${h}:${String(v).padStart(2,"0")}`};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 pointer-events-none z-50 overflow-hidden",style:{padding:"80px 20px 100px 20px"},children:a.map(p=>{const h=Math.max(5,Math.min(85,p.x)),v=Math.max(10,Math.min(80,p.y));return s.jsx("div",{className:"absolute floating-popup",style:{left:`${h}%`,top:`${v}%`,animationDelay:`${p.delay}s`,transform:"translate(-50%, -50%)",maxWidth:"calc(100vw - 40px)"},children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-6 md:py-4 rounded-xl md:rounded-2xl border-2 border-purple-400/50 shadow-2xl backdrop-blur-xl max-w-[90vw] md:max-w-none",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(gs,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400 animate-pulse flex-shrink-0"}),s.jsx("p",{className:"text-white font-bold text-sm md:text-lg lg:text-xl break-words",children:p.message})]})})},p.id)})}),s.jsx("div",{className:"fixed top-16 md:top-20 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none px-4",children:s.jsx("div",{className:"glass-strong px-4 py-3 md:px-8 md:py-4 rounded-xl md:rounded-2xl border-2 border-yellow-400/50 shadow-2xl animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(ne,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400 flex-shrink-0"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-yellow-300 font-bold text-xl md:text-2xl mb-1",children:m(c)}),s.jsx("p",{className:"text-yellow-200 text-xs md:text-sm font-medium",children:"Keep Speaking in Tongues!"})]})]})})})]})}function fy(){const[e,t]=N.useState(!0),{userId:n,schedules:r,activePrayer:i,countdown:a,isPraying:o,isPaused:l,formatTime:u,startPrayer:c,stopPrayer:d,pausePrayer:m,resumePrayer:p,settings:h}=Xt(),{playChant:v,playTongueSong:g,pauseChant:C,resumeChant:x,stopChant:f,currentChant:y,isPlaying:w,chants:P,tongueSongs:E}=Ea();mu();const M=bt(ee.uploads.getByUser,n?{userId:n}:"skip"),S=(M||[]).filter(K=>!K.uploadType||K.uploadType==="chant"),k=(M||[]).filter(K=>K.uploadType==="tongue"),_=(h==null?void 0:h.defaultPrayerDuration)??15,[j,T]=N.useState(_);N.useEffect(()=>{h!=null&&h.defaultPrayerDuration&&T(h.defaultPrayerDuration)},[h==null?void 0:h.defaultPrayerDuration]);const[z,H]=N.useState(null),[Z,Ee]=N.useState(0),[q,$]=N.useState(15),[D,F]=N.useState(!1),[b,A]=N.useState(0),[se,ye]=N.useState(0),[gt,L]=N.useState({}),[I,ie]=N.useState(!1),[Ue,Kn]=N.useState(0),[ze,He]=N.useState(!1),[Ct,Ie]=N.useState(0),de=N.useRef(null),Pt=120,me=(i==null?void 0:i.prayerPoints)||[],Gn=D?Z*60+q:j,qe=me.length>0?Gn*60/me.length:0,Oe=qe>0?qe/5:60,G=30,Ma=[5,10,15,20,30,45,60],fe=r.find(K=>K._id===z),Qs=N.useRef({}),hu=async(K,W)=>{var Ne,Q,ue,Fr,Xn;if(gt[W]||Qs.current[W])return gt[W]||Qs.current[W];try{const En="AIzaSyDfAB9cgPPKXLdsVxPTkoVsiKKGgLETXdk",Jt=`Generate exactly 5 motivational Bible verses or spiritual encouragements related to this prayer point: "${K}". Return them as a simple list, one per line, with format: "Book Chapter:Verse - Quote". Make them encouraging and relevant to the prayer theme.`,Ys=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${En}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Jt}]}]})});if(!Ys.ok)throw new Error("Failed to generate scriptures");let At=(((Xn=(Fr=(ue=(Q=(Ne=(await Ys.json()).candidates)==null?void 0:Ne[0])==null?void 0:Q.content)==null?void 0:ue.parts)==null?void 0:Fr[0])==null?void 0:Xn.text)||"").split(`
`).map(Ur=>Ur.trim()).filter(Ur=>Ur.length>10).slice(0,5);for(At.length===0&&(At=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"]);At.length<5;)At.push("Psalm 23:1 - The Lord is my shepherd, I shall not want");return At=At.slice(0,5),Qs.current[W]=At,L(Ur=>({...Ur,[W]:At})),At}catch(En){console.error("Error generating scriptures:",En);const Jt=["Philippians 4:13 - I can do all things through Christ who strengthens me","Jeremiah 29:11 - For I know the plans I have for you, declares the Lord","Proverbs 3:5-6 - Trust in the Lord with all your heart","Isaiah 41:10 - Fear not, for I am with you","Romans 8:28 - And we know that all things work together for good"];return Qs.current[W]=Jt,L(Ys=>({...Ys,[W]:Jt})),Jt}};N.useEffect(()=>{de.current||(de.current=()=>{if((h==null?void 0:h.soundEffectsEnabled)!==!1)try{const K=new(window.AudioContext||window.webkitAudioContext),W=K.createOscillator(),Ne=K.createGain();W.connect(Ne),Ne.connect(K.destination),W.frequency.value=800,W.type="sine",Ne.gain.setValueAtTime(.3,K.currentTime),Ne.gain.exponentialRampToValueAtTime(.01,K.currentTime+.5),W.start(K.currentTime),W.stop(K.currentTime+.5)}catch(K){console.error("Error playing notification sound:",K)}})},[h]),N.useEffect(()=>{if(!o||l||me.length===0||qe===0)return;const K=Gn*60,W=(i==null?void 0:i.tonguesMode)||"none",Ne=setInterval(()=>{const Q=K-a;if(W==="start"&&Q<Pt&&!ze)ze||(He(!0),Ie(Date.now()/1e3),Dr(i));else if(W==="start"&&Q>=Pt&&ze)He(!1),Ie(0),Hs(i);else if(W==="perPoint"){Math.min(Math.floor(Q/qe),me.length-1);const Jt=Q%qe;Jt<Pt?(!ze||Ct===0)&&(He(!0),Ie(Date.now()/1e3-Jt),Dr(i)):ze&&(He(!1),Ie(0),Hs(i))}const ue=Math.min(Math.floor(Q/qe),me.length-1),Fr=Q%qe,Xn=qe-Fr;Kn(Xn),Xn<=G&&Xn>0&&ue<me.length-1?I||(ie(!0),de.current&&de.current()):ie(!1),ue!==b&&ue<me.length&&(de.current&&de.current(),A(ue),ye(0),ie(!1),hu(me[ue],ue),O.success(`Now praying: Prayer Point ${ue+1}`,{duration:3e3,icon:""}));const En=Math.min(Math.floor(Fr/Oe),4);En!==se&&En<5&&ye(En)},1e3);return()=>clearInterval(Ne)},[o,l,me,qe,Oe,a,Gn,b,se,I,ze,Ct,i]),N.useEffect(()=>{o&&me.length>0&&!gt[0]&&hu(me[0],0)},[o,me]);const Hs=async(K=null)=>{const W=K||i;if(!(W!=null&&W.selectedMusicId))return;const Ne=P.find(Q=>Q.id===W.selectedMusicId);if(Ne)v(Ne.id);else{const Q=S.find(ue=>ue._id===W.selectedMusicId);if(Q){const ue=Q.imageKitUrl;ue?v(Q._id,ue,Q.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for chant")}}},Dr=async(K=null)=>{const W=K||i;if(!(W!=null&&W.selectedTongueSongId)){console.log("No tongue song selected in schedule:",W);return}console.log("Playing tongue song for schedule:",W.selectedTongueSongId);const Ne=E.find(Q=>Q.id===W.selectedTongueSongId);if(Ne)g(Ne.id);else{const Q=k.find(ue=>ue._id===W.selectedTongueSongId);if(Q){const ue=Q.imageKitUrl;ue?g(Q._id,ue,Q.fileName.replace(/\.[^/.]+$/,"")):console.error("No ImageKit URL available for tongue song")}else console.error("Tongue song not found:",W.selectedTongueSongId)}},qf=async()=>{var K;if(z){const W=D?Z*60+q:j;if(W<=0){O.error("Please set a valid prayer duration");return}if(!(fe!=null&&fe.prayerPoints)||fe.prayerPoints.length===0){O.error("Please select a schedule with prayer points");return}A(0),ye(0),L({}),He(!1),Ie(0),c(z,W);const Ne=(fe==null?void 0:fe.tonguesMode)||"none";if(console.log("Starting prayer with tongues mode:",Ne,"selectedTongueSongId:",fe==null?void 0:fe.selectedTongueSongId),(h==null?void 0:h.autoPlayMusic)!==!1){if(Ne==="start"&&(fe!=null&&fe.selectedTongueSongId))He(!0),Ie(Date.now()/1e3),await Dr(fe);else if(Ne==="perPoint"&&(fe!=null&&fe.selectedTongueSongId))He(!0),Ie(Date.now()/1e3),await Dr(fe);else if(fe!=null&&fe.selectedMusicId)await Hs(fe);else if(h!=null&&h.preferredChant){const Q=P.find(ue=>ue.id===h.preferredChant)||S.find(ue=>ue._id===h.preferredChant);Q&&(Q.url?v(Q.id,Q.url,Q.name):Q.imageKitUrl&&v(Q._id||Q.id,Q.imageKitUrl,((K=Q.fileName)==null?void 0:K.replace(/\.[^/.]+$/,""))||Q.name))}}O.success("Entering Prayer Room...")}else O.error("Please select a prayer schedule")},Vf=()=>{m(),O.success("Prayer paused")},Wf=()=>{p(),O.success("Prayer resumed")},Bf=()=>{d(),f(),A(0),ye(0),L({}),He(!1),Ie(0),t(!0),O.success("Prayer session ended")},Qf=K=>{o||T(Math.max(5,Math.min(60,K)))},Hf=(gt[b]||[])[se]||"",Yf=ze&&Ct>0?Math.max(0,Pt-(Math.floor(Date.now()/1e3)-Ct)):ze?Pt:0;return s.jsxs("div",{className:"space-y-4 md:space-y-6 min-h-[60vh] md:min-h-[70vh] pb-4 relative",children:[e&&s.jsx("div",{className:"absolute inset-0 z-50 bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900 rounded-2xl flex items-center justify-center",children:s.jsx(ly,{onEnter:()=>t(!1)})}),o?s.jsxs("div",{className:"min-h-screen flex items-center justify-center p-3 md:p-4 relative overflow-hidden prayer-active",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900"}),(h==null?void 0:h.prayerRoomBackgroundEffects)!==!1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-1 h-full bg-gradient-to-b from-purple-400/20 via-transparent to-transparent transform -skew-x-12 animate-pulse"}),s.jsx("div",{className:"absolute top-0 right-1/4 w-1 h-full bg-gradient-to-b from-indigo-400/20 via-transparent to-transparent transform skew-x-12 animate-pulse",style:{animationDelay:"1s"}})]}),[...Array(20)].map((K,W)=>s.jsx("div",{className:"absolute rounded-full bg-white/10 blur-sm animate-float",style:{width:`${Math.random()*4+2}px`,height:`${Math.random()*4+2}px`,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${Math.random()*3+3}s`}},W))]}),me.length>0&&s.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 p-8 pointer-events-none",children:me.map((K,W)=>W!==b&&s.jsx("div",{className:"glass-card p-4 w-full max-w-2xl opacity-20 blur-sm transition-all duration-1000",style:{transform:`translateY(${(W-b)*20}px)`},children:s.jsx("p",{className:"text-white/30 text-sm text-center",children:K})},W))}),(h==null?void 0:h.showMotivationalPopups)!==!1&&s.jsx(my,{isTonguesMode:ze,timeRemaining:Yf,prayerPoint:me[b]}),me.length>0&&s.jsx(dy,{countdown:a,formatTime:u,isPaused:l,activePrayerPointIndex:b,prayerPoints:me,currentScripture:Hf,activeScriptureIndex:se,nextSwitchTime:Ue,timePerPoint:qe,showSwitchNotification:I,isTonguesMode:ze,activePrayer:i,isPlaying:w,pauseChant:C,resumeChant:x,playChant:v,playTongueSong:g,currentChant:y,chants:P,tongueSongs:E,chantUploads:S,tongueUploads:k,playChantForSchedule:Hs,playTongueSongForSchedule:Dr,handlePause:Vf,handleResume:Wf,handleStop:Bf})]}):s.jsx(uy,{schedules:r,selectedSchedule:z,setSelectedSchedule:H,selectedScheduleData:fe,chants:P,chantUploads:S,selectedDuration:j,setSelectedDuration:T,customHours:Z,setCustomHours:Ee,customMinutes:q,setCustomMinutes:$,useCustomTime:D,setUseCustomTime:F,durations:Ma,adjustDuration:Qf,handleStart:qf})]})}function oa(e){"@babel/helpers - typeof";return oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oa(e)}function Bn(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function le(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function re(e){le(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||oa(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function hy(e,t){le(2,arguments);var n=re(e).getTime(),r=Bn(t);return new Date(n+r)}var py={};function Bs(){return py}function hl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ri(e,t){le(2,arguments);var n=re(e),r=re(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function gy(e){return le(1,arguments),e instanceof Date||oa(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function xy(e){if(le(1,arguments),!gy(e)&&typeof e!="number")return!1;var t=re(e);return!isNaN(Number(t))}function yy(e,t){le(2,arguments);var n=re(e),r=re(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function vy(e,t){return le(2,arguments),re(e).getTime()-re(t).getTime()}var wy={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},by="trunc";function Ny(e){return wy[by]}function jy(e){le(1,arguments);var t=re(e);return t.setHours(23,59,59,999),t}function ky(e){le(1,arguments);var t=re(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Sy(e){le(1,arguments);var t=re(e);return jy(t).getTime()===ky(t).getTime()}function Cy(e,t){le(2,arguments);var n=re(e),r=re(t),i=Ri(n,r),a=Math.abs(yy(n,r)),o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);var l=Ri(n,r)===-i;Sy(re(e))&&a===1&&Ri(e,r)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function Py(e,t,n){le(2,arguments);var r=vy(e,t)/1e3;return Ny()(r)}function Ty(e,t){le(2,arguments);var n=Bn(t);return hy(e,-n)}var Ey=864e5;function My(e){le(1,arguments);var t=re(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/Ey)+1}function la(e){le(1,arguments);var t=1,n=re(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function Lf(e){le(1,arguments);var t=re(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=la(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=la(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function _y(e){le(1,arguments);var t=Lf(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=la(n);return r}var Ry=6048e5;function $y(e){le(1,arguments);var t=re(e),n=la(t).getTime()-_y(t).getTime();return Math.round(n/Ry)+1}function ua(e,t){var n,r,i,a,o,l,u,c;le(1,arguments);var d=Bs(),m=Bn((n=(r=(i=(a=t==null?void 0:t.weekStartsOn)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:d.weekStartsOn)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=re(e),h=p.getUTCDay(),v=(h<m?7:0)+h-m;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function Af(e,t){var n,r,i,a,o,l,u,c;le(1,arguments);var d=re(e),m=d.getUTCFullYear(),p=Bs(),h=Bn((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:p.firstWeekContainsDate)!==null&&r!==void 0?r:(u=p.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(m+1,0,h),v.setUTCHours(0,0,0,0);var g=ua(v,t),C=new Date(0);C.setUTCFullYear(m,0,h),C.setUTCHours(0,0,0,0);var x=ua(C,t);return d.getTime()>=g.getTime()?m+1:d.getTime()>=x.getTime()?m:m-1}function Iy(e,t){var n,r,i,a,o,l,u,c;le(1,arguments);var d=Bs(),m=Bn((n=(r=(i=(a=t==null?void 0:t.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:d.firstWeekContainsDate)!==null&&r!==void 0?r:(u=d.locale)===null||u===void 0||(c=u.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Af(e,t),h=new Date(0);h.setUTCFullYear(p,0,m),h.setUTCHours(0,0,0,0);var v=ua(h,t);return v}var Oy=6048e5;function Ly(e,t){le(1,arguments);var n=re(e),r=ua(n,t).getTime()-Iy(n,t).getTime();return Math.round(r/Oy)+1}function X(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var tn={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return X(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):X(r+1,2)},d:function(t,n){return X(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return X(t.getUTCHours()%12||12,n.length)},H:function(t,n){return X(t.getUTCHours(),n.length)},m:function(t,n){return X(t.getUTCMinutes(),n.length)},s:function(t,n){return X(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),a=Math.floor(i*Math.pow(10,r-3));return X(a,n.length)}},er={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ay={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),a=i>0?i:1-i;return r.ordinalNumber(a,{unit:"year"})}return tn.y(t,n)},Y:function(t,n,r,i){var a=Af(t,i),o=a>0?a:1-a;if(n==="YY"){var l=o%100;return X(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):X(o,n.length)},R:function(t,n){var r=Lf(t);return X(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return X(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return X(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return X(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return tn.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return X(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var a=Ly(t,i);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):X(a,n.length)},I:function(t,n,r){var i=$y(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):X(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):tn.d(t,n)},D:function(t,n,r){var i=My(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):X(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return X(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var a=t.getUTCDay(),o=(a-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return X(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),a=i===0?7:i;switch(n){case"i":return String(a);case"ii":return X(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),a=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),a;switch(i===12?a=er.noon:i===0?a=er.midnight:a=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),a;switch(i>=17?a=er.evening:i>=12?a=er.afternoon:i>=4?a=er.morning:a=er.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return tn.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):tn.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):X(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):X(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):tn.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):tn.s(t,n)},S:function(t,n){return tn.S(t,n)},X:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return zc(o);case"XXXX":case"XX":return Rn(o);case"XXXXX":case"XXX":default:return Rn(o,":")}},x:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"x":return zc(o);case"xxxx":case"xx":return Rn(o);case"xxxxx":case"xxx":default:return Rn(o,":")}},O:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Uc(o,":");case"OOOO":default:return"GMT"+Rn(o,":")}},z:function(t,n,r,i){var a=i._originalDate||t,o=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Uc(o,":");case"zzzz":default:return"GMT"+Rn(o,":")}},t:function(t,n,r,i){var a=i._originalDate||t,o=Math.floor(a.getTime()/1e3);return X(o,n.length)},T:function(t,n,r,i){var a=i._originalDate||t,o=a.getTime();return X(o,n.length)}};function Uc(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(a===0)return n+String(i);var o=t;return n+String(i)+o+X(a,2)}function zc(e,t){if(e%60===0){var n=e>0?"-":"+";return n+X(Math.abs(e)/60,2)}return Rn(e,t)}function Rn(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),a=X(Math.floor(i/60),2),o=X(i%60,2);return r+a+n+o}var qc=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Df=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Dy=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return qc(t,n);var o;switch(i){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",qc(i,n)).replace("{{time}}",Df(a,n))},Fy={p:Df,P:Dy},Uy=["D","DD"],zy=["YY","YYYY"];function qy(e){return Uy.indexOf(e)!==-1}function Vy(e){return zy.indexOf(e)!==-1}function Vc(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Wy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},By=function(t,n,r){var i,a=Wy[t];return typeof a=="string"?i=a:n===1?i=a.one:i=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function co(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var Qy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ky={date:co({formats:Qy,defaultWidth:"full"}),time:co({formats:Hy,defaultWidth:"full"}),dateTime:co({formats:Yy,defaultWidth:"full"})},Gy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xy=function(t,n,r,i){return Gy[t]};function Gr(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{var l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[l]}var c=e.argumentCallback?e.argumentCallback(t):t;return i[c]}}var Jy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ev={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sv=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},iv={ordinalNumber:sv,era:Gr({values:Jy,defaultWidth:"wide"}),quarter:Gr({values:Zy,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Gr({values:ev,defaultWidth:"wide"}),day:Gr({values:tv,defaultWidth:"wide"}),dayPeriod:Gr({values:nv,defaultWidth:"wide",formattingValues:rv,defaultFormattingWidth:"wide"})};function Xr(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?ov(l,function(m){return m.test(o)}):av(l,function(m){return m.test(o)}),c;c=e.valueCallback?e.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;var d=t.slice(o.length);return{value:c,rest:d}}}function av(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ov(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function lv(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],a=t.match(e.parsePattern);if(!a)return null;var o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;var l=t.slice(i.length);return{value:o,rest:l}}}var uv=/^(\d+)(th|st|nd|rd)?/i,cv=/\d+/i,dv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mv={any:[/^b/i,/^(a|c)/i]},fv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hv={any:[/1/i,/2/i,/3/i,/4/i]},pv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vv={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bv={ordinalNumber:lv({matchPattern:uv,parsePattern:cv,valueCallback:function(t){return parseInt(t,10)}}),era:Xr({matchPatterns:dv,defaultMatchWidth:"wide",parsePatterns:mv,defaultParseWidth:"any"}),quarter:Xr({matchPatterns:fv,defaultMatchWidth:"wide",parsePatterns:hv,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Xr({matchPatterns:pv,defaultMatchWidth:"wide",parsePatterns:gv,defaultParseWidth:"any"}),day:Xr({matchPatterns:xv,defaultMatchWidth:"wide",parsePatterns:yv,defaultParseWidth:"any"}),dayPeriod:Xr({matchPatterns:vv,defaultMatchWidth:"any",parsePatterns:wv,defaultParseWidth:"any"})},Ff={code:"en-US",formatDistance:By,formatLong:Ky,formatRelative:Xy,localize:iv,match:bv,options:{weekStartsOn:0,firstWeekContainsDate:1}},Nv=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kv=/^'([^]*?)'?$/,Sv=/''/g,Cv=/[a-zA-Z]/;function hr(e,t,n){var r,i,a,o,l,u,c,d,m,p,h,v,g,C;le(2,arguments);var x=String(t),f=Bs(),y=(r=(i=void 0)!==null&&i!==void 0?i:f.locale)!==null&&r!==void 0?r:Ff,w=Bn((a=(o=(l=(u=void 0)!==null&&u!==void 0?u:void 0)!==null&&l!==void 0?l:f.firstWeekContainsDate)!==null&&o!==void 0?o:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(w>=1&&w<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Bn((m=(p=(h=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&h!==void 0?h:f.weekStartsOn)!==null&&p!==void 0?p:(g=f.locale)===null||g===void 0||(C=g.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!y.localize)throw new RangeError("locale must contain localize property");if(!y.formatLong)throw new RangeError("locale must contain formatLong property");var E=re(e);if(!xy(E))throw new RangeError("Invalid time value");var M=hl(E),S=Ty(E,M),k={firstWeekContainsDate:w,weekStartsOn:P,locale:y,_originalDate:E},_=x.match(jv).map(function(j){var T=j[0];if(T==="p"||T==="P"){var z=Fy[T];return z(j,y.formatLong)}return j}).join("").match(Nv).map(function(j){if(j==="''")return"'";var T=j[0];if(T==="'")return Pv(j);var z=Ay[T];if(z)return Vy(j)&&Vc(j,t,String(e)),qy(j)&&Vc(j,t,String(e)),z(S,j,y.localize,k);if(T.match(Cv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return j}).join("");return _}function Pv(e){var t=e.match(kv);return t?t[1].replace(Sv,"'"):e}function Uf(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Tv(e){return Uf({},e)}var Wc=1440,Ev=2520,mo=43200,Mv=86400;function _v(e,t,n){var r,i;le(2,arguments);var a=Bs(),o=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:a.locale)!==null&&r!==void 0?r:Ff;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Ri(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var u=Uf(Tv(n),{addSuffix:!!(n!=null&&n.addSuffix),comparison:l}),c,d;l>0?(c=re(t),d=re(e)):(c=re(e),d=re(t));var m=Py(d,c),p=(hl(d)-hl(c))/1e3,h=Math.round((m-p)/60),v;if(h<2)return n!=null&&n.includeSeconds?m<5?o.formatDistance("lessThanXSeconds",5,u):m<10?o.formatDistance("lessThanXSeconds",10,u):m<20?o.formatDistance("lessThanXSeconds",20,u):m<40?o.formatDistance("halfAMinute",0,u):m<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):h===0?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",h,u);if(h<45)return o.formatDistance("xMinutes",h,u);if(h<90)return o.formatDistance("aboutXHours",1,u);if(h<Wc){var g=Math.round(h/60);return o.formatDistance("aboutXHours",g,u)}else{if(h<Ev)return o.formatDistance("xDays",1,u);if(h<mo){var C=Math.round(h/Wc);return o.formatDistance("xDays",C,u)}else if(h<Mv)return v=Math.round(h/mo),o.formatDistance("aboutXMonths",v,u)}if(v=Cy(d,c),v<12){var x=Math.round(h/mo);return o.formatDistance("xMonths",x,u)}else{var f=v%12,y=Math.floor(v/12);return f<3?o.formatDistance("aboutXYears",y,u):f<9?o.formatDistance("overXYears",y,u):o.formatDistance("almostXYears",y+1,u)}}function Rv(e,t){return le(1,arguments),_v(e,Date.now(),t)}function Bc({scheduleId:e,userId:t,currentPoints:n=[],onPointsChange:r}){const[i,a]=N.useState(!1),[o,l]=N.useState(!1),[u,c]=N.useState(!1),[d,m]=N.useState(!1),[p,h]=N.useState(""),[v,g]=N.useState(""),[C,x]=N.useState(n||[]),f=bt(ee.aiPrayerPoints.getByUser,t?{userId:t}:"skip")||[],y=tt(ee.savedPrayerPoints.save);tt(ee.savedPrayerPoints.remove);const w=async()=>{var S,k,_,j,T;if(!p.trim()){O.error("Please enter a prompt");return}a(!0);try{const z="AIzaSyDfAB9cgPPKXLdsVxPTkoVsiKKGgLETXdk",H=`Generate 5-7 specific, meaningful prayer points based on: ${p}. Format the response as a numbered list (1. 2. 3. etc.) with each point on a new line. Make each point specific, actionable, and spiritually meaningful.`,Z=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${z}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:H}]}]})});if(!Z.ok)throw new Error("API error");const q=((T=(j=(_=(k=(S=(await Z.json()).candidates)==null?void 0:S[0])==null?void 0:k.content)==null?void 0:_.parts)==null?void 0:j[0])==null?void 0:T.text)||"";let $=q.split(`
`).map(F=>F.trim()).filter(F=>F&&(F.startsWith("-")||F.startsWith("")||F.match(/^\d+\./))).map(F=>F.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(F=>F.length>10).slice(0,7);$.length===0&&($=q.split(/\n+/).map(F=>F.trim()).filter(F=>F.length>20).slice(0,7));const D=[...C,...$];x(D),r(D),await y({userId:t,title:`Generated: ${p.substring(0,30)}...`,points:$,prayerScheduleId:e}),O.success(`${$.length} prayer points generated and added!`),l(!1),h("")}catch(z){console.error("Error generating prayer points:",z),O.error("Failed to generate prayer points")}finally{a(!1)}},P=()=>{if(v.trim()){const S=[...C,v.trim()];x(S),r(S),g(""),m(!1),O.success("Prayer point added!")}},E=S=>{const k=C.filter((_,j)=>j!==S);x(k),r(k),O.success("Prayer point removed")},M=S=>{const k=[...C,...S.points];x(k),r(k),c(!1),O.success(`${S.points.length} prayer points added!`)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(ne,{className:"w-5 h-5 text-indigo-400"}),"Prayer Points"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>l(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(ne,{className:"w-3 h-3 inline mr-1"}),"Generate"]}),s.jsx("button",{onClick:()=>c(!0),className:"btn-secondary text-xs px-3 py-1",children:"Select"}),s.jsxs("button",{onClick:()=>m(!0),className:"btn-secondary text-xs px-3 py-1",children:[s.jsx(Ds,{className:"w-3 h-3 inline mr-1"}),"Add"]})]})]}),C.length>0?s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:C.map((S,k)=>s.jsxs("div",{className:"flex items-start gap-2 glass-card p-3",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs font-bold",children:k+1})}),s.jsx("p",{className:"text-white/90 flex-1 text-sm",children:S}),s.jsx("button",{onClick:()=>E(k),className:"p-1 rounded hover:bg-red-600/20 text-red-400 transition-colors",children:s.jsx(Yn,{className:"w-4 h-4"})})]},k))}):s.jsx("div",{className:"glass-card p-4 text-center",children:s.jsx("p",{className:"text-white/60 text-sm",children:"No prayer points added yet"})}),o&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Generate Prayer Points"}),s.jsx("textarea",{value:p,onChange:S=>h(S.target.value),placeholder:"Describe what you want to pray about...",className:"input-glass w-full mb-4",rows:"4"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:w,disabled:i,className:"btn-primary flex-1",children:i?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-4 h-4 inline mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"w-4 h-4 inline mr-2"}),"Generate"]})}),s.jsx("button",{onClick:()=>{l(!1),h("")},className:"btn-secondary",children:"Cancel"})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Select Saved Prayer Points"}),f.length===0?s.jsx("p",{className:"text-white/60 text-sm mb-4",children:"No saved prayer points yet"}):s.jsx("div",{className:"space-y-2 mb-4",children:f.map(S=>s.jsxs("div",{className:"glass-card p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold text-sm",children:S.title||"Saved Prayer Points"}),s.jsxs("button",{onClick:()=>M(S),className:"btn-secondary text-xs px-2 py-1",children:[s.jsx($r,{className:"w-3 h-3 inline mr-1"}),"Select"]})]}),s.jsxs("p",{className:"text-white/60 text-xs",children:[S.points.length," points"]})]},S._id))}),s.jsx("button",{onClick:()=>c(!1),className:"btn-secondary w-full",children:"Close"})]})}),d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-6 rounded-2xl max-w-md w-full",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Add Prayer Point"}),s.jsx("textarea",{value:v,onChange:S=>g(S.target.value),placeholder:"Enter your prayer point...",className:"input-glass w-full mb-4",rows:"3"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{onClick:P,className:"btn-primary flex-1",children:[s.jsx(Ds,{className:"w-4 h-4 inline mr-2"}),"Add Point"]}),s.jsx("button",{onClick:()=>{m(!1),g("")},className:"btn-secondary",children:"Cancel"})]})]})})]})}function Nt({value:e,onChange:t,options:n,placeholder:r="Select an option...",className:i="",disabled:a=!1}){const[o,l]=N.useState(!1),u=N.useRef(null);N.useEffect(()=>{const d=m=>{u.current&&!u.current.contains(m.target)&&l(!1)};return o&&document.addEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[o]);const c=n.find(d=>d.value===e);return s.jsxs("div",{className:`relative ${i}`,ref:u,children:[s.jsxs("button",{type:"button",onClick:()=>!a&&l(!o),disabled:a,className:`w-full input-glass text-left flex items-center justify-between ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[s.jsx("span",{className:`${c?"text-white":"text-white/50"}`,children:c?c.label:r}),s.jsx(Y0,{className:`w-4 h-4 text-white/70 transition-transform ${o?"transform rotate-180":""}`})]}),o&&s.jsx("div",{className:"absolute z-50 w-full mt-2 rounded-xl border border-white/30 shadow-2xl max-h-60 overflow-y-auto bg-gradient-to-br from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-xl",children:s.jsx("div",{className:"py-2",children:n.map(d=>s.jsxs("button",{type:"button",onClick:()=>{t(d.value),l(!1)},className:`w-full text-left px-4 py-3 text-sm md:text-base transition-colors flex items-center justify-between ${e===d.value?"bg-indigo-600/50 text-white":"text-white/90 hover:bg-white/20 hover:text-white"}`,children:[s.jsx("span",{children:d.label}),e===d.value&&s.jsx($r,{className:"w-4 h-4 text-indigo-300"})]},d.value))})})]})}function $v(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-6 md:h-7 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-2/3"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-24"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-16"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-20"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-full w-24"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("div",{className:"h-10 bg-white/10 rounded-lg flex-1 md:flex-none w-20"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-28"}),s.jsx("div",{className:"h-10 bg-white/10 rounded-lg w-10"})]})]})}function Iv({count:e=4}){return s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:Array.from({length:e}).map((t,n)=>s.jsx($v,{},n))})}function Ov(){var D,F;const{userId:e,schedules:t,isLoading:n,createSchedule:r,updateSchedule:i,deleteSchedule:a}=Xt(),{chants:o,tongueSongs:l}=Ea(),u=bt(ee.uploads.getByUser,e?{userId:e}:"skip"),c=u===void 0,d=(u||[]).filter(b=>!b.uploadType||b.uploadType==="chant"),m=(u||[]).filter(b=>b.uploadType==="tongue"),[p,h]=N.useState(!1),[v,g]=N.useState(null),[C,x]=N.useState(null),[f,y]=N.useState(1),[w,P]=N.useState({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),E=async b=>{b.preventDefault();try{v?(await i({id:v._id,...w}),O.success("Schedule updated!")):(await r({userId:e,...w}),O.success("Schedule created!")),h(!1),g(null),y(1),P({title:"",description:"",scripture:"",scheduledTime:"",recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""})}catch(A){O.error("Failed to save schedule"),console.error(A)}},M=b=>{g(b),y(1),P({title:b.title,description:b.description||"",scripture:b.scripture||"",scheduledTime:b.scheduledTime,recurring:b.recurring,frequency:b.frequency||"daily",prayerPoints:b.prayerPoints||[],selectedMusicId:b.selectedMusicId||"",tonguesMode:b.tonguesMode||"none",selectedTongueSongId:b.selectedTongueSongId||""}),h(!0)},S=4,k=w.title&&w.scheduledTime,_=()=>{f===1&&k?y(2):f===2?y(3):f===3&&y(4)},j=()=>{f>1&&y(f-1)},T=async(b,A)=>{try{await i({id:b,prayerPoints:A})}catch(se){console.error("Error updating prayer points:",se)}},z=async(b,A)=>{try{await i({id:b,tonguesMode:A,...A==="none"&&{selectedTongueSongId:""}}),O.success("Tongues mode updated!")}catch(se){O.error("Failed to update tongues mode"),console.error(se)}},H=async(b,A)=>{try{await i({id:b,selectedTongueSongId:A}),O.success("Tongue song updated!")}catch(se){O.error("Failed to update tongue song"),console.error(se)}},Z=async(b,A)=>{try{await i({id:b,selectedMusicId:A}),O.success("Music updated!")}catch(se){console.error("Error updating music:",se),O.error("Failed to update music")}},Ee=async b=>{if(confirm("Are you sure you want to delete this schedule?"))try{await a({id:b}),O.success("Schedule deleted!")}catch{O.error("Failed to delete schedule")}},q=t.filter(b=>!b.isCompleted&&new Date(b.scheduledTime)>new Date),$=t.filter(b=>b.isCompleted||new Date(b.scheduledTime)<=new Date);return s.jsxs("div",{className:"space-y-6 md:space-y-8 w-full pb-24 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"section-title text-3xl md:text-4xl",children:"Prayer Schedules"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Manage your prayer sessions and timings"})]}),s.jsxs("button",{onClick:()=>{g(null),P({title:"",description:"",scripture:"",scheduledTime:new Date().toISOString().slice(0,16),recurring:!1,frequency:"daily",prayerPoints:[],selectedMusicId:"",tonguesMode:"none",selectedTongueSongId:""}),y(1),h(!0)},className:"btn-primary px-6 py-3 text-base md:text-lg whitespace-nowrap",children:[s.jsx(Ds,{className:"w-5 h-5 inline mr-2"}),"New Schedule"]})]}),s.jsxs("div",{className:"w-full",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-4 md:mb-6 flex items-center gap-2",children:[s.jsx(yn,{className:"w-5 h-5 md:w-6 md:h-6 text-indigo-400"}),"Upcoming Schedules"]}),n||c?s.jsx(Iv,{count:4}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:q.length===0?s.jsxs("div",{className:"glass-card col-span-full text-center py-12 md:py-16",children:[s.jsx(yn,{className:"w-16 h-16 md:w-20 md:h-20 text-white/40 mx-auto mb-4"}),s.jsx("p",{className:"text-white/60 text-base md:text-lg",children:"No upcoming schedules"}),s.jsx("p",{className:"text-white/40 text-sm mt-2",children:"Create your first schedule to get started"})]}):q.map(b=>s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-2xl hover:bg-white/15 transition-all duration-300 border border-white/20",children:[s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("div",{className:"flex items-start justify-between gap-3 mb-3",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight",children:b.title}),b.description&&s.jsx("p",{className:"text-white/70 text-sm md:text-base mb-4 line-clamp-2",children:b.description})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base",children:[s.jsx(vn,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:hr(new Date(b.scheduledTime),"MMM d, yyyy")})]}),s.jsxs("div",{className:"flex items-center gap-2 text-white/70 text-sm md:text-base",children:[s.jsx(vn,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400 flex-shrink-0"}),s.jsx("span",{children:hr(new Date(b.scheduledTime),"h:mm a")})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[b.recurring&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-indigo-600/30 border border-indigo-400/30 text-indigo-300 text-xs md:text-sm font-medium",children:b.frequency}),b.scripture&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-purple-600/30 border border-purple-400/30 text-purple-300 text-xs md:text-sm",children:[s.jsx(Nr,{className:"w-3 h-3"}),"Scripture"]}),b.prayerPoints&&b.prayerPoints.length>0&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-600/30 border border-indigo-400/30 text-indigo-300 text-xs md:text-sm",children:[s.jsx(ne,{className:"w-3 h-3"}),b.prayerPoints.length," Point",b.prayerPoints.length!==1?"s":""]}),b.selectedMusicId&&s.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-purple-600/30 border border-purple-400/30 text-purple-300 text-xs md:text-sm",children:[s.jsx(Pe,{className:"w-3 h-3"}),"Music"]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>M(b),className:"btn-secondary text-sm md:text-base px-4 py-2.5 flex-1 md:flex-none",children:[s.jsx(ny,{className:"w-4 h-4 inline mr-2"}),"Edit"]}),s.jsx("button",{onClick:()=>{C===b._id?x(null):x(b._id)},className:"btn-secondary text-sm md:text-base px-4 py-2.5",children:C===b._id?"Hide Details":"View Details"}),s.jsx("button",{onClick:()=>Ee(b._id),className:"btn-secondary text-sm md:text-base px-4 py-2.5 bg-red-600/20 hover:bg-red-600/30 border-red-500/30",title:"Delete Schedule",children:s.jsx(Fn,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),C===b._id&&s.jsxs("div",{className:"border-t border-white/20 pt-5 mt-5 space-y-5 md:space-y-6",children:[b.scripture&&s.jsxs("div",{className:"glass p-3 rounded-lg border border-purple-400/30",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Nr,{className:"w-4 h-4 text-purple-400"}),s.jsx("h5",{className:"text-white font-semibold text-sm",children:"Scripture Passage"})]}),s.jsxs("p",{className:"text-white/80 text-sm italic",children:['"',b.scripture,'"']})]}),s.jsx(Bc,{scheduleId:b._id,userId:e,currentPoints:b.prayerPoints||[],onPointsChange:A=>T(b._id,A)}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base md:text-lg font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-purple-400"}),"Background Music"]}),o.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3 mb-3",children:o.map(A=>s.jsx("button",{onClick:()=>Z(b._id,A.id),className:`p-2 rounded-lg text-left transition-all ${b.selectedMusicId===A.id?"bg-indigo-600/30 border-2 border-indigo-400":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:s.jsx("p",{className:"text-white text-sm font-medium",children:A.name})},A.id))}),d.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/60 text-xs md:text-sm mb-2 font-medium",children:"Your Uploads:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3",children:d.map(A=>s.jsx("button",{onClick:()=>Z(b._id,A._id),className:`p-2 rounded-lg text-left transition-all ${b.selectedMusicId===A._id?"bg-purple-600/30 border-2 border-purple-400":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:s.jsx("p",{className:"text-white text-sm font-medium",children:A.fileName.replace(/\.[^/.]+$/,"")})},A._id))})]}),s.jsx("button",{onClick:()=>Z(b._id,""),className:"btn-secondary text-xs mt-2 w-full",children:"Remove Music"})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base md:text-lg font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(ne,{className:"w-5 h-5 text-purple-400"}),"Speak in Tongues"]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Tongues Mode"}),s.jsx(Nt,{value:b.tonguesMode||"none",onChange:A=>z(b._id,A),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(b.tonguesMode==="start"||b.tonguesMode==="perPoint")&&s.jsxs(s.Fragment,{children:[s.jsx("label",{className:"block text-white/80 text-sm font-medium mb-2",children:"Tongue Song"}),l.length>0&&s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3 mb-3",children:l.map(A=>s.jsx("button",{onClick:()=>H(b._id,A.id),className:`p-2 rounded-lg text-left transition-all ${b.selectedTongueSongId===A.id?"bg-purple-600/30 border-2 border-purple-400":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:s.jsx("p",{className:"text-white text-sm font-medium",children:A.name})},A.id))}),m.length>0&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-white/60 text-xs md:text-sm mb-2 font-medium",children:"Your Uploads:"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 md:gap-3",children:m.map(A=>s.jsx("button",{onClick:()=>H(b._id,A._id),className:`p-2 rounded-lg text-left transition-all ${b.selectedTongueSongId===A._id?"bg-purple-600/30 border-2 border-purple-400":"bg-white/5 border border-white/10 hover:bg-white/10"}`,children:s.jsx("p",{className:"text-white text-sm font-medium",children:A.fileName.replace(/\.[^/.]+$/,"")})},A._id))})]}),s.jsx("button",{onClick:()=>H(b._id,""),className:"btn-secondary text-xs mt-2 w-full",children:"Remove Tongue Song"})]})]})]})]},b._id))})]}),$.length>0&&s.jsxs("div",{className:"w-full",children:[s.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white mb-4 md:mb-6 flex items-center gap-2",children:[s.jsx(yn,{className:"w-5 h-5 md:w-6 md:h-6 text-white/40"}),"Past Schedules"]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:$.map(b=>s.jsxs("div",{className:"glass-card p-5 md:p-6 rounded-2xl opacity-70 hover:opacity-90 transition-opacity",children:[s.jsx("h4",{className:"text-lg md:text-xl font-semibold text-white mb-3",children:b.title}),s.jsxs("div",{className:"flex items-center gap-2 text-white/60 text-sm md:text-base mb-3",children:[s.jsx(vn,{className:"w-4 h-4"}),s.jsx("span",{children:hr(new Date(b.scheduledTime),"MMM d, yyyy h:mm a")})]}),b.isCompleted&&s.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-green-600/30 border border-green-400/30 text-green-300 text-xs md:text-sm font-medium",children:"Completed"})]},b._id))})]}),p&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto pb-20 md:pb-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-8 rounded-2xl max-w-2xl w-full my-4 md:my-8 max-h-[calc(100vh-8rem)] md:max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"mb-4 md:mb-6",children:s.jsx("div",{className:"flex items-center justify-between mb-3",children:[1,2,3,4].map(b=>s.jsxs("div",{className:"flex items-center flex-1",children:[s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center font-bold text-xs md:text-sm transition-all ${b<f?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":b===f?"bg-white text-indigo-600 ring-2 md:ring-4 ring-indigo-400/30":"bg-white/10 text-white/50 border-2 border-white/20"}`,children:b<f?s.jsx($r,{className:"w-4 h-4 md:w-5 md:h-5"}):b}),s.jsx("span",{className:`text-[10px] md:text-xs mt-1 ${b<=f?"text-white":"text-white/40"}`,children:b===1?"Basic":b===2?"Time":b===3?"Music":"Review"})]}),b<S&&s.jsx("div",{className:`flex-1 h-0.5 md:h-1 mx-1 md:mx-2 transition-all ${b<f?"bg-gradient-to-r from-indigo-500 to-purple-500":"bg-white/10"}`})]},b))})}),s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsx("h3",{className:"text-xl md:text-3xl font-bold text-white",children:v?"Edit Schedule":"New Schedule"}),s.jsx("button",{onClick:()=>{h(!1),g(null),y(1)},className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:s.jsx("span",{className:"text-white/70 text-xl",children:""})})]}),s.jsxs("form",{onSubmit:E,children:[f===1&&s.jsxs("div",{className:"space-y-4 md:space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Title *"}),s.jsx("input",{type:"text",value:w.title,onChange:b=>P({...w,title:b.target.value}),className:"input-glass w-full text-base",placeholder:"Enter schedule title",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:w.description,onChange:b=>P({...w,description:b.target.value}),className:"input-glass w-full text-base",rows:"2",placeholder:"Add a description for this prayer schedule"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4 text-purple-400"}),"Scripture Passage"]}),s.jsx("textarea",{value:w.scripture,onChange:b=>P({...w,scripture:b.target.value}),placeholder:"E.g., John 3:16 - For God so loved the world...",className:"input-glass w-full text-base",rows:"2"}),s.jsx("p",{className:"text-white/50 text-xs mt-1",children:"Add a scripture passage that will be used when generating prayer points"})]}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-3 border-t border-white/10",children:[s.jsx("button",{type:"button",onClick:()=>{h(!1),g(null),y(1)},className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsxs("button",{type:"button",onClick:_,disabled:!w.title,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5"})]})]})]}),f===2&&s.jsxs("div",{className:"space-y-4 md:space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Scheduled Time *"}),s.jsx("input",{type:"datetime-local",value:w.scheduledTime,onChange:b=>P({...w,scheduledTime:b.target.value}),className:"input-glass w-full text-base",required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsx("input",{type:"checkbox",id:"recurring",checked:w.recurring,onChange:b=>P({...w,recurring:b.target.checked}),className:"w-5 h-5 rounded cursor-pointer"}),s.jsx("label",{htmlFor:"recurring",className:"text-white/80 text-sm md:text-base cursor-pointer",children:"Make this schedule recurring"})]}),w.recurring&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Frequency"}),s.jsx(Nt,{value:w.frequency,onChange:b=>P({...w,frequency:b}),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],placeholder:"Select frequency"})]}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-3 border-t border-white/10",children:[s.jsxs("button",{type:"button",onClick:j,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:_,disabled:!w.scheduledTime,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:["Next",s.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5"})]})]})]}),f===3&&s.jsxs("div",{className:"space-y-4 md:space-y-5 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Background Music"]}),s.jsx(Nt,{value:w.selectedMusicId||"",onChange:b=>P({...w,selectedMusicId:b}),options:[{value:"",label:"None"},...o.map(b=>({value:b.id,label:b.name})),...d.map(b=>({value:b._id,label:b.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select background music"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Speak in Tongues"]}),s.jsx(Nt,{value:w.tonguesMode||"none",onChange:b=>P({...w,tonguesMode:b,selectedTongueSongId:b==="none"?"":w.selectedTongueSongId}),options:[{value:"none",label:"None"},{value:"start",label:"Start with Tongues (2 min)"},{value:"perPoint",label:"Per Prayer Point (2 min each)"}],placeholder:"Select tongues mode"})]}),(w.tonguesMode==="start"||w.tonguesMode==="perPoint")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Tongue Song"}),s.jsx(Nt,{value:w.selectedTongueSongId||"",onChange:b=>P({...w,selectedTongueSongId:b}),options:[{value:"",label:"None"},...l.map(b=>({value:b.id,label:b.name})),...m.map(b=>({value:b._id,label:b.fileName.replace(/\.[^/.]+$/,"")}))],placeholder:"Select tongue song"})]}),v&&s.jsx("div",{className:"border-t border-white/10 pt-3",children:s.jsx(Bc,{scheduleId:v._id,userId:e,currentPoints:w.prayerPoints||[],onPointsChange:b=>P({...w,prayerPoints:b})})}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-3 border-t border-white/10",children:[s.jsxs("button",{type:"button",onClick:j,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),s.jsxs("button",{type:"button",onClick:_,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base flex items-center justify-center gap-2",children:["Next",s.jsx(br,{className:"w-4 h-4 md:w-5 md:h-5"})]})]})]}),f===4&&s.jsxs("div",{className:"space-y-4 md:space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-3",children:"Review Your Schedule"}),s.jsxs("div",{className:"space-y-2.5",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Title:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:w.title})]}),w.description&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Description:"}),s.jsx("p",{className:"text-white/80 text-xs md:text-sm",children:w.description})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Scheduled Time:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:w.scheduledTime&&hr(new Date(w.scheduledTime),"MMM d, yyyy h:mm a")})]}),w.recurring&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Frequency:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base capitalize",children:w.frequency})]}),w.selectedMusicId&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Music:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:((D=o.find(b=>b.id===w.selectedMusicId))==null?void 0:D.name)||((F=d.find(b=>b._id===w.selectedMusicId))==null?void 0:F.fileName.replace(/\.[^/.]+$/,""))||"Selected"})]}),w.tonguesMode!=="none"&&s.jsxs("div",{children:[s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Tongues Mode:"}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:w.tonguesMode==="start"?"Start with Tongues":"Per Prayer Point"})]})]})]}),s.jsxs("div",{className:"flex gap-2 md:gap-3 pt-3 border-t border-white/10",children:[s.jsxs("button",{type:"button",onClick:j,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base flex items-center justify-center gap-2",children:[s.jsx(ps,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),s.jsx("button",{type:"submit",className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:v?"Update":"Create"})]})]})]})]})})]})}function Lv(){return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0 animate-pulse",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 md:h-9 bg-white/10 rounded-lg w-48"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-64"})]})}),s.jsx("div",{className:"glass-strong p-6 md:p-8 lg:p-10 rounded-2xl md:rounded-3xl border border-white/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4 md:mb-6",children:s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-40"})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6 md:mb-8",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-white/10"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 md:h-16 lg:h-20 bg-white/10 rounded-lg w-24 md:w-32"}),s.jsx("div",{className:"h-5 bg-white/5 rounded-lg w-32"})]})]}),s.jsxs("div",{className:"max-w-md mx-auto space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-32"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-16"})]}),s.jsx("div",{className:"h-3 bg-white/10 rounded-full"})]})]})}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:Array.from({length:3}).map((e,t)=>s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-white/10"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-24"}),s.jsx("div",{className:"h-8 bg-white/10 rounded w-16"})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("div",{className:"h-3 bg-white/5 rounded w-32"})})]},t))}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded w-32"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-4/6"})]})]})]})}function Av(){const{streak:e,isLoading:t}=Xt();if(t||!e)return s.jsx(Lv,{});const n=e.longestStreak>0?Math.round(e.currentStreak/e.longestStreak*100):0,i=(o=>o===0?{level:"Beginner",color:"from-gray-500 to-gray-600",icon:sy}:o<7?{level:"Rising",color:"from-indigo-500 to-purple-500",icon:If}:o<30?{level:"Dedicated",color:"from-purple-500 to-pink-500",icon:Q0}:o<100?{level:"Devoted",color:"from-orange-500 to-red-500",icon:pi}:{level:"Master",color:"from-yellow-400 to-orange-500",icon:gs})(e.currentStreak),a=e.currentStreak===e.longestStreak&&e.currentStreak>0;return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(gs,{className:"w-6 h-6 md:w-7 md:h-7 text-orange-400"}),"Prayer Streak"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Track your consistent prayer journey"})]})}),s.jsxs("div",{className:"glass-strong p-6 md:p-8 lg:p-10 rounded-2xl md:rounded-3xl border border-white/20 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/5 via-purple-500/5 to-indigo-500/5"}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/10 via-purple-400/10 to-indigo-400/10 animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-4 md:mb-6",children:s.jsxs("div",{className:`inline-flex items-center gap-2 px-4 md:px-6 py-2 md:py-3 rounded-full bg-gradient-to-r ${i.color} border-2 border-white/20 shadow-lg`,children:[s.jsx(i.icon,{className:"w-4 h-4 md:w-5 md:h-5 text-white"}),s.jsxs("span",{className:"text-white font-semibold text-xs md:text-sm",children:[i.level," Prayer Warrior"]})]})}),s.jsxs("div",{className:"text-center mb-6 md:mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 md:gap-4 mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:`w-16 h-16 md:w-20 md:h-20 lg:w-24 lg:h-24 rounded-full bg-gradient-to-br ${i.color} flex items-center justify-center shadow-2xl relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),s.jsx(gs,{className:`w-8 h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 text-white relative z-10 ${e.currentStreak>0?"animate-pulse":""}`}),e.currentStreak>0&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/50 to-yellow-400/50 animate-pulse"})]}),e.currentStreak>0&&s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 md:w-7 md:h-7 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full animate-ping"})]}),s.jsxs("div",{children:[s.jsx("div",{className:`text-5xl md:text-6xl lg:text-7xl font-bold bg-gradient-to-r ${i.color} bg-clip-text text-transparent mb-2 drop-shadow-lg`,children:e.currentStreak}),s.jsx("p",{className:"text-white/80 text-base md:text-lg lg:text-xl font-medium",children:"Day Streak"})]})]}),a&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-400/30 mb-4 animate-pulse",children:[s.jsx(pi,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-300 text-xs md:text-sm font-semibold",children:"Personal Best! "})]})]}),e.longestStreak>0&&s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2 md:mb-3",children:[s.jsx("span",{className:"text-white/70 text-xs md:text-sm font-medium",children:"Progress to Record"}),s.jsxs("span",{className:"text-white font-semibold text-sm md:text-base",children:[n,"%  ",e.currentStreak," / ",e.longestStreak]})]}),s.jsx("div",{className:"relative w-full h-2.5 md:h-3 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${i.color} rounded-full transition-all duration-700 relative`,style:{width:`${n}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 hover:border-indigo-400/50 transition-all hover:scale-[1.02]",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(pi,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium mb-1",children:"Longest Streak"}),s.jsx("div",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white",children:e.longestStreak})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("p",{className:"text-white/50 text-xs",children:"Your all-time record"})})]}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 hover:border-purple-400/50 transition-all hover:scale-[1.02]",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(ay,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium mb-1",children:"Total Prayers"}),s.jsx("div",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white",children:e.totalPrayers})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("p",{className:"text-white/50 text-xs",children:"All-time sessions"})})]}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 hover:border-orange-400/50 transition-all hover:scale-[1.02] sm:col-span-2 lg:col-span-1",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl bg-gradient-to-br from-orange-600 to-red-600 flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(yn,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium mb-1",children:"Last Prayer"}),s.jsx("div",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white",children:e.lastPrayerDate?new Date(e.lastPrayerDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Never"})]})]}),s.jsx("div",{className:"pt-3 md:pt-4 border-t border-white/10",children:s.jsx("p",{className:"text-white/50 text-xs",children:e.lastPrayerDate?"Last session completed":"Start your journey today"})})]})]}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20 relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-5",children:[s.jsx(ne,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"}),s.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white",children:"Keep Going!"})]}),e.currentStreak===0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-white/90 text-sm md:text-base leading-relaxed",children:"Start your prayer journey today! Complete your first prayer session to begin your streak and build a powerful habit of consistent prayer."}),s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-indigo-500/10 border border-indigo-400/30",children:s.jsx("p",{className:"text-indigo-300 text-xs md:text-sm font-medium",children:" Tip: Set a daily reminder to help maintain your streak!"})})]}),e.currentStreak>0&&e.currentStreak<7&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-white/90 text-sm md:text-base leading-relaxed",children:["Great start! You're on a ",s.jsxs("span",{className:"font-bold text-indigo-300",children:[e.currentStreak,"-day streak"]}),". Keep it up to build a strong habit! Every day counts."]}),s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-purple-500/10 border border-purple-400/30",children:s.jsx("p",{className:"text-purple-300 text-xs md:text-sm font-medium",children:" You're building momentum! Consistency is key to spiritual growth."})})]}),e.currentStreak>=7&&e.currentStreak<30&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-white/90 text-sm md:text-base leading-relaxed",children:["Excellent! You've maintained your prayer habit for ",s.jsxs("span",{className:"font-bold text-purple-300",children:[e.currentStreak," days"]}),". You're building a strong foundation for your spiritual journey!"]}),s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-pink-500/10 border border-pink-400/30",children:s.jsx("p",{className:"text-pink-300 text-xs md:text-sm font-medium",children:" You're developing a powerful prayer discipline. Keep going!"})})]}),e.currentStreak>=30&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("p",{className:"text-white/90 text-sm md:text-base leading-relaxed",children:["Amazing dedication! ",s.jsxs("span",{className:"font-bold text-orange-300",children:[e.currentStreak," days"]})," of consistent prayer is truly inspiring. You're demonstrating incredible commitment to your spiritual growth!"]}),s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-gradient-to-r from-yellow-500/20 to-orange-500/20 border border-yellow-400/30",children:s.jsx("p",{className:"text-yellow-300 text-xs md:text-sm font-medium",children:" You're a prayer warrior! Your consistency is transforming your spiritual life."})})]}),a&&s.jsx("div",{className:"mt-4 md:mt-5 p-4 md:p-5 rounded-xl bg-gradient-to-r from-yellow-500/20 via-orange-500/20 to-red-500/20 border-2 border-yellow-400/40 animate-pulse",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx(pi,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400 flex-shrink-0"}),s.jsx("p",{className:"text-yellow-200 font-bold text-sm md:text-base",children:" You're at your personal best! Keep pushing forward and break new records!"})]})})]})]})]})}function Dv(){return s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-5 h-5 bg-white/10 rounded"}),s.jsx("div",{className:"h-6 bg-white/10 rounded-lg w-32"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-40"})]}),s.jsx("div",{className:"h-8 bg-white/10 rounded-full w-20"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/5 rounded w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-5/6"})]})]})}function Fv({count:e=5}){return s.jsx("div",{className:"space-y-4",children:Array.from({length:e}).map((t,n)=>s.jsx(Dv,{},n))})}function Uv({isOpen:e,onClose:t,onConfirm:n,entryDate:r}){return e?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl max-w-md w-full border border-white/20 shadow-2xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-full bg-gradient-to-br from-red-600 to-orange-600 flex items-center justify-center",children:s.jsx(_f,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Delete History Entry"})]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:s.jsx(Yn,{className:"w-5 h-5 text-white/70"})})]}),s.jsxs("div",{className:"mb-5 md:mb-6",children:[s.jsx("p",{className:"text-white/80 text-sm md:text-base leading-relaxed mb-3",children:"Are you sure you want to delete this prayer history entry?"}),r&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-indigo-500/10 border border-indigo-400/20",children:s.jsx("p",{className:"text-indigo-300 text-sm md:text-base font-medium",children:r})}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm mt-3",children:"This action cannot be undone."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:t,className:"btn-secondary flex-1 py-2.5 md:py-3 text-sm md:text-base",children:"Cancel"}),s.jsx("button",{onClick:n,className:"btn-primary flex-1 py-2.5 md:py-3 text-sm md:text-base bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-500 hover:to-orange-500 border-red-500/30",children:"Delete Entry"})]})]})}):null}function zv(){const{history:e,deleteHistory:t,isLoading:n}=Xt(),[r,i]=N.useState(null),[a,o]=N.useState(!1),[l,u]=N.useState(null),c=C=>{u(C),o(!0)},d=async()=>{if(l){i(l._id);try{await t({id:l._id}),O.success("History entry deleted"),o(!1),u(null)}catch(C){console.error("Error deleting history:",C),O.error("Failed to delete history entry")}finally{i(null)}}},m=()=>{r||(o(!1),u(null))};if(n)return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-8 md:h-9 bg-white/10 rounded-lg w-48 animate-pulse"}),s.jsx("div",{className:"h-4 bg-white/5 rounded w-64 animate-pulse"})]})}),s.jsx(Fv,{count:5})]});if(!e||e.length===0)return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Prayer History"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-strong p-8 md:p-12 lg:p-16 rounded-2xl text-center border border-white/20",children:[s.jsx(_i,{className:"w-16 h-16 md:w-20 md:h-20 text-white/30 mx-auto mb-4"}),s.jsx("p",{className:"text-white/60 text-base md:text-lg mb-2",children:"No prayer history yet"}),s.jsx("p",{className:"text-white/40 text-sm md:text-base",children:"Complete your first prayer session to see it here"})]})]});const p=e.length,h=Math.round(e.reduce((C,x)=>C+x.duration,0)/e.length),v=e.reduce((C,x)=>C+x.duration,0),g=e.filter(C=>C.prayerPoints&&C.prayerPoints.length>0).length;return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(_i,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Prayer History"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Track your prayer journey and growth"})]})}),s.jsxs("div",{className:"glass-strong p-5 md:p-6 lg:p-8 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-4 md:mb-6",children:[s.jsx(If,{className:"w-5 h-5 md:w-6 md:h-6 text-purple-400"}),s.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white",children:"Your Prayer Journey"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-indigo-400 to-purple-400 bg-clip-text text-transparent mb-2",children:p}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium",children:"Total Sessions"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent mb-2",children:h}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium",children:"Avg Duration (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent mb-2",children:v}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium",children:"Total Time (min)"})]}),s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold bg-gradient-to-r from-orange-400 to-yellow-400 bg-clip-text text-transparent mb-2",children:g}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm font-medium",children:"With Prayer Points"})]})]})]}),s.jsx("div",{className:"space-y-4",children:e.map(C=>s.jsxs("div",{className:"glass-strong p-5 md:p-6 rounded-xl md:rounded-2xl border border-white/20 hover:border-indigo-400/50 transition-all relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 md:gap-4 mb-4 md:mb-5",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(yn,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg md:text-xl lg:text-2xl font-bold text-white mb-1",children:hr(new Date(C.completedAt),"MMM d, yyyy")}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:Rv(new Date(C.completedAt),{addSuffix:!0})})]})]})}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-1.5 px-3 md:px-4 py-1.5 md:py-2 rounded-full bg-gradient-to-r from-indigo-600/30 to-purple-600/30 border border-indigo-400/30",children:[s.jsx(vn,{className:"w-4 h-4 text-indigo-300"}),s.jsxs("span",{className:"text-indigo-200 font-semibold text-xs md:text-sm",children:[C.duration," min"]})]}),s.jsx("button",{onClick:()=>c(C),disabled:r===C._id,className:"p-2 md:p-2.5 rounded-lg hover:bg-red-600/20 text-red-400 hover:text-red-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete entry",children:r===C._id?s.jsx("div",{className:"w-4 h-4 md:w-5 md:h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):s.jsx(Fn,{className:"w-4 h-4 md:w-5 md:h-5"})})]})]}),C.prayerPoints&&C.prayerPoints.length>0&&s.jsxs("div",{className:"mb-4 md:mb-5 p-4 md:p-5 rounded-lg bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-400/20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(ne,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),s.jsxs("h4",{className:"text-white font-semibold text-sm md:text-base",children:["Prayer Points (",C.prayerPoints.length,")"]})]}),s.jsx("ul",{className:"space-y-2 md:space-y-2.5",children:C.prayerPoints.map((x,f)=>s.jsxs("li",{className:"text-white/90 text-sm md:text-base flex items-start gap-2 md:gap-3",children:[s.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs md:text-sm font-bold",children:f+1})}),s.jsx("span",{className:"flex-1 leading-relaxed",children:x})]},f))})]}),C.notes&&s.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(X0,{className:"w-4 h-4 text-indigo-400"}),s.jsx("h4",{className:"text-white/80 font-semibold text-xs md:text-sm",children:"Notes"})]}),s.jsx("p",{className:"text-white/80 text-sm md:text-base whitespace-pre-wrap leading-relaxed",children:C.notes})]}),C.prayerScheduleId&&s.jsx("div",{className:"mt-3 md:mt-4 pt-3 md:pt-4 border-t border-white/10",children:s.jsxs("p",{className:"text-white/50 text-xs md:text-sm",children:[s.jsx("span",{className:"text-white/70",children:"From schedule:"})," ",C.prayerScheduleId]})})]})]},C._id))}),s.jsx(Uv,{isOpen:a,onClose:m,onConfirm:d,entryDate:l?hr(new Date(l.completedAt),"MMM d, yyyy"):null})]})}function qv(){return s.jsxs("li",{className:"flex items-start gap-3 md:gap-4 animate-pulse",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500/30 to-purple-500/30 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("div",{className:"h-4 bg-white/10 rounded-lg w-full"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-5/6"}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-4/6"})]}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded-lg"})]})]})}function Vv({count:e=5}){return s.jsx("ul",{className:"space-y-3 md:space-y-4",children:Array.from({length:e}).map((t,n)=>s.jsx(qv,{},n))})}function Wv(){return s.jsxs("div",{className:"glass p-3 md:p-4 rounded-xl animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"h-5 bg-white/10 rounded-lg w-32"}),s.jsx("div",{className:"w-8 h-8 bg-white/10 rounded"})]}),s.jsx("div",{className:"h-4 bg-white/5 rounded-lg w-20 mb-3"}),s.jsx("div",{className:"h-9 bg-white/10 rounded-lg w-24"})]})}function Bv({count:e=3}){return s.jsx("div",{className:"space-y-3",children:Array.from({length:e}).map((t,n)=>s.jsx(Wv,{},n))})}function Qv(){const{userId:e,schedules:t,updateSchedule:n,settings:r}=Xt(),[i,a]=N.useState("ai"),[o,l]=N.useState(!1),[u,c]=N.useState([]),[d,m]=N.useState(null),[p,h]=N.useState(""),[v,g]=N.useState(""),[C,x]=N.useState(""),[f,y]=N.useState(5),[w,P]=N.useState([""]),[E,M]=N.useState({isValid:!0,message:"",parsed:null}),S=t.find(L=>L._id===v),k=tt(ee.savedPrayerPoints.save),_=bt(ee.savedPrayerPoints.getByUser,e?{userId:e}:"skip"),j=_===void 0,T=tt(ee.savedPrayerPoints.remove),z=L=>{if(!L||!L.trim())return{isValid:!0,message:"",parsed:null};const I=L.trim(),ie=/^([1-3]?\s?[A-Za-z]+)\s+(\d+):(\d+)(?:-(\d+))?(?:\s*[-]\s*(.+))?$/i,Ue=I.match(ie);if(Ue){const[,Kn,ze,He,Ct,Ie]=Ue,de={book:Kn.trim(),chapter:parseInt(ze),startVerse:parseInt(He),endVerse:parseInt(Ct||He),quote:Ie?Ie.trim():null,full:I};return de.endVerse<de.startVerse?{isValid:!1,message:"End verse cannot be less than start verse",parsed:null}:{isValid:!0,message:` ${de.book} ${de.chapter}:${de.startVerse}${de.endVerse>de.startVerse?`-${de.endVerse}`:""}`,parsed:de}}return I.length>20&&!I.match(/\d+:\d+/)?{isValid:!0,message:" Scripture quote (no reference)",parsed:{quote:I,full:I}}:I.match(/[A-Za-z]+\s+\d+:/)?{isValid:!0,message:" Scripture reference detected",parsed:{full:I}}:{isValid:!0,message:" Custom scripture passage",parsed:{full:I}}};N.useEffect(()=>{S!=null&&S.scripture?(x(S.scripture),M(z(S.scripture))):(x(""),M({isValid:!0,message:"",parsed:null}))},[v,S]);const H=L=>{x(L),M(z(L))};N.useEffect(()=>{S!=null&&S.prayerPoints&&S.prayerPoints.length>0&&(c(S.prayerPoints),P(S.prayerPoints))},[v,S]);const Z=async()=>{var ie,Ue,Kn,ze,He,Ct;if(!v){O.error("Please select a prayer schedule");return}if(!S){O.error("Selected schedule not found");return}const L=typeof f=="number"?f:parseInt(f)||5,I=Math.max(1,Math.min(20,L));if(I<1||I>20){O.error("Number of points must be between 1 and 20");return}l(!0),c([]);try{const Ie="AIzaSyDfAB9cgPPKXLdsVxPTkoVsiKKGgLETXdk";let de=`Generate exactly ${I} specific, meaningful prayer points for the prayer schedule: "${S.title}".`;S.description&&(de+=`
Description: ${S.description}`);const Pt=C.trim()||S.scripture||"";Pt&&(de+=`
Scripture Passage: ${Pt}`),de+=`

Format the response as a numbered list (1. 2. 3. etc.) with exactly ${I} prayer points, each on a new line. Make each point specific, actionable, and spiritually meaningful. Use the scripture passage as the foundation for the prayer points if provided.`;const me=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Ie}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:de}]}]})});if(!me.ok){const G=await me.json().catch(()=>({}));throw new Error(((ie=G.error)==null?void 0:ie.message)||`API error: ${me.status}`)}const qe=((Ct=(He=(ze=(Kn=(Ue=(await me.json()).candidates)==null?void 0:Ue[0])==null?void 0:Kn.content)==null?void 0:ze.parts)==null?void 0:He[0])==null?void 0:Ct.text)||"";if(!qe)throw new Error("No response from AI");let Oe=qe.split(`
`).map(G=>G.trim()).filter(G=>G&&(G.startsWith("-")||G.startsWith("")||G.match(/^\d+\./)||G.match(/^[1-9]\./))).map(G=>G.replace(/^[-]\s*/,"").replace(/^\d+\.\s*/,"").trim()).filter(G=>G.length>10&&G.length<300).slice(0,I);if(Oe.length===0&&(Oe=qe.split(/\n+/).map(G=>G.trim()).filter(G=>G.length>20&&G.length<300).slice(0,I)),Oe.length===0&&(Oe=qe.split(/[.!?]+/).map(G=>G.trim()).filter(G=>G.length>20&&G.length<300).slice(0,I)),Oe.length===0)Oe=Array.from({length:I},(G,Ma)=>`Prayer point ${Ma+1}: Pray for guidance and wisdom in this situation`);else{for(;Oe.length<I;)Oe.push("Pray for God's will to be done");Oe=Oe.slice(0,I)}if(c(Oe),(r==null?void 0:r.autoSavePrayerPoints)!==!1)try{await n({id:v,prayerPoints:Oe,scripture:C.trim()||void 0}),O.success(`${I} Prayer points generated and saved!`)}catch(G){console.error("Error saving to schedule:",G),O.error("Prayer points generated but failed to save to schedule")}else O.success(`${I} Prayer points generated! (Auto-save disabled)`);try{await k({userId:e,title:`Generated: ${S.title}`,points:Oe})}catch(G){console.error("Error saving points to library:",G)}}catch(Ie){console.error("Error generating prayer points:",Ie),O.error(`Failed to generate prayer points: ${Ie.message||"Please try again"}`);const de=typeof f=="number"?f:parseInt(f)||5,Pt=Math.max(1,Math.min(20,de));c(Array.from({length:Pt},(me,Gn)=>`Prayer point ${Gn+1}: Pray for guidance and wisdom`))}finally{l(!1)}},Ee=async()=>{const L=i==="ai"?u:w.filter(I=>I.trim());if(L.length===0){O.error("No prayer points to save");return}if(!v){O.error("Please select a prayer schedule");return}try{await n({id:v,prayerPoints:L,scripture:C.trim()||void 0}),O.success("Prayer points saved to schedule!")}catch(I){console.error("Error saving to schedule:",I),O.error("Failed to save prayer points")}},q=L=>{const I=i==="ai"?u:w;m(L),h(I[L]||"")},$=async L=>{if(!p.trim()){O.error("Prayer point cannot be empty");return}let I;if(i==="ai"?(I=[...u],I[L]=p.trim(),c(I)):(I=[...w],I[L]=p.trim(),P(I)),m(null),h(""),O.success("Prayer point updated!"),v&&I.length>0&&(r==null?void 0:r.autoSavePrayerPoints)!==!1)try{const ie=i==="ai"?I:I.filter(Ue=>Ue.trim());await n({id:v,prayerPoints:ie,scripture:C.trim()||void 0})}catch(ie){console.error("Error auto-saving to schedule:",ie)}},D=()=>{m(null),h("")},F=L=>{if(i==="ai"){const I=u.filter((ie,Ue)=>Ue!==L);c(I)}else{const I=w.filter((ie,Ue)=>Ue!==L);P(I)}O.success("Prayer point deleted!")},b=()=>{P([...w,""])},A=(L,I)=>{const ie=[...w];ie[L]=I,P(ie)},se=L=>{if(w.length>1){const I=w.filter((ie,Ue)=>Ue!==L);P(I)}else O.error("At least one prayer point is required")},ye=i==="ai"?u:w.filter(L=>L.trim()),gt=ye.length>0;return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h2",{className:"section-title text-2xl md:text-3xl",children:"Prayer Points Generator"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Create meaningful prayer points for your schedules"})]})}),s.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>a("ai"),className:`px-4 md:px-6 py-2 md:py-3 text-sm md:text-base font-medium transition-all relative ${i==="ai"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 md:w-5 md:h-5"}),"AI Generate"]}),i==="ai"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]}),s.jsxs("button",{onClick:()=>a("manual"),className:`px-4 md:px-6 py-2 md:py-3 text-sm md:text-base font-medium transition-all relative ${i==="manual"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(uo,{className:"w-4 h-4 md:w-5 md:h-5"}),"Manual Create"]}),i==="manual"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),s.jsx("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Select Prayer Schedule *"}),s.jsx(Nt,{value:v,onChange:g,options:[{value:"",label:"Choose a schedule..."},...t.filter(L=>!L.isCompleted).map(L=>({value:L._id,label:`${L.title} - ${new Date(L.scheduledTime).toLocaleDateString()}`}))],placeholder:"Choose a schedule..."}),S&&s.jsxs("div",{className:"mt-3 p-3 md:p-4 rounded-xl bg-indigo-600/20 border border-indigo-400/30",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:S.title}),S.description&&s.jsx("p",{className:"text-white/70 text-xs md:text-sm mb-2",children:S.description})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-3 flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Scripture Passage"]}),s.jsxs("div",{className:"relative",children:[s.jsx("textarea",{value:C,onChange:L=>H(L.target.value),placeholder:`E.g., John 3:16 - For God so loved the world...
Or: John 3:4-16
Or: Psalm 23:1-6`,className:`input-glass w-full text-sm md:text-base pr-10 transition-all ${E.isValid&&E.message?"border-purple-400/50 focus:border-purple-400":""}`,rows:"3"}),C&&s.jsx("div",{className:"absolute top-3 right-3",children:E.isValid?s.jsx(jr,{className:"w-5 h-5 text-green-400"}):s.jsx(hs,{className:"w-5 h-5 text-yellow-400"})})]}),C&&s.jsx("div",{className:`mt-2 p-3 rounded-lg border transition-all ${E.isValid?"bg-green-500/10 border-green-400/30":"bg-yellow-500/10 border-yellow-400/30"}`,children:s.jsxs("div",{className:"flex items-start gap-2",children:[E.isValid?s.jsx(jr,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}):s.jsx(hs,{className:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`text-xs md:text-sm font-medium ${E.isValid?"text-green-300":"text-yellow-300"}`,children:E.message||"Enter a scripture reference or passage"}),E.parsed&&E.parsed.book&&s.jsxs("div",{className:"mt-1.5 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[s.jsx("span",{className:"font-semibold",children:"Book:"}),s.jsx("span",{children:E.parsed.book})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[s.jsx("span",{className:"font-semibold",children:"Chapter:"}),s.jsx("span",{children:E.parsed.chapter})]}),E.parsed.startVerse&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-white/70",children:[s.jsx("span",{className:"font-semibold",children:"Verse:"}),s.jsxs("span",{children:[E.parsed.startVerse,E.parsed.endVerse>E.parsed.startVerse?` - ${E.parsed.endVerse}`:""]})]}),E.parsed.quote&&s.jsx("div",{className:"mt-2 pt-2 border-t border-white/10",children:s.jsxs("p",{className:"text-xs text-white/80 italic",children:['"',E.parsed.quote,'"']})})]})]})]})}),s.jsx("div",{className:"mt-3 p-3 rounded-lg bg-indigo-500/10 border border-indigo-400/20",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Rf,{className:"w-4 h-4 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white/70 text-xs md:text-sm font-medium mb-1.5",children:"Supported Formats:"}),s.jsxs("ul",{className:"space-y-1 text-xs text-white/60",children:[s.jsxs("li",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-indigo-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:16"})," - Single verse"]})]}),s.jsxs("li",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-indigo-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:4-16"})," - Verse range"]})]}),s.jsxs("li",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-indigo-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"John 3:16 - For God so loved..."})," - With quote"]})]}),s.jsxs("li",{className:"flex items-center gap-1.5",children:[s.jsx("span",{className:"text-indigo-400",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Custom passage"})," - Any text"]})]})]})]})]})})]}),i==="ai"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-3",children:"Number of Prayer Points"}),s.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{const L=typeof f=="number"?f:parseInt(f)||5;y(Math.max(1,L-1))},disabled:(typeof f=="number"?f:parseInt(f)||5)<=1,className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600/80 to-purple-600/80 hover:from-indigo-500 hover:to-purple-500 disabled:from-indigo-600/40 disabled:to-purple-600/40 disabled:cursor-not-allowed border-2 border-indigo-400/30 hover:border-indigo-400/50 transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl disabled:shadow-none",title:"Decrease",children:s.jsx(ey,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("input",{type:"number",min:"1",max:"20",value:f,onChange:L=>{const I=L.target.value;if(I===""){y("");return}const ie=parseInt(I);isNaN(ie)||y(Math.max(1,Math.min(20,ie)))},onBlur:L=>{const I=L.target.value;(I===""||isNaN(parseInt(I))||parseInt(I)<1)&&y(5)},className:"input-glass w-full text-center text-lg md:text-xl font-bold py-3 md:py-4 appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none focus:ring-2 focus:ring-indigo-400/50",style:{WebkitAppearance:"textfield"},placeholder:"5"})}),s.jsx("button",{type:"button",onClick:()=>{const L=typeof f=="number"?f:parseInt(f)||5;y(Math.min(20,L+1))},disabled:(typeof f=="number"?f:parseInt(f)||5)>=20,className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600/80 to-purple-600/80 hover:from-indigo-500 hover:to-purple-500 disabled:from-indigo-600/40 disabled:to-purple-600/40 disabled:cursor-not-allowed border-2 border-indigo-400/30 hover:border-indigo-400/50 transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl disabled:shadow-none",title:"Increase",children:s.jsx(Ds,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]}),s.jsx("p",{className:"text-white/50 text-xs mt-2 text-center",children:"Enter a number between 1 and 20"})]}),i==="ai"&&s.jsx("button",{onClick:Z,disabled:o||!v,className:"btn-primary w-full py-3 md:py-4 text-sm md:text-base disabled:opacity-50 disabled:cursor-not-allowed",children:o?s.jsxs(s.Fragment,{children:[s.jsx(ml,{className:"w-5 h-5 inline mr-2 animate-spin"}),"Generating ",typeof f=="number"?f:parseInt(f)||5," Prayer Points..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"w-5 h-5 inline mr-2"}),"Generate ",typeof f=="number"?f:parseInt(f)||5," Prayer Points"]})}),i==="ai"&&!v&&s.jsx("p",{className:"text-yellow-400 text-xs md:text-sm text-center",children:"Please select a prayer schedule to generate prayer points"})]})}),i==="manual"&&s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(uo,{className:"w-5 h-5 text-indigo-400"}),"Create Prayer Points"]}),s.jsxs("button",{onClick:b,className:"btn-secondary text-sm md:text-base px-3 md:px-4 py-2 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Add Point"]})]}),s.jsx("div",{className:"space-y-3",children:w.map((L,I)=>s.jsxs("div",{className:"flex items-start gap-2 md:gap-3",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-1",children:s.jsx("span",{className:"text-white text-xs md:text-sm font-bold",children:I+1})}),s.jsx("textarea",{value:L,onChange:ie=>A(I,ie.target.value),placeholder:`Prayer point ${I+1}...`,className:"input-glass flex-1 text-sm md:text-base",rows:"2"}),w.length>1&&s.jsx("button",{onClick:()=>se(I),className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400 flex-shrink-0",title:"Remove point",children:s.jsx(Yn,{className:"w-4 h-4 md:w-5 md:h-5"})})]},I))})]}),o?s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(ne,{className:"w-5 h-5 text-indigo-400"}),"Generating Prayer Points"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ml,{className:"w-5 h-5 animate-spin text-indigo-400"}),s.jsx("span",{className:"text-white/60 text-sm",children:"Generating..."})]})]}),s.jsx(Vv,{count:typeof f=="number"?f:parseInt(f)||5})]}):gt&&s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(ne,{className:"w-5 h-5 text-indigo-400"}),i==="ai"?"Generated":"Manual"," Prayer Points"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:Ee,disabled:!v,className:"btn-primary text-sm md:text-base px-3 md:px-4 py-2 flex items-center gap-2 disabled:opacity-50",children:[s.jsx(fl,{className:"w-4 h-4"}),"Save"]}),s.jsx("button",{onClick:()=>{i==="ai"?c([]):P([""])},className:"btn-secondary text-sm md:text-base px-3 md:px-4 py-2 bg-red-600/20 hover:bg-red-600/30 border-red-500/30",children:s.jsx(Fn,{className:"w-4 h-4"})})]})]}),s.jsx("ul",{className:"space-y-3 md:space-y-4",children:ye.map((L,I)=>s.jsxs("li",{className:"flex items-start gap-3 md:gap-4",children:[s.jsx("div",{className:"w-6 h-6 md:w-8 md:h-8 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-white text-xs md:text-sm font-bold",children:I+1})}),d===I?s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx("textarea",{value:p,onChange:ie=>h(ie.target.value),className:"input-glass w-full text-sm md:text-base",rows:"2",autoFocus:!0}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>$(I),className:"btn-primary text-xs md:text-sm px-3 py-1.5 flex items-center gap-1",children:[s.jsx($r,{className:"w-3 h-3 md:w-4 md:h-4"}),"Save"]}),s.jsx("button",{onClick:D,className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-white/90 flex-1 text-sm md:text-base",children:L}),s.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[s.jsx("button",{onClick:()=>q(I),className:"p-2 rounded-lg hover:bg-indigo-600/20 text-indigo-400",title:"Edit point",children:s.jsx(uo,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>F(I),className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400",title:"Delete point",children:s.jsx(Fn,{className:"w-4 h-4"})})]})]})]},I))})]}),j?s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-4",children:"Saved Prayer Points Library"}),s.jsx(Bv,{count:3})]}):_&&_.length>0&&s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsx("h3",{className:"text-lg md:text-xl font-semibold text-white mb-4",children:"Saved Prayer Points Library"}),s.jsx("div",{className:"space-y-3",children:_.map(L=>s.jsxs("div",{className:"glass p-3 md:p-4 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base",children:L.title||"Saved Prayer Points"}),s.jsx("button",{onClick:async()=>{if(confirm("Delete this saved prayer point set?"))try{await T({id:L._id}),O.success("Deleted")}catch{O.error("Failed to delete")}},className:"p-1.5 rounded hover:bg-red-600/20 text-red-400",children:s.jsx(Fn,{className:"w-4 h-4"})})]}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mb-3",children:[L.points.length," points"]}),s.jsx("button",{onClick:()=>{i==="ai"?c(L.points||[]):P(L.points&&L.points.length>0?L.points:[""]),O.success("Prayer points loaded! You can edit and save them to your schedule.")},className:"btn-secondary text-xs md:text-sm",children:"Load Points"})]},L._id))})]}),!o&&!gt&&!v&&s.jsxs("div",{className:"glass-strong text-center py-12 md:py-16 rounded-2xl",children:[s.jsx(ne,{className:"w-16 h-16 md:w-20 md:h-20 text-white/30 mx-auto mb-4"}),s.jsxs("p",{className:"text-white/60 text-sm md:text-base",children:["No prayer points ",i==="ai"?"generated":"created"," yet"]}),s.jsx("p",{className:"text-white/40 text-xs md:text-sm mt-2",children:i==="ai"?'Select a prayer schedule and click "Generate Prayer Points" to get started':"Select a prayer schedule and start creating your prayer points manually"})]})]})}function Hv({currentChant:e,isPlaying:t,volume:n,currentTime:r,duration:i,formatTime:a,setVolume:o,toggleChant:l,stopChant:u,audioRef:c,setCurrentTime:d}){if(!e)return null;const[m,p]=N.useState(null),h=m!==null?m:r,v=i>0?h/i*100:0;return s.jsxs("div",{className:"glass-strong rounded-xl md:rounded-2xl border border-white/20 overflow-hidden shadow-2xl",children:[s.jsx("div",{className:"flex justify-end p-1.5 md:p-2 border-b border-white/10",children:s.jsx("button",{onClick:u,className:"p-1 md:p-1.5 rounded-lg hover:bg-red-600/20 text-red-400 hover:text-red-300 transition-colors",title:"Stop and Close",children:s.jsx(Yn,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})}),s.jsxs("div",{className:"p-3 md:p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-3 md:mb-4",children:[s.jsxs("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-lg md:rounded-xl bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),s.jsx(Pe,{className:"w-5 h-5 md:w-6 md:h-6 text-white relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/30 to-purple-400/30 animate-pulse"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm md:text-lg font-bold text-white truncate mb-0.5",children:e.name||"Custom Chant"}),s.jsxs("p",{className:"text-white/60 text-xs",children:[a(r)," / ",a(i)]})]})]}),s.jsxs("div",{className:"mb-3 md:mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-1.5 md:h-2 bg-white/10 rounded-full overflow-visible",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 rounded-full transition-all duration-300",style:{width:`${v}%`}})}),s.jsx("input",{type:"range",min:"0",max:i||0,step:"0.1",value:h||0,onChange:g=>{const C=parseFloat(g.target.value);p(C),c.current&&(c.current.currentTime=C),d(C)},onMouseUp:()=>{p(null)},onTouchEnd:()=>{p(null)},className:"absolute inset-0 w-full h-1.5 md:h-2 opacity-0 cursor-pointer z-10",style:{background:"transparent",WebkitAppearance:"none",appearance:"none"}}),s.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 bg-white rounded-full shadow-lg border-2 border-indigo-500 cursor-grab active:cursor-grabbing hover:scale-125 transition-transform z-20 pointer-events-none",style:{left:`calc(${Math.max(0,Math.min(100,v))}% - ${v>0&&v<100?"8px":v>=100?"10px":"0px"})`,transform:"translateY(-50%)"}})]}),s.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-white/50",children:[s.jsx("span",{children:a(h)}),s.jsx("span",{children:a(i)})]})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 md:gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5 md:gap-2 flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>o(n===0?.7:0),className:"p-1.5 md:p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors flex-shrink-0",children:n===0?s.jsx(oy,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-white"}):s.jsx(Of,{className:"w-3.5 h-3.5 md:w-4 md:h-4 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0 relative",children:[s.jsx("div",{className:"h-1 md:h-1.5 bg-white/10 rounded-full",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full transition-all",style:{width:`${n*100}%`}})}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:n,onChange:g=>o(parseFloat(g.target.value)),className:"absolute inset-0 w-full h-1 md:h-1.5 opacity-0 cursor-pointer"})]}),s.jsxs("span",{className:"text-white/80 text-xs w-8 md:w-10 text-right flex-shrink-0",children:[Math.round(n*100),"%"]})]}),s.jsxs("button",{onClick:l,className:"w-11 h-11 md:w-14 md:h-14 rounded-full bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center hover:scale-110 transition-transform shadow-2xl relative overflow-hidden group flex-shrink-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/30 to-transparent"}),t?s.jsx(wn,{className:"w-5 h-5 md:w-6 md:h-6 text-white relative z-10"}):s.jsx(kn,{className:"w-5 h-5 md:w-6 md:h-6 text-white ml-0.5 md:ml-1 relative z-10"}),t&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/50 to-purple-400/50 animate-pulse"})]})]})]})]})}function Yv(){return s.jsxs("div",{className:"glass-strong p-4 md:p-5 rounded-xl border border-white/20 animate-pulse",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-indigo-600/30 to-purple-600/30 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[s.jsx("div",{className:"h-4 md:h-5 bg-white/10 rounded-lg w-3/4"}),s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-1/2"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-3 bg-white/5 rounded-lg w-20"}),s.jsx("div",{className:"h-8 bg-white/10 rounded-lg w-16"})]})]})}function zf({count:e=6}){return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:Array.from({length:e}).map((t,n)=>s.jsx(Yv,{},n))})}function Kv({chants:e,chantUploads:t,currentChant:n,isPlaying:r,playChant:i,stopChant:a,toggleChant:o,deleteUpload:l,isLoading:u}){const c=[...e.map(d=>({...d,isDefault:!0})),...(t||[]).map(d=>({id:d._id,name:d.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:d.imageKitUrl,fileSize:d.fileSize,fileType:d.fileType,isDefault:!1,upload:d}))];return u?s.jsx("div",{className:"space-y-4 md:space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-indigo-400"}),"Your Uploaded Chants"]}),s.jsx(zf,{count:6})]})}):c.length===0?s.jsxs("div",{className:"glass-strong p-8 md:p-12 rounded-2xl text-center border border-white/20",children:[s.jsx(Pe,{className:"w-16 h-16 md:w-20 md:h-20 text-white/30 mx-auto mb-4"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"No chants available"}),s.jsx("p",{className:"text-white/40 text-xs md:text-sm mt-2",children:"Upload your first chant to get started"})]}):s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-indigo-400"}),"Default Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:e.map(d=>s.jsxs("div",{className:`glass-strong p-4 md:p-5 rounded-xl border transition-all cursor-pointer hover:scale-[1.02] ${(n==null?void 0:n.id)===d.id?"border-indigo-400 ring-2 ring-indigo-400/30":"border-white/20 hover:border-white/30"}`,onClick:()=>{(n==null?void 0:n.id)===d.id?o():i(d.id)},children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Pe,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-1 truncate",children:d.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.floor(d.duration/60),":",String(d.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[(n==null?void 0:n.id)===d.id&&r?s.jsxs("span",{className:"text-indigo-400 text-xs md:text-sm font-medium flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Click to play"}),(n==null?void 0:n.id)===d.id?s.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(wn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Stop"]}):s.jsxs("button",{onClick:m=>{m.stopPropagation(),i(d.id)},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(kn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Play"]})]})]},d.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5 text-purple-400"}),"Your Uploaded Chants"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:t.map(d=>{const m={id:d._id,name:d.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:d.imageKitUrl,size:d.fileSize,type:d.fileType};return s.jsxs("div",{className:`glass-strong p-4 md:p-5 rounded-xl border transition-all cursor-pointer hover:scale-[1.02] ${(n==null?void 0:n.id)===m.id?"border-indigo-400 ring-2 ring-indigo-400/30":"border-white/20 hover:border-white/30"}`,onClick:async()=>{if((n==null?void 0:n.id)===m.id)o();else{const p=d.imageKitUrl;if(!p){O.error("File URL not available. Please check your upload.");return}i(m.id,p,m.name)}},children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Ir,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-1 truncate",children:m.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(d.fileSize/1024/1024).toFixed(2)," MB  ",d.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[(n==null?void 0:n.id)===m.id&&r?s.jsxs("span",{className:"text-indigo-400 text-xs md:text-sm font-medium flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-indigo-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(n==null?void 0:n.id)===m.id?s.jsxs("button",{onClick:p=>{p.stopPropagation(),a()},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(wn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Stop"]}):s.jsxs("button",{onClick:async p=>{p.stopPropagation();const h=d.imageKitUrl;if(!h){O.error("File URL not available. Please check your upload.");return}i(m.id,h,m.name)},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(kn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Play"]}),s.jsx("button",{onClick:async p=>{if(p.stopPropagation(),confirm(`Delete "${m.name}"?`))try{await l({id:d._id}),O.success("Chant deleted")}catch(h){O.error("Failed to delete chant"),console.error(h)}},className:"btn-secondary text-xs md:text-sm px-3 py-1.5 bg-red-600/20 hover:bg-red-600/30 border-red-500/30",children:s.jsx(Fn,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})]},d._id)})})]})]})}function Gv({tongueSongs:e,tongueUploads:t,currentChant:n,isPlaying:r,playTongueSong:i,stopChant:a,toggleChant:o,deleteUpload:l,isLoading:u}){const c=[...e.map(d=>({...d,isDefault:!0})),...(t||[]).map(d=>({id:d._id,name:d.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:d.imageKitUrl,fileSize:d.fileSize,fileType:d.fileType,isDefault:!1,upload:d}))];return u?s.jsx("div",{className:"space-y-4 md:space-y-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-purple-400"}),"Your Uploaded Tongue Songs"]}),s.jsx(zf,{count:6})]})}):c.length===0?s.jsxs("div",{className:"glass-strong p-8 md:p-12 rounded-2xl text-center border border-white/20",children:[s.jsx(Pe,{className:"w-16 h-16 md:w-20 md:h-20 text-white/30 mx-auto mb-4"}),s.jsx("p",{className:"text-white/60 text-sm md:text-base",children:"No tongue songs available"}),s.jsx("p",{className:"text-white/40 text-xs md:text-sm mt-2",children:"Upload your first tongue song to get started"})]}):s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Pe,{className:"w-5 h-5 text-purple-400"}),"Default Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:e.map(d=>s.jsxs("div",{className:`glass-strong p-4 md:p-5 rounded-xl border transition-all cursor-pointer hover:scale-[1.02] ${(n==null?void 0:n.id)===d.id?"border-purple-400 ring-2 ring-purple-400/30":"border-white/20 hover:border-white/30"}`,onClick:()=>{(n==null?void 0:n.id)===d.id?o():i(d.id)},children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Pe,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-1 truncate",children:d.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.floor(d.duration/60),":",String(d.duration%60).padStart(2,"0")]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[(n==null?void 0:n.id)===d.id&&r?s.jsxs("span",{className:"text-purple-400 text-xs md:text-sm font-medium flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Click to play"}),(n==null?void 0:n.id)===d.id?s.jsxs("button",{onClick:m=>{m.stopPropagation(),a()},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(wn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Stop"]}):s.jsxs("button",{onClick:m=>{m.stopPropagation(),i(d.id)},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(kn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Play"]})]})]},d.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Ir,{className:"w-5 h-5 text-purple-400"}),"Your Uploaded Tongue Songs"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:t.map(d=>{const m={id:d._id,name:d.fileName.replace(/\.[^/.]+$/,""),imageKitUrl:d.imageKitUrl,size:d.fileSize,type:d.fileType};return s.jsxs("div",{className:`glass-strong p-4 md:p-5 rounded-xl border transition-all cursor-pointer hover:scale-[1.02] ${(n==null?void 0:n.id)===m.id?"border-purple-400 ring-2 ring-purple-400/30":"border-white/20 hover:border-white/30"}`,onClick:async()=>{if((n==null?void 0:n.id)===m.id)o();else{const p=d.imageKitUrl;if(!p){O.error("File URL not available. Please check your upload.");return}i(m.id,p,m.name)}},children:[s.jsxs("div",{className:"flex items-start gap-3 mb-3 md:mb-4",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-lg bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Ir,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-base md:text-lg font-semibold text-white mb-1 truncate",children:m.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(d.fileSize/1024/1024).toFixed(2)," MB  ",d.fileType]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[(n==null?void 0:n.id)===m.id&&r?s.jsxs("span",{className:"text-purple-400 text-xs md:text-sm font-medium flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-pulse"}),"Playing"]}):s.jsx("span",{className:"text-white/60 text-xs md:text-sm",children:"Click to play"}),s.jsxs("div",{className:"flex gap-2",children:[(n==null?void 0:n.id)===m.id?s.jsxs("button",{onClick:p=>{p.stopPropagation(),a()},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(wn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Stop"]}):s.jsxs("button",{onClick:async p=>{p.stopPropagation();const h=d.imageKitUrl;if(!h){O.error("File URL not available. Please check your upload.");return}i(m.id,h,m.name)},className:"btn-secondary text-xs md:text-sm px-3 py-1.5",children:[s.jsx(kn,{className:"w-3 h-3 md:w-4 md:h-4 inline mr-1"}),"Play"]}),s.jsx("button",{onClick:async p=>{if(p.stopPropagation(),confirm(`Delete "${m.name}"?`))try{await l({id:d._id}),O.success("Tongue song deleted")}catch(h){O.error("Failed to delete tongue song"),console.error(h)}},className:"btn-secondary text-xs md:text-sm px-3 py-1.5 bg-red-600/20 hover:bg-red-600/30 border-red-500/30",children:s.jsx(Fn,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]})]},d._id)})})]})]})}function Qc({uploadType:e,userId:t,convex:n,createUpload:r,addCustomChant:i,addCustomTongueSong:a,api:o}){const[l,u]=N.useState(!1),[c,d]=N.useState(null),m=e==="chant",p=m?"Chant":"Tongue Song",h=m?"/audio/chant/":"/audio/tongue/",v=N.useRef(null),[g,C]=N.useState(null),[x,f]=N.useState(0),y=E=>{var _;const M=(_=E.target.files)==null?void 0:_[0];if(!M)return;const S=["audio/mpeg","audio/wav","audio/ogg","audio/mp3"],k=/\.(mp3|wav|ogg)$/i;if(!S.includes(M.type)&&!k.test(M.name)){O.error("Invalid file type. Please upload MP3, WAV, or OGG files.");return}if(M.size>500*1024*1024){O.error("File size too large. Maximum size is 500MB.");return}C(M)},w=async()=>{if(!g)return;const E=g;u(!0),f(10);try{f(20);const M=await n.query(o.imagekit.getUploadToken,{fileName:E.name,uploadType:e});if(!M)throw new Error("Failed to get upload token");f(30);const S=new FormData;S.append("file",E),S.append("fileName",E.name),S.append("folder",h),S.append("publicKey",M.publicKey),S.append("signature",M.signature),S.append("expire",M.expire.toString()),S.append("token",M.token),f(40);const k=await fetch("https://upload.imagekit.io/api/v1/files/upload",{method:"POST",body:S});if(!k.ok){const z=await k.text();throw new Error(`ImageKit upload failed: ${z}`)}f(70);const _=await k.json();f(85);const j=await r({userId:t,fileName:E.name,fileType:E.type,fileSize:E.size,imageKitUrl:_.url,imageKitFileId:_.fileId,uploadType:e}),T={_id:j,id:j,name:E.name.replace(/\.[^/.]+$/,""),storageId:null,url:_.url,size:E.size,type:E.type,uploadedAt:new Date().toISOString()};m?i(T):a(T),f(100),d(T),C(null),v.current&&(v.current.value=""),O.success(`"${T.name}" uploaded successfully!`),setTimeout(()=>{f(0)},1e3)}catch(M){console.error("Upload error:",M),O.error(`Failed to upload file: ${M.message||"Please try again"}`),f(0)}finally{u(!1)}},P=()=>{C(null),v.current&&(v.current.value="")};return s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-2xl border border-white/20",children:[s.jsxs("h3",{className:"text-lg md:text-xl font-semibold text-white mb-3 md:mb-4 flex items-center gap-2",children:[s.jsx(Ir,{className:`w-5 h-5 ${m?"text-indigo-400":"text-purple-400"}`}),"Upload Custom ",p]}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm mb-4",children:["Upload your own ",p.toLowerCase()," audio files (MP3, WAV, OGG - Max 500MB)"]}),s.jsxs("div",{className:"space-y-4",children:[!g&&!l&&s.jsx("label",{className:"block",children:s.jsxs("div",{className:"glass-card p-8 md:p-12 rounded-xl border-2 border-dashed border-white/20 hover:border-indigo-400/50 transition-all cursor-pointer group",children:[s.jsx("input",{ref:v,type:"file",accept:"audio/mpeg,audio/wav,audio/ogg,audio/*",className:"hidden",onChange:y}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-indigo-600/20 to-purple-600/20 flex items-center justify-center group-hover:from-indigo-600/30 group-hover:to-purple-600/30 transition-all",children:s.jsx(G0,{className:`w-8 h-8 md:w-10 md:h-10 ${m?"text-indigo-400":"text-purple-400"}`})}),s.jsx("p",{className:"text-white font-medium text-sm md:text-base mb-2",children:"Click to select audio file"}),s.jsx("p",{className:"text-white/50 text-xs md:text-sm",children:"MP3, WAV, or OGG  Max 500MB"})]})]})}),g&&!l&&s.jsxs("div",{className:"glass-card p-4 md:p-5 rounded-xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[s.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 rounded-lg bg-gradient-to-br ${m?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} flex items-center justify-center flex-shrink-0`,children:s.jsx(Pe,{className:"w-6 h-6 md:w-7 md:h-7 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base truncate mb-1",children:g.name}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[(g.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx("button",{onClick:P,className:"p-2 rounded-lg hover:bg-red-600/20 text-red-400 flex-shrink-0",children:s.jsx(Yn,{className:"w-4 h-4 md:w-5 md:h-5"})})]}),s.jsxs("button",{onClick:w,className:`w-full mt-4 py-3 rounded-xl bg-gradient-to-r ${m?"from-indigo-600 to-purple-600":"from-purple-600 to-pink-600"} hover:opacity-90 transition-opacity text-white font-semibold text-sm md:text-base shadow-lg`,children:[s.jsx(Ir,{className:"w-4 h-4 md:w-5 md:h-5 inline mr-2"}),"Upload ",p]})]}),l&&s.jsxs("div",{className:`p-4 md:p-5 rounded-xl ${m?"bg-indigo-500/10 border-indigo-400/20":"bg-purple-500/10 border-purple-400/20"} border`,children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`w-5 h-5 border-2 ${m?"border-indigo-400":"border-purple-400"} border-t-transparent rounded-full animate-spin`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium text-sm md:text-base",children:"Uploading..."}),s.jsxs("p",{className:"text-white/60 text-xs md:text-sm",children:[Math.round(x),"%"]})]})]}),s.jsx("div",{className:"w-full h-2.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-gradient-to-r ${m?"from-indigo-500 to-purple-500":"from-purple-500 to-pink-500"} rounded-full transition-all duration-300 relative`,style:{width:`${x}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})]}),c&&s.jsx("div",{className:"p-3 md:p-4 rounded-lg bg-green-500/10 border border-green-400/30",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jr,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-green-300 text-sm font-medium",children:[" Uploaded: ",c.name]}),s.jsx("p",{className:"text-green-400/60 text-xs mt-1",children:"File is stored and ready to use"})]})]})})]})]})}function Xv(){const{userId:e}=Xt(),{chants:t,tongueSongs:n,currentChant:r,isPlaying:i,volume:a,currentTime:o,duration:l,formatTime:u,setVolume:c,setCurrentTime:d,playChant:m,playTongueSong:p,stopChant:h,toggleChant:v,addCustomChant:g,addCustomTongueSong:C,audioRef:x}=Ea(),f=mu(),y=tt(ee.uploads.create),w=tt(ee.uploads.remove),P=bt(ee.uploads.getByUser,e?{userId:e}:"skip"),E=P===void 0,M=(P||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),S=(P||[]).filter(j=>j.uploadType==="tongue"),[k,_]=N.useState("chants");return N.useEffect(()=>{M&&M.length>0&&M.forEach(j=>{const T={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};g(T)}),S&&S.length>0&&S.forEach(j=>{const T={_id:j._id,id:j._id,name:j.fileName.replace(/\.[^/.]+$/,""),storageId:j.storageId,url:j.imageKitUrl||null,size:j.fileSize,type:j.fileType,uploadedAt:j.uploadedAt||new Date().toISOString()};C(T)})},[M.length,S.length]),s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx(Pe,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Music Library"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Manage your chants and tongue songs"})]})}),r&&s.jsx(Hv,{currentChant:r,isPlaying:i,volume:a,currentTime:o,duration:l,formatTime:u,setVolume:c,toggleChant:v,stopChant:h,audioRef:x,setCurrentTime:d}),s.jsxs("div",{className:"flex gap-2 border-b border-white/10",children:[s.jsxs("button",{onClick:()=>_("chants"),className:`px-4 md:px-6 py-2 md:py-3 text-sm md:text-base font-medium transition-all relative ${k==="chants"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Pe,{className:"w-4 h-4 md:w-5 md:h-5"}),"Chants",t.length+M.length>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-indigo-600/30 text-indigo-300 text-xs",children:t.length+M.length})]}),k==="chants"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]}),s.jsxs("button",{onClick:()=>_("tongue"),className:`px-4 md:px-6 py-2 md:py-3 text-sm md:text-base font-medium transition-all relative ${k==="tongue"?"text-white":"text-white/60 hover:text-white/80"}`,children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 md:w-5 md:h-5"}),"Tongue Songs",n.length+S.length>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full bg-purple-600/30 text-purple-300 text-xs",children:n.length+S.length})]}),k==="tongue"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gradient-to-r from-indigo-500 to-purple-500"})]})]}),k==="chants"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(Kv,{chants:t,chantUploads:M,currentChant:r,isPlaying:i,playChant:m,stopChant:h,toggleChant:v,deleteUpload:w,isLoading:E}),s.jsx(Qc,{uploadType:"chant",userId:e,convex:f,createUpload:y,addCustomChant:g,api:ee})]}),k==="tongue"&&s.jsxs("div",{className:"space-y-4 md:space-y-6",children:[s.jsx(Gv,{tongueSongs:n,tongueUploads:S,currentChant:r,isPlaying:i,playTongueSong:p,stopChant:h,toggleChant:v,deleteUpload:w,isLoading:E}),s.jsx(Qc,{uploadType:"tongue",userId:e,convex:f,createUpload:y,addCustomTongueSong:C,api:ee})]})]})}function Jv(){return s.jsx("div",{className:"glass p-4 md:p-5 rounded-xl border border-indigo-400/30 bg-indigo-500/10",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Rf,{className:"w-5 h-5 text-indigo-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-white font-semibold text-sm md:text-base mb-2",children:"Push Notifications Setup"}),s.jsx("p",{className:"text-white/70 text-xs md:text-sm mb-3",children:"For notifications to work when the app is completely closed, you need server-side push notifications."}),s.jsxs("div",{className:"space-y-2 text-xs md:text-sm text-white/60",children:[s.jsx("p",{className:"font-medium text-white/80",children:"Current Setup:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:" Service Worker registered - notifications work when browser is open"}),s.jsx("li",{children:" Client-side notifications - works when app tab is open"}),s.jsx("li",{className:"text-green-300",children:" VAPID key configured - push subscriptions enabled!"})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[s.jsx("p",{className:"text-green-300 text-xs md:text-sm mb-2 font-semibold",children:" Works in Both Development & Production:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-white/70 ml-2",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Development (localhost):"})," Works when browser is open"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Production (HTTPS):"})," Works when browser is open"]}),s.jsx("li",{children:" Browser is open (even if tab is closed)"}),s.jsx("li",{children:" Browser is minimized"}),s.jsx("li",{children:" On mobile, when browser is in background"}),s.jsx("li",{children:" Real-time notifications every 10 seconds"})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[s.jsx("p",{className:"text-indigo-300 text-xs md:text-sm mb-2 font-semibold",children:" Production Deployment:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-white/70 ml-2",children:[s.jsx("li",{children:"Service Worker automatically works when deployed to HTTPS"}),s.jsx("li",{children:"No additional configuration needed for most hosting providers"}),s.jsx("li",{children:"Works on Vercel, Netlify, Cloudflare Pages, etc."}),s.jsx("li",{children:"HTTPS is automatically provided by hosting providers"})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[s.jsx("p",{className:"text-white/70 text-xs md:text-sm mb-2",children:s.jsx("strong",{className:"text-white",children:" For notifications when browser is completely closed:"})}),s.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs text-white/60 ml-2",children:[s.jsx("li",{children:"Set up a backend server (Node.js, Python, etc.)"}),s.jsxs("li",{children:["Generate VAPID keys using: ",s.jsx("code",{className:"bg-white/10 px-1 rounded",children:"web-push generate-vapid-keys"})]}),s.jsxs("li",{children:["Add ",s.jsx("code",{className:"bg-white/10 px-1 rounded",children:"VITE_VAPID_PUBLIC_KEY"})," to your .env file"]}),s.jsx("li",{children:"Store push subscriptions in your database"}),s.jsx("li",{children:"Send push notifications from your server when events occur"})]})]})]})]})})}function Zv(){const{userId:e,settings:t,updateSettings:n}=Xt(),{chants:r,tongueSongs:i,setVolume:a}=Ea(),o=bt(ee.uploads.getByUser,e?{userId:e}:"skip"),l=(o||[]).filter(j=>!j.uploadType||j.uploadType==="chant"),u=(o||[]).filter(j=>j.uploadType==="tongue"),[c,d]=N.useState({notificationsEnabled:!0,notificationTime:"08:00",theme:"default",preferredChant:"",preferredTongueSong:"",autoPlayMusic:!0,showMotivationalPopups:!0,defaultPrayerDuration:15,prayerRoomBackgroundEffects:!0,defaultVolume:.7,soundEffectsEnabled:!0,autoSavePrayerPoints:!0,showStreakNotifications:!0,showPrayerReminders:!0}),[m,p]=N.useState(!1),[h,v]=N.useState(!1),[g,C]=N.useState("checking"),[x,f]=N.useState(!1);N.useEffect(()=>{"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(j=>{C(j?"registered":"not-registered")}):C("not-supported"),"PushManager"in window&&"serviceWorker"in navigator&&(f(!0),console.log(" VAPID key is configured - push subscriptions are available!"))},[]),N.useEffect(()=>{if(t){const j={notificationsEnabled:t.notificationsEnabled??!0,notificationTime:t.notificationTime??"08:00",theme:t.theme??"default",preferredChant:t.preferredChant??"",preferredTongueSong:t.preferredTongueSong??"",autoPlayMusic:t.autoPlayMusic??!0,showMotivationalPopups:t.showMotivationalPopups??!0,defaultPrayerDuration:t.defaultPrayerDuration??15,prayerRoomBackgroundEffects:t.prayerRoomBackgroundEffects??!0,defaultVolume:t.defaultVolume??.7,soundEffectsEnabled:t.soundEffectsEnabled??!0,autoSavePrayerPoints:t.autoSavePrayerPoints??!0,showStreakNotifications:t.showStreakNotifications??!0,showPrayerReminders:t.showPrayerReminders??!0};d(j),t.defaultVolume!==void 0&&a(t.defaultVolume)}},[t,a]),N.useEffect(()=>{if(t){const j=c.notificationsEnabled!==(t.notificationsEnabled??!0)||c.notificationTime!==(t.notificationTime??"08:00")||c.theme!==(t.theme??"default")||c.preferredChant!==(t.preferredChant??"")||c.preferredTongueSong!==(t.preferredTongueSong??"")||c.autoPlayMusic!==(t.autoPlayMusic??!0)||c.showMotivationalPopups!==(t.showMotivationalPopups??!0)||c.defaultPrayerDuration!==(t.defaultPrayerDuration??15)||c.prayerRoomBackgroundEffects!==(t.prayerRoomBackgroundEffects??!0)||c.defaultVolume!==(t.defaultVolume??.7)||c.soundEffectsEnabled!==(t.soundEffectsEnabled??!0)||c.autoSavePrayerPoints!==(t.autoSavePrayerPoints??!0)||c.showStreakNotifications!==(t.showStreakNotifications??!0)||c.showPrayerReminders!==(t.showPrayerReminders??!0);p(j)}},[c,t]);const y=async()=>{v(!0);try{await n({userId:e,...c}),c.defaultVolume!==void 0&&a(c.defaultVolume),p(!1),O.success("Settings saved successfully!")}catch(j){O.error("Failed to save settings"),console.error(j)}finally{v(!1)}},w=async()=>{if("Notification"in window)try{g==="not-registered"&&await fu()&&(C("registered"),O.success("Service Worker registered for background notifications!"));const j=await Notification.requestPermission();if(j==="granted"){if(O.success("Notifications enabled! You will receive real-time reminders."),d({...c,notificationsEnabled:!0}),x)try{await A0(),O.success("Push notifications enabled! You will receive notifications even when the app is closed.")}catch(z){console.warn("Push subscription failed, but regular notifications will work:",z)}const T=z0();T&&T.active?T.active.postMessage({type:"SHOW_NOTIFICATION",payload:{title:"Notifications Enabled!",body:"You will now receive prayer reminders and notifications, even when the app is closed.",icon:"/vite.svg",tag:"permission-granted"}}):new Notification("Notifications Enabled!",{body:"You will now receive prayer reminders and notifications.",icon:"/vite.svg",tag:"permission-granted"})}else j==="denied"?(O.error("Notification permission denied. Please enable in browser settings."),d({...c,notificationsEnabled:!1})):d({...c,notificationsEnabled:!1})}catch(j){console.error("Error requesting notification permission:",j),O.error("Failed to request notification permission")}else O.error("Notifications not supported in this browser")},P=[...r.map(j=>({value:j.id,label:j.name})),...l.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],E=[...i.map(j=>({value:j.id,label:j.name})),...u.map(j=>({value:j._id,label:j.fileName.replace(/\.[^/.]+$/,"")}))],M=[{value:"default",label:"Default (Indigo/Purple/Gold)"},{value:"dark",label:"Dark Mode"},{value:"light",label:"Light Mode"}],S=Array.from({length:20},(j,T)=>({value:(T+1)*5,label:`${(T+1)*5} minutes`})),k=Array.from({length:11},(j,T)=>({value:T/10,label:`${T*10}%`})),_=({checked:j,onChange:T,disabled:z=!1})=>s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:j,onChange:T,disabled:z,className:"sr-only peer"}),s.jsx("div",{className:`w-12 h-6 md:w-14 md:h-7 bg-white/20 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-indigo-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 md:after:h-6 md:after:w-6 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-indigo-600 peer-checked:to-purple-600 ${z?"opacity-50 cursor-not-allowed":""}`})]});return s.jsxs("div",{className:"space-y-4 md:space-y-6 w-full pb-24 md:pb-0",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"section-title text-2xl md:text-3xl flex items-center gap-2",children:[s.jsx($f,{className:"w-6 h-6 md:w-7 md:h-7 text-indigo-400"}),"Settings"]}),s.jsx("p",{className:"text-white/60 text-sm md:text-base mt-1",children:"Customize your prayer experience"})]}),m&&s.jsxs("button",{onClick:y,disabled:h,className:"btn-primary px-4 md:px-6 py-2.5 md:py-3 text-sm md:text-base flex items-center gap-2 disabled:opacity-50",children:[s.jsx(fl,{className:"w-4 h-4 md:w-5 md:h-5"}),h?"Saving...":"Save Changes"]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-indigo-600 to-purple-600 flex items-center justify-center",children:s.jsx(H0,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer reminders and alerts"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Enable Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Receive prayer reminders and updates"})]}),s.jsx(_,{checked:c.notificationsEnabled,onChange:j=>{j.target.checked&&Notification.permission!=="granted"?w():d({...c,notificationsEnabled:j.target.checked})}})]}),c.notificationsEnabled&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Notification Time"}),s.jsx("input",{type:"time",value:c.notificationTime,onChange:j=>d({...c,notificationTime:j.target.value}),className:"input-glass w-full text-base"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Prayer Reminders"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Get reminded about upcoming prayer schedules"})]}),s.jsx(_,{checked:c.showPrayerReminders,onChange:j=>d({...c,showPrayerReminders:j.target.checked}),disabled:!c.notificationsEnabled})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Streak Notifications"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Celebrate your prayer streak milestones"})]}),s.jsx(_,{checked:c.showStreakNotifications,onChange:j=>d({...c,showStreakNotifications:j.target.checked}),disabled:!c.notificationsEnabled})]}),s.jsxs("div",{className:"p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white/80 text-sm md:text-base font-medium",children:"Permission Status"}),Notification.permission==="granted"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-green-500/20 text-green-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"}),"Granted"]}):Notification.permission==="denied"?s.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-500/20 text-red-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(hs,{className:"w-3 h-3"}),"Denied"]}):s.jsxs("span",{className:"px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-300 text-xs font-medium flex items-center gap-1",children:[s.jsx(hs,{className:"w-3 h-3"}),"Not Requested"]})]}),Notification.permission==="default"&&s.jsx("button",{onClick:w,className:"btn-secondary w-full text-sm md:text-base py-2.5 md:py-3 mt-2",children:"Request Notification Permission"}),Notification.permission==="denied"&&s.jsx("p",{className:"text-white/60 text-xs mt-2",children:"Notifications are blocked. Please enable them in your browser settings to receive prayer reminders."}),Notification.permission==="granted"&&s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("p",{className:"text-green-300 text-xs",children:" You will receive real-time notifications for prayer reminders, schedule alerts, and streak milestones."}),g==="registered"&&s.jsxs("p",{className:"text-indigo-300 text-xs flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"}),"Background notifications enabled (works when app is closed)"]}),x&&g==="registered"&&s.jsxs("p",{className:"text-purple-300 text-xs flex items-center gap-1",children:[s.jsx(jr,{className:"w-3 h-3"}),"Push notifications supported"]}),g==="not-supported"&&s.jsx("p",{className:"text-yellow-300 text-xs",children:" Service Workers not supported - notifications work only when app is open"})]})]}),Notification.permission==="granted"&&g==="registered"&&s.jsx("div",{className:"mt-4",children:s.jsx(Jv,{})})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center",children:s.jsx(J0,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Room"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize your prayer session experience"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-play Music"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically start background music when entering prayer room"})]}),s.jsx(_,{checked:c.autoPlayMusic,onChange:j=>d({...c,autoPlayMusic:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Motivational Popups"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Show encouraging messages during tongues mode"})]}),s.jsx(_,{checked:c.showMotivationalPopups,onChange:j=>d({...c,showMotivationalPopups:j.target.checked})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Background Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable animated background effects in prayer room"})]}),s.jsx(_,{checked:c.prayerRoomBackgroundEffects,onChange:j=>d({...c,prayerRoomBackgroundEffects:j.target.checked})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(vn,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Default Prayer Duration"]}),s.jsx(Nt,{value:c.defaultPrayerDuration,onChange:j=>d({...c,defaultPrayerDuration:parseInt(j)}),options:S,placeholder:"Select default duration"})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-pink-600 to-orange-600 flex items-center justify-center",children:s.jsx(Pe,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Audio Preferences"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Configure music and sound settings"})]})]}),s.jsxs("div",{className:"space-y-4 md:space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(Of,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Default Volume"]}),s.jsx(Nt,{value:c.defaultVolume,onChange:j=>{const T=parseFloat(j);d({...c,defaultVolume:T}),a(T)},options:k,placeholder:"Select default volume"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Volume is applied immediately"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(kn,{className:"w-4 h-4 md:w-5 md:h-5 text-indigo-400"}),"Preferred Chant"]}),s.jsx(Nt,{value:c.preferredChant,onChange:j=>d({...c,preferredChant:j}),options:[{value:"",label:"None (Manual Selection)"},...P],placeholder:"Select preferred chant"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2 flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 md:w-5 md:h-5 text-purple-400"}),"Preferred Tongue Song"]}),s.jsx(Nt,{value:c.preferredTongueSong,onChange:j=>d({...c,preferredTongueSong:j}),options:[{value:"",label:"None (Manual Selection)"},...E],placeholder:"Select preferred tongue song"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Sound Effects"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Enable sound effects for interactions"})]}),s.jsx(_,{checked:c.soundEffectsEnabled,onChange:j=>d({...c,soundEffectsEnabled:j.target.checked})})]})]})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-orange-600 to-yellow-600 flex items-center justify-center",children:s.jsx(ne,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Manage prayer points generation and saving"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{className:"flex items-center justify-between p-3 md:p-4 rounded-lg bg-white/5 border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-semibold text-sm md:text-base mb-1",children:"Auto-save Prayer Points"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Automatically save generated prayer points to schedule"})]}),s.jsx(_,{checked:c.autoSavePrayerPoints,onChange:j=>d({...c,autoSavePrayerPoints:j.target.checked})})]})})]}),s.jsxs("div",{className:"glass-strong p-4 md:p-6 rounded-xl md:rounded-2xl border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[s.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 rounded-xl bg-gradient-to-br from-yellow-600 to-orange-600 flex items-center justify-center",children:s.jsx(iy,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-white",children:"Appearance"}),s.jsx("p",{className:"text-white/60 text-xs md:text-sm",children:"Customize the look and feel"})]})]}),s.jsx("div",{className:"space-y-4 md:space-y-5",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-white/80 text-sm md:text-base font-medium mb-2",children:"Color Theme"}),s.jsx(Nt,{value:c.theme,onChange:j=>d({...c,theme:j}),options:M,placeholder:"Select theme"}),s.jsx("p",{className:"text-white/50 text-xs mt-2",children:"Theme changes will take effect after reload"})]})})]}),m&&s.jsx("div",{className:"sticky bottom-4 md:bottom-6 glass-strong p-4 rounded-xl border border-indigo-400/50 shadow-2xl",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5 text-yellow-400"}),s.jsx("p",{className:"text-white text-sm md:text-base",children:"You have unsaved changes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"btn-secondary text-sm md:text-base px-4 py-2",children:"Discard"}),s.jsx("button",{onClick:y,disabled:h,className:"btn-primary text-sm md:text-base px-4 md:px-6 py-2 md:py-3 flex items-center gap-2 disabled:opacity-50",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fl,{className:"w-4 h-4 md:w-5 md:h-5"}),"Save Changes"]})})]})]})})]})}function ew(){const[e,t]=N.useState("timer"),[n,r]=N.useState(!1),{isPraying:i,activePrayer:a}=Xt();q0();const o=[{id:"timer",label:"Prayer Room",icon:vn},{id:"schedule",label:"Schedule",icon:yn},{id:"points",label:"Prayer Points",icon:ne},{id:"music",label:"Music",icon:Pe},{id:"streak",label:"Streak",icon:gs},{id:"history",label:"History",icon:_i},{id:"settings",label:"Settings",icon:$f}],l=o.slice(0,5),u=o.slice(5);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-indigo-900 pb-16 md:pb-0",children:[s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-indigo-950/95 via-purple-950/95 to-indigo-950/95 backdrop-blur-xl border-b border-white/10 shadow-lg",children:s.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[s.jsxs("div",{className:"hidden md:flex items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 px-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg ring-2 ring-indigo-400/30",children:s.jsx(ne,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-white leading-tight",children:"Adullam"}),s.jsx("p",{className:"text-xs text-white/60 leading-tight",children:"Prayer Chain"})]})]}),s.jsx("div",{className:"flex items-center gap-0.5 ml-2 bg-white/5 rounded-lg p-1 border border-white/10",children:o.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:()=>t(c.id),className:`flex items-center gap-2 px-4 py-2 rounded-md whitespace-nowrap transition-all duration-200 text-sm font-medium ${e===c.id?"bg-white text-indigo-600 shadow-md":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{children:c.label})]},c.id)})})]}),i&&a&&s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500/20 border border-green-400/30 shadow-md",children:[s.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),s.jsxs("span",{className:"text-white text-sm font-medium",children:["Praying: ",a.title]})]})]}),s.jsxs("div",{className:"flex md:hidden items-center justify-between py-3",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-md ring-1 ring-indigo-400/30",children:s.jsx(ne,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-base font-bold text-white leading-tight",children:"Adullam"}),s.jsx("p",{className:"text-[10px] text-white/60 leading-tight",children:"Prayer Chain"})]})]}),s.jsx("button",{onClick:()=>r(!n),className:"p-2.5 rounded-lg bg-white/10 hover:bg-white/20 transition-colors border border-white/10",children:n?s.jsx(Yn,{className:"w-5 h-5 text-white"}):s.jsx(Z0,{className:"w-5 h-5 text-white"})})]}),n&&s.jsx("div",{className:"md:hidden border-t border-white/10 py-3",children:s.jsx("div",{className:"flex flex-col gap-2",children:u.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:()=>{t(c.id),r(!1)},className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all duration-300 text-sm ${e===c.id?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[s.jsx(d,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:c.label})]},c.id)})})})]})}),s.jsxs("main",{className:"container mx-auto px-3 md:px-4 py-4 md:py-8 max-w-7xl pt-20 md:pt-24",children:[e==="timer"&&s.jsx(fy,{}),e==="schedule"&&s.jsx(Ov,{}),e==="points"&&s.jsx(Qv,{}),e==="music"&&s.jsx(Xv,{}),e==="streak"&&s.jsx(Av,{}),e==="history"&&s.jsx(zv,{}),e==="settings"&&s.jsx(Zv,{})]}),s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 md:hidden bg-gradient-to-t from-indigo-950/98 via-purple-950/98 to-indigo-950/98 backdrop-blur-xl border-t border-white/10 z-50 shadow-2xl safe-area-bottom",children:s.jsx("div",{className:"flex items-center justify-around px-1 py-2 pb-safe",children:l.map(c=>{const d=c.icon;return s.jsxs("button",{onClick:()=>t(c.id),className:`flex flex-col items-center gap-1 px-3 py-2 rounded-xl transition-all duration-200 flex-1 max-w-[75px] relative ${e===c.id?"text-white":"text-white/60"}`,children:[e===c.id&&s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-10 h-1 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-b-full"}),s.jsx("div",{className:`p-2 rounded-lg transition-all ${e===c.id?"bg-white/20 shadow-md":""}`,children:s.jsx(d,{className:"w-5 h-5"})}),s.jsx("span",{className:"text-[10px] font-semibold leading-tight text-center",children:c.label})]},c.id)})})})]})}const tw="https://majestic-armadillo-966.convex.cloud",nw=new C0(tw);function rw(){const[e,t]=N.useState(()=>{let n=localStorage.getItem("adullam_user_id");return n||(n=`user_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("adullam_user_id",n)),n});return N.useEffect(()=>{"serviceWorker"in navigator&&fu().then(n=>{n&&console.log("Service Worker registered for push notifications")}).catch(n=>{console.error("Service Worker registration failed:",n)})},[]),s.jsx(P0,{client:nw,children:s.jsx(O0,{userId:e,children:s.jsx(V0,{children:s.jsxs("div",{className:"min-h-screen",children:[s.jsx(ew,{}),s.jsx(ux,{position:"top-right",toastOptions:{duration:4e3,style:{background:"rgba(99, 102, 241, 0.9)",backdropFilter:"blur(10px)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.2)"}}})]})})})})}fo.createRoot(document.getElementById("root")).render(s.jsx(da.StrictMode,{children:s.jsx(rw,{})}));
